# glance-api 一瞥-API

​                                  

## Server for the Glance Image Service API Glance 影像服务 API 的服务器 ¶

- Author: 作者：

  OpenStack Glance Project Team OpenStack Glance 项目团队

- Contact: 联系：

  [glance@lists.launchpad.net](mailto:glance@lists.launchpad.net)

- Date: 日期：

  2019-04-10

- Copyright: 版权：

  OpenStack Foundation OpenStack 基金会

- Version: 版本：

  18.0.0

- Manual section: 手册部分：

  1

- Manual group: 手动组：

  cloud computing 云计算

### SYNOPSIS 剧情简介 ¶

```
glance-api [options]
```

### DESCRIPTION 描述 ¶

glance-api is a server daemon that serves the Glance API
glance-api 是一个服务于 Glance API 的服务器守护程序

### OPTIONS 选项 ¶

**General options 常规选项**

- `-h, --help`

  Show the help message and exit 显示帮助消息并退出

- `--version`

  Print the version number and exit 打印版本号并退出

- `-v, --verbose`

  Print more verbose output 打印更详细的输出

- `--noverbose`

  Disable verbose output 禁用详细输出

- `-d, --debug`

  Print debugging output (set logging level to DEBUG instead of default WARNING level) 打印调试输出（将日志记录级别设置为 DEBUG，而不是默认的 WARNING 级别）

- `--nodebug`

  Disable debugging output 禁用调试输出

- `--use-syslog`

  Use syslog for logging 使用 syslog 进行日志记录

- `--nouse-syslog`

  Disable the use of syslog for logging 禁止使用 syslog 进行日志记录

- `--syslog-log-facility SYSLOG_LOG_FACILITY`

  syslog facility to receive log lines 用于接收日志行的 syslog 工具

- `--config-dir DIR`

  Path to a config directory to pull *.conf files from. This file set is sorted, to provide a predictable parse order if individual options are over-ridden. The set is parsed after the file(s) specified via previous –config-file, arguments hence over-ridden options in the directory take precedence. This means that configuration from files in a specified config-dir will always take precedence over configuration from files specified by –config-file, regardless to argument order. 要从中提取 *.conf 文件的配置目录的路径。此文件集经过排序，以便在覆盖单个选项时提供可预测的分析顺序。该集合在通过上一个 –config-file  指定的文件之后解析，因此参数优先于目录中被覆盖的选项。这意味着，无论参数顺序如何，来自指定 config-dir 中文件的配置将始终优先于  –config-file 指定的文件的配置。

- `--config-file PATH`

  Path to a config file to use. Multiple config files can be specified by using this flag multiple times, for example, –config-file <file1> –config-file <file2>. Values in latter files take precedence. 要使用的配置文件的路径。可以通过多次使用此标志来指定多个配置文件，例如， –config-file <file1> –config-file <file2>。后面文件中的值优先。

- `--log-config-append PATH` `--log-config PATH`

  The name of logging configuration file. It does not disable existing loggers, but just appends specified logging configuration to any other existing logging options. Please see the Python logging module documentation for details on logging configuration files. The log-config name for this option is deprecated. 日志记录配置文件的名称。它不会禁用现有记录器，而只是将指定的日志记录配置追加到任何其他现有日志记录选项。有关日志记录配置文件的详细信息，请参阅 Python 日志记录模块文档。此选项的 log-config 名称已弃用。

- `--log-format FORMAT`

  A logging.Formatter log message format string which may use any of the available logging.LogRecord attributes. Default: None 日志记录。格式化程序日志消息格式字符串，可以使用任何可用的日志记录。LogRecord 属性。默认值：无

- `--log-date-format DATE_FORMAT`

  Format string for %(asctime)s in log records. Default: None 设置日志记录中 %（asctime）s 的字符串格式。默认值：无

- `--log-file PATH, --logfile PATH`

  (Optional) Name of log file to output to. If not set, logging will go to stdout. （可选）要输出到的日志文件的名称。如果未设置，日志记录将转到 stdout。

- `--log-dir LOG_DIR, --logdir LOG_DIR`

  (Optional) The directory to keep log files in (will be prepended to –log-file) （可选）保存日志文件的目录（将附加到 –log-file）

### FILES 文件 ¶

- **/etc/glance/glance-api.conf**

  Default configuration file for Glance API Glance API 的默认配置文件

### SEE ALSO 参见 ¶

- [OpenStack Glance OpenStack 概览](http://glance.openstack.org)

### BUGS 错误 ¶

- Glance bugs are tracked in Launchpad so you can view current bugs at [OpenStack Glance](http://bugs.launchpad.net/glance)
  Glance 错误在 Launchpad 中跟踪，因此您可以在 OpenStack Glance 中查看当前错误

​                      

# glance-cache-cleaner

​                                  

## Glance Image Cache Invalid Cache Entry and Stalled Image cleaner Glance 图像缓存无效的缓存条目和停止的图像清理器 ¶

- Author: 作者：

  OpenStack Glance Project Team OpenStack Glance 项目团队

- Contact: 联系：

  [glance@lists.launchpad.net](mailto:glance@lists.launchpad.net)

- Date: 日期：

  2019-04-10

- Copyright: 版权：

  OpenStack Foundation OpenStack 基金会

- Version: 版本：

  18.0.0

- Manual section: 手册部分：

  1

- Manual group: 手动组：

  cloud computing 云计算

### SYNOPSIS 剧情简介 ¶

```
glance-cache-cleaner [options]
```

### DESCRIPTION 描述 ¶

This is meant to be run as a periodic task from cron.
这是作为 cron 的定期任务运行的。

If something goes wrong while we’re caching an image (for example the fetch times out, or an exception is raised), we create an ‘invalid’ entry. These entries are left around for debugging purposes. However, after some period of time, we want to clean these up.
如果我们在缓存图像时出现问题（例如，提取超时或引发异常），我们会创建一个“无效”条目。这些条目保留用于调试目的。但是，一段时间后，我们想清理这些。

Also, if an incomplete image hangs around past the image_cache_stall_time period, we automatically sweep it up.
此外，如果一个不完整的图像在image_cache_stall_time周期后徘徊，我们会自动将其扫描。

### OPTIONS 选项 ¶

**General options 常规选项**

- `-h, --help`

  Show the help message and exit 显示帮助消息并退出

- `--version`

  Print the version number and exit 打印版本号并退出

- `-v, --verbose`

  Print more verbose output 打印更详细的输出

- `--noverbose`

  Disable verbose output 禁用详细输出

- `-d, --debug`

  Print debugging output (set logging level to DEBUG instead of default WARNING level) 打印调试输出（将日志记录级别设置为 DEBUG，而不是默认的 WARNING 级别）

- `--nodebug`

  Disable debugging output 禁用调试输出

- `--use-syslog`

  Use syslog for logging 使用 syslog 进行日志记录

- `--nouse-syslog`

  Disable the use of syslog for logging 禁止使用 syslog 进行日志记录

- `--syslog-log-facility SYSLOG_LOG_FACILITY`

  syslog facility to receive log lines 用于接收日志行的 syslog 工具

- `--config-dir DIR`

  Path to a config directory to pull *.conf files from. This file set is sorted, to provide a predictable parse order if individual options are over-ridden. The set is parsed after the file(s) specified via previous –config-file, arguments hence over-ridden options in the directory take precedence. This means that configuration from files in a specified config-dir will always take precedence over configuration from files specified by –config-file, regardless to argument order. 要从中提取 *.conf 文件的配置目录的路径。此文件集经过排序，以便在覆盖单个选项时提供可预测的分析顺序。该集合在通过上一个 –config-file  指定的文件之后解析，因此参数优先于目录中被覆盖的选项。这意味着，无论参数顺序如何，来自指定 config-dir 中文件的配置将始终优先于  –config-file 指定的文件的配置。

- `--config-file PATH`

  Path to a config file to use. Multiple config files can be specified by using this flag multiple times, for example, –config-file <file1> –config-file <file2>. Values in latter files take precedence. 要使用的配置文件的路径。可以通过多次使用此标志来指定多个配置文件，例如， –config-file <file1> –config-file <file2>。后面文件中的值优先。

- `--log-config-append PATH` `--log-config PATH`

  The name of logging configuration file. It does not disable existing loggers, but just appends specified logging configuration to any other existing logging options. Please see the Python logging module documentation for details on logging configuration files. The log-config name for this option is deprecated. 日志记录配置文件的名称。它不会禁用现有记录器，而只是将指定的日志记录配置追加到任何其他现有日志记录选项。有关日志记录配置文件的详细信息，请参阅 Python 日志记录模块文档。此选项的 log-config 名称已弃用。

- `--log-format FORMAT`

  A logging.Formatter log message format string which may use any of the available logging.LogRecord attributes. Default: None 日志记录。格式化程序日志消息格式字符串，可以使用任何可用的日志记录。LogRecord 属性。默认值：无

- `--log-date-format DATE_FORMAT`

  Format string for %(asctime)s in log records. Default: None 设置日志记录中 %（asctime）s 的字符串格式。默认值：无

- `--log-file PATH, --logfile PATH`

  (Optional) Name of log file to output to. If not set, logging will go to stdout. （可选）要输出到的日志文件的名称。如果未设置，日志记录将转到 stdout。

- `--log-dir LOG_DIR, --logdir LOG_DIR`

  (Optional) The directory to keep log files in (will be prepended to –log-file) （可选）保存日志文件的目录（将附加到 –log-file）

### FILES 文件 ¶

- **/etc/glance/glance-cache.conf**

  Default configuration file for the Glance Cache Glance 缓存的默认配置文件

### SEE ALSO 参见 ¶

- [OpenStack Glance OpenStack 概览](http://glance.openstack.org)

### BUGS 错误 ¶

- Glance bugs are tracked in Launchpad so you can view current bugs at [OpenStack Glance](http://bugs.launchpad.net/glance)
  Glance 错误在 Launchpad 中跟踪，因此您可以在 OpenStack Glance 中查看当前错误

# glance-cache-manage

​                                  

## Cache management utility 缓存管理实用程序 ¶

- Author: 作者：

  OpenStack Glance Project Team OpenStack Glance 项目团队

- Contact: 联系：

  [glance@lists.launchpad.net](mailto:glance@lists.launchpad.net)

- Date: 日期：

  2019-04-10

- Copyright: 版权：

  OpenStack Foundation OpenStack 基金会

- Version: 版本：

  18.0.0

- Manual section: 手册部分：

  1

- Manual group: 手动组：

  cloud computing 云计算

### SYNOPSIS 剧情简介 ¶

```
glance-cache-manage <command> [options] [args]
```

### COMMANDS 命令 ¶

- `help <command>`

  Output help for one of the commands below 以下命令之一的输出帮助

- `list-cached`

  List all images currently cached 列出当前缓存的所有图像

- `list-queued`

  List all images currently queued for caching 列出当前排队等待缓存的所有图像

- `queue-image`

  Queue an image for caching 将图像排队以进行缓存

- `delete-cached-image`

  Purges an image from the cache 从缓存中清除映像

- `delete-all-cached-images`

  Removes all images from the cache 从缓存中删除所有图像

- `delete-queued-image`

  Deletes an image from the cache queue 从缓存队列中删除图像

- `delete-all-queued-images`

  Deletes all images from the cache queue 从缓存队列中删除所有图像

### OPTIONS 选项 ¶

- `--version`

  show program’s version number and exit 显示程序的版本号并退出

- `-h, --help`

  show this help message and exit 显示此帮助消息并退出

- `-v, --verbose`

  Print more verbose output 打印更详细的输出

- `-d, --debug`

  Print more verbose output 打印更详细的输出

- `-H ADDRESS, --host=ADDRESS`

  Address of Glance API host. Default: 0.0.0.0 Glance API 主机的地址。默认值：0.0.0.0

- `-p PORT, --port=PORT`

  Port the Glance API host listens on. Default: 9292 移植 Glance API 主机侦听的端口。默认值：9292

- `-k, --insecure`

  Explicitly allow glance to perform “insecure” SSL (https) requests. The server’s certificate will not be verified against any certificate authorities. This option should be used with caution. 显式允许 glance 执行“不安全”的 SSL （https） 请求。不会根据任何证书颁发机构验证服务器的证书。应谨慎使用此选项。

- `-A TOKEN, --auth_token=TOKEN`

  Authentication token to use to identify the client to the glance server 用于向 glance 服务器标识客户端的身份验证令牌

- `-f, --force`

  Prevent select actions from requesting user confirmation 阻止选择操作请求用户确认

- `-S STRATEGY, --os-auth-strategy=STRATEGY`

  Authentication strategy (keystone or noauth) 身份验证策略（keystone 或 noauth）

- `-os-auth-token=OS_AUTH_TOKEN`

  Defaults to env[OS_AUTH_TOKEN] 默认为 env[OS_AUTH_TOKEN]

- `--os-username=OS_USERNAME`

  Defaults to env[OS_USERNAME] 默认为 env[OS_USERNAME]

- `--os-password=OS_PASSWORD`

  Defaults to env[OS_PASSWORD] 默认为 env[OS_PASSWORD]

- `--os-region-name=OS_REGION_NAME`

  Defaults to env[OS_REGION_NAME] 默认为 env[OS_REGION_NAME]

- `--os-tenant-id=OS_TENANT_ID`

  Defaults to env[OS_TENANT_ID] 默认为 env[OS_TENANT_ID]

- `--os-tenant-name=OS_TENANT_NAME`

  Defaults to env[OS_TENANT_NAME] 默认为 env[OS_TENANT_NAME]

- `--os-auth-url=OS_AUTH_URL`

  Defaults to env[OS_AUTH_URL] 默认为 env[OS_AUTH_URL]

- `-os-user-domain-id=OS_USER_DOMAIN_ID`

  Defaults to env[OS_USER_DOMAIN_ID] 默认为 env[OS_USER_DOMAIN_ID]

- `--os-project-domain-id=OS_PROJECT_DOMAIN_ID`

  Defaults to env[OS_PROJECT_DOMAIN_ID] 默认为 env[OS_PROJECT_DOMAIN_ID]

- `--os-domain-id=OS_AUTH_URL`

  Defaults to env[OS_DOMAIN_ID] 默认为 env[OS_DOMAIN_ID]

### SEE ALSO 参见 ¶

- [OpenStack Glance OpenStack 概览](http://glance.openstack.org)

### BUGS 错误 ¶

- Glance bugs are tracked in Launchpad so you can view current bugs at [OpenStack Glance](http://bugs.launchpad.net/glance)
  Glance 错误在 Launchpad 中跟踪，因此您可以在 OpenStack Glance 中查看当前错误

# glance-cache-prefetcher

​                                  

## Glance Image Cache Pre-fetcher Glance 图像缓存预取程序 ¶

- Author: 作者：

  OpenStack Glance Project Team OpenStack Glance 项目团队

- Contact: 联系：

  [glance@lists.launchpad.net](mailto:glance@lists.launchpad.net)

- Date: 日期：

  2019-04-10

- Copyright: 版权：

  OpenStack Foundation OpenStack 基金会

- Version: 版本：

  18.0.0

- Manual section: 手册部分：

  1

- Manual group: 手动组：

  cloud computing 云计算

### SYNOPSIS 剧情简介 ¶

```
glance-cache-prefetcher [options]
```

### DESCRIPTION 描述 ¶

This is meant to be run from the command line after queueing images to be pretched.
这是在对要预处理的图像进行排队后从命令行运行的。

### OPTIONS 选项 ¶

**General options 常规选项**

- `-h, --help`

  Show the help message and exit 显示帮助消息并退出

- `--version`

  Print the version number and exit 打印版本号并退出

- `-v, --verbose`

  Print more verbose output 打印更详细的输出

- `--noverbose`

  Disable verbose output 禁用详细输出

- `-d, --debug`

  Print debugging output (set logging level to DEBUG instead of default WARNING level) 打印调试输出（将日志记录级别设置为 DEBUG，而不是默认的 WARNING 级别）

- `--nodebug`

  Disable debugging output 禁用调试输出

- `--use-syslog`

  Use syslog for logging 使用 syslog 进行日志记录

- `--nouse-syslog`

  Disable the use of syslog for logging 禁止使用 syslog 进行日志记录

- `--syslog-log-facility SYSLOG_LOG_FACILITY`

  syslog facility to receive log lines 用于接收日志行的 syslog 工具

- `--config-dir DIR`

  Path to a config directory to pull *.conf files from. This file set is sorted, to provide a predictable parse order if individual options are over-ridden. The set is parsed after the file(s) specified via previous –config-file, arguments hence over-ridden options in the directory take precedence. This means that configuration from files in a specified config-dir will always take precedence over configuration from files specified by –config-file, regardless to argument order. 要从中提取 *.conf 文件的配置目录的路径。此文件集经过排序，以便在覆盖单个选项时提供可预测的分析顺序。该集合在通过上一个 –config-file  指定的文件之后解析，因此参数优先于目录中被覆盖的选项。这意味着，无论参数顺序如何，来自指定 config-dir 中文件的配置将始终优先于  –config-file 指定的文件的配置。

- `--config-file PATH`

  Path to a config file to use. Multiple config files can be specified by using this flag multiple times, for example, –config-file <file1> –config-file <file2>. Values in latter files take precedence. 要使用的配置文件的路径。可以通过多次使用此标志来指定多个配置文件，例如， –config-file <file1> –config-file <file2>。后面文件中的值优先。

- `--log-config-append PATH` `--log-config PATH`

  The name of logging configuration file. It does not disable existing loggers, but just appends specified logging configuration to any other existing logging options. Please see the Python logging module documentation for details on logging configuration files. The log-config name for this option is deprecated. 日志记录配置文件的名称。它不会禁用现有记录器，而只是将指定的日志记录配置追加到任何其他现有日志记录选项。有关日志记录配置文件的详细信息，请参阅 Python 日志记录模块文档。此选项的 log-config 名称已弃用。

- `--log-format FORMAT`

  A logging.Formatter log message format string which may use any of the available logging.LogRecord attributes. Default: None 日志记录。格式化程序日志消息格式字符串，可以使用任何可用的日志记录。LogRecord 属性。默认值：无

- `--log-date-format DATE_FORMAT`

  Format string for %(asctime)s in log records. Default: None 设置日志记录中 %（asctime）s 的字符串格式。默认值：无

- `--log-file PATH, --logfile PATH`

  (Optional) Name of log file to output to. If not set, logging will go to stdout. （可选）要输出到的日志文件的名称。如果未设置，日志记录将转到 stdout。

- `--log-dir LOG_DIR, --logdir LOG_DIR`

  (Optional) The directory to keep log files in (will be prepended to –log-file) （可选）保存日志文件的目录（将附加到 –log-file）

### FILES 文件 ¶

- **/etc/glance/glance-cache.conf**

  Default configuration file for the Glance Cache Glance 缓存的默认配置文件

### SEE ALSO 参见 ¶

- [OpenStack Glance OpenStack 概览](http://glance.openstack.org)

### BUGS 错误 ¶

- Glance bugs are tracked in Launchpad so you can view current bugs at [OpenStack Glance](http://bugs.launchpad.net/glance)
  Glance 错误在 Launchpad 中跟踪，因此您可以在 OpenStack Glance 中查看当前错误

# glance-cache-pruner

​                                  

## Glance cache pruner Glance 缓存修剪器 ¶

- Author: 作者：

  OpenStack Glance Project Team OpenStack Glance 项目团队

- Contact: 联系：

  [glance@lists.launchpad.net](mailto:glance@lists.launchpad.net)

- Date: 日期：

  2019-04-10

- Copyright: 版权：

  OpenStack Foundation OpenStack 基金会

- Version: 版本：

  18.0.0

- Manual section: 手册部分：

  1

- Manual group: 手动组：

  cloud computing 云计算

### SYNOPSIS 剧情简介 ¶

```
glance-cache-pruner [options]
```

### DESCRIPTION 描述 ¶

Prunes images from the Glance cache when the space exceeds the value set in the image_cache_max_size configuration option. This is meant to be run as a periodic task, perhaps every half-hour.
当空间超过image_cache_max_size配置选项中设置的值时，从 Glance 缓存中修剪图像。这应该作为定期任务运行，可能每半小时运行一次。

### OPTIONS 选项 ¶

**General options 常规选项**

- `-h, --help`

  Show the help message and exit 显示帮助消息并退出

- `--version`

  Print the version number and exit 打印版本号并退出

- `-v, --verbose`

  Print more verbose output 打印更详细的输出

- `--noverbose`

  Disable verbose output 禁用详细输出

- `-d, --debug`

  Print debugging output (set logging level to DEBUG instead of default WARNING level) 打印调试输出（将日志记录级别设置为 DEBUG，而不是默认的 WARNING 级别）

- `--nodebug`

  Disable debugging output 禁用调试输出

- `--use-syslog`

  Use syslog for logging 使用 syslog 进行日志记录

- `--nouse-syslog`

  Disable the use of syslog for logging 禁止使用 syslog 进行日志记录

- `--syslog-log-facility SYSLOG_LOG_FACILITY`

  syslog facility to receive log lines 用于接收日志行的 syslog 工具

- `--config-dir DIR`

  Path to a config directory to pull *.conf files from. This file set is sorted, to provide a predictable parse order if individual options are over-ridden. The set is parsed after the file(s) specified via previous –config-file, arguments hence over-ridden options in the directory take precedence. This means that configuration from files in a specified config-dir will always take precedence over configuration from files specified by –config-file, regardless to argument order. 要从中提取 *.conf 文件的配置目录的路径。此文件集经过排序，以便在覆盖单个选项时提供可预测的分析顺序。该集合在通过上一个 –config-file  指定的文件之后解析，因此参数优先于目录中被覆盖的选项。这意味着，无论参数顺序如何，来自指定 config-dir 中文件的配置将始终优先于  –config-file 指定的文件的配置。

- `--config-file PATH`

  Path to a config file to use. Multiple config files can be specified by using this flag multiple times, for example, –config-file <file1> –config-file <file2>. Values in latter files take precedence. 要使用的配置文件的路径。可以通过多次使用此标志来指定多个配置文件，例如， –config-file <file1> –config-file <file2>。后面文件中的值优先。

- `--log-config-append PATH` `--log-config PATH`

  The name of logging configuration file. It does not disable existing loggers, but just appends specified logging configuration to any other existing logging options. Please see the Python logging module documentation for details on logging configuration files. The log-config name for this option is deprecated. 日志记录配置文件的名称。它不会禁用现有记录器，而只是将指定的日志记录配置追加到任何其他现有日志记录选项。有关日志记录配置文件的详细信息，请参阅 Python 日志记录模块文档。此选项的 log-config 名称已弃用。

- `--log-format FORMAT`

  A logging.Formatter log message format string which may use any of the available logging.LogRecord attributes. Default: None 日志记录。格式化程序日志消息格式字符串，可以使用任何可用的日志记录。LogRecord 属性。默认值：无

- `--log-date-format DATE_FORMAT`

  Format string for %(asctime)s in log records. Default: None 设置日志记录中 %（asctime）s 的字符串格式。默认值：无

- `--log-file PATH, --logfile PATH`

  (Optional) Name of log file to output to. If not set, logging will go to stdout. （可选）要输出到的日志文件的名称。如果未设置，日志记录将转到 stdout。

- `--log-dir LOG_DIR, --logdir LOG_DIR`

  (Optional) The directory to keep log files in (will be prepended to –log-file) （可选）保存日志文件的目录（将附加到 –log-file）

### FILES 文件 ¶

- **/etc/glance/glance-cache.conf**

  Default configuration file for the Glance Cache Glance 缓存的默认配置文件

### SEE ALSO 参见 ¶

- [OpenStack Glance OpenStack 概览](http://glance.openstack.org)

### BUGS 错误 ¶

- Glance bugs are tracked in Launchpad so you can view current bugs at [OpenStack Glance](http://bugs.launchpad.net/glance)
  Glance 错误在 Launchpad 中跟踪，因此您可以在 OpenStack Glance 中查看当前错误

# glance-control 一目了然的控制

​                                  

## Glance daemon start/stop/reload helper Glance 守护进程启动/停止/重装助手 ¶

- Author: 作者：

  OpenStack Glance Project Team OpenStack Glance 项目团队

- Contact: 联系：

  [glance@lists.launchpad.net](mailto:glance@lists.launchpad.net)

- Date: 日期：

  2019-04-10

- Copyright: 版权：

  OpenStack Foundation OpenStack 基金会

- Version: 版本：

  18.0.0

- Manual section: 手册部分：

  1

- Manual group: 手动组：

  cloud computing 云计算

### SYNOPSIS 剧情简介 ¶

```
glance-control [options] <SERVER> <COMMAND> [<CONFPATH>]
```

Where <SERVER> is one of:
其中<SERVER>一项是：

```
all`, `api`, `glance-api`, `registry`, `glance-registry`, `scrubber`, `glance-scrubber
```

And <COMMAND> is one of:
<COMMAND> 并且是以下之一：

```
start`, `status`, `stop`, `shutdown`, `restart`, `reload`, `force-reload
```

And <CONFPATH> is the optional configuration file to use.
并且是<CONFPATH>要使用的可选配置文件。

### OPTIONS 选项 ¶

**General Options 常规选项**

- `-h, --help`

  Show the help message and exit 显示帮助消息并退出

- `--version`

  Print the version number and exit 打印版本号并退出

- `-v, --verbose`

  Print more verbose output 打印更详细的输出

- `--noverbose`

  Disable verbose output 禁用详细输出

- `-d, --debug`

  Print debugging output (set logging level to DEBUG instead of default WARNING level) 打印调试输出（将日志记录级别设置为 DEBUG，而不是默认的 WARNING 级别）

- `--nodebug`

  Disable debugging output 禁用调试输出

- `--use-syslog`

  Use syslog for logging 使用 syslog 进行日志记录

- `--nouse-syslog`

  Disable the use of syslog for logging 禁止使用 syslog 进行日志记录

- `--syslog-log-facility SYSLOG_LOG_FACILITY`

  syslog facility to receive log lines 用于接收日志行的 syslog 工具

- `--config-dir DIR`

  Path to a config directory to pull *.conf files from. This file set is sorted, to provide a predictable parse order if individual options are over-ridden. The set is parsed after the file(s) specified via previous –config-file, arguments hence over-ridden options in the directory take precedence. This means that configuration from files in a specified config-dir will always take precedence over configuration from files specified by –config-file, regardless to argument order. 要从中提取 *.conf 文件的配置目录的路径。此文件集经过排序，以便在覆盖单个选项时提供可预测的分析顺序。该集合在通过上一个 –config-file  指定的文件之后解析，因此参数优先于目录中被覆盖的选项。这意味着，无论参数顺序如何，来自指定 config-dir 中文件的配置将始终优先于  –config-file 指定的文件的配置。

- `--config-file PATH`

  Path to a config file to use. Multiple config files can be specified by using this flag multiple times, for example, –config-file <file1> –config-file <file2>. Values in latter files take precedence. 要使用的配置文件的路径。可以通过多次使用此标志来指定多个配置文件，例如， –config-file <file1> –config-file <file2>。后面文件中的值优先。

- `--log-config-append PATH` `--log-config PATH`

  The name of logging configuration file. It does not disable existing loggers, but just appends specified logging configuration to any other existing logging options. Please see the Python logging module documentation for details on logging configuration files. The log-config name for this option is deprecated. 日志记录配置文件的名称。它不会禁用现有记录器，而只是将指定的日志记录配置追加到任何其他现有日志记录选项。有关日志记录配置文件的详细信息，请参阅 Python 日志记录模块文档。此选项的 log-config 名称已弃用。

- `--log-format FORMAT`

  A logging.Formatter log message format string which may use any of the available logging.LogRecord attributes. Default: None 日志记录。格式化程序日志消息格式字符串，可以使用任何可用的日志记录。LogRecord 属性。默认值：无

- `--log-date-format DATE_FORMAT`

  Format string for %(asctime)s in log records. Default: None 设置日志记录中 %（asctime）s 的字符串格式。默认值：无

- `--log-file PATH, --logfile PATH`

  (Optional) Name of log file to output to. If not set, logging will go to stdout. （可选）要输出到的日志文件的名称。如果未设置，日志记录将转到 stdout。

- `--log-dir LOG_DIR, --logdir LOG_DIR`

  (Optional) The directory to keep log files in (will be prepended to –log-file) （可选）保存日志文件的目录（将附加到 –log-file）

- `--pid-file=PATH`

  File to use as pid file. Default: /var/run/glance/$server.pid 用作 pid 文件的文件。默认值：/var/run/glance/$server.pid

- `--await-child DELAY`

  Period to wait for service death in order to report exit code (default is to not wait at all) 等待服务死亡以报告退出代码的时间段（默认为根本不等待）

- `--capture-output`

  Capture stdout/err in syslog instead of discarding 在 syslog 中捕获 stdout/err 而不是丢弃

- `--nocapture-output`

  The inverse of –capture-output –capture-output 的反函数

- `--norespawn`

  The inverse of –respawn –respawn 的反面

- `--respawn`

  Restart service on unexpected death 意外死亡时重新启动服务

### SEE ALSO 参见 ¶

- [OpenStack Glance OpenStack 概览](http://glance.openstack.org)

### BUGS 错误 ¶

- Glance bugs are tracked in Launchpad so you can view current bugs at [OpenStack Glance](http://bugs.launchpad.net/glance)
  Glance 错误在 Launchpad 中跟踪，因此您可以在 OpenStack Glance 中查看当前错误

# glance-manage

​                                  

## Glance Management Utility Glance 管理实用程序 ¶

- Author: 作者：

  OpenStack Glance Project Team OpenStack Glance 项目团队

- Contact: 联系：

  [glance@lists.launchpad.net](mailto:glance@lists.launchpad.net)

- Date: 日期：

  2019-04-10

- Copyright: 版权：

  OpenStack Foundation OpenStack 基金会

- Version: 版本：

  18.0.0

- Manual section: 手册部分：

  1

- Manual group: 手动组：

  cloud computing 云计算

### SYNOPSIS 剧情简介 ¶

```
glance-manage [options]
```

### DESCRIPTION 描述 ¶

glance-manage is a utility for managing and configuring a Glance installation. One important use of glance-manage is to setup the database. To do this run:
glance-manage 是一个用于管理和配置 Glance 安装的实用程序。glance-manage 的一个重要用途是设置数据库。要执行此操作，请运行：

```
glance-manage db_sync
```

Note: glance-manage commands can be run either like this:
注意：glance-manage 命令可以像这样运行：

```
glance-manage db sync
```

or with the db commands concatenated, like this:
或者将 db 命令串联在一起，如下所示：

```
glance-manage db_sync
```

### COMMANDS 命令 ¶

- `db`

  This is the prefix for the commands below when used with a space rather than a _. For example “db version”. 当与空格而不是 _ 一起使用时，这是以下命令的前缀。例如，“db version”。

- `db_version`

  This will print the current migration level of a glance database. 这将打印 glance 数据库的当前迁移级别。

- `db_upgrade [VERSION]`

  This will take an existing database and upgrade it to the specified VERSION. 这将获取现有数据库并将其升级到指定的 VERSION。

- `db_version_control`

  Place the database under migration control. 将数据库置于迁移控制之下。

- `db_sync [VERSION]`

  Place an existing database under migration control and upgrade it to the specified VERSION. 将现有数据库置于迁移控制之下，并将其升级到指定的 VERSION。

- `db_expand`

  Run this command to expand the database as the first step of a rolling upgrade process. 运行此命令以扩展数据库，作为滚动升级过程的第一步。

- `db_migrate`

  Run this command to migrate the database as the second step of a rolling upgrade process. 运行此命令以迁移数据库，作为滚动升级过程的第二步。

- `db_contract`

  Run this command to contract the database as the last step of a rolling upgrade process. 运行此命令以将数据库作为滚动升级过程的最后一步进行收缩。

- `db_export_metadefs [PATH | PREFIX]`

  Export the metadata definitions into json format. By default the definitions are exported to /etc/glance/metadefs directory. `Note: this command will overwrite existing files in the supplied or default path.` 将元数据定义导出为 json 格式。默认情况下，定义导出到 /etc/glance/metadefs 目录。 `Note: this command will overwrite existing files in the supplied or default path.` 

- `db_load_metadefs [PATH]`

  Load the metadata definitions into glance database. By default the definitions are imported from /etc/glance/metadefs directory. 将元数据定义加载到 glance 数据库中。默认情况下，定义是从 /etc/glance/metadefs 目录导入的。

- `db_unload_metadefs`

  Unload the metadata definitions. Clears the contents of all the glance db tables including metadef_namespace_resource_types, metadef_tags, metadef_objects, metadef_resource_types, metadef_namespaces and metadef_properties. 卸载元数据定义。清除所有 glance db 表的内容，包括  metadef_namespace_resource_types、metadef_tags、metadef_objects、metadef_resource_types、metadef_namespaces 和 metadef_properties。

- `db_purge`

  Purge deleted rows older than a given age from glance db tables. 从 glance db 表中清除早于给定期限的已删除行。 This command interprets the following options when it is invoked: 此命令在调用时解释以下选项： --max_rows Purge deleted rows older than age in days (default value if not specified: 100) 清除已删除的行（以天为单位）超过期限（如果未指定，则默认值：100） --age_in_days Limit number of records to delete (default value if not specified: 30 days) 限制要删除的记录数（如果未指定，则为默认值：30 天）  WARNING: This function is useful primarily in test systems. We do not recommend its use in production systems unless you have reviewed OpenStack Security Note [OSSN-0075](https://wiki.openstack.org/wiki/OSSN/OSSN-0075) and understand the risk involved. 警告：此功能主要在测试系统中有用。我们不建议在生产系统中使用它，除非您已经查看了 OpenStack 安全说明 OSSN-0075 并了解所涉及的风险。

- `db_purge_images_table`

  Purge deleted rows older than a given age from images db tables. 从图像数据库表中清除超过给定期限的已删除行。 This command interprets the following options when it is invoked: 此命令在调用时解释以下选项： --max_rows Purge deleted rows older than age in days (default value if not specified: 100) 清除已删除的行（以天为单位）超过期限（如果未指定，则默认值：100） --age_in_days Limit number of records to delete (default value if not specified: 30 days) 限制要删除的记录数（如果未指定，则为默认值：30 天）  WARNING: This function is useful primarily in test systems. We do not recommend its use in production systems unless you have reviewed OpenStack Security Note [OSSN-0075](https://wiki.openstack.org/wiki/OSSN/OSSN-0075) and understand the risk involved. 警告：此功能主要在测试系统中有用。我们不建议在生产系统中使用它，除非您已经查看了 OpenStack 安全说明 OSSN-0075 并了解所涉及的风险。

### OPTIONS 选项 ¶

**General Options 常规选项**

- `-h, --help`

  Show the help message and exit 显示帮助消息并退出

- `--version`

  Print the version number and exit 打印版本号并退出

- `-v, --verbose`

  Print more verbose output 打印更详细的输出

- `--noverbose`

  Disable verbose output 禁用详细输出

- `-d, --debug`

  Print debugging output (set logging level to DEBUG instead of default WARNING level) 打印调试输出（将日志记录级别设置为 DEBUG，而不是默认的 WARNING 级别）

- `--nodebug`

  Disable debugging output 禁用调试输出

- `--use-syslog`

  Use syslog for logging 使用 syslog 进行日志记录

- `--nouse-syslog`

  Disable the use of syslog for logging 禁止使用 syslog 进行日志记录

- `--syslog-log-facility SYSLOG_LOG_FACILITY`

  syslog facility to receive log lines 用于接收日志行的 syslog 工具

- `--config-dir DIR`

  Path to a config directory to pull *.conf files from. This file set is sorted, to provide a predictable parse order if individual options are over-ridden. The set is parsed after the file(s) specified via previous –config-file, arguments hence over-ridden options in the directory take precedence. This means that configuration from files in a specified config-dir will always take precedence over configuration from files specified by –config-file, regardless to argument order. 要从中提取 *.conf 文件的配置目录的路径。此文件集经过排序，以便在覆盖单个选项时提供可预测的分析顺序。该集合在通过上一个 –config-file  指定的文件之后解析，因此参数优先于目录中被覆盖的选项。这意味着，无论参数顺序如何，来自指定 config-dir 中文件的配置将始终优先于  –config-file 指定的文件的配置。

- `--config-file PATH`

  Path to a config file to use. Multiple config files can be specified by using this flag multiple times, for example, –config-file <file1> –config-file <file2>. Values in latter files take precedence. 要使用的配置文件的路径。可以通过多次使用此标志来指定多个配置文件，例如， –config-file <file1> –config-file <file2>。后面文件中的值优先。

- `--log-config-append PATH` `--log-config PATH`

  The name of logging configuration file. It does not disable existing loggers, but just appends specified logging configuration to any other existing logging options. Please see the Python logging module documentation for details on logging configuration files. The log-config name for this option is deprecated. 日志记录配置文件的名称。它不会禁用现有记录器，而只是将指定的日志记录配置追加到任何其他现有日志记录选项。有关日志记录配置文件的详细信息，请参阅 Python 日志记录模块文档。此选项的 log-config 名称已弃用。

- `--log-format FORMAT`

  A logging.Formatter log message format string which may use any of the available logging.LogRecord attributes. Default: None 日志记录。格式化程序日志消息格式字符串，可以使用任何可用的日志记录。LogRecord 属性。默认值：无

- `--log-date-format DATE_FORMAT`

  Format string for %(asctime)s in log records. Default: None 设置日志记录中 %（asctime）s 的字符串格式。默认值：无

- `--log-file PATH, --logfile PATH`

  (Optional) Name of log file to output to. If not set, logging will go to stdout. （可选）要输出到的日志文件的名称。如果未设置，日志记录将转到 stdout。

- `--log-dir LOG_DIR, --logdir LOG_DIR`

  (Optional) The directory to keep log files in (will be prepended to –log-file) （可选）保存日志文件的目录（将附加到 –log-file）

### SEE ALSO 参见 ¶

- [OpenStack Glance OpenStack 概览](http://glance.openstack.org)

### BUGS 错误 ¶

- Glance bugs are tracked in Launchpad so you can view current bugs at [OpenStack Glance](http://bugs.launchpad.net/glance)
  Glance 错误在 Launchpad 中跟踪，因此您可以在 OpenStack Glance 中查看当前错误

### CONFIGURATION 配置 ¶

The following paths are searched for a `glance-manage.conf` file in the following order:
按以下顺序搜索 `glance-manage.conf` 文件的以下路径：

- `~/.glance`
- `~/`
- `/etc/glance`
- `/etc`

All options set in `glance-manage.conf` override those set in `glance-api.conf`.
中 `glance-manage.conf` 设置的所有选项都会覆盖 中 `glance-api.conf` 设置的选项。

​                      

# glance-replicator 一瞥复制器

​                                  

## Replicate images across multiple data centers 跨多个数据中心复制镜像 ¶

- Author: 作者：

  OpenStack Glance Project Team OpenStack Glance 项目团队

- Contact: 联系：

  [glance@lists.launchpad.net](mailto:glance@lists.launchpad.net)

- Date: 日期：

  2019-04-10

- Copyright: 版权：

  OpenStack Foundation OpenStack 基金会

- Version: 版本：

  18.0.0

- Manual section: 手册部分：

  1

- Manual group: 手动组：

  cloud computing 云计算

### SYNOPSIS 剧情简介 ¶

```
glance-replicator <command> [options] [args]
```

### DESCRIPTION 描述 ¶

glance-replicator is a utility can be used to populate a new glance server using the images stored in an existing glance server. The images in the replicated glance server preserve the uuids, metadata, and image data from the original.
glance-replicator 是一个实用程序，可用于使用存储在现有 glance 服务器中的图像来填充新的 glance 服务器。复制的 glance 服务器中的图像将保留原始图像中的 uuid、元数据和图像数据。

### COMMANDS 命令 ¶

- `help <command>`

  Output help for one of the commands below 以下命令之一的输出帮助

- `compare`

  What is missing from the slave glance? 奴隶的一瞥中缺少什么？

- `dump`

  Dump the contents of a glance instance to local disk. 将 glance 实例的内容转储到本地磁盘。

- `livecopy`

  Load the contents of one glance instance into another. 将一个 glance 实例的内容加载到另一个 glance 实例中。

- `load`

  Load the contents of a local directory into glance. 将本地目录的内容加载到 Glance 中。

- `size`

  Determine the size of a glance instance if dumped to disk. 确定转储到磁盘时 glance 实例的大小。

### OPTIONS 选项 ¶

- `-h, --help`

  Show this help message and exit 显示此帮助消息并退出

- `-c CHUNKSIZE, --chunksize=CHUNKSIZE`

  Amount of data to transfer per HTTP write 每次 HTTP 写入要传输的数据量

- `-d, --debug`

  Print debugging information 打印调试信息

- `-D DONTREPLICATE, --dontreplicate=DONTREPLICATE`

  List of fields to not replicate 要复制的字段列表

- `-m, --metaonly`

  Only replicate metadata, not images 仅复制元数据，而不复制图像

- `-l LOGFILE, --logfile=LOGFILE`

  Path of file to log to 要记录到的文件的路径

- `-s, --syslog`

  Log to syslog instead of a file 记录到 syslog 而不是文件

- `-t TOKEN, --token=TOKEN`

  Pass in your authentication token if you have one. If you use this option the same token is used for both the master and the slave. 如果有身份验证令牌，请传入。如果使用此选项，则主站和从站将使用相同的令牌。

- `-M MASTERTOKEN, --mastertoken=MASTERTOKEN`

  Pass in your authentication token if you have one. This is the token used for the master. 如果有身份验证令牌，请传入。这是用于主节点的令牌。

- `-S SLAVETOKEN, --slavetoken=SLAVETOKEN`

  Pass in your authentication token if you have one. This is the token used for the slave. 如果有身份验证令牌，请传入。这是用于从属的令牌。

- `-v, --verbose`

  Print more verbose output 打印更详细的输出

### SEE ALSO 参见 ¶

- [OpenStack Glance OpenStack 概览](http://glance.openstack.org)

### BUGS 错误 ¶

- Glance bugs are tracked in Launchpad so you can view current bugs at [OpenStack Glance](http://bugs.launchpad.net/glance)
  Glance 错误在 Launchpad 中跟踪，因此您可以在 OpenStack Glance 中查看当前错误

# glance-scrubber 扫视洗涤器

​                                  

## Glance scrub service Glance 擦洗服务 ¶

- Author: 作者：

  OpenStack Glance Project Team OpenStack Glance 项目团队

- Contact: 联系：

  [glance@lists.launchpad.net](mailto:glance@lists.launchpad.net)

- Date: 日期：

  2019-04-10

- Copyright: 版权：

  OpenStack Foundation OpenStack 基金会

- Version: 版本：

  18.0.0

- Manual section: 手册部分：

  1

- Manual group: 手动组：

  cloud computing 云计算

### SYNOPSIS 剧情简介 ¶

```
glance-scrubber [options]
```

### DESCRIPTION 描述 ¶

glance-scrubber is a utility that allows an operator to configure Glance for the asynchronous deletion of images or to revert the image’s status from pending_delete to active.  Whether this makes sense for your deployment depends upon the storage backend you are using and the size of typical images handled by your Glance installation.
glance-scrubber 是一个实用程序，允许操作员配置 Glance 以异步删除图像或将图像的状态从pending_delete恢复为活动状态。这是否对您的部署有意义取决于您使用的存储后端以及 Glance 安装所处理的典型映像的大小。

An image in glance is really a combination of an image record (stored in the database) and a file of image data (stored in a storage backend).  Under normal operation, the image-delete call is synchronous, that is, Glance receives the DELETE request, deletes the image data from the storage backend, then deletes the image record from the database, and finally returns a 204 as the result of the call.  If the backend is fast and deletion time is not a function of data size, these operations occur very quickly.  For backends where deletion time is a function of data size, however, the image-delete operation can take a significant amount of time to complete, to the point where a client may timeout waiting for the response.  This in turn leads to user dissatisfaction.
一目了然的图像实际上是图像记录（存储在数据库中）和图像数据文件（存储在存储后端）的组合。正常操作下，image-delete 调用是同步的，即 Glance 接收到 DELETE 请求，从存储后端删除图像数据，然后从数据库中删除图像记录，最后返回 204  作为调用的结果。如果后端速度很快，并且删除时间不是数据大小的函数，则这些操作会非常快地发生。但是，对于删除时间与数据大小相关的后端，图像删除操作可能需要大量时间才能完成，以至于客户端可能会在等待响应时超时。这反过来又会导致用户不满。

To avoid this problem, Glance has a `delayed_delete` configuration option (False by default) that may be set in the **glance-api.conf** file.  With this option enabled, when Glance receives a DELETE request, it does *only* the database part of the request, marking the image’s status as `pending_delete`, and returns immediately.  (The `pending_delete` status is not visible to users; an image-show request for such an image will return 404.)  However, it is important to note that when `delayed_delete` is enabled, *Glance does not delete image data from the storage backend*.  That’s where the glance-scrubber comes in.
为了避免此问题，Glance 有一个 `delayed_delete` 配置选项（默认为 False），可以在 glance-api.conf 文件中设置该选项。启用此选项后，当 Glance 收到 DELETE 请求时，它仅执行请求的数据库部分，将图像的状态标记为 `pending_delete` ，并立即返回。（该 `pending_delete` 状态对用户不可见;对此类图像的 image-show 请求将返回 404。但是，需要注意的是，启用后 `delayed_delete` ，Glance 不会从存储后端删除图像数据。这就是扫地机的用武之地。

The glance-scrubber cleans up images that have been deleted.  If you run Glance with `delayed_delete` enabled, you *must* run the glance-scrubber occasionally or your storage backend will eventually fill up with “deleted” image data.
glance-scrubber 清理已删除的图像。如果在启用的情况下 `delayed_delete` 运行 Glance，则必须偶尔运行 glance-scrubber，否则您的存储后端最终将填满“已删除”的图像数据。

The glance-scrubber can also revert a image to active if operators delete the image by mistake and the pending-delete is enabled in Glance. Please make sure the `glance-scrubber` is not running before restoring the image to avoid image data inconsistency.
如果操作员错误地删除了图像，并且在 Glance 中启用了挂起删除，Glance-scrubber 也可以将图像恢复为活动状态。在恢复镜像之前，请确保 没有运行， `glance-scrubber` 以避免镜像数据不一致。

Configuration of glance-scrubber is done in the **glance-scrubber.conf** file. Options are explained in detail in comments in the sample configuration file, so we only point out a few of them here.
glance-scrubber 的配置是在 glance-scrubber.conf 文件中完成的。示例配置文件中的注释中详细介绍了选项，因此我们在这里仅指出其中的几个。

- `scrub_time`

  minimum time in seconds that an image will stay in `pending_delete` status (default is 0) 图像保持 `pending_delete` 状态的最短时间（以秒为单位）（默认值为 0）

- `scrub_pool_size`

  configures a thread pool so that scrubbing can be performed in parallel (default is 1, that is, serial scrubbing) 配置线程池，以便可以并行执行清理（默认值为 1，即串行清理）

- `daemon`

  a boolean indicating whether the scrubber should run as a daemon (default is False) 一个布尔值，指示 scrubber 是否应作为守护程序运行（默认值为 False）

- `wakeup_time`

  time in seconds between runs when the scrubber is run in daemon mode (ignored if the scrubber is not being run in daemon mode) 当 Scrubber 在守护程序模式下运行时，运行之间的时间（以秒为单位）（如果 Scrubber 未在 Daemon 模式下运行，则忽略）

- `metadata_encryption_key`

  If your **glance-api.conf** sets a value for this option (the default is to leave it unset), you must include the same setting in your **glance-scrubber.conf** or the scrubber won’t be able to determine the locations of your image data. 如果 glance-api.conf 为此选项设置了一个值（默认为未设置），则必须在 glance-scrubber.conf 中包含相同的设置，否则 scrubber 将无法确定图像数据的位置。

- `restore`

  reset the specified image’s status from’pending_delete’ to ‘active’ when the image is deleted by mistake. 当图像被错误删除时，将指定图像的状态从“pending_delete”重置为“活动”。

- `[database]`

  As of the Queens release of Glance (16.0.0), the glance-scrubber does not use the deprecated Glance registry, but instead contacts the Glance database directly.  Thus your **glance-scrubber.conf** file must contain a [database] section specifying the relevant information. 从 Queens 版本的 Glance （16.0.0） 开始，glance-scrubber 不使用已弃用的 Glance 注册表，而是直接联系 Glance 数据库。因此，glance-scrubber.conf 文件必须包含指定相关信息的 [database] 部分。

- `[glance_store]`

  This section of the file contains the configuration information for the storage backends used by your Glance installation. 该文件的这一部分包含 Glance 安装所使用的存储后端的配置信息。

The usual situation is that whatever your **glance-api.conf** has for the `[database]` and `[glance_store]` configuration groups should go into your **glance-scrubber.conf**, too.  Of course, if you have heavily customized your setup, you know better than we do what you are doing.  The key thing is that the scrubber needs to be able to access the Glance database to determine what images need to be scrubbed (and to mark them as deleted once their associated data has been removed from the storage backend), and it needs the glance_store information so it can delete the image data.
通常的情况是，无论您的 glance-api.conf 为 `[database]` 和 `[glance_store]` 配置组提供什么，也应该进入您的  glance-scrubber.conf。当然，如果您已经大量定制了您的设置，那么您比我们更了解您正在做的事情。关键是，洗涤器需要能够访问  Glance  数据库以确定需要清理哪些图像（并在从存储后端删除其关联数据后将其标记为已删除），并且它需要glance_store信息，以便可以删除图像数据。

### OPTIONS 选项 ¶

**General options 常规选项**

- `-h, --help`

  Show the help message and exit 显示帮助消息并退出

- `--version`

  Print the version number and exit 打印版本号并退出

- `-v, --verbose`

  Print more verbose output 打印更详细的输出

- `--noverbose`

  Disable verbose output 禁用详细输出

- `-d, --debug`

  Print debugging output (set logging level to DEBUG instead of default WARNING level) 打印调试输出（将日志记录级别设置为 DEBUG，而不是默认的 WARNING 级别）

- `--nodebug`

  Disable debugging output 禁用调试输出

- `--use-syslog`

  Use syslog for logging 使用 syslog 进行日志记录

- `--nouse-syslog`

  Disable the use of syslog for logging 禁止使用 syslog 进行日志记录

- `--syslog-log-facility SYSLOG_LOG_FACILITY`

  syslog facility to receive log lines 用于接收日志行的 syslog 工具

- `--config-dir DIR`

  Path to a config directory to pull *.conf files from. This file set is sorted, to provide a predictable parse order if individual options are over-ridden. The set is parsed after the file(s) specified via previous –config-file, arguments hence over-ridden options in the directory take precedence. This means that configuration from files in a specified config-dir will always take precedence over configuration from files specified by –config-file, regardless to argument order. 要从中提取 *.conf 文件的配置目录的路径。此文件集经过排序，以便在覆盖单个选项时提供可预测的分析顺序。该集合在通过上一个 –config-file  指定的文件之后解析，因此参数优先于目录中被覆盖的选项。这意味着，无论参数顺序如何，来自指定 config-dir 中文件的配置将始终优先于  –config-file 指定的文件的配置。

- `--config-file PATH`

  Path to a config file to use. Multiple config files can be specified by using this flag multiple times, for example, –config-file <file1> –config-file <file2>. Values in latter files take precedence. 要使用的配置文件的路径。可以通过多次使用此标志来指定多个配置文件，例如， –config-file <file1> –config-file <file2>。后面文件中的值优先。

- `--log-config-append PATH` `--log-config PATH`

  The name of logging configuration file. It does not disable existing loggers, but just appends specified logging configuration to any other existing logging options. Please see the Python logging module documentation for details on logging configuration files. The log-config name for this option is deprecated. 日志记录配置文件的名称。它不会禁用现有记录器，而只是将指定的日志记录配置追加到任何其他现有日志记录选项。有关日志记录配置文件的详细信息，请参阅 Python 日志记录模块文档。此选项的 log-config 名称已弃用。

- `--log-format FORMAT`

  A logging.Formatter log message format string which may use any of the available logging.LogRecord attributes. Default: None 日志记录。格式化程序日志消息格式字符串，可以使用任何可用的日志记录。LogRecord 属性。默认值：无

- `--log-date-format DATE_FORMAT`

  Format string for %(asctime)s in log records. Default: None 设置日志记录中 %（asctime）s 的字符串格式。默认值：无

- `--log-file PATH, --logfile PATH`

  (Optional) Name of log file to output to. If not set, logging will go to stdout. （可选）要输出到的日志文件的名称。如果未设置，日志记录将转到 stdout。

- `--log-dir LOG_DIR, --logdir LOG_DIR`

  (Optional) The directory to keep log files in (will be prepended to –log-file) （可选）保存日志文件的目录（将附加到 –log-file）

- **-D, –daemon -D， –守护程序**

  Run as a long-running process. When not specified (the default) run the scrub operation once and then exits. When specified do not exit and run scrub on wakeup_time interval as specified in the config. 作为长时间运行的进程运行。如果未指定（默认值），请运行一次清理操作，然后退出。指定后，请勿退出并按配置中指定的wakeup_time间隔运行 scrub。

- **–nodaemon**

  The inverse of –daemon. Runs the scrub operation once and then exits. This is the default. –daemon 的反面。运行一次清理操作，然后退出。这是默认设置。

- **–restore <IMAGE_ID> –恢复 <IMAGE_ID>**

  Restore the specified image status from ‘pending_delete’ to ‘active’. 将指定的映像状态从“pending_delete”恢复为“活动”。

### FILES 文件 ¶

- **/etc/glance/glance-scrubber.conf**

  Default configuration file for the Glance Scrubber Glance Scrubber 的默认配置文件

### SEE ALSO 参见 ¶

- [OpenStack Glance OpenStack 概览](http://glance.openstack.org)

### BUGS 错误 ¶

- Glance bugs are tracked in Launchpad so you can view current bugs at [OpenStack Glance](http://bugs.launchpad.net/glance)
  Glance 错误在 Launchpad 中跟踪，因此您可以在 OpenStack Glance 中查看当前错误

# glance-status

​                                  

## Glance Status Utility Glance 状态实用程序 ¶

- Author: 作者：

  OpenStack Glance Project Team OpenStack Glance 项目团队

- Contact: 联系：

  [glance@lists.launchpad.net](mailto:glance@lists.launchpad.net)

- Date: 日期：

  2019-04-10

- Copyright: 版权：

  OpenStack Foundation OpenStack 基金会

- Version: 版本：

  18.0.0

- Manual section: 手册部分：

  1

- Manual group: 手动组：

  cloud computing 云计算

### SYNOPSIS 剧情简介 ¶

```
glance-status [options]
```

### DESCRIPTION 描述 ¶

`glance-status` is a command line utility to aid operators in upgrading glance by running programmable checks for things that might prevent upgrades.
 `glance-status` 是一个命令行实用程序，通过对可能阻止升级的内容运行可编程检查来帮助操作员升级 Glance。

### COMMANDS 命令 ¶

- `upgrade`

  This is the prefix for checking the glance deployment for any upgrade issues that might prevent glance from upgrading. 这是用于检查 glance 部署是否存在任何可能阻止 glance 升级的升级问题的前缀。

You can also run with a category argument such as `upgrade` to see a list of all commands in that category:
还可以使用 category 参数运行，例如 `upgrade` 查看该类别中所有命令的列表：

```
glance-status upgrade
```

These sections describe the available categories and arguments for **glance-status**.
这些部分介绍了 glance-status 的可用类别和参数。

#### Categories and commands 类别和命令 ¶

- `glance-status upgrade check`

  Performs a release-specific readiness check before restarting services with new code, or upgrading. This command expects to have complete configuration and access to the database. 在使用新代码重新启动服务或升级之前，执行特定于版本的就绪情况检查。此命令需要具有完整的配置和对数据库的访问权限。 **Return Codes 返回代码**    Return code 返回代码 Description 描述  0 All upgrade readiness checks passed successfully and there is nothing to do. 所有升级准备情况检查都已成功通过，无需执行任何操作。 1 At least one check encountered an issue and requires further investigation. This is considered a warning but the upgrade may be OK. 至少有一项检查遇到了问题，需要进一步调查。这被视为警告，但升级可能正常。 2 There was an upgrade status check failure that needs to be investigated. This should be considered something that stops an upgrade. 存在需要调查的升级状态检查失败。这应该被视为停止升级的事情。 255 An unexpected error occurred. 发生意外错误。  **History of Checks 检查历史** **18.0.0 (Stein) 18.0.0 （斯坦）** Placeholder to be filled in with checks as they are added in Stein. 在 Stein 中添加支票时要填写的占位符。

### OPTIONS 选项 ¶

**General Options 常规选项**

- `-h, --help`

  show this help message and exit 显示此帮助消息并退出

- `--config-dir DIR`

  Path to a config directory to pull *.conf files from. This file set is sorted, so as to provide a predictable parse order if individual options are over-ridden. The set is parsed after the file(s) specified via previous –config-file, arguments hence over-ridden options in the directory take precedence. 要从中提取 *.conf 文件的配置目录的路径。此文件集将进行排序，以便在覆盖单个选项时提供可预测的分析顺序。该集合在通过上一个 –config-file 指定的文件之后解析，因此参数优先于目录中被覆盖的选项。

- `--config-file PATH`

  Path to a config file to use. Multiple config files can be specified, with values in later files taking precedence. Defaults to None. 要使用的配置文件的路径。可以指定多个配置文件，以后文件中的值优先。默认值为 None。

### SEE ALSO 参见 ¶

- [OpenStack Glance OpenStack 概览](http://glance.openstack.org)

### BUGS 错误 ¶

- Glance bugs are tracked in Launchpad so you can view current bugs at [OpenStack Glance](http://bugs.launchpad.net/glance)
  Glance 错误在 Launchpad 中跟踪，因此您可以在 OpenStack Glance 中查看当前错误