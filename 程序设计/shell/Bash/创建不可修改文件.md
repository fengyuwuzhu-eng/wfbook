创建不可修改文件
在常见的Linux扩展文件系统中（如ext2、ext3、ext4等），可以将文件设置为不可修改（immutable）。某些文件属性可帮助我们将文件设置不可修改。一旦文件被设置为不可修改，任何用户包括超级用户都不能删除该文件，除非其不可修改的属性被移除。通过查看/etc/mtab文件，很容易找出所有挂载分区的文件系统类型。这个文件的第一列指定了分区设备路径（如/dev/sda5），第三列指定了文件系统类型（如ext3）。让我们来看看如何将文件设置为不可修改。
3.7.1 预备知识
可以用chattr将文件设置为不可修改。不过chattr能够更改的扩展属性可不止这些。
不可修改属性是保护文件不被修改的安全手段之一。最有代表性的例子就是/etc/shadow文件。该文件由当前系统中所有用户的加密密码组成。我们通过密码才能够登录系统。用户通常用passwd命令修改自己的密码。执行passwd时，它实际上就修改了/etc/shadow文件。我们可以将shadow文件设置为不可修改，这样就再没有用户能够修改密码了。让我们来看看这是如何实现的。
3.7.2 实战演练
可以按照下面的方式将一个文件设置为不可修改：

chattr +i file
或者 sudo chattr +i file
这样文件file就变为了不可修改。来试试下面的命令:rm filerm: cannot remove `file': Operation not permitted
如果需要使文件重新可写，可以移除不可修改属性：chattr -i file