# 变量

[TOC]

在Bash中，每个变量的值都是字符串。

## 定义变量

```bash
var_name="xxx"
# 显式地直接赋值
# 变量名和等号之间不能有空格。
# var_name = "xxx"	是相等操作。

# 用语句赋值
for file in `ls /etc`
for file in $(ls /etc)
```

**变量名命名规则：** 

-  命名只能使用英文字母，数字和下划线，首个字符不能以数字开头。
-  中间不能有空格，可以使用下划线（_）。
-  不能使用标点符号。
-  不能使用bash里的关键字。

除了，还可以用语句给变量赋值，如：



## 使用变量

```bash
var_name="xxxx"
echo $var_name
echo ${var_name}
```

 变量名外面的花括号是可选的，加不加都行，加花括号是为了帮助解释器识别变量的边界，比如下面这种情况： 

```bash
for skill in Ada Coffe Action Java;
do
    echo "I am good at ${skill}Script"
done 
```

**只读变量**

使用 readonly 命令可以将变量定义为只读变量，只读变量的值不能被改变。

```bash
readonly variable_name
```

**删除变量**

使用 unset 命令可以删除变量。语法：

```bash
unset variable_name
```

变量被删除后不能再次使用。unset 命令不能删除只读变量。

**变量类型**

-  **1) 局部变量**  局部变量在脚本或命令中定义，仅在当前shell实例中有效，其他shell启动的程序不能访问局部变量。
-  **2) 环境变量**  所有的程序，包括shell启动的程序，都能访问环境变量，有些程序需要环境变量来保证其正常运行。必要的时候shell脚本也可以定义环境变量。
-  **3) shell变量**  shell变量是由shell程序设置的特殊变量。shell变量中有一部分是环境变量，有一部分是局部变量，这些变量保证了shell的正常运行

## 环境变量

在终端中查看所有与此终端进程相关的环境变量：

```bash
env
```

对于每个进程，查看在其运行时的环境变量：

```bash
cat /proc/$PID/environ
cat /proc/$PID/environ | tr '\0' '\n'	#格式化
```

