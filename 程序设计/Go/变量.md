# 变量

[TOC]

## 变量声明

```go
var v1 int
var v2 string
var v3 [10]int            // 数组
var v4 []int              // 数组切片
var v5 struct {
	f int
}
var v6 *int               // 指针
var v7 map[string]int     // map,key为string类型，value为int类型
var v8 func(a int) int

var (                     // 声明多个变量，只能声明全局变量
	v1 int
	v2 string
)
```

## 变量初始化

```go
var v1 int = 10
var v2 = 10
v3 := 10               //只能用在函数内部，不能用于函数外
```
变量会在声明时直接初始化。如果变量没有显式初始化，则被隐式地赋予其类型的*零值*（zero value），数值类型是0，字符串类型是空字符串"" 

## 匿名变量

在调用函数时为了获取一个值，但该函数返回多个值，不希望定义一堆没用的变量。eg:

```go
func GetName() (firstName,lastName,nickName string) {
	return "May", "Chan", "Chibi Maruko"
}
_, _, nickName := GetName()
```

## 类型

**布尔类型：**bool  

```go
true false
```

**整形：**  

| 类型        | 长度（字节） | 值范围                                   |
| ----------- | ------------ | ---------------------------------------- |
| int8        | 1            | -128~127                                 |
| uint8(byte) | 1            | 0~255                                    |
| int16       | 2            | -32768~32767                             |
| uint16      | 2            | 0~65535                                  |
| int32       | 4            | -2147483648~2147483647                   |
| uint32      | 4            | 0~4294967295                             |
| int64       | 8            | -9223372036854775808~9223372036854775807 |
| uint64      | 8            | 0~18446744073709551615                   |
| int         | 平台相关     | 平台相关                                 |
| uint        | 平台相关     | 平台相关                                 |
| uintptr     | 同指针       | 在32位平台下为4字节，64位平台下为8字节   |

**浮点类型：**float32,float64  

```go
import "match"
// p为用户自定义的比较精度，比如0.00001
func IsEqual(f1, f2, p float64) bool {
	return math.Fdim(f1, f2) <p
}
```

**复数类型：**complex64,complex128  
**字符串：**string  

 对string类型，`+`运算符连接字符串 

**字符类型：**rune  
**错误类型：**error  
**指针**  
**数组**  
**切片**  
**字典**  
**通道**  
**结构体**  
**接口**

# Go 语言数据类型

在 Go 编程语言中，数据类型用于声明函数和变量。

数据类型的出现是为了把数据分成所需内存大小不同的数据，编程的时候需要用大数据的时候才需要申请大内存，就可以充分利用内存。

Go 语言按类别有以下几种数据类型：

| 序号 | 类型和描述                                                   |
| ---- | ------------------------------------------------------------ |
| 1    | **布尔型** 布尔型的值只可以是常量 true 或者 false。一个简单的例子：var b bool = true。 |
| 2    | **数字类型** 整型 int 和浮点型 float32、float64，Go 语言支持整型和浮点型数字，并且支持复数，其中位的运算采用补码。 |
| 3    | **字符串类型:** 字符串就是一串固定长度的字符连接起来的字符序列。Go 的字符串是由单个字节连接起来的。Go 语言的字符串的字节使用 UTF-8 编码标识 Unicode 文本。 |
| 4    | **派生类型:** 包括： (a) 指针类型（Pointer）(b) 数组类型 (c) 结构化类型(struct) (d) Channel 类型 (e) 函数类型 (f) 切片类型 (g) 接口类型（interface） (h) Map 类型 |

------

## 数字类型

Go 也有基于架构的类型，例如：int、uint 和 uintptr。

| 序号 | 类型和描述                                                   |
| ---- | ------------------------------------------------------------ |
| 1    | **uint8** 无符号 8 位整型 (0 到 255)                         |
| 2    | **uint16** 无符号 16 位整型 (0 到 65535)                     |
| 3    | **uint32** 无符号 32 位整型 (0 到 4294967295)                |
| 4    | **uint64** 无符号 64 位整型 (0 到 18446744073709551615)      |
| 5    | **int8** 有符号 8 位整型 (-128 到 127)                       |
| 6    | **int16** 有符号 16 位整型 (-32768 到 32767)                 |
| 7    | **int32** 有符号 32 位整型 (-2147483648 到 2147483647)       |
| 8    | **int64** 有符号 64 位整型 (-9223372036854775808 到 9223372036854775807) |

### 浮点型

| 序号 | 类型和描述                        |
| ---- | --------------------------------- |
| 1    | **float32** IEEE-754 32位浮点型数 |
| 2    | **float64** IEEE-754 64位浮点型数 |
| 3    | **complex64** 32 位实数和虚数     |
| 4    | **complex128** 64 位实数和虚数    |

------

## 其他数字类型

以下列出了其他更多的数字类型：

| 序号 | 类型和描述                               |
| ---- | ---------------------------------------- |
| 1    | **byte** 类似 uint8                      |
| 2    | **rune** 类似 int32                      |
| 3    | **uint** 32 或 64 位                     |
| 4    | **int** 与 uint 一样大小                 |
| 5    | **uintptr** 无符号整型，用于存放一个指针 |