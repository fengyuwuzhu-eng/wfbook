# 常量

[TOC]

常量是一个简单值的标识符，在程序运行时，不会被修改的量。

常量中的数据类型只可以是布尔型、数字型（整数型、浮点型和复数）和字符串型。

## 定义常量

```go
//格式
const identifier [type] = value

//显式类型定义
const Pi float64 = 3.14159265358979323846

//隐式类型定义
const zero  = 0.0

const (
	size int64 = 1024
	eof = -1
)

const u, v float32 = 0, 3

const a, b, c = 3, 4, "foo"

//用作枚举
const (
    Unknown = 0
    Female = 1
    Male = 2
)

//常量可以用len(), cap(), unsafe.Sizeof()函数计算表达式的值。
//常量表达式中，函数必须是内置函数，否则编译不过.
const (
   a = "abc"
   b = len(a)
   c = unsafe.Sizeof(a)
)
```

## 预定义常量

### true

### false  

### iota

特殊常量，可以认为是一个可以被编译器修改的常量。

`iota` 在 `const` 关键字出现时将被重置为 `0` (const 内部的第一行之前)，在下一个`const`出现之前，`const` 中每新增一行常量声明，将使 `iota` 计数一次(iota 可理解为 const 语句块中的行索引)。

iota 可以被用作枚举值：

```go
const (
    a = iota
    b = iota
    c = iota
)
```

第一个 iota 等于 0，每当 iota 在新的一行被使用时，它的值都会自动加 1；所以 `a=0, b=1, c=2` 可以简写为如下形式：

```go
const (
    a = iota
    b
    c
)
```

实例1

```go
package main
import "fmt"

func main() {
   const (
       a = iota  //0
       b         //1
       c         //2
       d = "ha"  //独立值，iota += 1
       e         //"ha"  iota += 1
       f = 100   //iota +=1
       g         //100  iota +=1
       h = iota  //7,恢复计数
       i         //8
   )
   fmt.Println(a,b,c,d,e,f,g,h,i)
 }
```

以上实例运行结果为：

```go
0 1 2 ha ha 100 100 7 8
```

实例2

```go
package main
 
import "fmt"
const (
  i=1<<iota
  j=3<<iota
  k
  l
)
 
func main() {
  fmt.Println("i=",i)
  fmt.Println("j=",j)
  fmt.Println("k=",k)
  fmt.Println("l=",l)
}
```

以上实例运行结果为：

```go
i= 1
j= 6
k= 12
l= 24
```

* **i=1**：左移 0 位,不变仍为 1;
* **j=3**：左移 1 位,变为二进制 110, 即 6;
* **k=3**：左移 2 位,变为二进制 1100, 即 12;
* **l=3**：左移 3 位,变为二进制 11000,即 24。

注：`<<n==*(2^n)`。
