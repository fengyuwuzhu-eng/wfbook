
RF Signal Generator

This signal generator is intended for realignment of radio receivers. The unit is cheap and fairly basic, but perfectly adequate for its intended purpose. However, the output is not a pure sine wave, so the unit may not be suited for more exacting electronic development work.

This photo was kindly supplied by Richard Hanes. Richard added an extra frequency band (up to 30MHz) as detailed towards the end of this article.

The unit covers a frequency range of 150KHz to 12MHz over five ranges (shown below). It is therefore suited to the alignment of RF and IF sections of AM (MW and LW) sets, as well as the IF sections of FM (VHF) circuits. It may also be used for RF alignment of SW circuits from 25 to 49 metres.

Range


Frequency


Inductor Value

A


150KHz - 500KHz


2.2mH

B


350KHz - 1MHz


470uH

C


750KHz - 2.25MHz


100uH

D


1.6MHz - 5MHz


22uH

E


3.5MHz - 12MHz


4.7uH

The output may be amplitude modulated by an internal 800Hz audio tone (approx. 30% modulation) or by an external signal. The output level is adjustable in two ranges up to a maximum of about 4V pk-pk. The unit is mains powered.

Circuit Description

If the diagrams on this page are not clear enough, you can download higher resolution copies. See the foot of this page for details.

TR1 is a high gain FET (Field Effect Transistor) and is configured as a Colpitts style oscillator. The oscillation frequency is set by the variable capacitor (C1+C2) and the five pairs of switched inductors. There is significant overlap between the ranges, due to the limited range of readily available inductors. However even by using specially would inductors, four frequency bands would have been needed to cover the range.

Circuit Diagram

The RF output is buffered by TR2, which is configured as an emitter follower. The output signal is developed across R6, and passes to the output sockets via variable and switched attenuater circuits.

The signal is amplitude modulated by varying the supply voltage to the oscillator circuit. This is carried out by TR3, which is an emitter follower. C10 decouples the feed at RF.

It should be noted that this modulation method does cause a small amount of unwanted frequency modulation as well as the desired amplitude modulation. If the unit was being used for listening to music on a radio this could cause a slight shrillness to the sound. However the arrangement has the advantage that it does not distort the RF waveform, which is important for alignment. It is also simpler to implement and gives consistent results - important requirements for this sort of project. As with any design there are always better ways of doing things, but this would result in a more expensive design that was more difficult to construct, and would not offer any significant advantages in practice.

SW2 selects either the internal or an external modulation signal. If no modulation is required, the switch is set to the external position with no signal applied to SK3. To give reasonable modulation the external signal should be about 1.5V RMS (4V pk-pk). If a music signal is used, the bandwidth should not extend above about 8KHz due to the limits of AM broadcasting. C10 will roll-off the higher frequencies to some extent. The selected modulation signal is buffered by TR4 and made available on SK4. This is useful for triggering an oscilloscope.

TR5 is configured in an R-C oscillator circuit. The frequency is set by C15, C16, C17, R19, R20 and R21 to about 800Hz. If you wish to alter the frequency, note that altering the value of R19 will affect the biasing of the transistor. Any variations should be carried out by changing the values of the capacitors rather than the resistors. R14 and C13 act as a filter to remove any distortion on the output.

The circuit is powered from a regulated 15V supply, and consumes about 30mA. IC1 is a standard three-pin 100mA regulator, fed by the full-wave rectified supply from a small mains transformer.

Update

John Shepherd has built this project and made the following comments:

    I had to reduce the value of R18 to 180K to get it to oscillate reliably.
    
    Also is the value of C13 right at 22nF - seems a bit high and it attenuates the signal too much on my version.

The audio oscillator is quite particular about the types of capacitor used for C15, 16 and 17. I used ceramic discs - and with these 220K for R18 was fine. Maybe the resistor needs to be adjusted to suit the transistor used?

22nF is the value I used for C13 - it is intended to improve the waveshape and will attenuate the signal a bit.

Has anyone else had the same problems as John?

Construction

The prototype was constructed on a piece of plain matrix board. Stripboard is not suitable because of the capacitance between adjacent tracks. A PCB could be designed, but this should follow the same general layout as the matrix board.

Circuit Board and Wiring

In the diagram the components and wires on the top face of the board are shown in black, while the underside connections are grey. Much of the circuit board wiring can be carried out using the component leadout wires, with pieces of tinned copper wire added where these are not long enough.

Note that there is an error on the above diagram. TR2 should be shown as a D shaped package the same as the others (with the flat face towards TR1).

John Shepherd has designed a PCB for this project. The files are available to download from this website, the link is at the bottom of this page. Doug Baird added:

    On the PCB, there seems to be a pad missing for the pot that is at the front of the board. I am including a PCB that I did. Sorry about taking the audacity to use the one there, then modify it but I am sending it along as a gif attachment. Use it if you like.

Doug's PCB file is also available below.

The unit should be built into a suitable metal cabinet to give adequate screening. This should be earthed via the earth wire of three-core mains flex.

C1+C2 is a Jackson Type-O air spaced variable capacitor. This is the most expensive component in the unit, costing around Â£15. However valve radio enthusiasts should be able to salvage something suitable from a scrap set.

You may wish to arrange a suitable pointer and scale if you intend to calibrate the unit. A suitable ball reduction drive and pointer (also made by Jackson) are available from Maplin and other suppliers. Alternatively, you may be able to use the scale and pointer arrangement from a scrap set.

The inductors are mounted on the rear of the rotary switch as shown. This should be positioned close to the variable capacitor to keep the wire lengths to a minimum. In addition, the circuit board should be positioned to give a minimum wire length to the variable capacitor and switch.

Thanks to Gary Tempest for these comments:

    Built the sig gen. You might want to point out to others that coil positioning is critical. I used a sub-miniature switch and everthing very tight and short. NOT GOOD. The coils, even ones not in use, couple to those that are and 'pull' giving strange effects. Also, if the two coils for the highest frequency range are placed along side each other you only get about 10 MHz max. Move them apart by 10 mm and you get up to 12 MHz. Because positioning affects the calibration, before completing this I fixed coils and 'front end' wiring (tuning cap etc.) with clear silicon sealer.

Richard Hanes agrees:

    I would support Gary's comments. The coils need to be laid out radially from a standard size switch or there is all manner of interaction. Your diagram, while presumably intended to be pictorial, is close to the optimum physical!

The transformer should be mounted towards the back of the case, well away from the RF tuning components. If a transformer with flying leads is used, these may be joined to the mains flex with a choc-block connector.

It may be worth including the Audio Output Level Indicator (shown elsewhere on this web site) in the same case. The two units would generally be used together so this could be a useful combination.

Accurate Calibration

For accurate calibration, a frequency calibrator or accurate oscilloscope is required. The unit may be set for various frequencies and these should be marked on the scale. Mark the scale every 5KHz between 400 and 500KHz if possible, so that the AM IF frequency (typically 455KHz, 465KHz or 470KHz) may be accurately set. Also, make every 0.1MHz between 10.4MHz and 11MHz, to allow the FM IF of 10.7MHz to be accurately set.

Alternatively, a good quality Short Wave receiver with digital readout may be used. With the internal modulation switched on, connect the unit to the receiver aerial connection. Set the receiver to the required frequency and adjust the signal generator frequency until the tone is heard.

Alternative Calibration

If none of these items are available, you should be able to adjust part of the range with a normal broadcast radio, as described above. If you have a good quality Hi-Fi receiver with a digital readout this would be better, otherwise use a set where the calibration is known to be good.

If the receiver does not have an external aerial connection, connect a coil of a few turns of wire about 6" (150mm) in diameter to the signal generator output, and position this close to the receiver.

You should be able to pick up the third harmonic of the frequencies between the MW and LW bands, at the appropriate position on the MW band. Thus, you should be able to tune in the third harmonic of 400KHz at 1200KHz.

Between 450KHz and 480KHz you could hit the IF frequency of the radio. This is generally fairly obvious, as the radio's tuning control will have little effect. It is also possible for the unit to beat with the radio's local oscillator, so do not be too concerned if the results do not seem to make sense. If it does not seem to work properly, try using a different radio.

You will not be able to calibrate frequencies above the top of the MW band (about 1600KHz) by this method. However for most radio alignment work this will not be a problem.

For alignment of VHF sets you will need to know the position of the IF (10.7MHz). Connect the unit to the aerial of an FM radio, turn the modulation off and set the output level to maximum. Tune the set to a weaker station on FM, and then adjust the signal generator frequency around the top band. When the IF of the set (invariably 10.7MHz) is found the reception should become much weaker or disappear altogether. This works better with some radios than others - and is generally more effective on cheap transistor sets.

Parts List

Resistors (all 5% 0.25W or better)


Capacitors

R1


1K2


C1+C2


365pF + 365pF Variable

R2


47K


C3,6,7,9,11,12


100nF

R3,10,12


22K


C4,5


100pF

R4


10K


C8


100nF 160V

R5


2K2


C10


2.2nF

R6,13,17


470R


C13


22nF

R7


150R


C14


1uF

R8


1K0


C15,16,17


4.7nF

R9


68R


C18


100uF

R11,14


15K


C19


100nF

R15


100R


C20


1000uF

R16


4K7


R18


220K


Miscellaneous

R19,20,21


27K


SW1,2


SPDT Toggle or Slide Switch

VR1


1K0 Lin Pot


SW3+SW4


2 Pole 6 Way Rotary Switch (1 off)


X1


15-0-15V 100mA Transformer

Inductors


SK1,2,3,4,5


4mm Socket or Binding Post

L1,2


2.2mH


Metal case

L3,4


470uH


Plain matrix board

L5,6


100uH


Tinned copper wire

L7,8


22uH


Knobs

L9,10


4.7uH


Materials for pointer


Mains flex

Semiconductors


13A plug with 3A fuse

D1,2


1N4002


Choc-block connector

TR1


BF244A


TR2,3,4,5


BC548C


IC1


78L15


High resolution copies of the circuit and layout diagrams (in .GIF, CorelDRAW 7 and ISIS Lite formats) are available for download in a ZIP file. File size is 267K. To download a copy Click Here.

The artwork files for a PCB for this project, designed by John Shepherd (in .GIF and Ares Lite formats) are available for download in a ZIP file. File size is 25K. To download a copy Click Here.

A version of the PCB layout by Doug Baird, which includes a pad apparently missing on the above one, is available as a GIF file. To view and save a copy Click Here.

Note that ISIS Lite and ARES Lite are unlimited shareware products. The unregistered versions don't expire but do nag you about registering. Registration is about Â£30 for both products together, which adds extra features and removes the nagging. They are available from http://www.proteuslite.com.

Variations

Richard Hanes has constructed a version with an additional range covering 10-30MHz:

    The variable capacitor that I had to hand was only 275+275pF so I used twice your values for the lower ranges and added 1u0H for the top range. (I also used BF256A for the FET - my guess is that it makes little difference, but I don't have a BF244 to try). Values and frequencies covered are as follows:

4m7H 	140 - 350 KHz
1m0H 	300 - 800 KHz
220uH 	0.65 - 1.8 MHz
47uH 	1.5 - 4.6 MHz
10uH 	3.0 - 10.5 MHz
1u0H 	10 - 34 MHz

    I found that a 470K gate resistor (R2) gave more consistent levels across ranges (possibly associated with the higher impedance of my tuned components).
    
    I would support Gary's comments (as reproduced on the website). The coils need to be laid out radially from a standard size switch or there is all manner of interaction. Your diagram, while presumably intended to be pictorial, is close to the optimum physical! To get to 30+MHz the leads must be kept short and thick, as is usual at these frequencies. I found 18swg tinned copper supported the components nicely and worked well.
    
    The unit is built into a standard die-cast box about 7" x 5" x 2" with external plug-top psu (the latter being an oddball supplying 19VAC at 100mA).
    
    I have made some minor tweaks in the attenuator department to give me the ranges shown and to "peak" the response at the top end (as the level does otherwise fall several dBs up at 30MHz). Its not a precision generator, but it is excellent for the intended purpose and considering the cost!!!

The "oddball" power supply adaptor that Richard used probably originally belonged to a modem. Many Hayes modems, from the days when 28k was fast, came with AC adaptors producing around this voltage. The adaptors are still useful, but the modems aren't!

<- Previous

Projects Menu

Next ->

Home
This website, including all text and images not otherwise credited, is copyright Â© 1997 - 2006 Paul Stenning.
No part of this website may be reproduced in any form without prior written permission from Paul Stenning.
All details are believed to be accurate, but no liability can be accepted for any errors.
The types of equipment discussed on this website may contain high voltages and/or operate at high temperatures.
Appropriate precautions must always be taken to minimise the risk of accidents.
Last updated 14th April 2006.





ä½èï¼Pavinberg
é¾æ¥ï¼https://zhuanlan.zhihu.com/p/716963359
æ¥æºï¼ç¥ä¹
èä½æå½ä½èææãåä¸è½¬è½½è¯·èç³»ä½èè·å¾ææï¼éåä¸è½¬è½½è¯·æ³¨æåºå¤ã



èµ·å å°±æ¯æåç°å¤§é¨åäººå¯¹ SSH åªä¼åºæ¬ç ssh user@ip çæ¹å¼ç»å½æå¡å¨ï¼è³å¤åä¼ä¸ªéç½®åå¯ï¼èå¯¹ SSH config å ä¹ä¸äºè§£ãäºå®ä¸ SSH å¯ä»¥çµæ´»æ¹ééç½®æå¡å¨ä¿¡æ¯ï¼éç½®è·³æ¿ç­ç­ãæ¬æåªåæ®åä¸äºä½¿ç¨ç»èï¼å¸ææä¸å¤©å¤§å®¶é½çç»äº SSH configï¼ä»¥åæå°±å¯ä»¥ç´æ¥ç»å«äººåé SSH config éç½®é¡¹èä¸éè¦ä½ä»»ä½è§£éäºã

## SSH config

SSH config ä½ç¨å°±æ¯å¯ä»¥æ SSH ç¸å³çä¿¡æ¯é½è®°å½å°ä¸ä¸ªéç½®æä»¶ï¼å¯ä»¥ç®åæä½ãèçº¦æ¶é´ã

SSH config æä¸ä¸ªç³»ç»çº§çï¼ä¸ä¸ªç¨æ·çº§çãä¸è¬æ®éç¨æ·åªå³æ³¨ç¨æ·çº§çãæä»¶è·¯å¾ä¸º `~/.ssh/config` ã

### åºæ¬åæ³

ä¸è¬ä¸ä¸ªæå¡å¨åæä¸å°æ®µï¼å½¢å¦ï¼

```text
Host Server1
    Hostname 172.16.0.1
    User zhangsan
    Port 22
    ServerAliveInterval 180
    IdentityFile ~/.ssh/secret_key.pem
```

è¿æ®µçå«ä¹ä¸ºæä¸ä¸ªæå¡å¨ï¼

1. æä»¬ä¸ºå®èµ·äºä¸ªåå­å« Server1
2. å®ç IP æ¯ 172.16.0.1ï¼ä¹å¯ä»¥å¡« Hostnameï¼
3. æå¨ä¸é¢çç¨æ·åæ¯ zhangsan
4. SSH æå¡çå¬ç«¯å£å·ä¸º 22ï¼å³é»è®¤å¼ï¼ä¹å¯ä»¥ä¸åè¿ä¸è¡ï¼
5. ServerAliveInterval 180 è¡¨ç¤ºå¨å»ºç«è¿æ¥åï¼æ¯ 180 ç§å®¢æ·ç«¯ä¼åæå¡å¨åéä¸ä¸ªå¿è·³ï¼é¿åç¨æ·é¿æ¶é´æ²¡æä½è¿æ¥ä¸­æ­
6. æåä¸è¡è¡¨ç¤ºä½¿ç¨ä¸ä¸ªä¸ç¨çå¯é¥ï¼å¦ææ²¡æä¸ç¨çå¯é¥åå é¤è¯¥è¡å³å¯ã

ç»å½è¿å°æå¡å¨çè¯ï¼è¾å¥ï¼

```console
$ ssh Server1
```

æ·è´æä»¶ï¼åè¿æ¥å°±æ¯ä»æå¡å¨å¾æ¬å°ä¸è½½æä»¶ï¼ï¼

```console
$ scp /path/to/local/file Server1:/path/to/remote/
```

å¯ä»¥çå°ï¼è¿æ ·çå¥½å¤æï¼ï¼1ï¼ç®æ´ï¼ä¸éè¦è®°å¿ IP å°åãç«¯å£å·ãï¼2ï¼å¯ä»¥ä¿æè¿æ¥ã

éç½®åå¯ä¹ç¸åï¼è¾å¥ä»¥ä¸å½ä»¤å¹¶è¾å¥å¯ç ï¼

```console
$ ssh-copy-id Server1
```

### ééç¬¦

å¦ææä¸æ¹æå¡å¨é½æ¯ç¸åçéç½®ï¼æ´æ¯å¯ä»¥ç¨ééç¬¦ç»ä¸å¤çï¼

```text
Host Server*
    User zhangsan
    Port 22
    ServerAliveInterval 180

Host Server1
    Hostname 172.16.0.1

Host Server2
    Hostname 172.16.0.2

Host Server3
    Hostname 172.16.0.3
```

ç¸ä¿¡è¯»èå·²ç»çå°å¶ä¸­çå«ä¹ãç¬¬ä¸æ®µè¡¨ç¤ºææåå­ä¸º Server å¼å¤´çæå¡å¨ï¼ä»ä»¬çç¨æ·åé½æ¯ zhangsanï¼ç«¯å£é½æ¯ 22ï¼åæ¶é½æä¿æè¿æ¥çå¿è·³ãç¶åä¸é¢åäº 3 å°æå¡å¨ï¼æä»¬åªéè¦æå®å®ä»¬ç IP å°åã

### å¤æä»¶ç®¡ç

å¦æéè¦ç®¡çéå¸¸å¤çæå¡å¨ï¼å¨åå°ä¸ä¸ªæä»¶éä¼å¾ä¹±å¾é¾ç»´æ¤ï¼ä¹ä¸æ¹ä¾¿å±äº«ãäºå®ä¸ï¼`~/.ssh/config` ä¸­æ¯æå¼ç¨å¶å®æä»¶ãæä¸è¬ä¹ æ¯æ°å»ºä¸ä¸ªè¿æ ·çéç½® `~/.ssh/config-cluster-shanghai `ï¼å¨å¶ä¸­ç¼åç±»ä¼¼ä¸æçåå®¹ãç¶åå¨ `~/.ssh/config ` çå¼å¤´å å¥å¦ä¸ä¸è¡å³å¯ï¼

```text
Include config-cluster-shanghai
```

äºå®ä¸è¿éä¹å¯ä»¥ç¨ééç¬¦ï¼æ¯å¦ï¼

```text
Include config-*
```

è¿æ · `~/.ssh/` ç®å½ä¸çææ `config- ` å¼å¤´çæä»¶é½ä¼è¢«å¼ç¨å°ã

### è·³æ¿

 å¾å¤éç¾¤éè¦è·³æ¿æºæå¯ç»å½ï¼æä»¬éè¦åç»å½è·³æ¿æºï¼åä»è·³æ¿æºç»å½åé¨æºå¨ãè¿ä¼å¼å¥ä¸¤ä¸ªéº»ç¦ï¼ä¸æ¯ç»å½è¦ä¸¤æ¬¡ï¼å¦æéç½® SSH config è¿éè¦å¨è·³æ¿æºä¹éç½®ä¸ä»½å¿ï¼äºæ¯æ·è´æä»¶ååéº»ç¦ï¼è¦æ·è´ä¸¤æ¬¡ã

å¯¹æ­¤å¯ä»¥è¿æ ·åéç½®ï¼

```text
Host Jumper
    Hostname 1.2.3.4
    User zhangsan

Host Server*
    User zhangsan
    ProxyJump Jumper
    ServerAliveInterval 180

Host Server1
    Hostname 172.16.0.1

Host Server2
    Hostname 172.16.0.2
```

ç¬¬ä¸æ®µä¸ºè·³æ¿æºçç»å½æ¹å¼ï¼ç¬¬äºæ®µä¸­æ°å¢äºä¸ä¸ª ProxyJump å­æ®µï¼è¡¨ç¤ºææ Server å¼å¤´çæå¡å¨ï¼å¨ç»å½çæ¶åé½è¦ä» Jumper è¿ä¸ªæå¡å¨è·³è½¬ä¸ä¸ãè¿æ¶åæä»¬æ³ç»å½ 172.16.0.1ï¼åªéè¦ç´æ¥è¾å¥ï¼

```console
$ ssh Server1
$ scp /path/to/local/file Server1:/path/to/remote/
```

æ³¨æä¸ä¸ªç»èæ¯ï¼è¿ç§éç½®ä¸æä»¬æ¯ç´æ¥ä»æ¬å°ç»å½åé¨æå¡å¨ï¼æä»¥å¨éç½®åå¯æ¶ï¼æ¯éè¦ææ¬å°çå¬é¥æ¾å°åé¨æå¡å¨çã

## SCP æå¡å¨é´æ·è´æä»¶

scp çåºæ¬ç¨æ³ç¸ä¿¡å¤§å®¶é½ä¼ï¼ä¸æä¹å¤æ¬¡æå°ãä½å¦ææ³å¨ä¸¤å°æå¡å¨ä¹é´æ·è´æä»¶ï¼äºå®ä¸æ¯å¯ä»¥å¨æ¬å°æ§è¡ scp çï¼

```console
$ scp Server1:/path/to/file Server2:/path/to/file2
```

è¿ä¸ªå½ä»¤è¦æ± Server1 å¯ä»¥ç´æ¥è®¿é® Server2ãå¦æä¸æ»¡è¶³è¿ä¸ªæ¡ä»¶ï¼å¯ä»¥ç¨æ¬æºè½¬åï¼åªéè¦å¢å ä¸ä¸ªåæ° `-3`  è¡¨ç¤ºç¨æ¬å°æºå¨å½è½¬åæºï¼

```console
$ scp -3 Server1:/path/to/file Server2:/path/to/file2
```

------

æ ¹æ®è¯è®ºåºçä¸äºå¶å®å»ºè®®ï¼é¢å¤è¡¥åä¸¤ä¸ªå®ç¨è¾å©å·¥å·ï¼ä¸å¹¶æ¨èç»å¤§å®¶ã

## tssh

[tssh](https://link.zhihu.com/?target=https%3A//trzsz.github.io/ssh.html) å¯ä»¥çè§£ææ¯ OpenSSH çä¸ä¸ªåçº§çå®¢æ·ç«¯ãå®çä¸»è¦è½åæï¼

1. å¿«éå¨ SSH config éæç´¢æå¡å¨
2. æ´é«ææ¹ä¾¿å°ä¼ æä»¶
3. ä»¥ä¸ç§ç®åçå å¯æ¹å¼è®°ä½æå¡å¨å¯ç 

### åºæ¬ç¨æ³

å®è£æ¹å¼åè§[å®ç½](https://link.zhihu.com/?target=https%3A//trzsz.github.io/ssh.html)ï¼åºæ¬ä¸ä¸»æµåç®¡çå¨é½å¯ä»¥ç´æ¥å®è£ãå¨ä½¿ç¨æ¶ï¼ç´æ¥æ ssh æ¿æ¢æ tssh å³å¯ãå¨ä¸å æå¡å¨åå­ç´æ¥è¾å¥ tssh æ¶ï¼ä¼å¼¹åºæºå¨åè¡¨ï¼æä¸ "/" å¯ä»¥æç´¢ææ¬ï¼æ¯æ Vim é®ä½ï¼ï¼

![img](https://pica.zhimg.com/v2-a682c622a8eaa81b5141192363a11536_1440w.jpg)

### è®°ä½å¯ç 

å¶å°ä¼éå°æå¡å¨ä¸åè®¸ä½ æèªå·±çå¬é¥ä¸ä¼ ï¼è¿æ¶å¯ä»¥ä½¿ç¨è®°ä½å¯ç çåè½ãè¾å¥ä»¥ä¸å½ä»¤ï¼å¹¶è¾å¥å¯ç ï¼

```bash
$ tssh --enc-secret
Password or secret to be encoded: ***

Encoded secret for configuration: 7f28291d196d1955afa8f24a0395d8dbd3a3951fc7a79ba3ac681e5113825c
```

å°å®çæçè¿ä¸é¿ä¸² hash code ä¿å­å°ä½ ç SSH config ä¸­ï¼ä¾å¦ï¼å¦æå®æ¯ Server1 çå¯ç ï¼

```text
Host Server1
    Hostname 172.16.0.1
    User zhangsan
    #!! encPassword 7f28291d196d1955afa8f24a0395d8dbd3a3951fc7a79ba3ac681e5113825c
```

ææ #!! å¼å¤´çæ³¨éä¼è¢« tssh ç¹æ®å¤çï¼å®ä¼è¯»åå¶ä¸­çå­æ®µãè¿æ ·æä»¬å°±æ²¡æææä¿å­å¯ç ã**ä¸è¿è¿ä¸ªæ¹å¼æ¯å¯¹ç§°å å¯ï¼å®å¨æ§ç¸å¯¹ä½ï¼è¿æ¯å»ºè®®å¤§å®¶ä¼åç¨ SSH å¬é¥èä¸æ¯è¿ç§å¯¹ç§°å å¯ã**

åæ¶ï¼è®°å¾æ config æä»¶éç½®åççæéï¼

```bash
$ chmod 700 ~/.ssh && chmod 600 ~/.ssh/password ~/.ssh/config
```

### ä¼ è¾æä»¶

tssh æåºäº trzsz çæä»¶ä¼ è¾åè½ãè¿ä¸ªåè½éè¦æå¡å¨ä¸å®è£ trzszãtrzsz æå¤ç§è¯­è¨çå®ç°ï¼ä»¥ Go è¯­è¨å®ç°ççæ¬ä¸ºä¾ï¼å¯ä»¥åç§[å®ç½](https://link.zhihu.com/?target=https%3A//trzsz.github.io/go)ä¸­æç¤ºï¼ç´æ¥ç¨åç®¡çå¨å®è£ã

æ­¤å¤ï¼ä¸ç§æ¯è¾éç¨çæ¹å¼æ¯ç¨ release å®è£ï¼å¨ [GitHub Release](https://link.zhihu.com/?target=https%3A//github.com/trzsz/trzsz-go/releases) ä¸ä¸è½½åéå¹³å°ç release æä»¶å°æ¬å°ï¼ä¾å¦ [trzsz_1.1.8_linux_x86_64.tar.gz](https://link.zhihu.com/?target=https%3A//github.com/trzsz/trzsz-go/releases/download/v1.1.8/trzsz_1.1.8_linux_x86_64.tar.gz)  ï¼æ¾å°æ¬å°ä½ç½® `/path/to/trzsz_1.1.8_linux_x86_64.tar.gz`ã 

å¯¹æ³å®è£çæå¡å¨æ§è¡ä»¥ä¸å½ä»¤ï¼

```bash
$ tssh --install-trzsz --trzsz-bin-path /path/to/trzsz_1.1.8_linux_x86_64.tar.gz <host>
```

ä¾å¦æ³å¨ Server1 ä¸å®è£ï¼å°±æ§è¡ï¼

```bash
$ tssh --install-trzsz --trzsz-bin-path /path/to/trzsz_1.1.8_linux_x86_64.tar.gz Server1
```

å®ä¼å®è£ä¸¤ä¸ªå½ä»¤å°æå¡å¨ç `~/.local/bin/trz` å `~/.local/tsz` ãå¯ä»¥èèä¿®æ¹ç¯å¢åéä¾¿äºæ¹ä¾¿è°ç¨ï¼ä¾å¦å¦æä½ ä½¿ç¨ bashï¼

```bash
$ echo 'export PATH="$HOME/.local/bin:PATH"' >> ~/.bashrc
$ source ~/.bashrc
```

 å¦ææ³ä¸ä¼ æä»¶å°æå¡å¨ï¼å°±å¨æå¡å¨ä¸è¾å¥ `trz` ï¼éåä¼å¼¹åºä¸ä¸ªæä»¶ç®¡çå¨è®©ä½ éæä»¶ãæ³è¦ä¸è½½æä»¶å°±è¾å¥ `tsz <file on server>` ãï¼è®°ä½ä¸å®è¦ç¨ tssh ç»å½æå¡å¨æå¯ä»¥ä½¿ç¨è¿ä¸ªåè½ï¼ç´æ¥ ssh å°æå¡å¨ä¸ä¼ä¸å¯ç¨ï¼ã

## clustershell

æ³è¦æ¹éæä½æå¡å¨ï¼æ¯è¾ç»å¸çå·¥å·æ pssh å pdshï¼åæ¶ä¹æåè½å¼ºå¤§ç [Ansible](https://link.zhihu.com/?target=https%3A//www.ansible.com/)ãclustershell æ¯ææè¿ä½éªå¾å¥½çå·¥å·ï¼ç¸æ¯ pssh å pdsh çåè½æ´å å¼ºå¤§ï¼å·å¤æ¹é **interactive shellãéç¾¤åç»ãè¾åºèåãè¾åºå¯¹æ¯**ç­åè½ãç¸æ¯ Ansible é¨ç½²æ¹ä¾¿ï¼ä½¿ç¨ç®åï¼ç¨æ³å¥½è®°å¿ï¼æé¿äºå¨ãå æ­¤éå¸¸éåéç¾¤å¿«éæ¹éæä½ãéç¾¤æµè¯åä¸´æ¶ç»´æ¤ã

å®è£æ¹å¼è¯·åè[å®ç½](https://link.zhihu.com/?target=https%3A//clustershell.readthedocs.io/en/latest/install.html)ã

### å¿«ééç½®

ææ»ç»äºä¸ä¸ªç®åçä½¿ç¨æ¹å¼æ¯æå»ºä¸ä¸ªè¿æ ·çç®å½ï¼ä¾å¦æ¾å¨ `~/clustershell`ï¼

```text
clustershell
âââ groups.conf
âââ groups.d
    âââ servers.cfg
```

è®¾ç½®ç¯å¢åéï¼

```bash
$ echo 'export CLUSTERSHELL_CFGDIR=$HOME/clustershell"' >> ~/.bashrc
$ source ~/.bashrc
```

`groups.conf` ç¼åä»¥ä¸åå®¹ä¸ç¨å¨ï¼

```yaml
# ClusterShell node groups main configuration file
#
# Please see `man 5 groups.conf` and
# http://clustershell.readthedocs.org/en/latest/config.html#node-groups
# for further details.
#
# NOTE: This is a simple group configuration example file, not a
#       default config file. Please edit it to fit your own needs.
#
[Main]

# Default group source
default: servers

# Group source config directory list (space separated, use quotes if needed).
# Examples are provided. Copy them from *.conf.example to *.conf to enable.
#
# $CFGDIR is replaced by the highest priority config directory found.
# Default confdir value enables both system-wide and user configuration.
confdir: $CFGDIR/groups.conf.d

# New in 1.7, autodir defines a directory list (space separated, use quotes if
# needed) where group data files will be auto-loaded.
# Only *.yaml file are loaded. Copy *.yaml.example files to enable.
# Group data files avoid the need of external calls for static config files.
#
# $CFGDIR is replaced by the highest priority config directory found.
# Default autodir value enables both system-wide and user configuration.
autodir: $CFGDIR/groups.d

# Sections below also define group sources.
#
# NOTE: /etc/clustershell/groups is deprecated since version 1.7, thus if it
#       doesn't exist, the "local.cfg" file from autodir will be used.
#
# See the documentation for $CFGDIR, $SOURCE, $GROUP and $NODE upcall special
# variables. Please remember that they are substitued before the shell command
# is effectively executed.
#
[servers]
# flat file "group: nodeset" based group source using $CFGDIR/groups.d/servers.cfg
# with backward support for /etc/clustershell/groups
map: [ -f $CFGDIR/groups ] && f=$CFGDIR/groups || f=$CFGDIR/groups.d/servers.cfg; sed -n 's/^$GROUP:\(.*\)/\1/p' $f
all: [ -f $CFGDIR/groups ] && f=$CFGDIR/groups || f=$CFGDIR/groups.d/servers.cfg; sed -n 's/^all:\(.*\)/\1/p' $f
list: [ -f $CFGDIR/groups ] && f=$CFGDIR/groups || f=$CFGDIR/groups.d/servers.cfg; sed -n 's/^\([0-9A-Za-z_-]*\):.*/\1/p' $f
```

`groups.d/servers.conf` ç¼åï¼

```yaml
# ClusterShell groups config servers.cfg
#
# Replace /etc/clustershell/groups
#
# Note: file auto-loaded unless /etc/clustershell/groups is present
#
# See also groups.d/cluster.yaml.example for an example of multiple
# sources single flat file setup using YAML syntax.
#
# Feel free to edit to fit your needs.
all: 172.16.0.[1-8]
```

`all` å­æ®µååºä½ çæå¡å¨åè¡¨ï¼å¯ä»¥æ¯ IPãHostname æè SSH config ä¸­ç Host ä»£ç§°ã

 å¦ææå¡å¨å¾å¤ï¼IP æ è§å¾ï¼å¯ä»¥ä½¿ç¨ clustershell åèªå¸¦ç `cluset` å·¥å·å¸®å¿ãä¾å¦ä½ æä¸ä¸ª IP åè¡¨ï¼å°±å¯ä»¥è¾å¥ `cluset -f` ï¼ `-f` è¡¨ç¤º foldï¼æå  IP çææï¼ ï¼ç¶åä¸è¡ä¸è¡è¾å¥ IPï¼æ `Ctrl-D` ç»æãæèå¦æä½ æ IP ä¿å­å°äºä¸ä¸ªæä»¶ `iplist` ä¸­ï¼ä¹å¯ä»¥ï¼

```bash
$ cat iplist
172.16.0.1
172.16.0.2
172.16.0.3
172.16.0.4
$ cluset -f < iplist
172.16.0.[1-4]
```

### åºæ¬ä½¿ç¨ä¸æå¡å¨åç»

å¨ `groups.d/servers.cfg` ä¸­å¢å æ°çå­æ®µå³å¯ï¼

```yaml
# ...
all: 172.16.0.[1-8]
group1: 172.16.0.[1-4]
group2: 172.16.0.[5-8]
```

è¾å¥ä»¥ä¸å½ä»¤å¯¹ä¸åçæå¡å¨æä½ï¼

```bash
# å¯¹æææå¡å¨æä½
$ clush -a echo Hello

# å¯¹ group1 æä½
$ clush -g group1 echo Hello
```

### è¾åºèå

è¿ä¸ªåè½éå¸¸å®ç¨ãåªéè¦å ä¸ `-b` è¿ä¸ª flagï¼å°±ä¼èªå¨æè¾åºç¸åçæå¡å¨åå¹¶è¾åºï¼

```bash
$ clush -g group1 -b echo Hello
---------------
172.16.0.[1-4]
---------------
Hello
```

### Interactive Shell

ä¸å å·ä½çå½ä»¤æ¶ï¼å¯ä»¥è¿å¥ Interactive Shellï¼ä¾å¦ï¼

```bash
$ clush -g group1 -b
Enter 'quit' to leave this interactive mode
Working with nodes: 172.16.0.[1-4]
clush> 
```

ç¶åå°±å¯ä»¥å½ä¸ä¸ªæ­£å¸¸ç Shell ä½¿ç¨ãå¶ä¸­è¿æä¸äº[ç¹æ®å½ä»¤](https://link.zhihu.com/?target=https%3A//clustershell.readthedocs.io/en/latest/tools/clush.html%23single-character-interactive-commands)ï¼

![img](https://pic1.zhimg.com/v2-8dd304fb2d151f89af0733cbbc6f9510_1440w.jpg)

### ä¸´æ¶ä½¿ç¨é¨åèç¹

```bash
$ clush -w 172.16.0.[2-5] -b echo Hello
```

### è¾åº diff

```bash
$ clush -w 172.16.0.[2-5] --diff ls
```

### æä»¶åååæ¶é

[åå](https://link.zhihu.com/?target=https%3A//clustershell.readthedocs.io/en/latest/tools/clush.html%23file-copying-mode)æä»¶ï¼`-v` è¡¨ç¤º verboseï¼å¤è¾åºä¸äºæ¥å¿ï¼ï¼åªæä¸ä¸ªè·¯å¾æ¶ï¼ä¼ååå°æææºå¨çç¸åè·¯å¾ï¼

```bash
$ clush -v -w 172.16.0.[2-5] --copy /tmp/foo
$ clush -v -w 172.16.0.[2-5] --copy /tmp/foo /tmp/bar
```

[æ¶é](https://link.zhihu.com/?target=https%3A//clustershell.readthedocs.io/en/latest/tools/clush.html%23reverse-file-copying-mode)æä»¶ï¼ä¼èªå¨æ·»å åç¼ï¼

```bash
$ clush -v -w 172.16.0.[2-5] --rcopy /tmp/foo
$ ls /tmp/foo.*
/tmp/foo.172.16.0.2 /tmp/foo.172.16.0.3 /tmp/foo.172.16.0.4 /tmp/foo.172.16.0.5
```



## [æDDRå¿æçå³é®ææ¯ç¬è®°ï¼æ·±å¥æ¢ç©¶DDRç©çç»æ](https://zhuanlan.zhihu.com/p/713042976)

[![now](https://picx.zhimg.com/50/v2-7f38a1ce02c863f41d703d90cf3dcfd7_l.jpg?source=b6762063)](https://www.zhihu.com/people/now-88-1)

[now](https://www.zhihu.com/people/now-88-1)

å¥æ³

128 äººèµåäºè¯¥æç« 

## **å¼è¨**

è¿ç¯æç« çç®çå°±æ¯æ¥ççè¯ççç©çç»æï¼æ¿LPDDR5ä¸¾ä¾ã

éè¿éæ­¥æ·±å¥æ¢è®¨LPDDR5åå­ç**ç©çç»æ**ï¼å°æç« ç»ææ¶ï¼æ¨å°æ¸æ°äºè§£ä¸LPDDR5åå­ç¸å³çå³é®æ¯è¯­ï¼åæ¬ï¼

- LPDDR5 IOsï¼å½ä»¤æ»çº¿ï¼CAï¼ãæ°æ®æ»çº¿ï¼DQ/DQSï¼ãè¯çéæ©ï¼CSï¼ãæ¶éï¼CKï¼
   
- BankåBankç»æ¶æ
   
- Rankåé¡µé¢å¤§å°
   
- LPDDR5åå­éé
   
- x16/x32/x64å®½åº¦çè§£é
   

æä»¬å°ä»åä¸ªDRAMå­å¨ååå¼å§ï¼éæ­¥æ¢ç´¢å®æ¯å¦ä½ææçæ¥å¨PCBä¸çå®æ´åå­å°è£çã

![img](https://picx.zhimg.com/v2-9423ab1f90ddb0e5c952fd9d48c808d9_1440w.jpg)

å¾0ï¼ä»å­å¨ååå°å­å¨å°è£

## **LPDDR5åå­è¯ç**

### **åä¸ªå­å¨åå**



![img](https://pic1.zhimg.com/v2-a4c127902462d846b2d3a30512c25fb6_1440w.jpg)

 å¨æåºå±ï¼ä¸ä¸ªä½æ¬è´¨ä¸æ¯ä¸ä¸ªçµå®¹å¨ï¼ç¨äºå­å¨çµè·ï¼èæ¶ä½ç®¡åä½ä¸ºå¼å³ãç±äºçµå®¹å¨ä¼éæ¶é´æ¾çµï¼ä¿¡æ¯æç»ä¼æ¶å¤±ï¼é¤éçµå®¹å¨è¢«å®æâå·æ°âã

>  è¿å°±æ¯DRAMä¸­âDâçæ¥æºââå®æçæ¯âå¨æâï¼ä¸SRAMä¸­çâéæâç¸å¯¹åºã
>  

![img](https://pic3.zhimg.com/v2-37c5f61d2cce5c9b18ddc42e9a765e88_1440w.jpg)

### **Bank, Rows and Columns**



![img](https://pic3.zhimg.com/v2-abc8954059de50094f2a7dbae6dee5ec_1440w.jpg)

 å½ä½ æ¾å¤§ä¸çº§è§å¾æ¶ï¼ä½ ä¼æ³¨æå°å­å¨ååè¢«æåæè¡ååçç½æ ¼ç¶ã

**è¿æ ·çå­å¨ååç½æ ¼è¢«ç§°ä¸ºä¸ä¸ªBank**ãBankè¿æä¸ä¸ªç»æå«åææµæ¾å¤§å¨ï¼Sense Ampsï¼ã

å¨è¯»æä½æé´ï¼é¦åä¼æ¿æ´»ä¸è¡å¹¶å°å¶å è½½å°ææµæ¾å¤§å¨ä¸­ã

>  ä¹åè®²è¿å¦ï¼
>  

- **[æDDRï¼ä½ å¿é¡»å¾ççæçè¿ç¯ç¬è®°](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzUyOTY5NzkwNg%3D%3D%26mid%3D2247499905%26idx%3D1%26sn%3D0ff71ca88db96df46cd7737cfe879c1c%26chksm%3Dfa5f9d9ccd28148a949b406e9a8e7b09c7798d2e61d7b3ef25d0b66fdd2192abb9143ec2ec26%26payreadticket%3DHHmEk1v_ke3WLiL9zTAMF4zQb7El4fLiqNNv70LRP0Fnhhx3QJjNGPMPBeIAhAwvGmwiypE%23rd)**

ç¶åï¼ä½¿ç¨åå°åæ¥è¯»åç¸åºçåä½ã

å¨LPDDR5ä¸­ï¼

- æ¯ä¸ªBankçä¸è¡åå«1KBï¼8192ä½ï¼çæ°æ®ã
   
- æ¯è¡ä¸­çè¿1KBæ°æ®è¢«æåæ64åï¼æ¯å128ä½ã[64 x 128ä½ = 8192ä½]
   
- å æ­¤ï¼æ¯æ¬¡è¯»/åè®¿é®é½ä¼æå®ä¸ä¸ªè¡å°ååä¸ä¸ªåå°åï¼Bankä¼è¿å128ä½çæ°æ®ãè¿ä¸ªæ°å­å¾éè¦ï¼æä»¬å°å¨ä¸ä¸èä¸­åæ¬¡æåå®ã
   

![img](https://pic3.zhimg.com/v2-1bba48fd69dacc79303293b002594e1a_1440w.jpg)

å¾2ï¼å­å¨å¨éµå

### **LPDDR5 Bankæ¶æ**



![img](https://pic4.zhimg.com/v2-687e9800458c5c0170bfae83608dc587_1440w.jpg)

 åæ¾å¤§ä¸çº§è§å¾ï¼æ¯ä¸ªLPDDR5è¯çé½æ32ä¸ªè¿æ ·çBankåãè¿32ä¸ªåå¯ä»¥ä»¥3ç§ä¸åçéç½®è¿è¡æåã

- Bankç»æ¨¡å¼

**ä¹ç§°ä¸ºBGæ¨¡å¼**ãå¨è¿éï¼32ä¸ªBankåè¢«ç»ç»æ2ç»ï¼æ¯ç»4ä¸ªBankç»ï¼æ¯ä¸ªBankç»åå«4ä¸ªBankã[2x4x4=32]ã

å¨ä¸é¢çå¾3ä¸­ï¼è¯·æ³¨æYè½´ä¸çBG0ã1ã2ã3åXè½´ä¸çBank0ã1ã2ã3ã å¨è¯»/åæä½æé´ï¼æä¾çBankå°åä¼æ¿æ´»2ä¸ªBankï¼å¹¶è®¿é®æ»å±256ä½çæ°æ®ï¼è¯·è®°ä½ï¼æ¯ä¸ªè¡ååå°åå¨ä¸ä¸ªBankåè®¿é®128ä½çæ°æ®ï¼ã

>  è®°å¾ä¹åæä»¬è®²è¿é£ä¸ªå¯»åçè·¯çº¿æ²¡ï¼ä¸å±å¤å°ä¸ªçº¿ï¼ç¶åä¸æ­å°åéæ»çº¿æ°éãç¨æ¥åçéã
>  

- 16 Bankæ¨¡å¼

å¨æ­¤æ¨¡å¼ä¸ï¼32ä¸ªBankåè¢«ç»ç»æ2ç»ï¼æ¯ç»16ä¸ªBankã[2 x 16 = 32]ã

æ­¤æ¨¡å¼ä¸Bankç»æ¨¡å¼ä¹é´çåºå«å¨äºï¼è®¿é®Bankçæ¶åºåæ°å¨è¿ä¸¤ç§æ¨¡å¼ä¹é´æ¯ä¸åçã

æ¨ç¨åä¼çå°ï¼16 Bankæ¨¡å¼åªè½å¨ä½äº3200 Mbpsçéåº¦ä¸è¿è¡ï¼èBGæ¨¡å¼åå¨å¤§äº3200 Mbpsçéåº¦ä¸è¿è¡ã

- 8 Bankæ¨¡å¼ å¨è¿éï¼32ä¸ªBankåè¢«ç»ç»æ4ç»ï¼æ¯ç»8ä¸ªBankã[4 x 8 = 32]ãå æ­¤ï¼å¨è¯»/åæä½æé´ï¼æä¾çBankå°åä¼æ¿æ´»4ä¸ªBankï¼å¹¶è®¿é®æ»å±512ä½çæ°æ®ã

![img](https://pic1.zhimg.com/v2-68e6afb7baf8834e6c49169864969a68_1440w.jpg)

å¾3ï¼LPDDR5 Bankæ¶æ

>  é£ä¸ºä»ä¹æ3ç§Bankæ¨¡å¼èä¸æ¯åªæä¸ç§ï¼ 
>  

LPDDR5æä¾å¤ç§Bankæ¨¡å¼ä»¥éåºä¸åçæä½éåº¦ï¼å¦3200Mbpsã5400Mbpsã6400Mbpsç­ï¼åä¸åçæ°æ®è®¿é®å®½åº¦ï¼256ä½å512ä½ï¼ã**Bankæ¨¡å¼çéæ©æ¯å¨åå§åæé´éè¿å¨æ¨¡å¼å¯å­å¨MR3ä¸­è®¾ç½®ä¸ä¸ªåæ°æ¥å®æç**ï¼é»è®¤è®¾ç½®æ¯16 Bankæ¨¡å¼ï¼ã

å æ­¤ï¼æ¨éæ©åªç§éç½®åå³äºä¸¤ä¸ªå ç´ ï¼

1. éåº¦ç­çº§ - å­å¨å¨ä»¥ä»ä¹éåº¦è¿è¡ï¼

1. åççªåé¿åº¦ - æ¯æ¬¡æä½æ¨æ³è¦è¯»å/åå¥å¤å°ä½æ°æ®ï¼

è®©æä»¬è¯¦ç»ççè¿äºã

>  éåº¦ç­çº§
>  

- å¦æå­å¨å¨ä»¥> 3200Mb/sçéåº¦è¿è¡ï¼ååªè½ä½¿ç¨Bankç»æ¨¡å¼ã
- å¦æå­å¨å¨ä»¥<= 3200Mb/sçéåº¦è¿è¡ï¼ååªè½ä½¿ç¨16 Bankæ¨¡å¼ã
- 8 Bankæ¨¡å¼å¯ä»¥å¨ææéåº¦ä¸è®¿é®ã

>   æçæ¯å¨åæ¬¡çªåä¼ è¾ä¸­è½å¤è¿ç»­ä¼ è¾çæ°æ®ååï¼å¦å­èæå­ï¼çæ°éãè¿ä¸ªåæ°å¯¹äºæé«æ°æ®ä¼ è¾æçåæ§è½è³å³éè¦ãå·ä½æ¥è¯´ï¼åççªåé¿åº¦å®ä¹äºå¨ä¸ä¸ªçªåä¼ è¾å¨æåï¼åå­è½å¤è¿ç»­ãæ ä¸­æ­å°å¤ççæ°æ®éã  å½è¿è¡çªåä¼ è¾æ¶ï¼åªè¦æå®äºèµ·å§å°ååçªåé¿åº¦ï¼åå­å°±ä¼ä¾æ¬¡èªå¨å¯¹åç»­çç¸åºæ°éçå­å¨ååè¿è¡è¯»/åæä½ï¼èæ éæ§å¶å¨å¨æ¯ä¸ªæ°æ®ååä¼ è¾ä¹é´éæ°æå®å°åãè¿ç§æ¹å¼åå°äºå°åä¿¡å·çå¼éï¼ä»èæé«äºæ°æ®ä¼ è¾çéçåæçã  å¨LPDDR5ç­é«éåå­æ åä¸­ï¼åççªåé¿åº¦çå·ä½å¼åå³äºåå­çè®¾è®¡è§æ ¼åæ§è½è¦æ±ãè¾é¿ççªåé¿åº¦å¯ä»¥å¨åä¸ªä¼ è¾å¨æåå¤çæ´å¤çæ°æ®ï¼ä»èæé«æ°æ®ä¼ è¾çååéï¼èè¾ç­ççªåé¿åº¦åå¯è½æ´éåäºå¯¹åèæä¸¥æ ¼è¦æ±çåºç¨åºæ¯ã æ­¤å¤ï¼åççªåé¿åº¦è¿ä¸åå­çå¶ä»åæ°ï¼å¦çªåå¤§å°ãæ»çº¿å®½åº¦ç­ï¼å¯åç¸å³ãè¿äºåæ°å±åå³å®äºåå­çæ°æ®ä¼ è¾æ§è½åæçã
>  

------

>  åççªåé¿åº¦
>  

- å¨**16 Bankæ¨¡å¼**å**Bankç»æ¨¡å¼**ä¸ï¼ä¸æ¬¡è¯»æä½ä¼å¹¶è¡æ¿æ´»2ä¸ªBankï¼å¹¶è®¿é®256ä½çæ°æ®ï¼è¯·è®°ä½ï¼æ¯ä¸ªBankè¿å128ä½çæ°æ®ï¼ãå¨LPDDR5ä¸­ï¼æ°æ®æ»çº¿å®½åº¦ä¸º16ä½ï¼DQ[15:0]ï¼ãå æ­¤ï¼è¿256ä½çæ°æ®éåä¼ä»¥16ä¸ªæ°æ®åçå½¢å¼çªåä¼ è¾åºæ¥ï¼æ¯ä¸ªæ°æ®ååå«16ä½æ°æ®ï¼16x16=256ï¼ãè¿ä¹è¢«ç§°ä¸ºBL16æçªåé¿åº¦16ã
   
- å¨8 Bankæ¨¡å¼ä¸ï¼å¦å¾3æç¤ºï¼æ¯æ¬¡è¯»/åæä½ä¼æ¿æ´»4ä¸ªBankï¼å¹¶æ»å±è·å512ä½çæ°æ®ãè¿äºæ°æ®éåä¼ä»¥32ä¸ªèæçå½¢å¼çªåä¼ è¾åºæ¥ï¼æ¯ä¸ªèæåå«16ä½æ°æ®ï¼32x16=512ï¼ãè¿è¢«ç§°ä¸ºçªåé¿åº¦32ã
   

>  ç¤ºä¾ï¼å¦ææ¨çç³»ç»è®¾è®¡ä¸ºä»¥6400Mb/sçéåº¦è¿è¡ï¼è¿æ¯LPDDR5æ¯æçæé«éåº¦ï¼ï¼å¹¶ä¸æ¨éè¦ä»¥256ä½ä¸ºåä½çæ°æ®è®¿é®ï¼é£ä¹æ¨ä¼éæ©Bankç»æ¨¡å¼ã
>  
>  **Note**ï¼å¨Bankç»æ¨¡å¼ä¸ï¼æ¨ä¹å¯ä»¥å®ç°BL32ï¼çªåé¿åº¦32ï¼ï¼ä½è¿ç¨å¾®å¤æä¸äºï¼å¹¶ä¸ä¼å¯¹æ°æ®è¿è¡ä¸äºäº¤ç»å¤çãå¦ææ¨æ³è¦çªåé¿åº¦ä¸º32ï¼é£ä¹ç´æ¥ä½¿ç¨8 Bankæ¨¡å¼ä¼æ´å¥½ã
>  

### **é¡µå¤§å°ï¼Page Sizeï¼**

**é¡µå¤§å°æ¯æå½ä¸è¡è¢«æ¿æ´»æ¶ï¼å è½½å°ææµæ¾å¤§å¨ä¸­çä½æ°ã**

- å¨16 Bankæ¨¡å¼åBankç»æ¨¡å¼ä¸ï¼é¡µå¤§å°ä¸º2KBã
- å¨8 Bankæ¨¡å¼ä¸ï¼é¡µå¤§å°ä¸º4KBã

>  æä»¬æ¯å¦ä½å¾åºè¿äºæ°å­çï¼
>  

å¨å¾2ä¸­ï¼æä»¬çå°Bankä¸­ç**æ¯ä¸è¡å­å¨1KBçæ°æ®**ï¼ä»¥64åãæ¯å128ä½çæ¹å¼æåï¼ï¼

![img](https://pic3.zhimg.com/v2-1bba48fd69dacc79303293b002594e1a_1440w.jpg)

å¾2ï¼å­å¨å¨éµå

å¹¶ä¸ï¼ä»å¾3ä¸­æä»¬å¯ä»¥çå°ï¼å¨16 Bankæ¨¡å¼åBankç»æ¨¡å¼ä¸ï¼**ä¸¤è¡ä¼åæ¶è¢«æ¿æ´»ä»¥æ»å±è·å256ä½çæ°æ®**ãå æ­¤ï¼ä»åå­è¯ççè§åº¦æ¥çï¼**ä¸¤è¡è¢«æ¿æ´»ï¼æä»¥æ»é¡µå¤§å°ä¸º2x1KB = 2KBã**

ç±æ­¤æ¨æ­ï¼**å¨8 Bankæ¨¡å¼ä¸ï¼ä¸æ¬¡è®¿é®ä¼æ¿æ´»4ä¸ªBankï¼å æ­¤é¡µå¤§å°ä¸º4KB**ã

### **å¯åº¦**

å°ç®åä¸ºæ­¢ï¼æä»¬å·²ç»è®¨è®ºäºLPDDR5åå­è¯ççç©çç»æï¼**ä½æ¯åå­è¯ççå®¹éæ¯å¤å°ï¼å®è½å­å¨å¤å°ä½æ°æ®å¢ï¼**

LPDDR5åå­è¯çæ¯æç§ç¹å®çå®¹éå¶é çï¼ä»JEDECè§èä¸­æå®ç2Gbå°32Gbä¸ç­ã

ä¸ä¸ª2Gbå®¹éçè¯çåä¸ä¸ª32Gbå®¹éçè¯çä¹é´ç**ä¸»è¦åºå«å¨äºæ¯ä¸ªBankä¸­çè¡æ°**ã

ä¸è¡¨æ¾ç¤ºäºä»¥Bankç»æ¨¡å¼ï¼BGæ¨¡å¼ï¼è¿è¡çåå­æéçå°åä½æ°ã

>  è¡¨1ï¼x16 DQ æ¨¡å¼å¯»å
>  

| Memory Density    | 2Gb     | 8Gb     | 16Gb    | 32Gb    |
| ----------------- | ------- | ------- | ------- | ------- |
| Number of Rows    | 8192    | 32,768  | 65,536  | 131,072 |
| Number of Cols    | 64      | 64      | 64      | 64      |
| Row Address Bits  | R0-R12  | R0-R14  | R0-R15  | R0-R16  |
| Col Address Bits  | C0-C5   | C0-C5   | C0-C5   | C0-C5   |
| Bank Address Bits | BA0-BA1 | BA0-BA1 | BA0-BA1 | BA0-BA1 |
| BG Address Bits   | BG0-BG1 | BA0-BA1 | BA0-BA1 | BA0-BA1 |
| Page Size         | 2KB     | 2KB     | 2KB     | 2KB     |
| Array Pre-Fetch   | 256b    | 256b    | 256b    | 256b    |

**è®¡ç®ä¸ä¸ª2Gbè¯ççæ»å¯åº¦ï¼**

>  4 (BG) x 4 (Banks) x 8192 (rows) x 64 (cols) x 256b (each col) = 2,147,483,648 = 2Gb
>  

åç»ä½ æ´ä¸ªå¾æ¾è¿éï¼

![img](https://pic4.zhimg.com/v2-687e9800458c5c0170bfae83608dc587_1440w.jpg)

![img](https://pic3.zhimg.com/v2-fae075e7312016f1746099e9eeba49c0_1440w.jpg)

## **è¯´è¯´åæ°**

DRAMè¯çç¸å½äºä¸æ è£æ»¡æä»¶æçå¤§æ¥¼

- Bankç»ï¼Bank Groupï¼ç¸å½äºæ¥¼å±å·ï¼ç¨äºè¯å«ä½ éè¦çæä»¶æå¨çæ¥¼å±
   
- Bankå°åï¼Bank Addressï¼ç¸å½äºæ¥¼å±åçæä»¶æç¼å·ï¼ç¨äºè¯å«ä½ éè¦çæä»¶æå¨çå·ä½æä»¶æ
   
- è¡å°åï¼Row Addressï¼ç¸å½äºæä»¶æä¸­çæ½å±ç¼å·ï¼ç¨äºè¯å«æä»¶æå¨çå·ä½æ½å±ãå°æ°æ®è¯»åå°ææµæ¾å¤§å¨ï¼Sense Amplifiersï¼ä¸­ç¸å½äºæå¼/æ½åºæä»¶æ½å±ã
   
- åå°åï¼Col Addressï¼ç¸å½äºæ½å±åæä»¶çç¼å·ï¼ç¨äºè¯å«æ½å±åå·ä½æä»¶çç¼å·ã
   
- å½ä½ æ³è¯»åå¦ä¸è¡æ°æ®æ¶ï¼ä½ éè¦åå°å½åæä»¶æ¾åæ½å±å¹¶å³é­å®ï¼ç¶ååæå¼ä¸ä¸ä¸ªæ½å±ãè¿ç¸å½äºé¢åçµï¼PRECHARGEï¼æä½ã
   

## **x8 DQ æ¨¡å¼**

LPDDR5 æ¥å£æ 16 ä¸ª DQï¼æ°æ®ï¼å¼èãå æ­¤ï¼é»è®¤æåµä¸ï¼åå­ä»¥æè°ç x16 DQ æ¨¡å¼è¿è¡ã

ä½æ¯ï¼ä½ å¯ä»¥ç¦ç¨ 8 ä¸ª DQ å¼èï¼å¹¶å°åå­ç½®äº x8 DQ æ¨¡å¼ã

å¨è¿ç§æ¨¡å¼ä¸ï¼å¨ä¸æ¬¡è¯»æåè®¿é®æé´ï¼åªæä¸ä¸ª Bank è¢«æ¿æ´»ï¼èä¸æ¯ 2 ä¸ªï¼ãä½ä¸ºåæ¥ï¼ä½ å¾å°çæ¯ä¸ä¸ªå®¹éæ´å¤§çåå­ï¼å³ä¸ x16 æ¨¡å¼ç¸æ¯ï¼æ¯ä¸ª Bank çèµ·æ¥çè¡æ°æ¯ x16 æ¨¡å¼çä¸¤åãï¼æä»¬å°è®¿é®å®½åº¦ååï¼å æ­¤ï¼æ­£å¦ä½ æææçï¼æ·±åº¦å åãï¼

------

>  æåè§£éä¸ä¸è¿ä¸ª âå®¹éæ´å¤§â
>  

å¨LPDDR5æå¶ä»DRAMææ¯ä¸­ï¼å°æ¥å£ä»x16 DQæ¨¡å¼åæ¢å°x8  DQæ¨¡å¼å®éä¸å¹¶ä¸ç´æ¥å¢å ç©çä¸çå­å¨å®¹éï¼å³è¯çä¸å­å¨ååçæ»æ°ï¼ãç¶èï¼ä»é»è¾åè®¿é®æççè§åº¦æ¥çï¼å®ç»äººä¸ç§âå®¹éæ´å¤§âçéè§ï¼è¿ä¸»è¦æ¯å ä¸ºæ¹åäºæ°æ®è®¿é®çæ¹å¼åBankçå©ç¨çã

å·ä½æ¥è¯´ï¼å½å¨x16  DQæ¨¡å¼ä¸å·¥ä½æ¶ï¼åå­æ¥å£å¯ä»¥å¹¶è¡å¤çæ´å¤çæ°æ®ï¼å ä¸ºæä¸¤ä¸ªBankå¯ä»¥åæ¶è¢«æ¿æ´»ï¼å¹¶ä¸æ¯ä¸ªBankçè®¿é®å®½åº¦æ¯16ä½ï¼ï¼è¿æé«äºæ°æ®ä¼ è¾çååéãä½æ¯ï¼å¨x8 DQæ¨¡å¼ä¸ï¼è½ç¶ä¸æ¬¡åªè½æ¿æ´»ä¸ä¸ªBankï¼å¹¶ä¸è®¿é®å®½åº¦ååï¼æ¯ä¸ªBankçè®¿é®å®½åº¦ç°å¨æ¯8ä½ï¼ï¼ä½è¿åè®¸å¨é»è¾ä¸æ´æ·±å¥å°è®¿é®åå­ã

è¿éçâå®¹éæ´å¤§âä¸»è¦ä½ç°å¨ä»¥ä¸å ä¸ªæ¹é¢ï¼

1. **æ´æ·±çRowå¯»åç©ºé´**ï¼ç±äºä¸æ¬¡åªè½æ¿æ´»ä¸ä¸ªBankï¼å¹¶ä¸è®¿é®å®½åº¦ååï¼å æ­¤æ¯ä¸ªBankå¨é»è¾ä¸çèµ·æ¥åæ¯æ¥ææ´å¤çRowãè¿æ¯å ä¸ºå½è®¿é®å®½åº¦åå°æ¶ï¼ä¸ºäºä¿æç¸åçæ»æ°æ®ä¼ è¾éçï¼éè¦è®¿é®æ´å¤çRowæ¥å¡«åæ°æ®ééãè¿å¹¶ä¸æå³çç©çä¸å¢å äºRowçæ°éï¼èæ¯æ¹åäºæ°æ®è®¿é®çç²åº¦ã
    
2. **Bankå©ç¨ç**ï¼å¨x16 DQæ¨¡å¼ä¸ï¼ä¸¤ä¸ªBankå¯ä»¥åæ¶è¢«æ¿æ´»ï¼è¿å¯è½å¯¼è´å¨æäºæåµä¸ï¼ä¸ä¸ªBankå¨ç­å¾å¦ä¸ä¸ªBankå®ææä½æ¶è¢«é²ç½®ãèå¨x8 DQæ¨¡å¼ä¸ï¼è½ç¶çºç²äºå¹¶è¡æ§ï¼ä½ç¡®ä¿äºæ¯æ¬¡åªæä¸ä¸ªBankè¢«å®å¨å©ç¨ï¼ä»èå¯è½æé«äºæäºç¹å®å·¥ä½è´è½½ä¸çæ´ä½æçã
    
3. **çµæ´»æ§åä¼å**ï¼å¨æäºåºç¨åºæ¯ä¸­ï¼æ¯å¦å¯¹å»¶è¿ææçåºç¨ï¼åå°å¹¶è¡æ§åå¢å æ·±åº¦å¯è½æ¯ä¸ä¸ªæå©çæè¡¡ãè¿æ¯å ä¸ºè¾æ·±çRowå¯»åç©ºé´å¯ä»¥åå°PRECHARGEåACTIVATEå½ä»¤çé¢çï¼è¿äºå½ä»¤å¨DRAMæä½ä¸­å¯è½ä¼å¼å¥ç¸å¯¹è¾é¿çå»¶è¿ã
    

![img](https://pic3.zhimg.com/v2-b99b404c3ed7734b2fe90a597ef6459e_1440w.jpg)

å¾å: x8 DQ Mode

>  è¡¨2ï¼x8 DQ æ¨¡å¼å¯»å
>  

| Memory Density    | 2Gb     | 8Gb     | 16Gb    | 32Gb    |
| ----------------- | ------- | ------- | ------- | ------- |
| Number of Rows    | 16,384  | 65,536  | 131,072 | 262,144 |
| Number of Cols    | 64      | 64      | 64      | 64      |
| Row Address Bits  | R0-R13  | R0-R15  | R0-R16  | R0-R17  |
| Col Address Bits  | C0-C5   | C0-C5   | C0-C5   | C0-C5   |
| Bank Address Bits | BA0-BA1 | BA0-BA1 | BA0-BA1 | BA0-BA1 |
| BG Address Bits   | BG0-BG1 | BA0-BA1 | BA0-BA1 | BA0-BA1 |
| Page Size         | 1KB     | 1KB     | 1KB     | 1KB     |
| Array Pre-Fetch   | 128b    | 128b    | 128b    | 128b    |

å¨ä¸é¢çè¡¨æ ¼ä¸­ï¼è¯·æ³¨æä¸è¡¨1ç¸æ¯ï¼Array Pre-FetchåPage Sizeååäºï¼èè¡æ°ï¼Number of Rowsï¼å åäºã

>  x16æ¨¡å¼ä¸x8æ¨¡å¼çè®¾ç½®æ¯éè¿æ¨¡å¼å¯å­å¨MR8æ¥å®æçã
>  

## **LPDDR5 åå­éé**

![img](https://pic1.zhimg.com/v2-beecdd0262f099050738387ddcf7d850_1440w.jpg)

>  è¡¨3ï¼LPDDR5 è¾å¥/è¾åºï¼IOsï¼
>  

```text
|
```

| Pin                      | Width | Type                          | Description                                                  |
| ------------------------ | ----- | ----------------------------- | ------------------------------------------------------------ |
| RESET_n                  | 1     | Input                         | Reset pin                                                    |
| CK_t, CK_c               | 1     | Input                         | Differential clock                                           |
| CS[1:0]                  | 2     | Input                         | Chip Select. Think of this as the enable/valid pin. The rest of the command bus is valid only when this is high. |
| CA[6:0]                  | 7     | Input                         | Address bus. This is used to select which BankGroup,Bank,Row,Col to access. |
| DQ[15:0]                 | 16    | InOut                         | Bidirectional data bus                                       |
| WCK[1:0]_t, WCK[1:0]_c   | 2     | Input                         | Differential clocks used for WRITE data capture and READ data output |
| DMI[1:0]                 | 2     | InOut                         | Data mask inversion. This IO has several functions such as DataMask (DM),  DataBusInversion (DBI), or Link ECC based on the mode register setting. |
| RDQS[1:0]_t, RDQS[1:0]_c | 1     | RDQS_t: Inout, RDQS_c: Output | Read Data Strobe                                             |

### **ç§©ï¼Ranksï¼ãå®½åº¦çº§èï¼Width Cascadingï¼åæ·±åº¦çº§èï¼Depth Cascadingï¼**

ä¸ä¸ªééå¯ä»¥ç±ä¸ä¸ªæå¤ä¸ªLPDDR5åå­è¯çç»æ**ãå¨ä¸å¾ä¸­ï¼æå±ç¤ºäºå¦ä½éç½®å¤ä¸ª2Gbåå­è¯çæ¥å¢å ééä¸­çæ»åå­å®¹éã**

- 2Gbééå®¹éï¼è¿å¾ç®åãåªéå°ä¸ä¸ª2Gbåå­è¯çè¿æ¥å°LPDDR5çIOsä¸ã
   
- 4Gbééå®¹éï¼å¨è¿éï¼æä»¬æä¸¤ä¸ª2Gbè¯çï¼å®ä»¬è¢«âæ·±åº¦çº§èâï¼ä¹ç§°ä¸º2ç§©ï¼Rankï¼éç½®ãéè¿è®¾ç½®è¯çéæ©0ï¼CS0å¼èï¼æ¥è®¿é®è¯çAï¼èè¯çBåéè¿CS1å¼èæ¥éæ©ãä½æ¯ï¼ç±äºä¸æ¬¡åªæä¸ä¸ªè¯çéæ©å¼èå¤äºæ´»å¨ç¶æï¼**å æ­¤ä¸¤ä¸ªè¯çå±äº«ç¸åçå°ååæ°æ®æ»çº¿ã**
   
- 8Gbééå®¹éï¼å¨è¿éï¼æä»¬æåä¸ª2Gbè¯çãä¸4Gbå®¹éç±»ä¼¼ï¼è¿éä¹æ2ç§©ã**ä½å¨æ¯ä¸ªç§©åé¨ï¼æä»¬æä¸¤ä¸ªâå®½åº¦çº§èâçè¯çï¼å³æ¯ä¸ªè¯çé½è¢«éç½®ä¸ºx8å®½åº¦æ¨¡å¼**ã
   

![img](https://pic1.zhimg.com/v2-931887bf03ec4d540fd20f19a30d6260_1440w.jpg)

å¾5ï¼LPDDR5 éé

## **LPDDR5 åå­å°è£**

![img](https://pica.zhimg.com/v2-6287f2887298077e6b9d79bd99979a68_1440w.jpg)

å¾6ï¼x64 4ééLPDDR5å°è£

æåï¼æä»¬åå°è§è§æè¿ä¸ç¹ï¼ç°å¨æä»¬çå°çæ¯æ´ä¸ªLPDDR5åå­è®¾å¤å°è£ãè¿æ¯ä½ å¯ä»¥ä»ç¾åï¼Micronï¼æä¸æï¼Samsungï¼ç­ä¾åºåé£éè´­ä¹°çäº§åã

éå¸¸ï¼ä¸ä¸ªåå­å°è£åå«å¤ä¸ªééãè¿ä½¿å¾åå­å¶é åè½å¤åå»ºå·æä¸åå®½åº¦åå®¹éçåå­è®¾å¤ï¼ä»¥æ»¡è¶³åç§åºç¨çéæ±ã

å¨ä¾åºåçäº§åç®å½ä¸­ï¼å¸åçå®½åº¦åå®¹éåæ¬ï¼

- å®¹éï¼4GBã8GBã16GBç­
   
- å®½åº¦ï¼x16ï¼1ééï¼ãx32ï¼2ééï¼ãx64ï¼4ééï¼ãæ¯ä¸ªééé½æ¯ç¬ç«å¯è®¿é®çï¼å¹¶ä¸æ¥æèªå·±çCAåDQå¼èéã
   

## **SoC-LPDDR5 æ¥å£**

æ¢ç¶æä»¬å·²ç»äºè§£äºLPDDR5åå­çå¤è§ï¼é£ä¹æå°ä»¥è®¨è®ºå¤çå¨æSoCå¦ä½å¯¹åå­è¿è¡è¯»åæ¥ç»ææ¬æã

ä¸ºäºä¸LPDDR5åå­éä¿¡ï¼SoCãASICãFPGAæå¤çå¨éè¦ä¸ä¸ªæ§å¶å¨åä¸ä¸ªPHYãè¿ä¸ä¸ªå®ä½ââæ§å¶å¨ãPHYåLPDDR5åå­è®¾å¤ââå±åææäºLPDDR5åå­å­ç³»ç»ã

![img](https://pic4.zhimg.com/v2-0a0b4bd47e90b2d8ae0da906a38eb1eb_1440w.jpg)

å¾7ï¼LPDDR5åå­å­ç³»ç»

## **LPDDR5 æ¥å£**

å¦åæè¿°ï¼ä¸è¡¨æè¿°äºPHYä¸åä¸ªLPDDR5åå­ééä¹é´çæ¥å£ãè¿äºIOæ¯PCBä¸çç©çèµ°çº¿ã

| Pin                      | Width | Type                          | Description                                                  |
| ------------------------ | ----- | ----------------------------- | ------------------------------------------------------------ |
| RESET_n                  | 1     | Input                         | Reset pin                                                    |
| CK_t, CK_c               | 1     | Input                         | Differential clock                                           |
| CS                       | 1     | Input                         | Chip Select. Think of this as the enable/valid pin. The rest of the command bus is valid only when this is high. |
| CA[6:0]                  | 7     | Input                         | Address bus. This is used to select which BankGroup,Bank,Row,Col to access. |
| DQ[15:0]                 | 16    | InOut                         | Bidirectional data bus                                       |
| WCK[1:0]_t, WCK[1:0]_c   | 2     | Input                         | Differential clocks used for WRITE data capture and READ data output |
| DMI[1:0]                 | 2     | InOut                         | Data mask inversion. This IO has several functions such as DataMask (DM),  DataBusInversion (DBI), or Link ECC based on the mode register setting. |
| RDQS[1:0]_t, RDQS[1:0]_c | 1     | RDQS_t: Inout, RDQS_c: Output | Read Data Strobe                                             |

## **DFI æ¥å£**

**æ§å¶å¨å¯ä»¥è¢«è§ä¸ºé»è¾å±é¢çæ ¸å¿**ã**å®æ¯ä¸ä¸ªå¤æçç¶ææºï¼ç¡®ä¿å¨æ§è¡è¯»åãåå¥æå·æ°æä½æ¶ä¸¥æ ¼éµå®LPDDR5åè®®**ãèå¦ä¸æ¹é¢ï¼**PHYåä»£è¡¨ç©çå±é¢ï¼åå«äºææå¿è¦çæ¨¡æç»ä»¶ï¼ä»¥ç¡®ä¿æ¶éãå°ååæ°æ®ä¿¡å·å¨åå­ä¸PHYä¹é´è½å¤å¯é å°ä¼ è¾ã**

åèåé¢çå¾7ï¼PHYåæ§å¶å¨éè¿ä¸ä¸ªå®ä¹æç¡®çæ åæ¥å£ââå³DFIæ¥å£ââè¿è¡éä¿¡ãéè¿è¿ä¸ªæ¥å£ï¼PHYå¯ä»¥åæ§å¶å¨æ¥åå¶å½åç¶æï¼æ¯å¦æ¯å¦å¤äºåå§åé¶æ®µãæ ¡åé¶æ®µï¼æèæ¯å¦å·²åå¤å¥½æ§è¡è¯»å/åå¥æä½ã

## **æ§å¶å¨æ¥å£**

**è®¿é®DDRåå­éè¦ç²¾ç¡®çæ­¥éª¤åæ¶åºæ§å¶**ãä¾å¦ï¼ä¸ºäºå°æ°æ®åå¥åå­ï¼éè¦ååå­åéä¸ç³»åå½ä»¤æ¥æ¿æ´»æ­£ç¡®çbankãè¡ååï¼ç¶åå¨ç²¾ç¡®çæ¶é´ç¹ï¼ç§°ä¸ºåå¥å»¶è¿ï¼åéæ°æ®ãæ­¤å¤ï¼å¨ææè¿äºæä½ä¹é´ï¼åå­è¿éè¦ä»¥åºå®çå¨æè¿è¡å·æ°ï¼ä»¥é²æ­¢æ°æ®ä¸¢å¤±ã

æ§å¶å¨éè¿æ½è±¡åè¿äºå¤æçæ­¥éª¤åæ¶åºæ§å¶ï¼**æä¾äºä¸ä¸ªç®åçæ¥å£ï¼å¦AXIï¼**ï¼ä½¿å¾æä»¬å¯ä»¥æ´å®¹æå°ååºåå¥æè¯»åæä»¤ã

é¤äºæä¾ä¸ä¸ªç®åçåå­è®¿é®æ¥å£å¤ï¼**æ§å¶å¨è¿å·å¤å¤ç§æºè½åè½ï¼å¦å°åéæåºï¼ï¼è¿äºåè½æå©äºSoC/å¤çå¨æå¤§ååå­å¸¦å®½**ãè¿ä¸ç¹éå¸¸éè¦ï¼å ä¸ºåå­éå¸¸æ¯ç¬è®°æ¬çµèãææºæå¤æASICï¼å¦TPUï¼æ§è½ç¶é¢çæå¨ã

>  ç¹èµè¶200ï¼æ´Trainingï¼
>  

## **æ¨èéè¯»**

- **[æDDRï¼ä½ å¿é¡»å¾ççæçè¿ç¯ç¬è®°ï¼ä¸ï¼ï¼DRAM](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzUyOTY5NzkwNg%3D%3D%26mid%3D2247499731%26idx%3D1%26sn%3Ded6d2d9c7c1394cb2e14e06d816ca6d3%26chksm%3Dfa5fa2cecd282bd83fc7b03b9ced81f340106c4eff24584cdb43f67951cd8b79a0103d9ac5e8%26payreadticket%3DHIRmBy507MIugzZMMmmuQ0AWO4p3txZaIfjD8aztw7CoTccSKWTcw99cdX4632pLwKgKzgI%23rd)**
   
- **[æDDRï¼ä½ å¿é¡»å¾ççæçè¿ç¯ç¬è®°ï¼äºï¼ï¼DDRC](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzUyOTY5NzkwNg%3D%3D%26mid%3D2247499810%26idx%3D1%26sn%3D645237902019cbbdbcf8b10a809ce99d%26chksm%3Dfa5f9d3fcd281429ef86e0978187565eff36f00e65b4056e9630d568cd6446354a402a8f2c44%26payreadticket%3DHPE0wn7SohYJRH0lQwSlb-zec4XZDS94KHrAWJ5y4DH3rszLagMHRmlEiL4t4Oifq-uLZYc%23rd)**
   
- **[æDDRï¼ä½ æ¯å¯ä»¥ççæçè¿ç¯ç¬è®°ï¼ä¸ï¼ï¼DDRPHY](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzUyOTY5NzkwNg%3D%3D%26mid%3D2247499837%26idx%3D1%26sn%3Dd6a26437743137ba2c7e2af35fdd35b4%26chksm%3Dfa5f9d20cd281436f50709e2f8c7cba68d9d525f3488540b15b0ee4a059eef96448aa1438499%26token%3D84940425%26lang%3Dzh_CN%23rd)**
   
- **[æDDRï¼ä½ å¿é¡»å¾ççæçè¿ç¯ç¬è®°ï¼æ»ç»ç¯ï¼](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzUyOTY5NzkwNg%3D%3D%26mid%3D2247499905%26idx%3D1%26sn%3D0ff71ca88db96df46cd7737cfe879c1c%26chksm%3Dfa5f9d9ccd28148a949b406e9a8e7b09c7798d2e61d7b3ef25d0b66fdd2192abb9143ec2ec26%26payreadticket%3DHMFCrV2B0r_Iz2RraVfQjksHCi-gHbyo5F7EY1mOA-MdLJDMhpecfl8-t8lOL5gZ2OyLCCI%23rd)**
   
- **[æDDRå¿æçå³é®ææ¯ç¬è®°ï¼ODT](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzUyOTY5NzkwNg%3D%3D%26mid%3D2247500207%26idx%3D1%26sn%3Deea78433813d7202f302f8299bdba83c%26chksm%3Dfa5f9cb2cd2815a447601a59254e217f83662c877cf08811e11b628b4f4066c6e0a469b12096%26payreadticket%3DHJsZjEEG-deG7cFtMIE2hakjJn7nbERQyTQM_NLliRXX0SYohpXr1RTNhTzKofee-jNXne0%23rd)**
   
- **[æDDRå¿æçå³é®ææ¯ç¬è®°ï¼Initialization, Training ï¼ Calibration](https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzUyOTY5NzkwNg%3D%3D%26mid%3D2247500248%26idx%3D1%26sn%3D503c5f59d1676950ec7013635fe170dc%26chksm%3Dfa5f9cc5cd2815d3de2d22fafda69e3870403f23bcb765c088a4f20eb56dc7079dd305212038%26token%3D851425450%26lang%3Dzh_CN%23rd)**





## **åè¨**

å¾é¾ç¨ä¸ç¯æç« å»å®å¨çäºè§£UEFIï¼è¿ç¯æç« çç®æ æ¯å¸æè½è®©ä¸äºè§£çæåçå®åè¾¾å°ä¸é¢å ä¸ªç®æ ï¼

- UEFIæ¯ä»ä¹ï¼æ¦å¿µ
- UFEIç¨æ¥å¹²ä»ä¹ï¼åºç¨
- UEFIæäºä»ä¹ä¸è¥¿ï¼æ¶æ
- UEFIéç¹åºæ¯ï¼å¯å¨
- UEFIå­¦ä¹ èµæï¼æ¨è

éè¿è¿å ä¸ªé¨åï¼å±ä»¬è½ä¸èµ·æ­å»ºèµ·ä¸ä¸ªå³äºUEFIç®è¦ç¥è¯æ¡æ¶ãé£ä¹ä»¥åå¯¹åªäºæ¹é¢æå´è¶£ï¼è®©æç¥éï¼å±ä»¬åä¸èµ·å­¦ä¹ ä¸ä¸ï¼å»ç»§ç»­ä¸°å¯å³äºUEFIã

>  è¯ä¸å¤è¯´ï¼ä¸èï¼
>  

## **UEFIæ¯ä»ä¹ï¼**

è¿å°±ä¸å¾ä¸ææBIOSã

### **ä¼ ç»BIOS**

ä¸ºäºæ´å¥½å°çè§£UEFIï¼æä»¬é¦åéè¦åé¡¾ä¸ä¸åå²ãèª20ä¸çºª80å¹´ä»£ä»¥æ¥ï¼è®¡ç®æºä¸ç´å¨ä½¿ç¨BIOSã

å½æä»¬æå°BIOSæ¶ï¼æ ¹æ®ä¸ä¸æçä¸åï¼å®å¯è½ä»£è¡¨ä¸åçå«ä¹ï¼

1. **BIOSæ å**ï¼è¿æ¯ä¸ä¸ªå¹¿æ³çæ¦å¿µï¼æçæ¯ä¸ç§å¨è®¡ç®æºå¯å¨æ¶åå§åç¡¬ä»¶å¹¶å è½½æä½ç³»ç»å¼å¯¼ç¨åºçæ åæ¥å£ã
    
2. **å·ä½çBIOSå®ç°**ââå³ç¹å®äºä¸»æ¿çåºä»¶ï¼âASUS $motherboard_name BIOSâï¼ï¼
    

- è¿æ¯ç±ä¸»æ¿å¶é åç¼åæææçä»£ç ã
- å½è®¡ç®æºå¼æºæ¶ï¼ç¡¬ä»¶è¢«è®¾ç½®ä¸ºå¼å§æ§è¡BIOSãè¿æ¯CPUéè¦ç¥éçå¨é¨åå®¹ï¼å³CPUä¸éè¦äºè§£é©±å¨å¨ãæä»¶ç³»ç»ææä½ç³»ç»ãBIOSè´è´£åå§åç¡¬ä»¶ï¼å è½½å¼å¯¼å è½½ç¨åºï¼å¦GRUBæWindows Boot Managerï¼ï¼ç¶åå¼å¯¼å è½½ç¨åºè´è´£å è½½å¹¶å¯å¨æä½ç³»ç»ã

ç®èè¨ä¹ï¼BIOSæ¯è®¡ç®æºå¯å¨è¿ç¨ä¸­çä¸ä¸ªéè¦ç¯èï¼å®è´è´£å¨æä½ç³»ç»å è½½ä¹ååå§åç¡¬ä»¶ï¼å¹¶ä¸ºæä½ç³»ç»çå¯å¨æä¾å¿è¦çç¯å¢ã**èUEFIï¼ç»ä¸å¯æ©å±åºä»¶æ¥å£ï¼æ¯BIOSçç°ä»£æ¿ä»£åï¼æä¾äºæ´å¤çåè½åæ´å¥½çå®å¨æ§ã**

### **BIOSä½ä¸ºæ å**

ä½ä¸ºä¸ä¸ªæ åï¼BIOSå®ä¹äºä»¥ä¸åå®¹ï¼

1. ä¸ä¸ªç¡¬ç¼ç çåå­ä½ç½®ï¼è®¡ç®æºå¨å¼æºæ¶CPUå°ä»è¯¥ä½ç½®å¼å§æ§è¡BIOSä»£ç ã

1. ç£çä½ç½®ï¼æä½ç³»ç»å¶é åå¯ä»¥å¨è¿äºä½ç½®æ¾ç½®å¶å¼å¯¼å è½½ç¨åºä»¥å¯å¨å¶æä½ç³»ç»ã

1. åºç¨ç¨åºæ¥å£ï¼APIsï¼ç¨äºï¼

- ä»ç¡¬çåè½¯çè¯»åæ°æ®ï¼å æ­¤ä¸æ¯ææç¨åºé½éè¦ç´æ¥å¤çIDE/SATAç­æ»çº¿ï¼

  è¯»åé®çæé® => BIOSæ¯ä¸ä¸ªç¡¬ä»¶æ½è±¡å±ã

- 

1. å¶ä»è®¸å¤åè½

éè¿è¿äºæ¹å¼ï¼BIOSä¸ºä»¥ä¸å¯¹è±¡æä¾äºAPIï¼

1. æä½ç³»ç»å¶é å

1. CPUå¶é å

1. åºç¨ç¨åºå¼åäººåãä¸è¿ï¼ç°å¨è¿äºAPIçä½¿ç¨å·²ç»ä¸å¤äºï¼å ä¸ºï¼

- å¼åäººåä¸æä½ç³»ç»çç¡¬ä»¶æ½è±¡APIè¿è¡äº¤äºï¼çè³æä½ç³»ç»æ¬èº«ä¹ä¸ä½¿ç¨å¤ªå¤çBIOS APIï¼å ä¸ºå®ä»¬ç´æ¥æ§å¶ç¡¬ä»¶ä»¥è·å¾æ´é«çº§å«çè®¿é®æéï¼è¿æ ·å°±å¾ä¸å®å¨äºï¼
- å³ä½¿å¨DOSæ¶ä»£ï¼åºç¨ç¨åºå¼åäººåä¹å¯è½ä½¿ç¨DOS APIè¿è¡æ½è±¡ï¼èä¸æ¯ç´æ¥ä½¿ç¨BIOSã

### **BIOSä½ä¸ºå®ç°**

ä½ å¯è½çææ´æ°ä¸»æ¿BIOSçè¿ç¨ãå¾å·æ°çBIOSæ¯ç¹å®äºä¸»æ¿çï¼å³ä¸å­å¨éç¨äºææä¸»æ¿çåä¸BIOSï¼ï¼å ä¸ºBIOSçå®ç°æ¯ç¹å®äºä¸»æ¿çã

æå¹¶ä¸å®å¨äºè§£å¶é åç¹æçææåå®¹ï¼ä½æçæµä¸åä¸»æ¿çè¯çç»ä¼ææä¸åï¼æ¯å¦åå­æ§å¶å¨çåå§ååå¤çãåç½®å¾å½¢å¤çå¨ç­ã

### **BIOSçå·¥ä½åç**

x86  CPUè¢«è®¾è®¡ä¸ºä»ä¸ä¸ªç¡¬ç¼ç çåå­ä½ç½®ï¼0xFFFFFFF0ï¼å¼å§æ§è¡ä»£ç ãè¿ä¸ªåå­ä½ç½®ç±ä¸»æ¿çBIOSä»£ç ROMæä¾æ¯æãå¨çµæ°ä¸ï¼å¾å®¹æå°ä¸åçå°åç©ºé´åå¼ï¼å¶ä¸­æäºä½ç½®ä»RAMè¯»åï¼èæäºä½ç½®åä»BIOS ROMç­è¯»åãè¦æ´æ·±å¥å°äºè§£è¿ä¸æ¦å¿µå¨çµæ°ä¸çå®ç°ï¼è¯·è§çæ­¤è§é¢ã

ä»¥ä¸æ¯ä¸ä¸ªè¿äºç®åçè§å¾ï¼

![img](https://picx.zhimg.com/v2-a51293ab21e72e5d86d34511baae37ef_1440w.jpg)

BIOSè´è´£å®éå¯å¨ä½ çæä½ç³»ç»ã

å¨BIOSè®¾ç½®ä¸­ï¼**ä½ éå¸¸å¯ä»¥éç½®å¯å¨é¡ºåºï¼å¦CD-ROMãç¡¬ç1ãç¡¬ç2ç­ï¼ä»¥åå®ä»¬çä»»ä½ç»åãBIOSä¼æ ¹æ®ä½ çå¯å¨é¡ºåºåå¥½æ¾å°ç¬¬ä¸ä¸ªå¯å¯å¨é¡¹ã**

### **ä¼ ç»BIOSçå±éæ§**

ç±äºå¼å¯¼å è½½ç¨åºå¤§å°çéå¶ï¼å¤§å¤æ°æä½ç³»ç»ä¸å¾ä¸ä½¿ç¨å¤æçé¾å¼å¯å¨è¿ç¨ã

### **ä¼ ç»BIOSå¯å¨è¿ç¨**

å¯¹äºç¡¬çæ¥è¯´ï¼å­å¨ä¸ä¸ªå¼å¯¼æåºãå¼å¯¼æåºï¼æèæ´å·ä½å°è¯´ï¼æ¯ä¸»å¼å¯¼è®°å½ï¼MBRï¼ï¼å®åå«å¼å¯¼å è½½ç¨åºï¼å¹¶ä¸å¶å¤§å°éå¶å®éä¸æ¯440å­èï¼**å æ­¤ä»å­è¿ä¸ªå¤§å°çå¼å¯¼å è½½ç¨åºç»å¯¹æ æ³å è½½ç°ä»£æä½ç³»ç»ã**

éå¸¸ï¼**MBRä¸­çå¼å¯¼å è½½ç¨åºä¼å°æ§å¶æä¼ éç»æ´»å¨ååºçå¼å¯¼å è½½ç¨åº**ï¼VBRï¼å·å¼å¯¼è®°å½ï¼ï¼ä½å®**ä¹æç¸åçå¤§å°éå¶ã**

å è½½æä½ç³»ç»è³å°æå³çå¼å¯¼å è½½ç¨åºå¿é¡»ä»ç£çè¯»ååæ ¸ï¼Linux/Windowsç­ï¼å¹¶å°å¶æ§å¶æäº¤ç»å®ãåæ ¸æ´å æºè½ï¼è½å¤çè§£åç§æä»¶ç³»ç»ï¼å¦NTFS/FATç­ã

ä½æ¯ï¼ä¸ºäºè®©å¼å¯¼å è½½ç¨åºä»ç£çè¯»ååæ ¸ï¼**å®å¿é¡»ç¥éå¦ä½éåæä»¶ç³»ç»ä»¥è®¿é®åæ ¸ã**å æ­¤ï¼å¼å¯¼å è½½ç¨åºä¼ä»æä»¶ç³»ç»çæ ¹ç®å½è¯»åå¹¶é¾å¼å è½½ä¸ä¸ªâç¬¬äºé¶æ®µâï¼è¿æ¯ä¸ä¸ªæ´ç®åçä»»å¡ï¼ââä¸ä¸ªå¯ä»¥æ´å¤§ãå æ­¤å¯ä»¥åå«æ´å¤æä»£ç çæä»¶ã

å¨Windowsä¸­ï¼è¿ä¸ªç¬¬äºé¶æ®µè¿å»è¢«ç§°ä¸ºNTLDRï¼âNTå è½½ç¨åºâï¼ï¼å®ä½äºä½ ç `C:`é©±å¨å¨çæ ¹ç®å½ä¸ã



![img](https://pic2.zhimg.com/v2-ff65f9e0e4500ef7fe1d6264f6000ecb_1440w.jpg)

 ä»¥ä¸æ¯å³äºä¼ ç»BIOSåæ§çWindowsçæ¬çå¯å¨è¿ç¨ï¼

![img](https://pic4.zhimg.com/v2-6106a8c9aafada3946d26811c77e8173_1440w.jpg)

å¦ä½ æè§ï¼æå¾å¤ç®­å¤´ââå¼å¯¼å è½½ç¨åºç»ä»¶åå¸å¨åä¸ªå°æ¹ãæä¸ä¸ªä¸åçç¹å®äºWindowsçä½ç½®ç¨äºå¼å§å è½½å®éçåæ ¸ãåªè¦å¶ä¸­ä¸ä¸ªç»ä»¶åºéï¼ä½ å°±ä¼å¾å°ä¸ä¸ªæ æ³å¯å¨çç³»ç»ã

Linuxï¼é¾å¼GRUBï¼çæåµä¹å¤§è´ç¸åã

æäºè¿ä¹å¤çBIOSï¼ä½ çæ é¢æ¯UEFIæ¬¸ï¼ä½ å«çæ¥ï¼ç»§ç»­çã

## **BIOS VS UEFI**

å¶å®å¤§å®¶å¯¹BIOSä¸éçï¼å°è¿éå¢ï¼æä»¬æ¥å¯¹éè¿ä¸ä¸ªå¯¹æ¯å¼åºæä»¬çä¸»è§UEFIã

BIOS ä»£è¡¨åºæ¬è¾å¥è¾åºç³»ç»ï¼Basic Input/Output Systemï¼ï¼æ¯æä»¬å¨ä¸è¿°å¯å¨è¿ç¨ä¸­æå°çåºä»¶ã

å®å­å¨å¨å¯æ¦é¤å¯ç¼ç¨åªè¯»å­å¨å¨ï¼EPROM, Erasable Programmable Read-Only Memoryï¼ä¸­ï¼è¿ä½¿å¾å¶é åå¯ä»¥è½»æ¾å°æ¨éæ´æ°ã

![img](https://pic4.zhimg.com/v2-39ab12fc3956351473befe506a47b093_1440w.jpg)

BIOS æä¾äºè®¸å¤è¾å©åè½ï¼è¿äºåè½åè®¸è¯»åéå å­å¨è®¾å¤çå¼å¯¼æåºå¹¶å¨å±å¹ä¸æå°ä¿¡æ¯ãæ¨å¯ä»¥å¨å¯å¨è¿ç¨çåå§é¶æ®µéè¿æ DelãF2 æ F10 é®æ¥è®¿é® BIOSã

UEFI ä»£è¡¨ç»ä¸å¯æ©å±åºä»¶æ¥å£ï¼Unified Extensible Firmware Interfaceï¼ãå®ä¸ BIOS æ§è¡ç¸åçä»»å¡ï¼ä½æä¸ä¸ªåºæ¬åºå«ï¼**å®å°ææå³äºåå§ååå¯å¨çæ°æ®å­å¨å¨ .efi æä»¶ä¸­ï¼èä¸æ¯å­å¨å¨åºä»¶ä¸ã**

![img](https://pic3.zhimg.com/v2-a8dccb35328735edeb0e41432ae8fbe2_1440w.jpg)

è¿ä¸ª .efi æä»¶å­å¨å¨ç¡¬çä¸ä¸ä¸ªåä¸º EFI ç³»ç»ååºï¼EFI System Partition, ESPï¼çç¹æ®ååºä¸­ãè¿ä¸ª ESP ååºè¿åå«å¼å¯¼å è½½ç¨åºã

UEFI è¢«è®¾è®¡ç¨æ¥åææ§ç BIOS çè®¸å¤éå¶ï¼åæ¬ï¼

- UEFI æ¯æé«è¾¾ 9 æ³½å®å­èï¼Zettabytesï¼çé©±å¨å¨å¤§å°ï¼è BIOS ä»æ¯æ 2.2 å¤ªå­èï¼Terabytesï¼ã
   
- UEFI æä¾æ´å¿«çå¯å¨æ¶é´ã
   
- UEFI å·æç¬ç«çé©±å¨ç¨åºæ¯æï¼è BIOS çé©±å¨ç¨åºæ¯æå­å¨å¨ ROM ä¸­ï¼å æ­¤æ´æ° BIOS åºä»¶æç¹å°é¾ã
   
- UEFI æä¾ç±»ä¼¼âå®å¨å¯å¨âï¼Secure Bootï¼çå®å¨åè½ï¼è¿å¯ä»¥é²æ­¢è®¡ç®æºä»æªç»ææ/æªç­¾åçåºç¨ç¨åºå¯å¨ãè¿æå©äºé²æ­¢  rootkitï¼ä½ä¹ä¼å¦¨ç¢åç³»ç»å¯å¨ï¼å ä¸ºå®å°å¶ä»æä½ç³»ç»è§ä¸ºæªç­¾åçåºç¨ç¨åºãç®åï¼åªæ Windows å Ubuntu  æ¯å·²ç­¾åçæä½ç³»ç»ï¼å¦æææè¯¯ï¼è¯·åè¯æï¼ã
   
- UEFI ä»¥ 32 ä½æ 64 ä½æ¨¡å¼è¿è¡ï¼è BIOS ä»¥ 16 ä½æ¨¡å¼è¿è¡ãå æ­¤ï¼UEFI è½å¤æä¾å¾å½¢ç¨æ·çé¢ï¼GUI, Graphical User Interfaceï¼ï¼åè®¸ä½¿ç¨é¼ æ è¿è¡å¯¼èªï¼è BIOS ä»åè®¸ä½¿ç¨é®çè¿è¡å¯¼èªã
   

å½ç¶æ¨å¯è½ä¸éè¦ UEFI

å°½ç®¡ææç°ä»£è®¡ç®æºé½é»è®¤éå¤äº UEFIï¼ä½æ¨å¯è½éæ©ä½¿ç¨ BIOS èä¸æ¯ UEFI çåå æå ä¸ªï¼

- å¦ææ¨æ¯åå­¦èï¼å¹¶ä¸ä¸å³å¿ä¸ä»»ä½ç±»åçåºä»¶æäº¤éï¼é£ä¹ BIOS éåæ¨ã
- å¦ææ¨æ¯ä¸ªç¡¬çæååºçå®¹éå°äº 2TBï¼é£ä¹æ¨å¯ä»¥ä½¿ç¨ BIOSã
- BIOS åè®¸å¨ä¸æ´æ¹ä»»ä½è®¾ç½®çæåµä¸è¿è¡å¤ä¸ªæä½ç³»ç»ãä»ç°ä»£çè§åº¦æ¥çï¼è¿å¯è½æ¯ä¸ä¸ªå®å¨é®é¢ï¼ä½å¯¹ç¨æ·æ¥è¯´æ²¡æéº»ç¦ã
- BIOS åæä½ç³»ç»æä¾ç³»ç»ä¿¡æ¯ãå æ­¤ï¼å¦ææ¨çæä½ç³»ç»ä»¥ 16 ä½æ¨¡å¼è¿è¡ï¼å®ä¸éè¦ç¼åä¸ç¡¬ä»¶äº¤äºçä»£ç ãå®å¯ä»¥ç´æ¥ä½¿ç¨ BIOS æä¾çæ¹æ³ãå¦åï¼å¦ææä½ç³»ç»åæ¢å° 32 ä½æ 64 ä½æ¨¡å¼ï¼åéè¦æä¾èªå·±çä¸ç¡¬ä»¶äº¤äºçå­ç¨åºã
- å¦ææ¨æ´åæ¬¢ä½¿ç¨é®çååºäºææ¬ççé¢èä¸æ¯ä½¿ç¨é¼ æ åå¾å½¢ç¨æ·çé¢çå¯¼èªï¼é£ä¹ BIOS éåæ¨ã

UEFI èèå°äºè¿äºéå¶ï¼å¹¶æä¾äºä¼ ç»æ¨¡å¼ï¼Legacy modeï¼ãå¨è¯¥æ¨¡å¼ä¸ï¼æ¨å¯ä»¥åæ¥æ BIOS åºä»¶ä¸æ ·è¿è¡ææåå®¹ãä½è¯·è®°ä½ï¼è±ç¹å°å·²å®£å¸ä» 2020 å¹´èµ·å°ä¸åæ¯æä¼ ç» BIOSã

ä»¥ä¸æ¯ä¸ä¸ªç®åçè¡¨æ ¼ï¼å±ç¤ºäºUEFIåBIOSä¹é´çä¸»è¦å¯¹æ¯ç»æï¼

|                  | UEFI                                                         | BIOS                                   |
| ---------------- | ------------------------------------------------------------ | -------------------------------------- |
| åºæ¬æ¦å¿µ         | ç»ä¸å¯æ©å±åºä»¶æ¥å£                                           | åºæ¬è¾å¥è¾åºç³»ç»                       |
| æ°æ®å­å¨æ¹å¼     | æ°æ®å­å¨å¨éæå¤±æ§å­å¨å¨ä¸­ï¼ä»¥.efiæä»¶å½¢å¼ç»ç»               | æ°æ®ç´æ¥å­å¨å¨ROMä¸­                    |
| å¯å¨éåº¦         | æ´å¿«ï¼ä½¿ç¨æ´é«æçç®æ³åæ°æ®ç»æ                             | è¾æ¢ï¼åéäº16ä½ä»£ç åå­å¨éå¶         |
| ç¡¬çå®¹éæ¯æ     | æ¯æé«è¾¾9æ³½å®å­èçé©±å¨å¨å¤§å°                                | ä»æ¯ææå¤§2.2å¤ªå­èçç¡¬ç              |
| ç¨æ·çé¢         | æä¾å¾å½¢ç¨æ·çé¢ï¼GUIï¼ï¼æ¯æé¼ æ å¯¼èª                        | éå¸¸ä»æä¾åºäºææ¬ççé¢ï¼æ¯æé®çå¯¼èª |
| å®å¨åè½         | æ¯æå®å¨å¯å¨ï¼Secure Bootï¼ï¼é²æ­¢æªç»ææ/æªç­¾åçåºç¨ç¨åºå¯å¨ | ä¸å·å¤æä»å·å¤æéçå®å¨åè½           |
| ä»£ç æ¨¡å¼         | ä»¥32ä½æ64ä½æ¨¡å¼è¿è¡                                         | ä»¥16ä½æ¨¡å¼è¿è¡                         |
| æ¨¡ååä¸å¯æ©å±æ§ | æ¯ææ¨¡ååè®¾è®¡ï¼æäºæ´æ°åæ©å±                               | è¾ä¸ºå°é­ï¼æ´æ°åæ©å±è¾ä¸ºå°é¾           |
| æªæ¥æ¯æ         | éæ¸æä¸ºä¸»æµï¼è±ç¹å°å·²å®£å¸ä¸åæ¯æä¼ ç»BIOS                   | ä¼ ç»BIOSæ­£å¨éæ¸è¢«UEFIåä»£             |

>  è¯·æ³¨æï¼è¿ä¸ªè¡¨æ ¼æ¯å¯¹UEFIåBIOSä¹é´ä¸»è¦åºå«çç®åæ¦è¿°ï¼å¹¶æªæ¶µçææç»èãå¨å®éåºç¨ä¸­ï¼ä¸¤èä¹é´å¯è½è¿å­å¨å¶ä»å·®å¼åç¹æ§ã
>  

æ¯æ¶åè¿å¥æ­£é¢äºï¼

## **UEFIï¼**

åé¢æä»¬ç¥éäºç±äºä¼ ç»BIOSçå±éæ§ï¼äººä»¬å¼åäºä¸ç§æ°æ åï¼**ç§°ä¸ºUEFIï¼éå¸¸ç®ç§°ä¸ºâEFIâï¼**ãUEFIæ§è¡ä¼ ç»BIOSæ¾ç»æ§è¡è¿çç¸åä»»å¡ï¼ä»¥åæ´å¤ä»»å¡ï¼ï¼ä½æ¥å£ï¼æ åï¼âAPIâï¼ä¸åã

**æä»¬ç°å¨æäºä¸ä¸ªä¸ç¨çååºï¼å®è¶³å¤å¤§ï¼å¯ä»¥åå«æ´ä¸ªæä½ç³»ç»çå¼å¯¼å è½½ç¨åº**ï¼å æ­¤æä»¬ä¸å¿å°å¤ä¸ªé¨åè¿æ¥å¨ä¸èµ·ï¼èæ éä½¿ç¨å¾®å°çå¼å¯¼æåºã

UEFIè¿ä¸ºæä»¬æä¾äºç½ç»å¼å¯¼ãå®å¨å¯å¨ç­å®å¨åè½ã

>  UEFI ä¸æ¯ BIOS
>  

ææ¶ä½¿ç¨çæ¯è¯­âUEFI BIOSâæ¯ä¸æ­£ç¡®çï¼å³ä½¿æçä¸»æ¿å¶é ååç¡ä¹ä½¿ç¨å®ï¼ï¼å ä¸º UEFI å BIOS é½æ¯åºä»¶çå­ç±»åââå³å®ä»¬æ¯ç¬ç«ãä¸åãç¬ç«çåºä»¶æ åï¼

![img](https://pica.zhimg.com/v2-8b4d27b5e8220ac889715069493062a4_1440w.jpg)

### **UEFIæ¦å¿µ**

ç»ä¸å¯æ©å±åºä»¶æ¥å£ï¼UEFIï¼æ¯ä¸ç§ç°ä»£åºä»¶æ¥å£ï¼å®åä»£äºä¸ªäººè®¡ç®æºä¸çä¼ ç»BIOSï¼åºæ¬è¾å¥è¾åºç³»ç»ï¼ãUEFIä½ä¸ºæä½ç³»ç»ä¸è®¡ç®æºç¡¬ä»¶ç»ä»¶ä¹é´çå³é®çº½å¸¦ï¼ä¿è¿äºåå§åè¿ç¨ï¼å¹¶ä¸ºæä½ç³»ç»ä¸ç³»ç»åºä»¶ä¹é´çäº¤äºæä¾äºæ ååæ¹å¼ã

ä¸æ§çBIOSç¸æ¯ï¼UEFIæä¾äºå¤é¡¹ä¼å¿ï¼åæ¬æ¯ææ´å¤§å®¹éçå­å¨è®¾å¤ãæ´å¿«çå¯å¨éåº¦ãå¢å¼ºçå®å¨åè½åæ´åå¥½çç¨æ·çé¢ãå¼åUEFIçä¸»è¦å¨æºä¹ä¸æ¯åæBIOSçå±éæ§ï¼å¹¶ä¸ºåºä»¶å¼åæä¾ä¸ä¸ªæ´å çµæ´»åå¯æ©å±çå¹³å°ã

![img](https://pic3.zhimg.com/v2-8e50402ca68091ec20a8cbaaa5f1d294_1440w.jpg)

ä¸ºäºæ´å¥½å°çè§£UEFIï¼æä»¬å¯ä»¥èèä¸ä¸ªæ¶åè®¡ç®æºå¯å¨è¿ç¨çä¾å­ãå¨éå¤UEFIåºä»¶çç³»ç»ä¸­ï¼å½è®¡ç®æºéçµæ¶ï¼å¯å¨è¿ç¨å¼å§ãUEFIåºä»¶æ§å¶ç³»ç»å¹¶å¯å¨å çµèªæ£ï¼POSTï¼ï¼è¿æ¯ä¸ä¸ªè¯æ­è¿ç¨ï¼ç¨äºæ£æ¥ç¡¬ä»¶ç»ä»¶çå®æ´æ§ãPOSTæåå®æåï¼UEFIåºä»¶ä¼æ¥æ¾å¯å¯å¨è®¾å¤ã

å¨UEFIç³»ç»ä¸­ï¼åºä»¶ä¸UEFIå¯å¨ç®¡çå¨äº¤äºï¼åèæ¯ä¸ä¸ªè´è´£å è½½æä½ç³»ç»çè½¯ä»¶ç»ä»¶ãå¯å¨ç®¡çå¨ä¼æ¥éUEFIå¯å¨åéï¼è¿äºåéåå«æå³å¯ç¨å¯å¨éé¡¹åå¶ä¼åçº§çä¿¡æ¯ãè¿äºåéå­å¨å¨éæå¤±æ§å­å¨å¨ä¸­ï¼ç¨æ·æç³»ç»ç®¡çåå¯ä»¥å¯¹å¶è¿è¡ä¿®æ¹ä»¥èªå®ä¹å¯å¨éç½®ã

åè®¾è®¡ç®æºå¨åºæç¡¬çï¼SSDï¼ä¸å®è£äºæä½ç³»ç»ãUEFIåºä»¶å¨å¯å¨ç®¡çå¨çå¸®å©ä¸ï¼å®ä½SSDä¸EFIç³»ç»ååºï¼ESPï¼ä¸­å­å¨çUEFIå¼å¯¼å è½½ç¨åºãUEFIå¼å¯¼å è½½ç¨åºæ¯ä¸ä¸ªå°ç¨åºï¼å®äºè§£æä»¶ç³»ç»å¹¶ç¥éå¦ä½å°æä½ç³»ç»åæ ¸å è½½å°åå­ä¸­ã

ä¸æ¦UEFIå¼å¯¼å è½½ç¨åºå è½½äºæä½ç³»ç»åæ ¸ï¼æ§å¶æä¾¿è½¬ç§»ç»æä½ç³»ç»ï¼å¹¶åç¨æ·åç°ç¨æ·çé¢ãå¨æ´ä¸ªè¿ç¨ä¸­ï¼UEFIä¿è¿äºç¡¬ä»¶ä¸è½¯ä»¶ä¹é´çéä¿¡ï¼ç¡®ä¿äºé¡ºçä¸é«æçå¯å¨ä½éªã

å æ­¤ï¼UEFIæ¯ä¸ç§å³é®çåºä»¶æ¥å£ï¼ä¸ºåºä»¶å¼åæä¾äºæ åååå¯æ©å±çæ¡æ¶ï¼ä»èå®ç°äºæ§è½æåãå¯¹å¤§å®¹éå­å¨è®¾å¤çæ¯æä»¥åå¢å¼ºçå®å¨åè½ãä»BIOSå°UEFIçè½¬åæ å¿çç³»ç»åºä»¶åå±çä¸æ¬¡éå¤§è¿æ­¥ã

### **EFI ç³»ç»ååº**

ä½ä¸º Windows ç¨æ·ï¼æ¨å¯è½å·²ç»æ³¨æå°æä¸ä¸ªç¥ç§çâç³»ç»ä¿çâååºï¼

![img](https://pic3.zhimg.com/v2-8235681e522bd4dbffea1a9d596478be_1440w.jpg)

è¿æ¯ ESPï¼EFI ç³»ç»ååºï¼ââä¸ä¸ªç¨äºå¯å¨ç¬¦å EFI çç³»ç»çååºã

ESP éå¸¸æ¯ä¸ä¸ªéç¨ FAT32 æ ¼å¼åçååºï¼æå°ç©ºé´ä¸º 100MBï¼ä¸äºæåå»ºè®®ä¸º 512MBã

è¯¥ååºåå« **EFI åºç¨ç¨åº**ï¼è¿äºåºç¨ç¨åºéå¸¸ä½äºèªå·±çç®å½ä¸­ãå¯è½åå«å¤ä¸ª EFI åºç¨ç¨åºï¼å ä¸ºæ¨å¯è½å®è£äºå¤ä¸ªæä½ç³»ç»ã**å¨æçæç»´æ¨¡åä¸­ï¼æå°è¿äºç®å½è§ä¸ºæ¯ä¸ªæä½ç³»ç»çâææ§½âã**

å¦ææ¨æ³çè¯ï¼å¯ä»¥ä½¿ç¨åºæ¬ç Linux åç½®å·¥å·ï¼å¦ ã

 mkfs.fat -F 32ï¼ä»å¤´å¼å§åå»ºæ­¤ååºãåªéç¡®ä¿å°ååºç±»åè®¾ç½®ä¸º EFI ç³»ç»å³å¯ï¼

å¹¸è¿çæ¯ï¼ESP å¹¶ä¸ç¥å¥ââå®åªæ¯ä¸ä¸ªåå«æä»¶çååºï¼å¹¶ä¸æäºæä»¶è·¯å¾å·æç¹æ®å«ä¹ï¼å¦ææªæç¤ºå¯å¨éæ©ï¼åé»è®¤å¯å¨ç EFI åºç¨ç¨åºï¼ã

### **EFI åé**

EFIï¼Extensible Firmware  Interfaceï¼å¯æ©å±åºä»¶æ¥å£ï¼æ¯ç°ä»£è®¡ç®æºç³»ç»ä¸­ç¨æ¥æ¿ä»£ä¼ ç»BIOSçä¸ç§æ°æ åãå¨EFIçä¸çéï¼æä¸äºç¹å«çâåéâè¢«å­å¨å¨ä¸»æ¿çéæå¤±æ§éæºè®¿é®å­å¨å¨ï¼NVRAMï¼ä¸­ãè¿äºåéå°±åæ¯çµèçå°è®°äºæ¬ï¼å­å¨çä¸äºéè¦çè®¾ç½®åä¿¡æ¯ã

å¶ä¸­ï¼æä¸ä¸ªç¹å«éè¦çåéå«åâé»è®¤å¯å¨é¡¹âï¼âBootCurrentâï¼ï¼å®å°±åæ¯ä¸ä¸ªæéæèå°åï¼æåäºå¦ä¸ä¸ªåéãè¿ä¸ªè¢«æåçåéå¢ï¼å¶å®å°±æ¯ä¸ä¸ªå·ä½çå¯å¨é¡¹ï¼éé¢åå«äºè¦å¯å¨çEFIåºç¨ç¨åºï¼æ¯å¦æä½ç³»ç»ï¼çå®æ´è·¯å¾ï¼å°±åæ¯ä½ ææºä¸çæä¸ªAPPçå­å¨ä½ç½®ä¸æ ·ã

ä¸ä»å¦æ­¤ï¼è¿äºå¯å¨é¡¹åéè¿å¾è´´å¿ï¼å®ä»¬è¿è½é¢å¤å­å¨ä¸äºåæ°ï¼å°±åæ¯ä½ æå¼APPæ¶å¯ä»¥è®¾ç½®çä¸äºéé¡¹ãå¯¹äºLinuxç³»ç»æ¥è¯´ï¼æä¸ä¸ªç¹å«çEFIåºç¨ç¨åºå«åEFI  stubï¼å®å¯ä»¥ç´æ¥ä»EFIç¯å¢å¯å¨Linuxåæ ¸ï¼èä¸éè¦ä¼ ç»çå¼å¯¼å è½½ç¨åºï¼å¦GRUBï¼ãå¨è¿ä¸ªåºæ¯ä¸ï¼EFIåééå°±ä¼åå«Linuxåæ ¸å¯å¨æ¶éè¦çä¸äºå½ä»¤è¡åæ°ï¼æ¯å¦æå®æ ¹æä»¶ç³»ç»æå¨çååºãèå¦æä½¿ç¨GRUBè¿æ ·çå¼å¯¼å è½½ç¨åºï¼è¿äºåæ°å°±ä¼åå¨GRUBçéç½®æä»¶ä¸­ï¼èä¸æ¯EFIåééã

ææ£çæ¯ï¼è¿äºEFIåéæ¯å¯ä»¥ä»æä½ç³»ç»åé¨ç´æ¥ä¿®æ¹çï¼è¿æå³çï¼å¦æä½ æ³æ¹åå¯å¨é¡ºåºæèæ·»å æ°çå¯å¨é¡¹ï¼ä¸åéè¦åä»¥åé£æ ·éå¯çµèï¼ç¶åè¿å¥BIOSè®¾ç½®çé¢å»æä½äºãä½ åªéè¦å¨æä½ç³»ç»éæ¾å°ç¸åºçå·¥å·æå½ä»¤ï¼å°±å¯ä»¥è½»æ¾å®æè¿äºä»»å¡ï¼å¤§å¤§ç®åäºæä½è¿ç¨ã

### **EFI çå¯å¨è¿ç¨**

![img](https://pic2.zhimg.com/v2-619d71d4cb1f530eb42bf5acf89c7363_1440w.jpg)

ä¸»æ¿çåºä»¶åºæ¬ä¸æ»æ¯å­å¨å¨éªå­ä¸­ï¼è¿æ ·å®å°±å¯ä»¥è¢«åçº§ï¼ãEFI åéçå­å¨ä¹éè¦éªå­ï¼å ä¸ºå¦æå®ä»¬ä¸è½è¢«æ´æ¹ï¼é£ä¹å®ä»¬å°±ç§°ä¸ä¸æ¯çæ­£çâåéâã

### **EFI åéçå½±å**

è®©æä»¬ç¨æ´ç®åçè¯­è¨æ¥è§£éå³äºEFIåéçä¸äºå³é®ç¹ï¼

### **EFIåéæ¯ä»ä¹ï¼**

EFIï¼ç°å¨å¸¸è¢«ç§°ä¸ºUEFIï¼å³ç»ä¸å¯æ©å±åºä»¶æ¥å£ï¼åéæ¯å­å¨å¨è®¡ç®æºä¸­çå°æ°æ®åï¼å®ä»¬åå«äºä¸äºéè¦çè®¾ç½®åä¿¡æ¯ï¼æ¯å¦å¯å¨æ¶çéç½®åæ°ãæä½ç³»ç»éè¦çç¹æ®æä»¤ç­ãè¿äºåéå¯¹äºç¡®ä¿è®¡ç®æºåæä½ç³»ç»è½å¤é¡ºå©å¯å¨åè¿è¡éå¸¸éè¦ã

### **ä¸ºä»ä¹EFIåéä¼å½±åé©±å¨å¨åæ°ä¸»æ¿çå¼å®¹æ§ï¼**

å½ä½ æä¸ä¸ªç¡¬çï¼æä»¬ç§°ä¹ä¸ºé©±å¨å¨ï¼ä»ä¸å°çµèæ¢å°å¦ä¸å°æ¶ï¼å¯è½ä¼éå°é®é¢ãè¿æ¯å ä¸ºæ¯å°çµèçä¸»æ¿ï¼è´è´£è®¡ç®æºå¯å¨åç¡¬ä»¶äº¤äºçæ ¸å¿é¨ä»¶ï¼ä¸é½æèªå·±çEFIåéãè¿äºåééå¯è½åå«äºä¸äºç¹å®çè®¾ç½®æåæ°ï¼æ¯å¯å¨æä½ç³»ç»æ¶å¿éçãå¦ææ°ä¸»æ¿æ²¡æè¿äºç¹å®çè®¾ç½®ï¼é£ä¹ç³»ç»å¯è½æ æ³æ­£å¸¸å·¥ä½ã

### **Linux EFI stubæ¯ä¸ªå¥ï¼**

Linux EFI stubæ¯ä¸ä¸ªç¹æ®çå¯å¨æ¹å¼ï¼å®åè®¸Linuxåæ ¸ç´æ¥ä½ä¸ºEFIåºç¨ç¨åºæ¥å¯å¨ï¼èä¸éè¦ä¼ ç»çå¯å¨å è½½å¨ï¼å¦GRUBï¼ãè½ç¶è¿å¬èµ·æ¥å¾é·ï¼ä½å®éè¦ä¸äºé¢å¤çåæ°æ¥åè¯åæ ¸å¦ä½å¯å¨ï¼è¿äºåæ°å°±å­å¨å¨EFIåéä¸­ã

ä½ å¯è½ä¼æ³ï¼ä¸ºä»ä¹ä¸æææçEFIåéé½æ¾å¨é©±å¨å¨ä¸çä¸ä¸ªå°æ¹ï¼æ¯å¦ESPï¼å¢ï¼è¿æ ·æ¢çµèæ¶ä¸æ¯æ´æ¹ä¾¿åï¼ä½å®éä¸ï¼è¿æ ·åä¼æå®å¨é£é©ï¼å ä¸ºé©±å¨å¨å¯ä»¥è¢«éææ´æ¢ï¼å¦æå®å³å®äºè®¡ç®æºçå¯å¨æ¹å¼ï¼é£å°±å¯è½è¢«æ¶æå©ç¨ãæä»¥ï¼EFIåéå¤§é¨åè¿æ¯å­å¨å¨ä¸»æ¿ä¸çä¸ä¸ªç¹æ®åºåï¼NVRAMï¼ï¼è¿æ ·æ´å®å¨ã

ä¸åçä¸»æ¿å¶é åå¯è½ä¼ç¨ä¸åçæ¹å¼æ¥å­å¨EFIåéï¼è¿æå³çå®ä»¬çæ ¼å¼å¯è½ä¸åãå¯¹äºå¤§å¤æ°ç¨æ·æ¥è¯´ï¼è¿ä¸æ¯é®é¢ï¼å ä¸ºæä½ç³»ç»åEFIåºä»¶ä¼å¤çè¿äºç»èãä½æ¯ï¼å¦æä½ å¨èææºæç¹æ®ç¯å¢ä¸­å·¥ä½ï¼å¹¶éè¦æå¨è®¾ç½®è¿äºåéï¼é£å°±å¯è½ä¼éå°éº»ç¦ï¼å ä¸ºä½ éè¦ç¥éå¦ä½ä¸ç¹å®ä¸»æ¿çEFIåºä»¶äº¤äºã

EFIåéæ¯è®¡ç®æºå¯å¨è¿ç¨ä¸­çéè¦é¨åï¼å®ä»¬åå«äºå¯å¨ç³»ç»æéçå³é®ä¿¡æ¯åè®¾ç½®ãç±äºè¿äºåéå¯è½ä¾èµäºç¹å®çä¸»æ¿ååºä»¶ï¼æä»¥å¨æ´æ¢ç¡¬ä»¶æè¿è¡ç¹æ®éç½®æ¶éè¦æ ¼å¤æ³¨æãå¯¹äºå¤§å¤æ°ç¨æ·æ¥è¯´ï¼è¿äºåéæ¯èªå¨ç®¡ççï¼ä½äºè§£å®ä»¬çå·¥ä½åçå¯ä»¥å¸®å©ä½ æ´å¥½å°çè§£åè§£å³å¯å¨é®é¢ã

## **UEFIçæ¶æ**

UEFIçè®¾è®¡æ¯å»ºç«å¨å ä¸ªå³é®æ¦å¿µä¹ä¸çï¼

1. **å©ç¨ç°æçâè¡¨æ ¼å¼âæ¥å£**ï¼ä¸ºäºèçå¤§å®¶å¨æä½ç³»ç»ååºä»¶ä¸å·²ç»æå¥çæ¶é´åèµæºï¼UEFIéç¨äºè®¸å¤ç°æçæ åãè¿äºæ åå¨æ¯æç¹å®å¤çå¨çå¹³å°ä¸å¾å¸¸è§ãå¦æä½ æ³è¦ä½ çå¹³å°ç¬¦åUEFIçæ åï¼é£ä¹ä½ å°±éè¦å®ç°è¿äºæ åãç®åæ¥è¯´ï¼UEFIæ²¡æä»å¤´å¼å§åé æ°çä¸è¥¿ï¼èæ¯æå¤§å®¶å·²ç»çæçãå¥½ç¨çä¸è¥¿æ´åäºè¿æ¥ãï¼æ´å¤ç»èï¼ä½ å¯ä»¥æ¥çåèèµæãï¼
    
2. **ç³»ç»ååº**ï¼ç³»ç»ååºå°±åæ¯ä¸ä¸ªç¹æ®çåºåï¼å®æä¸ä¸ªç¹å«çæä»¶ç³»ç»ãè¿ä¸ªåºåå¯ä»¥è®©ä¸åçå¬å¸æç»ç»å®å¨å°å±äº«æ°æ®ï¼åæ¶æ»¡è¶³ä¸åçéæ±ãæäºè¿ä¸ªç³»ç»ååºï¼æä»¬å¯ä»¥å¨ä¸å¢å å¤ªå¤é¢å¤å­å¨ç©ºé´éæ±çæåµä¸ï¼è®©å¹³å°åå¾æ´å å¼ºå¤§åçµæ´»ã
    
3. **å¯å¨æå¡**ï¼å¯å¨æå¡å°±åæ¯å¨å¯å¨çµèæ¶æä¾çä¸äºå·¥å·åæ¥å£ï¼å®ä»¬å¯ä»¥å¸®å©æä»¬æ´å¥½å°ä½¿ç¨è®¾å¤åç³»ç»åè½ãè¿äºæå¡éè¿âå¥æâåâåè®®âæ¥ä¸è®¾å¤äº¤äºï¼è¿æ ·æä»¬å°±å¯ä»¥æ´å®¹æå°ä½¿ç¨ç°æçBIOSä»£ç ï¼èä¸éè¦æå¿å·ä½çå®ç°ç»èã
    
4. **è¿è¡æ¶æå¡**ï¼è¿äºæå¡æ¯å¨çµèæ­£å¸¸è¿è¡æ¶æä¾çãå®ä»¬ç¡®ä¿æä½ç³»ç»å¯ä»¥è½»æ¾å°è®¿é®åä½¿ç¨å¹³å°çåºæ¬ç¡¬ä»¶èµæºãè¿äºæå¡è¢«è®¾è®¡æéå¸¸åºç¡ä¸å¿è¦çï¼ä»¥ç¡®ä¿æä½ç³»ç»çç¨³å®è¿è¡ã
    

ä¸é¢çå¾è¡¨å±ç¤ºäºUEFIçä¸»è¦é¨åï¼ä»¥åå®ä»¬ä¸å¹³å°ç¡¬ä»¶åæä½ç³»ç»è½¯ä»¶ä¹é´çå³ç³»ã

![img](https://pic2.zhimg.com/v2-fb7406105d16c2e9973479a66180992b_1440w.jpg)

æ¬å¾å±ç¤ºäºç¬¦åUEFIè§èçç³»ç»åç»ä»¶ä¹é´çäº¤äºï¼è¿äºç»ä»¶ç¨äºå®æå¹³å°åæä½ç³»ç»çå¯å¨ã

å¹³å°åºä»¶è½å¤ä»ç³»ç»ååºä¸­è·åæä½ç³»ç»å è½½ç¨åºæ åãè¯¥è§èæ¯æå¤ç§å¤§å®¹éå­å¨è®¾å¤ç±»åï¼åæ¬ç£çãCD-ROMåDVDï¼ä»¥åéè¿ç½ç»è¿è¡è¿ç¨å¯å¨ãéè¿å¯æ©å±çåè®®æ¥å£ï¼å¯ä»¥æ·»å å¶ä»å¯å¨åªä½ç±»åã

ä¸æ¦å¯å¨ï¼æä½ç³»ç»å è½½ç¨åºå°ç»§ç»­å¼å¯¼å®æ´çæä½ç³»ç»ã

![img](https://pic1.zhimg.com/v2-638e57ca0edafb2ad3d4c5e00dffee80_1440w.jpg)

**ç¬¬ä¸æ®µ**ï¼  UEFIè®©å¹³å°åºä»¶åå¾æ´å å¼ºå¤§ï¼æ¹æ³æ¯éè¿å è½½UEFIé©±å¨ç¨åºååºç¨ç¨åºãä¸æ¦è¿äºé©±å¨ç¨åºååºç¨ç¨åºè¢«å è½½ï¼å®ä»¬å°±å¯ä»¥ä½¿ç¨UEFIæä¾çææè¿è¡æ¶åå¯å¨æå¡ãè¿å°±åç»ä½ ççµèå¹³å°åºä»¶å¢å äºå¾å¤æ°åè½ï¼èè¿äºæ°åè½é½æ¯æç§UEFIçè§åæ¥è¿è¡çãä½ å¯ä»¥ççä¸é¢çå¯å¨é¡ºåºå¾ï¼å®å±ç¤ºäºè¿ä¸åæ¯å¦ä½å·¥ä½çã

**ç¬¬äºæ®µ**ï¼  UEFIè¿åäºä¸ä»¶å¾é·çäºæï¼å®ææä½ç³»ç»å è½½ç¨åºåå¹³å°åºä»¶çå¯å¨èååå¹¶æäºä¸ä¸ªç»ä¸çå¹³å°åºä»¶èåãè¿æ ·ï¼ä½ å°±å¯ä»¥å¨è¿ä¸ªèåééæ©ä»»ä½æ¯æUEFIå¯å¨æå¡çå¯å¨ä»è´¨ä¸çä»»ä½ååºä¸çUEFIæä½ç³»ç»å è½½ç¨åºãUEFIæä½ç³»ç»å è½½ç¨åºè¿å¯ä»¥å¨ç¨æ·çé¢ä¸æ¾ç¤ºå¤ä¸ªéé¡¹ï¼è®©ä½ ææ´å¤çéæ©ãèä¸ï¼å¦æä½ è¿æ³ç¨èå¼çå¯å¨æ¹å¼ï¼æ¯å¦ä»AçæCçå¯å¨ï¼ï¼UEFIä¹æ¯æå¨å¹³å°åºä»¶å¯å¨èåä¸­å å¥è¿äºéé¡¹ã

**ç¬¬ä¸æ®µ**ï¼  UEFIæ¯æä»åå«UEFIæä½ç³»ç»å è½½ç¨åºæUEFIå®ä¹çç³»ç»ååºçä»è´¨å¯å¨ãå¦æä½ æ³ä»ç¡¬çè¿æ ·çåè®¾å¤å¯å¨ï¼é£ä¹UEFIè¦æ±å¿é¡»æä¸ä¸ªUEFIå®ä¹çç³»ç»ååºãä¸è¿ï¼UEFIå¹¶ä¸ä¼æ¹åååºçç¬¬ä¸ä¸ªæåºï¼è¿æå³çä½ å¯ä»¥åå»ºä¸ç§æ¢è½å¨èå¼æ¶æä¸å¯å¨ï¼åè½å¨UEFIå¹³å°ä¸å¯å¨çä»è´¨ãè¿æ ·ï¼æ è®ºä½ ççµèæ¯æåªç§å¯å¨æ¹å¼ï¼ä½ é½å¯ä»¥è½»æ¾å°ä½¿ç¨å®ã

é½å°è¿éäºï¼é£å°±åå¥½å¥½å¤èèå¯å¨ã

## **UEFIå¯å¨**

![img](https://pic4.zhimg.com/v2-b4303810d6fdb244251d9bd38133d893_1440w.jpg)

UEFI åå«å­ä¸ªä¸»è¦çå¯å¨æ­¥éª¤ï¼è¿äºæ­¥éª¤å¨å¹³å°çå¯å¨ååå§åè¿ç¨ä¸­é½æ®æ¼çè³å³éè¦çè§è²ãææè¿äºæ­¥éª¤å å¨ä¸èµ·ï¼æä»¬éå¸¸ç§°ä¹ä¸ºâå¹³å°åå§åâï¼Platform Initializationï¼ç®ç§° PIï¼ã

ä¸é¢æä¼ç®è¦ä»ç»æ¯ä¸ªé¶æ®µï¼å¸æè½å¸®å©æ¨å¯¹è¿ä¸ªè¿ç¨æä¸ä¸ªåºæ¬çäºè§£ã

>  DXE å RT è¿ä¸¤ä¸ªé¶æ®µï¼å¯¹äºåå­¦èæ¯è¾éè¦ã
>  

éå¸¸æ±æ­ï¼æä¹åçç¿»è¯ä¸­å¯è½å­å¨ä¸äºä¸å¤åç¡®çå°æ¹ãè®©æåæ¬¡å°è¯ï¼ç¡®ä¿æ¯ä¸ªé¶æ®µçæè¿°é½æ´å åç¡®ï¼

**å®å¨é¶æ®µï¼SECï¼**  è¿æ¯UEFIå¯å¨æµç¨çé¦è¦é¶æ®µï¼ä¸»è¦ç¨äºï¼åå§åä¸ä¸ªä¸´æ¶çåå­å­å¨åºåï¼ä½ä¸ºç³»ç»ä¿¡ä»»é¾çèµ·ç¹ï¼å¹¶åPre-EFIåå§åï¼PEIï¼é¶æ®µæä¾å¿è¦çä¿¡æ¯ãè¿ä¸ªä¿¡ä»»é¾çèµ·ç¹ç¡®ä¿äºå¨å¹³å°åå§åï¼PIï¼è¿ç¨ä¸­æ§è¡çä»»ä½ä»£ç é½ç»è¿å å¯éªè¯ï¼å³æ°å­ç­¾åï¼ï¼ä»èå»ºç«ä¸ä¸ªâå®å¨å¯å¨âçç¯å¢ã

**Pre-EFIåå§åé¶æ®µï¼PEIï¼** è¿æ¯å¯å¨æµç¨çç¬¬äºé¶æ®µï¼å®ä»å©ç¨CPUå½åçèµæºæ¥è°åº¦Pre-EFIåå§åæ¨¡åï¼PEIMï¼ãè¿äºæ¨¡åè´è´£æ§è¡å³é®çå¯å¨æä½åå§åï¼å¦åå­åå§åï¼åæ¶ä¹åè®¸å°æ§å¶æä¼ éç»é©±å¨ç¨åºæ§è¡ç¯å¢ï¼DXEï¼ã

**é©±å¨ç¨åºæ§è¡ç¯å¢ï¼DXEï¼** å¨DXEé¶æ®µï¼ç³»ç»çå¤§é¨ååå§åå·¥ä½é½ä¼åçãå¨PEIé¶æ®µï¼DXEæä½æéçåå­å·²ç»è¢«åéååå§åãå½æ§å¶æä¼ éç»DXEæ¶ï¼DXEè°åº¦å¨ä¼è¢«æ¿æ´»ãè°åº¦å¨è´è´£å è½½åæ§è¡ç¡¬ä»¶é©±å¨ç¨åºãè¿è¡æ¶æå¡åä»»ä½æä½ç³»ç»å¯å¨æéçå¯å¨æå¡ã

**å¯å¨è®¾å¤éæ©ï¼BDSï¼** ä¸æ¦DXEè°åº¦å¨å®æäºææDXEé©±å¨ç¨åºçæ§è¡ï¼æ§å¶æå°±ä¼ä¼ éç»BDSãè¿ä¸ªé¶æ®µè´è´£åå§åæ§å¶å°è®¾å¤åä»»ä½å©ä½çå¿éè®¾å¤ãç¶åï¼å®ä¼å è½½å¹¶æ§è¡éå®çå¯å¨é¡¹ï¼ä¸ºç¬æç³»ç»å è½½ï¼TSLï¼é¶æ®µååå¤ã

**ç¬æç³»ç»å è½½ï¼TSLï¼** å¨è¿ä¸ªé¶æ®µï¼PIæµç¨å¤äºå¯å¨è®¾å¤éæ©åå°æ§å¶æç§»äº¤ç»ä¸»æä½ç³»ç»ä¹é´çè¿æ¸¡é¶æ®µãæ­¤æ¶ï¼å¯è½ä¼è°ç¨ä¸ä¸ªåºç¨ç¨åºï¼å¦UEFI  shellï¼ï¼æèï¼æ´å¸¸è§çæ¯ï¼è¿è¡ä¸ä¸ªå¼å¯¼å è½½ç¨åºæ¥åå¤æç»çæä½ç³»ç»ç¯å¢ãå¼å¯¼å è½½ç¨åºéå¸¸è´è´£éè¿è°ç¨ExitBootServices()æ¥ç»æ­¢UEFIå¯å¨æå¡ãä½æ¯ï¼æä½ç³»ç»æ¬èº«ä¹å¯ä»¥æ§è¡è¿ä¸æä½ï¼æ¯å¦å¸¦æCONFIG_EFI_STUBçLinuxåæ ¸ã

**è¿è¡æ¶ï¼RTï¼** è¿æ¯æåçé¶æ®µï¼ä¹æ¯æä½ç³»ç»æ¥ç®¡ç³»ç»çæ¶å»ãå°½ç®¡æ­¤æ¶UEFIçå¯å¨æå¡å·²ç»ä¸åå¯ç¨ï¼ä½UEFIçè¿è¡æ¶æå¡ä»ç¶ä¿çç»æä½ç³»ç»ä½¿ç¨ï¼ä¾å¦ç¨äºæ¥è¯¢ååå¥NVRAMä¸­çåéã

**ç³»ç»ç®¡çæ¨¡å¼ï¼SMMï¼** SMMæ¯ä¸ä¸ªä¸è¿è¡æ¶é¶æ®µåå¼å­å¨çæ¨¡å¼ï¼å®å¯ä»¥å¨SMIï¼ç³»ç»ç®¡çä¸­æ­ï¼è¢«è§¦åæ¶è¿å¥ãç¶èï¼å¨è¿ä¸ªä»ç»ä¸­ï¼æä»¬ä¸ä¼æ·±å¥è®¨è®ºSMMã

### **UEFI å¯å¨ Flow (Windos)**

![img](https://pic3.zhimg.com/v2-7fd7d96098ef2567ccf6391048f89a9e_1440w.jpg)

ä»¥ä¸æ¯Windowsè®¡ç®æºå¯å¨çé¡ºåºé¶æ®µï¼

1. é¢å¯å¨ï¼PreBootï¼

è®¡ç®æºçåºä»¶å¯å¨å çµèªæ£ï¼POSTï¼ï¼å¹¶å è½½åºä»¶è®¾ç½®ãå½æ£æµå°ææçç³»ç»ç£çæ¶ï¼æ­¤é¢å¯å¨è¿ç¨ç»æãåºä»¶è¯»åä¸»å¼å¯¼è®°å½ï¼MBRï¼ï¼ç¶åå¯å¨Windowså¯å¨ç®¡çå¨ã

1. Windowså¯å¨ç®¡çå¨

Windowså¯å¨ç®¡çå¨å¨Windowså¯å¨ååºä¸æ¥æ¾å¹¶å¯å¨Windowså è½½ç¨åºï¼Winload.exeï¼ã

1. Windowsæä½ç³»ç»å è½½ç¨åº

å è½½å¯å¨Windowsåæ ¸æå¿éçåºæ¬é©±å¨ç¨åºï¼ç¶ååæ ¸å¼å§è¿è¡ã

1. Windows NTæä½ç³»ç»åæ ¸

åæ ¸å°ç³»ç»æ³¨åè¡¨éç½®åååæ è®°ä¸ºBOOT_STARTçå¶ä»é©±å¨ç¨åºå è½½å°åå­ä¸­ã

åæ ¸å°æ§å¶æä¼ éç»ä¼è¯ç®¡çå¨è¿ç¨ï¼Smss.exeï¼ï¼è¯¥è¿ç¨åå§åç³»ç»ä¼è¯ï¼å¹¶å è½½åå¯å¨æªæ è®°ä¸ºBOOT_STARTçè®¾å¤åé©±å¨ç¨åºã

![img](https://pica.zhimg.com/v2-418a6882f6ff40075b53d4df0391b106_1440w.jpg)

ä»åæ ¸ï¼ntoskrnl.exeï¼å°æ§è¡LogonUi.exeï¼æç¤ºç¨æ·äº¤äºçè¿ç¨ï¼çWindowså¯å¨è¿ç¨çç®åçæ¬ãå®è¢«åä¸ºäºä¸ªæ­¥éª¤ã

1. **å è½½æä½ç³»ç»åæ ¸**
    
2. **åå§ååæ ¸**
    
3. **å¯å¨å­ç³»ç»**
    
4. **å¯å¨ä¼è¯0**
    
5. **å¯å¨ä¼è¯1**
    

>  å°±ä¸è¯¦ç»å±å¼äºãæ³äºè§£ï¼ç¹ä¸ªèµï¼ä¸æ¬¡å±ä»¬èã
>  

### **UEFI å¯å¨ Flow (Linux)**



![img](https://picx.zhimg.com/v2-627d775040dd6dd09544669227678a61_1440w.jpg)

 ä½ æ¯å¦æ¾ç»å¥½å¥è¿ï¼å½ä½ æä¸Linuxæºå¨ççµæºæé®æ¶ï¼èååçäºä»ä¹ï¼

1ï¸â£ BIOS + UEFI

- åºæ¬è¾å¥è¾åºç³»ç»ï¼BIOSï¼æç»ä¸å¯æ©å±åºä»¶æ¥å£ï¼UEFIï¼æ¯è®¡ç®æºå¼æºæ¶é¦åè¿è¡çç¨åºï¼è´è´£ç¡¬ä»¶çåå§åä»¥åä»éå®çå¯å¨è®¾å¤å è½½å¼å¯¼å è½½ç¨åºã

2ï¸â£ ä¸»å¼å¯¼è®°å½ï¼Master Boot Loader, MBRï¼

- MBRæ¯ç¡¬ççç¬¬ä¸ä¸ªæåºï¼åå«äºç¨äºå è½½æä½ç³»ç»å¼å¯¼å è½½ç¨åºï¼å¦GRUBï¼çæä»¤ã

MBRï¼ä¸»å¼å¯¼è®°å½ï¼æ¯ç¡¬ççåå§ï¼ä¸»è¦ï¼æåºï¼å®æ è¯äºæä½ç³»ç»çä½ç½®ï¼ä»¥å®æå¯å¨è¿ç¨ã

MBRçä½ç½®åå³äºæ¨çç¡¬ä»¶ï¼å®å¯è½ä½äº/dev/hdaæ/dev/sdaã

å®æ¯ä¸ä¸ª512å­èçæ åï¼åå«ä»£ç ä»¥åä¸ä¸ªç®ç­çååºè¡¨ï¼è¿äºé½æå©äºå è½½/æ§è¡GRUBï¼å¼å¯¼å è½½ç¨åºï¼ã

3ï¸â£ å¼å¯¼å è½½ç¨åºï¼Boot Loaderï¼

- å¼å¯¼å è½½ç¨åºï¼å¦GRUBï¼è´è´£å è½½æä½ç³»ç»åæ ¸å°åå­ä¸­ãå®åè®¸ç¨æ·éæ©å¯å¨åªä¸ªæä½ç³»ç»ï¼å¦æå®è£äºå¤ä¸ªçè¯ï¼ã

Linuxæå¤ä¸ªå¼å¯¼å è½½ç¨åºï¼å¶ä¸­æå¸¸è§çæ¯GRUBåLILOï¼èGRUB2æ¯ææ°çæ¬ä¹ä¸ã

å½ä½ å¯å¨è®¡ç®æºæ¶ï¼éå¸¸é¦åçå°çæ¯GRand Unified Boot loaderï¼GRUBï¼ã

å®ç±ä¸ä¸ªç®åçèåç»æï¼è¯¥èåä½¿ç¨é®çæ¾ç¤ºéé¡¹ï¼ä»¥ä¾¿ä½ éæ©è¦å¯å¨çåæ ¸ï¼å¦æä½ å®è£äºå¤ä¸ªåæ ¸æ åï¼ã

å¨åç³»ç»å¯å¨æ¶ï¼GRUB2åè®¸ä½ éæ©è¦å¯å¨çæä½ç³»ç»ã

![img](https://pic3.zhimg.com/v2-b3e3d034c5dbedff6d2858f48edf30b0_1440w.jpg)

4ï¸â£ åæ ¸ï¼Kernelï¼

- åæ ¸æ¯æä½ç³»ç»çæ ¸å¿ï¼è´è´£ç®¡çç¡¬ä»¶ãæä¾åºæ¬æå¡ï¼å¦è¿ç¨è°åº¦ãåå­ç®¡çç­ï¼ï¼å¹¶ä½ä¸ºç¨æ·ç¨åºä¸ç¡¬ä»¶ä¹é´çæ¡¥æ¢ã



![img](https://pic4.zhimg.com/v2-5bb9100b194f4aa88fd274bca2f55641_1440w.jpg)

 åæ ¸å®å¨æ§å¶ä½ ç³»ç»ä¸­çä¸åï¼å æ­¤è¢«ç§°ä¸ºæä½ç³»ç»çæ ¸å¿ã

åæ ¸æ¯èªè§£åçï¼å¹¶ä»¥åç¼©æ ¼å¼å­å¨ä»¥èçç©ºé´ã

ä¸æ¦éå®çåæ ¸è¢«å è½½å°åå­ä¸­å¹¶å¼å§æ§è¡ï¼å®ä¼å¨æ§è¡ä»»ä½æç¨ä»»å¡ä¹ååè§£åèªå·±ã

ä¸æ¦ç±å¼å¯¼å è½½ç¨åºå è½½ï¼åæ ¸ä¼æè½½æ ¹æä»¶ç³»ç»å¹¶åå§å/sbin/initç¨åºï¼è¯¥ç¨åºéå¸¸è¢«ç§°ä¸ºinitã

5ï¸â£ åå§RAMç£ç-initramfséå

- initramfsæ¯ä¸ä¸ªå¨åæ ¸å¯å¨è¿ç¨ä¸­è¢«æè½½ä¸ºæ ¹æä»¶ç³»ç»çä¸´æ¶åå­æä»¶ç³»ç»ãå®åå«äºå¯å¨è¿ç¨ä¸­åæ ¸æéçé©±å¨ç¨åºåèæ¬ã

åå§RAMç£çæ¯ä¸ä¸ªåå§/ä¸´æ¶çæ ¹æä»¶ç³»ç»ï¼å®å¨çæ­£çæ ¹æä»¶ç³»ç»å¯ç¨ä¹åè¢«æè½½ã

è¿ä¸ªinitramfsæ ååµå¥å¨åæ ¸ä¸­ï¼å¹¶åå«æè½½çæ­£æ ¹æä»¶ç³»ç»æéçæå°äºè¿å¶æä»¶ãæ¨¡ååç¨åºã

6ï¸â£ /sbin/initï¼ä¹ç§°ä¸ºinitï¼[ç¶è¿ç¨]

- initæ¯ç³»ç»å¯å¨åè¿è¡çç¬¬ä¸ä¸ªç¨æ·ç©ºé´ç¨åºï¼å®æ¯ææå¶ä»ç¨æ·ç©ºé´è¿ç¨çç¶è¿ç¨ãå®è´è´£å¯å¨ç³»ç»ä¸çå¶ä»è¿ç¨ï¼å¹¶æ ¹æ®éç½®æä»¶ï¼å¦/etc/inittabæsystemdçéç½®ï¼è®¾ç½®è¿è¡çº§å«ã

ä¸æ¦å è½½ï¼initæ¯åæ ¸é¦åæ§è¡çå½ä»¤ä¹ä¸ã

è¿ä¸ªç¨åºç®¡çå©ä½çå¯å¨è¿ç¨ï¼å¹¶ä¸ºç¨æ·è®¾ç½®ç¯å¢ã

åºæ¬ä¸ï¼å¨è¿ä¸ªé¶æ®µï¼ç³»ç»ä¼æ§è¡å¨ç³»ç»åå§åæé´æéçä¸åæä½ï¼æ£æ¥æä»¶ç³»ç»ãéç½®æ¶éãåå§åä¸²è¡ç«¯å£ç­ã

é¤äºå¯å¨ç³»ç»å¤ï¼initå½ä»¤è¿æå©äºä¿æç³»ç»æ­£å¸¸è¿è¡å¹¶æ­£ç¡®å³é­ç³»ç»ã

7ï¸â£ ä½¿ç¨Gettyçå½ä»¤è¡çé¢

- Gettyæ¯ä¸ä¸ªç¨äºæå¼ææ¬ç»å½ä¼è¯çç¨åºãå¨ç³»ç»å¯å¨åï¼å®ä¼ä¸ºæ¯ä¸ªç»ç«¯æèææ§å¶å°å¯å¨ä¸ä¸ªç»å½ä¼è¯ã

Gettyæ¯âget ttyâï¼tty-çµä¼ æå­æºï¼çç¼©åï¼å®æ¯ä¸ä¸ªå¨ä¸»æºä¸è¿è¡çUNIXç¨åºï¼ç¨äºç®¡çç©çæèæç»ç«¯ã

Gettyä¼æå¼TTYè¡ï¼è®¾ç½®å®ä»¬çæ¨¡å¼ï¼æå°ç»å½æç¤ºç¬¦ï¼è·åç¨æ·åï¼ç¶åä¸ºç¨æ·å¯å¨ç»å½è¿ç¨ã

ä¹åï¼ç¨æ·å¨éè¿èº«ä»½éªè¯åå¯ä»¥å¼å§ä½¿ç¨ç³»ç»ã

8ï¸â£ systemd

- systemdæ¯ç°ä»£Linuxç³»ç»ä¸çç³»ç»åæå¡ç®¡çå¨ï¼è´è´£åå§åç³»ç»ãç®¡çç³»ç»æå¡ãå¯å¨å®æ¤è¿ç¨ç­ãå®åä»£äºä¼ ç»çinitç³»ç»ï¼å¹¶æä¾äºæ´ä¸°å¯çåè½åæ´å¥½çæ§è½ã

ä¸è¿°æå°çé¡ºåºå¯å¨æ¹æ³ç¸å½ä¼ ç»ï¼å±äºUNIXçSystem Våä½ï¼ä¹ååçäºç¨systemdæ¿ä»£systemvè¿ä¸æäºè®®çäºä»¶ã

ä¸æ¹é¢ï¼SysVinitï¼ä¼ ç»çinitç³»ç»-System Vï¼éµå¾ªé¡ºåºè¿ç¨ï¼å¦ä¸æ¹é¢ï¼systemdåå©ç¨äºç°ä»£å¤å¤çå¨/å¤æ ¸è®¡ç®æºçå¹¶è¡å¤çè½åã

>  æ³¨æï¼systemdå¨å è½½åç±åæ ¸åå§åï¼ä¹åsystemdå¯å¨æéçä¾èµé¡¹å¹¶å¤çå¶ä½é¨åã
>  

systemdéè¿åæ¶/å¹¶è¡å¯å¨å¤ä¸ªè¿ç¨æ¥ç®åå¯å¨è¿ç¨å¹¶ç¼©ç­å¯å¨æ¶é´ã

9ï¸â£ X Windowsç³»ç»

- X Windowsç³»ç»ï¼ç°å¨éå¸¸è¢«ç§°ä¸º[http://X.org](https://link.zhihu.com/?target=http%3A//X.org) Serverï¼æ¯Linuxä¸å¹¿æ³ä½¿ç¨çå¾å½¢æå¡å¨ï¼å®è´è´£æ¾ç¤ºå¾å½¢ç¨æ·çé¢ï¼GUIï¼ãå¨X Windowsç³»ç»å¯å¨åï¼ç¨æ·å¯ä»¥è¿è¡å¾å½¢åºç¨ç¨åºï¼å¹¶éè¿é¼ æ åé®çä¸ç³»ç»è¿è¡äº¤äºã

X Windowsç³»ç»æ¯ä¸ä¸ªå¼æºçå®¢æ·ç«¯-æå¡å¨ç³»ç»ï¼å®å®ç°äºçªå£åçå¾å½¢ç¨æ·çé¢ï¼GUIï¼ã

å®ä¹è¢«ç§°ä¸ºXï¼å®ä¸ºGUIç¯å¢æä¾äºåºæ¬ç»æï¼åæ¬å¨æ¾ç¤ºè®¾å¤ä¸ç»å¶åç§»å¨çªå£çè½åï¼ä»¥åä¸é¼ æ åé®çéä¿¡çè½åã

Linuxçå¯å¨è¿ç¨éå¸¸çµæ´»ä¸ä¸æ­æ¹è¿ï¼æ¯æå¹¿æ³çå¤çå¨åç¡¬ä»¶å¹³å°ãä¸è¿°ååºçææåå®¹å¹¶ä¸ä¸å®å®å¨åç¡®å°æè¿°äºæ¨æºå¨çå¯å¨è¿ç¨ï¼æäºé¶æ®µçè³å¯ä»¥éè¿ä¸äºè°æ´æ¥è·³è¿ã

å°è¿éï¼ä½ è¯´æä»¬è¿æå®å¨çä¸èå å¥å³äºå®å¨å¯å¨çï¼å¥½åè¯´ä¸è¿å»ã

## **UEFIå®å¨å¯å¨**

**å®å¨å¯å¨ãWindowsä¸å¯é¥ç®¡ç**

**UEFIï¼ç»ä¸å¯æ©å±åºä»¶æ¥å£ï¼è§è**æ ¸å¿å®ä¹äºä¸ä¸ªç§°ä¸º**å®å¨å¯å¨**çåºä»¶æ§è¡è®¤è¯æµç¨ãä½ä¸ºè¡ä¸æ åï¼å®å¨å¯å¨è¯¦ç»è§å®äºå¹³å°åºä»¶å¦ä½ç®¡çè¯ä¹¦ãéªè¯åºä»¶ï¼ä»¥åæä½ç³»ç»å¦ä½ä¸æ­¤éªè¯è¿ç¨è¿è¡äº¤äºã

**å®å¨å¯å¨**åºäº**å¬é¥åºç¡è®¾æ½ï¼PKIï¼æµç¨ï¼å¨åè®¸ä»»ä½æ¨¡åæ§è¡åï¼åå¯¹å¶è¿è¡ä¸¥æ ¼è®¤è¯ãè¿äºæ¨¡åå¹¿æ³åæ¬åºä»¶é©±å¨ç¨åºãéé¡¹ROMãç£çä¸çUEFIé©±å¨ç¨åºãUEFIåºç¨ç¨åºæUEFIå¼å¯¼å è½½ç¨åºãéè¿æ§è¡åçéåè®¤è¯æºå¶ï¼å®å¨å¯å¨ææéä½äºå¦rootkitç­é¢å¯å¨æ¶æè½¯ä»¶æ»å»çé£é©ãå¨Windows 8åæ´é«çæ¬ä¸­ï¼å¾®è½¯ä¾èµäºUEFIå®å¨å¯å¨ä½ä¸ºå¶å¯ä¿¡å¯å¨å®å¨æ¶æ**çå³é®ç»æé¨åï¼æ¨å¨ä¸ºå®¢æ·æåå¹³å°å®å¨æ§ã

**å¯¹äºWindows 8åæ´é«çæ¬çå®¢æ·ç«¯PCï¼ä»¥åWindows Server 2016ï¼å®å¨å¯å¨æ¯å¼ºå¶è¦æ±**çï¼è¿ä¸è§å®æç¡®ä½ç°å¨Windowsç¡¬ä»¶å¼å®¹æ§è¦æ±ä¸­ã

**å®å¨å¯å¨æµç¨çå·¥ä½åçç®è¿°å¦ä¸**ï¼å¦å¾1æç¤ºï¼ï¼

1. **åºä»¶å¯å¨ç»ä»¶**ï¼åºä»¶é¦åéªè¯æä½ç³»ç»å è½½ç¨åºï¼å¦Windowsæå¶ä»åä¿¡ä»»çæä½ç³»ç»ï¼çå¯ä¿¡åº¦ã
    
2. **Windowså¯å¨ç»ä»¶**ï¼åæ¬BootMgrãWinLoadåWindowsåæ ¸å¯å¨è¿ç¨ãè¿äºç»ä»¶ä¼éä¸éªè¯åèªç»ä»¶çç­¾åãä»»ä½æªéè¿éªè¯çç»ä»¶å°è¢«é»æ­¢å è½½ï¼å¹¶è§¦åå®å¨å¯å¨ä¿®å¤æºå¶ã
    
3. **é²çæ¯ä¸åæ¶æè½¯ä»¶è½¯ä»¶åå§å**ï¼æ­¤é¶æ®µä¼æ£æ¥è¿äºè½¯ä»¶æ¯å¦æ¥æå¾®è½¯é¢åçç¹æ®ç­¾åï¼ä»¥ç¡®ä¿å¶ä¸ºåä¿¡ä»»çå³é®å¯å¨é©±å¨ç¨åºï¼å¹¶å¨å¯å¨è¿ç¨ä¸­å°½æ©å¯å¨ã
    
4. **å³é®å¯å¨é©±å¨ç¨åºåå§å**ï¼WinLoadå¨æ§è¡å®å¨å¯å¨éªè¯æ¶ï¼ä¼æ£æ¥ææå³é®å¯å¨é©±å¨ç¨åºçç­¾åã
    
5. **å¶ä»æä½ç³»ç»åå§å**
    
6. **Windowsç»å½å±å¹**
    

![img](https://pic1.zhimg.com/v2-6176a64cb3dca49fdd0cbbdeb6fe239e_1440w.jpg)

**UEFIå®å¨å¯å¨çå®æ½**æ¯å¾®è½¯èªWindows 8.1ä»¥æ¥å¼å¥ç**å¯ä¿¡å¯å¨æ¶æ**çéè¦ä¸ç¯ãéçæ¶æè½¯ä»¶æ¼æ´å©ç¨ææ¯çä¸æ­åå±ï¼å°å¯å¨è·¯å¾ä½ä¸ºé¦éæ»å»åéçè¶å¿æ¥çææ¾ã

ç±äºæ¶æè½¯ä»¶è½å¤é»æ­¢é²çæ¯äº§åå®å¨å è½½ï¼ä»èä½¿å¶å¤±æï¼å æ­¤è¿ç±»æ»å»å°¤ä¸ºé¾ä»¥é²èãç¶èï¼éè¿Windowså¯ä¿¡å¯å¨æ¶æåå¶ä¸å®å¨å¯å¨å±åå»ºç«ç**ä¿¡ä»»æ ¹**ï¼å®¢æ·å¯ä»¥ç¡®ä¿å¨æä½ç³»ç»æ¬èº«å è½½ä¹åï¼ä»æç»è¿ç­¾ååè®¤è¯çâå·²ç¥è¯å¥½âä»£ç åå¼å¯¼å è½½ç¨åºè½å¤æ§è¡ï¼ä»èææé²æ­¢å¯å¨è·¯å¾ä¸­çæ¶æä»£ç æ§è¡ã

## **UEFIçèµæ**

æååäº«ä¸ç¹èµæãèµæå¤ªå¤ï¼åèä¼éæ©å°é¾çç¶ï¼æä»¥æå°±åæ¨èä¸ä¸ªå§ï¼ç¨äºç³»ç»å­¦ä¹ ãå°é¨åäºè§£ãä»¥åå®é æä½ã

### **ææ¡£**

- UEFI/2.10ï¼[https://uefi.org/specs/UEFI/2.10/02_Overview.html](https://link.zhihu.com/?target=https%3A//uefi.org/specs/UEFI/2.10/02_Overview.html)

### **åå®¢**

- ç¥ä¹ï¼èç¼

### **å®æ**



![img](https://pica.zhimg.com/v2-448304d1e58a6a0d635cb79c064750b8_1440w.jpg)

 è±ç¹å°æååå¸äºåå§EFIè§èçå¼æºå®ç°ï¼å³EFIå¼åå·¥å·åï¼EDKï¼ãå¨UEFIåPIçå¼åè¿ç¨ä¸­ï¼è¿ä¸ªå¼æºé¡¹ç®ç»§ç»­åå±ä¸ºEDK2ãè¯¥é¡¹ç®çä¸»è¦ç®æ æ¯éå¯¹åºä»¶å¼åäººåå¼åãæµè¯åè°è¯UEFIé©±å¨ç¨åºãå¯éROMååºç¨ç¨åºã

æ¨èçå¼åå·¥å·çç®ç­åè¡¨ï¼

- EDK2

é¦åæ¯EDK2é¡¹ç®ï¼å®è¢«æè¿°ä¸ºâä¸ä¸ªç°ä»£çãåè½ä¸°å¯çãè·¨å¹³å°çåºä»¶å¼åç¯å¢ï¼ç¨äº[[http://www.uefi.org](https://link.zhihu.com/?target=http%3A//www.uefi.org)]çUEFIåPIè§èãâEDK2é¡¹ç®ç±è®¸å¤åæ ·ä¸ºUEFIè§èååºè´¡ç®çåä¸æ¹äººï¼ä»¥åç¤¾åºå¿æ¿èï¼å¼ååç»´æ¤ã

è¿éå¸¸æå¸®å©ï¼å ä¸ºEDK2ä¿è¯åå«ææ°çUEFIåè®®ï¼åè®¾æ¨ä½¿ç¨çæ¯ä¸»åæ¯ï¼ãé¤æ­¤ä¹å¤ï¼è¿ææ æ°é«è´¨éçé¡¹ç®ä¾æ¨åèãä¸ä¸ªä¾å­æ¯å¼æ¾èææºåºä»¶ï¼OVMFï¼ãè¿æ¯ä¸ä¸ªæ¨å¨ä¸ºèææºæä¾UEFIæ¯æçé¡¹ç®ï¼å®çææ¡£éå¸¸é½å¨ã

EDK2çä¸ä¸ªä¸»è¦ç¼ºç¹æ¯ç¬¬ä¸æ¬¡è®¾ç½®æå»ºç¯å¢çè¿ç¨ââè¿æ¯ä¸ä¸ªæ¼«é¿èè°å·¨çè¿ç¨ï¼å³ä½¿ä»ä»¬æâå¼å§ä½¿ç¨EDK2âæåå°½å¯è½ç®åè¿ä¸ªè¿ç¨ï¼å¯¹äºæ°ææ¥è¯´ä»ç¶å¯è½æå°å°æã

- VisualUefi

VisualUefié¡¹ç®æ¨å¨åè®¸å¨Visual Studioåé¨è¿è¡EDK2å¼åãæä»¬å»ºè®®æ¨å¼å§å¼åæ¶ï¼ä½¿ç¨EDK2å½ä»¤è¡ä¸­çæå»ºå·¥å·èä¸æ¯è¿ä¸ªé¡¹ç®ï¼ä»¥è®©æ¨çæå¹³å°ã

æ­¤å¤ï¼VisualUefiæä¾çå¤´æä»¶ååºæ¯å®æ´EDK2åºçä¸ä¸ªå­éï¼å æ­¤æ¨å¯è½ä¼åç°æ¨éè¦çä¸æ¯ææä¸è¥¿é½å®¹æè·åãç¶èï¼ä¸EDK2ç¸æ¯ï¼å®çè®¾ç½®è¦ç®åå¾å¤ï¼å æ­¤éå¸¸åå°ç­è¡·äºä½¿ç¨Visual Studioçç¨æ·çéçã

- è°è¯

å³äºè°è¯ï¼æå ä¸ªéé¡¹å¯ä¾æ¨éæ©ï¼æ¯ä¸ªéé¡¹é½æå¶ä¼ç¼ºç¹ãè¿äºå°å¨ä¸é¢ååºï¼æ¨æåæ¬¢åªä¸ä¸ªç±æ¨èªå·±å³å®ãå¨æ¬ç³»åçç¬¬äºé¨åä¸­ï¼æä»¬å°åæ¨å±ç¤ºå¦ä½è°è¯ä¸ä¸ªç¤ºä¾é©±å¨ç¨åºï¼æä»¥å¨æ­¤ä¹åï¼æ¨å¯è½æ³è¦å®è£ææè¿äºï¼æèä¸ä¸ªä¹ä¸å®è£ï¼ï¼ä»¥å¸®å©æ¨ååºææºçå³å®ï¼ + QEMU -  ä¸ä¸ªå¤å¹³å°æ¨¡æå¨ï¼å°½ç®¡å¨Linuxä¸æå¥½ï¼ï¼ç±äºå®æ¯ä¸ä¸ªæ¨¡æå¨èä¸æ¯èææºï¼å æ­¤æä¾äºæå¥½çè°è¯è®¾æ½ãå®çè®¾ç½®ç¸å½å¤æï¼èä¸ä¸å®çåç±»ç¸æ¯ï¼å®ä¹ç¸å½æ¢ã + VirtualBox - ä¸ä¸ªå¥½çå¤å¹³å°è§£å³æ¹æ¡ï¼é¤äºç±äºéæå¤±æ§éæºå­åå­å¨å¨ï¼NVRAMï¼ä»¿çç¸å½å·®å²èé­ååå­ä¸¢å¤±çé®é¢ã +  VMware -  æä¾è¯å¥½çæ§è½åæ­£ç¡®å·¥ä½çNVRAMä»¿çãå¦æå®¢æ·æºåä¸»æºé½æ¯Windowsï¼å®ä¸WinDbgéåä½¿ç¨è¿è¡TSLåRTé¶æ®µçè°è¯ææéå¸¸å¥½ã

------

åé¿æçç¼ºç¹å°±æ¯ï¼ææ¶åä¸ä¸ªç¹èçå°½å´äºï¼å®¹æé£é¨ååå¾èè¿ãé½ç¥éç¼ºç¹äºï¼æ¹æ­£åºè¯¥å°±ä¸è¿äºã

AnyWayï¼ä¸æ¬¡èï¼

## [æ¥ï¼ä¸åæ¥äºè§£ä¸PCIe Switch](https://zhuanlan.zhihu.com/p/11888184041)

[![æ å¥è°è¯](https://pic1.zhimg.com/50/v2-3507a92ef3d891319e8e53df6d794dfb_l.jpg?source=b6762063)](https://www.zhihu.com/people/conv-43)

[æ å¥è°è¯](https://www.zhihu.com/people/conv-43)

åæ²¿æºè½æ¢ç´¢è/è¯çé¢åè·µè¡è

54 äººèµåäºè¯¥æç« 

![æ¥ï¼ä¸åæ¥äºè§£ä¸PCIe Switch](https://picx.zhimg.com/v2-d926efef29c9e8658df35a2a90d65ff3_720w.jpg?source=7e7ef6e2&needBackground=1)

ãæãæ¾ç»å°±å¨å»å¹´ï¼ä»¥åéSS26ä¸ºä»£è¡¨çPCle Switchè¯çéæ±å¼å¸¸å¤ï¼ä¸ä»ç°è´§å°ï¼æ¥ä»·è¿ä»**5500ç¾åé£å°20000ç¾å**ï¼è¿æ¯ä¸ªä»ä¹é¬¼ï¼æä»¬ä¸åæ¥çç

![img](https://pic3.zhimg.com/v2-34dc2ba0b72a398d60bfe4c0108e5010_1440w.jpg)

å¨ä»å¤©çä¿¡æ¯ååæºè½åç¤¾ä¼ï¼PCIeï¼Peripheral Component Interconnect Expressï¼ææ¯å·²ç»æä¸ºè®¡ç®æºç¡¬ä»¶ä¸­ä¸å¯æç¼ºçä¸é¨åãPCIe (Peripheral  Component Interconnect Express)  ï¼ç®ç§°PCI-Eï¼å®æ¹ç®ç§°PCIeï¼æ¯ç»§ISAåPCIæ»çº¿ä¹åçç¬¬ä¸ä»£I/Oæ»çº¿ï¼æ¯ä¸ç§è®¾å¤é«éè¿æ¥æ åï¼å·å¤æ°æ®ä¼ è¾éçé«ï¼æå¹²æ°è½åå¼ºï¼ä¼ è¾è·ç¦»è¿ï¼åèä½ç­ä¼ç¹ã

PCIe  Switchï¼é¡¾åæä¹ï¼æ¯ä¸ç§ç¡¬ä»¶è®¾å¤ï¼å®å¨PCIeæ»çº¿ä¸­æ®æ¼çäº¤éæ¢çº½çè§è²ãå®ä¸ä»å¯ä»¥æ©å±ç³»ç»çè¿æ¥è½åï¼åè®¸å¤ä¸ªè®¾å¤éè¿åä¸ªPCIeç«¯å£æ¥å¥ï¼è¿è½å®ç°è®¾å¤é´çæ°æ®äº¤æ¢åéä¿¡ãå¨é«æ§è½è®¡ç®ãæå¡å¨éç¾¤ãæ°æ®ä¸­å¿ç­åºæ¯ä¸­ï¼PCIe Switchçä½ç¨æåå¸æ¾ã

## â  PCIeæ»çº¿çææç»æ

PCIeéç¨çæ¯æ å½¢ææç»æï¼ ä¸è¬ç±æ ¹ç»ä»¶(Root Complex)ï¼äº¤æ¢è®¾å¤(Switch)ï¼ç»ç«¯è®¾å¤(Endpoint)ç­ç±»åçPCIeè®¾å¤ç»æ

Root Complex: æ ¹æ¡¥è®¾å¤ï¼æ¯PCIeæéè¦çä¸ä¸ªç»æé¨ä»¶ï¼ Root Complexä¸»è¦è´è´£PCIeæ¥æçè§£æåçæãRCæ¥åæ¥èªCPUçIOæä»¤ï¼çæå¯¹åºçPCIeæ¥æï¼æèæ¥åæ¥èªè®¾å¤çPCIe TLPæ¥æï¼è§£ææ°æ®ä¼ è¾ç»CPUæèåå­ã

Switch: PCIeçè½¬æ¥å¨è®¾å¤ï¼ç®çæ¯æ©å±PCIeæ»çº¿ãåPCIå¹¶è¡æ»çº¿ä¸åï¼PCIeçæ»çº¿éç¨äºé«éå·®åæ»çº¿ï¼å¹¶éç¨ç«¯å°ç«¯çè¿æ¥æ¹å¼,  å æ­¤å¨æ¯ä¸æ¡PCIeé¾è·¯ä¸­ä¸¤ç«¯åªè½åè¿æ¥ä¸ä¸ªè®¾å¤ï¼  å¦æéè¦æè½½æ´å¤çPCIeè®¾å¤ï¼é£å°±éè¦ç¨å°switchè½¬æ¥å¨ãswitchå¨linuxä¸ä¸å¯è§ï¼è½¯ä»¶å±é¢å¯ä»¥çå°çæ¯switchçä¸è¡å£ï¼upstream portï¼ é è¿RCçé£ä¸ä¾§) åä¸è¡å£(downstream port)ã

ä¸è¬èè¨ï¼ä¸ä¸ªswitch åªæä¸ä¸ªupstream portï¼ å¯ä»¥æå¤ä¸ªdownstream port.

PCIe endponit: PCIeç»ç«¯è®¾å¤ï¼æ¯PCIeæ å½¢ç»æçå¶å­èç¹ãæ¯å¦ç½å¡ï¼NVMEå¡ï¼æ¾å¡é½æ¯PCIe epè®¾å¤ã



![img](https://pic2.zhimg.com/v2-85666f60fd70572e397a747bb484ba81_1440w.jpg)

å¨çPCIeäº¤æ¢è¯çï¼PCIe Switchï¼æ ¸å¿åååæ¬BroadcomãMicrochipåTexas  Instrumentsç­ï¼åä¸å¤§ååå æå¨çå¤§çº¦80%çä»½é¢ãäºå¤ªæ¯æå¤§çå¸åºï¼å æå¤§çº¦75%çä»½é¢ãäº§åç±»åèè¨ï¼PCIe  3.0æ¯æå¤§çç»åï¼å æå¤§çº¦47%çä»½é¢ãå°±ä¸æ¸¸æ¥è¯´ï¼ä¼ä¸çº§æ¯æå¤§çä¸æ¸¸é¢åï¼å æçº¦45%çä»½é¢ã

 æ ¹æ®ä¸åäº§åç±»åï¼PCIeäº¤æ¢è¯çç»åä¸ºï¼PCIe 2.0ãPCIe 3.0ãPCIe 4.0ãPCIe 5.0ãPCIe 6.0

## â¡ PCIe Switchè¯ç

PCIe Switchï¼å³PCIeå¼å³æPCIeäº¤æ¢æºï¼ä¸»è¦ä½ç¨æ¯å®ç° PCIe è®¾å¤äºèï¼åæå¡å¨è¦å®ç°CPUãGPUç­ç»ä»¶äºèï¼å°±ç¦»ä¸å¼å®ã

æäºPCle Switchï¼PCleä»ç«¯å¯¹ç«¯çè¿æ¥ï¼åæå¤æ¡æ»çº¿è¿æ¥ï¼æææå±äºé¾è·¯ï¼å½¢æä¸ä¸ªé«éçPCIeäºèç½ç»ï¼ä»èå®ç°å¤è®¾å¤éä¿¡ã

PCle Switchçé«å¯æå±æ§ãä½åèãä½å»¶è¿ãé«å¯é æ§ãé«çµæ´»æ§ç­ä¼å¿ï¼ä½¿ä¹å¹¿æ³åºç¨äºæºå¨å­¦ä¹ ãäººå·¥æºè½ãè¶èåé¨ç½²åå­å¨ç³»ç»ä¸­ã



![img](https://pica.zhimg.com/v2-47a9c3ad75fbd27c28c488329204d8d8_1440w.jpg)

è±ä¼è¾¾A100ãH100ç­GPUå¯ä»¥åPCleåNVLinkä¸¤ç§çæ¬ï¼GPUäºèæ¶ç¨çæ¯ä¸åééãPCleçæ¬çGPUäºèä¾¿æ¯éè¿PCIeééå®æçï¼åå©PCIe switchï¼ç³»ç»å¯ä»¥å®ç°CPU-GPUï¼GPU-GPUçè¿æ¥ã

## â¢ PCIE Switchåé¨ç»æå¾



![img](https://picx.zhimg.com/v2-947704a4472775bbbdfd4db52bedeb87_1440w.jpg)

## â£ PCIe Switchçå­å¤§æ ¸å¿åè½

**è¿æ¥å¤ä¸ªè®¾å¤**ï¼PCIe Switchæç ´äºä¼ ç»çä¸å¯¹ä¸è¿æ¥æ¹å¼ï¼åè®¸å¤ä¸ªè®¾å¤åæ¶è¿æ¥å°ä¸»æºç³»ç»ï¼æå¤§å°æ©å±äºç³»ç»çè¿æ¥æ§ã



![img](https://pic4.zhimg.com/v2-f932f30b40528aa18ea99517648698f1_1440w.jpg)

**æ°æ®äº¤æ¢**ï¼å¨PCIe Switchçæ¯æä¸ï¼è®¾å¤ä¹é´å¯ä»¥ç´æ¥è¿è¡æ°æ®ä¼ è¾ï¼æ éç»è¿ä¸»æºå¤çå¨ï¼ä»èæé«äºæ°æ®ä¼ è¾æçã



![img](https://pic1.zhimg.com/v2-17f088956f9219f9c6973ed1867cbd9c_1440w.jpg)

**å¨æåé**ï¼PCIe Switchæ¯æå¸¦å®½åèµæºçå¨æåéãæ ¹æ®è®¾å¤çéæ±åç³»ç»çè´è½½æåµï¼å®å¯ä»¥å®æ¶è°æ´è®¾å¤é´çéä¿¡éçåä¼åçº§ï¼ç¡®ä¿æ°æ®ä¼ è¾çé¡ºçè¿è¡ã

**NTBï¼Non-Transparent Bridgeï¼**ææ¯ï¼NTBææ¯ä½¿å¾ä¸¤ä¸ªæå¤ä¸ªç³»ç»ä¹é´è½å¤ç´æ¥éä¿¡ï¼æ éç»è¿ä¸­é´è½¬æ¢è®¾å¤ãè¿ä¸ä»æé«äºæ°æ®ä¼ è¾çæçï¼è¿éä½äºç³»ç»å¤ææ§ã



![img](https://pica.zhimg.com/v2-333b84e64317aa91a6742c5a98e9faf0_1440w.jpg)

**Peer to Peeréä¿¡**ï¼Peer to Peeréä¿¡æ¨¡å¼ä½¿å¾è®¾å¤ä¹é´å¯ä»¥ç´æ¥è¿è¡æ°æ®äº¤æ¢ï¼æ ééè¿ä¸»æºç³»ç»ãè¿ç§éä¿¡æ¹å¼åå°äºæ°æ®ä¼ è¾çå»¶è¿ï¼æé«äºç³»ç»çååºéåº¦ã



![img](https://picx.zhimg.com/v2-d37de91ea0adcfb0726066a72adf4841_1440w.jpg)

**IOèæåæ¯æ**ï¼PCIe Switchæ¯æå¤æ ¹IOèæåï¼MRIOVï¼ååæ ¹IOèæåï¼SRIOVï¼ãMRIOVåè®¸å¤ä¸ªæ ¹ç«¯ç³»ç»å±äº«åä¸ªPCIeè®¾å¤ï¼èSRIOVååè®¸åä¸ªPCIeè®¾å¤è¢«ååä¸ºå¤ä¸ªèæåè½ï¼å®ç°èµæºççµæ´»åéåç®¡çã

## â¤PCIe Switchçè¯¦ç»å·¥ä½åç



![img](https://pic2.zhimg.com/v2-a8ec40576640c581199de37727e0696d_1440w.jpg)

è¦äºè§£PCIe Switchçå·¥ä½åçï¼æä»¬é¦åéè¦äºè§£Virtual Switchçæ¦å¿µãVirtual Switchæ¯å°ä¸ä¸ªç©çPCIe  Switchååä¸ºå¤ä¸ªèæSwitchï¼å®ç°å¤ä¸ªHostå±ç¨ä¸ä¸ªSwitchçåè½ãè¿äºVirtual  Switchä¹é´äºä¸å¹²æ°ï¼ä¿è¯äºæ°æ®ä¼ è¾çå®å¨æ§åç¨³å®æ§ã

å¨éç½®æ¹é¢ï¼Virtual Switchå¯ä»¥æ¯éæçä¹å¯ä»¥æ¯å¨æçãéæéç½®éè¦å¨BIOSæä¸¾åå®æåå§åï¼èå¨æåéåå¯ä»¥æ ¹æ®ç³»ç»çå®æ¶éæ±è¿è¡å¸¦å®½åèµæºçè°æ´ãå¨æåéçå®ç°éè¦ç¡®ä¿å¨ä¿®æ¹éç½®æ¶ï¼ç¸å³çè®¾å¤å¤äºåæ­¢ç¶æï¼ä»¥é¿åæ°æ®ä¸¢å¤±æç³»ç»å´©æºã

Peer to Peeréä¿¡æ¯PCIe Switchåé¨å®ç°é«ææ°æ®ä¼ è¾çå³é®ææ¯ãéè¿å¸è½½CPUåRAMä¹é´çååï¼Peer to Peeréä¿¡ä½¿å¾è®¾å¤é´å¯ä»¥ç´æ¥è¿è¡æ°æ®ä¼ è¾ï¼ä»èæé«äºæ°æ®ä¼ è¾çæçåç³»ç»çååºéåº¦ã



![img](https://pic2.zhimg.com/v2-b250e27dbec907df006240cfa87293e3_1440w.jpg)

## â¥PCIeæ¡¥æ¥å¨ä¸NTBï¼è¿æ¥ä¸ççæ¡¥æ¢

PCIeæ¡¥æ¥å¨æ¯ä¸ç§ç¨äºè¿æ¥åè½¬åPCI Expressæ»çº¿çè®¾å¤ãå®å¯ä»¥å°ä¸åçPCIeæ»çº¿è¿æ¥èµ·æ¥ï¼å®ç°è®¾å¤ä¹é´çéä¿¡åæ°æ®äº¤æ¢ãå¨å¤æçç³»ç»æ¶æä¸­ï¼PCIeæ¡¥æ¥å¨æ®æ¼çè³å³éè¦çè§è²ã

NTBï¼Non-Transparent  Bridgeï¼æ¯PCIeæ¡¥æ¥å¨çä¸ç§ç¹æ®ç±»åãå®åè®¸ä¸¤ä¸ªä¸»æºç³»ç»éè¿PCIeæ»çº¿è¿è¡ç´æ¥éä¿¡ï¼æ éç»è¿ä»»ä½ä¸­é´è®¾å¤ãNTBææ¯éè¿å°æ¯ä¸ªä¸»æºåç°ä¸ºå¯¹å¦ä¸ä¸ªä¸»æºçè®¾å¤ï¼å®ç°äºä¸»æºé´çéæéä¿¡ãè¿ä½¿å¾è¿ç¨æºå¨å¯ä»¥çæä¸­æ­ãè®¿é®åå­èå´ä»¥åæ§è¡ç´æ¥åå­è®¿é®ï¼DMAï¼ç­æä½ï¼æå¤§å°æé«äºæ°æ®ä¼ è¾çæçåçµæ´»æ§ã



![img](https://picx.zhimg.com/v2-3abed8044ffaa0158ef14d5550308501_1440w.jpg)

å¨SoCï¼System on a  Chipï¼éç½®ä¸­ï¼NTBææ¯å¾å°äºå¹¿æ³åºç¨ãéè¿éç½®å·æå¤ä¸ªPCIç«¯ç¹ï¼EPï¼å®ä¾çSoCï¼NTBåè½å¯ä»¥å°ä¸ä¸ªEPæ§å¶å¨çäºå¡è·¯ç±å°å¦ä¸ä¸ªEPæ§å¶å¨ï¼ä»èå®ç°HOST1åHOST2ä¹é´çéä¿¡ãè¿ç§éä¿¡æ¹å¼ä¸ä»æé«äºæ°æ®ä¼ è¾çæçï¼è¿éä½äºç³»ç»çå¤ææ§åææ¬ã

## â¦SR-IOVï¼èæåç¯å¢ä¸­çæ§è½å©å¨

SR-IOVï¼Single Root I/O Virtualizationï¼æ¯ä¸ç§ç¨äºæé«èæåç¯å¢ä¸­ç½ç»åå­å¨è®¾å¤æ§è½çææ¯ãå¨èæåç¯å¢ä¸­ï¼å¤ä¸ªèææºå±äº«ç©çèµæºï¼èSR-IOVææ¯ååè®¸åä¸ªç©çè®¾å¤å¨å¤ä¸ªèææºä¹é´å±äº«ï¼åæ¶ä¿æé«æ§è½åä½å»¶è¿ã



![img](https://pica.zhimg.com/v2-16608bfc603c782cf00ae469f9dec098_1440w.jpg)

SR-IOVéè¿å¨ç©çè®¾å¤ä¸åå»ºå¤ä¸ªèæåè½ï¼Virtual  Functionsï¼VFsï¼æ¥å®ç°èµæºçå±äº«ãæ¯ä¸ªVFé½å¯ä»¥è¢«åéç»ä¸ä¸ªèææºï¼ä½¿å¾èææºå¯ä»¥ç´æ¥è®¿é®ç©çè®¾å¤ï¼ç»è¿èæäº¤æ¢æºåèææºçè§å¨ï¼å¦Hypervisorï¼ãè¿ç§ç´æ¥è®¿é®çæ¹å¼åå°äºæ°æ®ä¼ è¾çå»¶è¿ï¼æé«äºç³»ç»çååºéåº¦ã

SR-IOVææ¯çä¼å¿å¨äºå®æä¾äºæ´é«çI/Oæ§è½åæ´ä½çå»¶è¿ãç±äºèææºå¯ä»¥ç´æ¥è®¿é®ç©çè®¾å¤ï¼æ éç»è¿é¢å¤çèæåå±ï¼å æ­¤æ°æ®ä¼ è¾çæçå¾å°äºæ¾èæåãæ­¤å¤ï¼SR-IOVè¿æ¯æç­ææåå¨æèµæºåéï¼ä½¿å¾ç³»ç»å¯ä»¥æ ¹æ®å®ééæ±è¿è¡çµæ´»çèµæºéç½®åç®¡çã

å¨å®éåºç¨ä¸­ï¼SR-IOVææ¯å·²ç»å¹¿æ³åºç¨äºåç§èæååºæ¯ï¼å¦äºè®¡ç®ãå¤§æ°æ®å¤çç­ãéè¿å©ç¨SR-IOVææ¯ï¼ä¼ä¸å¯ä»¥æå»ºæ´é«æãæ´çµæ´»çITåºç¡è®¾æ½ï¼



![img](https://pic3.zhimg.com/v2-d105b2216cb843664f20c472cedfda84_1440w.jpg)

## â§éæ©PCIe Switchæ¶èè


**1. å¸¦å®½åééæ°**
éæ© PCIe äºè¿äº¤æ¢æºæ¶ï¼ä¸»è¦èèå ç´ æ¯å¸¦å®½åééæ°ãæåè¿çäº¤æ¢æºæä¾ 256 ä¸ªééï¼æ»å¸¦å®½ä¸º 2,048  GB/sï¼ä¸ºé«éæ°æ®ä¼ è¾åå¯æ©å±æ§å¥ å®äºåå®çåºç¡ãæ­¤è®¾ç½®æ¯æå¤ä¸ªè®¾å¤å¹¶ç¡®ä¿å®ä»¬ä¹é´çé«æéä¿¡ï¼åå°ç¶é¢å¹¶æé«æ´ä½ç³»ç»æ§è½ãæ ¹æ® PCI-SIG çæ¥åï¼PCIe 5.0 æ åæ¯ééæ¯æé«è¾¾ 32 GT/sï¼æ¾çæé«äºæ°æ®ä¼ è¾éçï¼å¸æ¾äºé«å¸¦å®½äº¤æ¢æºå¯¹äºç°ä»£åºç¨çéè¦æ§ã

**2. å¯æ©å±æ§**
å¯æ©å±æ§æ¯ç¡®ä¿æ¨çæèµé¢åæªæ¥çå¦ä¸ä¸ªå³é®å ç´ ãç¡®ä¿æ¨éæ©ç PCIe äº¤æ¢æºè½å¤éçç³»ç»çå¢é¿å®¹çº³æ´å¤è®¾å¤åæ´é«çå¸¦å®½éæ±ãä¾å¦ï¼å·æ 256  ä¸ªééçäº¤æ¢æºå¯æä¾æ¾ççå¯æ©å±æ§ï¼åè®¸å¨ä¸å½±åæ§è½çæåµä¸è¿è¡å¹¿æ³çæ©å±ãéçæ°æ®ä¸­å¿çåå±ååºç¨ç¨åºçè¦æ±è¶æ¥è¶é«ï¼å¯¹å¯æ©å± PCIe  åºç¡è®¾æ½çéæ±åå¾æ´å è¿«åï¼è¿å¸æ¾äºéæ©è½å¤éçæ¨çéæ±èå¢é¿çäº¤æ¢æºçéè¦æ§ã

**3. å»¶è¿**
ä½å»¶è¿å¯¹äºéè¦å®æ¶æ°æ®å¤ççåºç¨ç¨åºè³å³éè¦ï¼ä¾å¦éèäº¤æå¹³å°ãé«æ§è½è®¡ç® (HPC) åæ°æ®ä¸­å¿å·¥ä½è´è½½ãè¯ä¼°äº¤æ¢æºçå»¶è¿ç¹æ§ä»¥ç¡®ä¿å¶æ»¡è¶³æ¨çåºç¨ç¨åºçè¦æ±ãé«åè´¨äº¤æ¢æºæä¾æå°çå»¶è¿  (<100ns)ï¼ç¡®ä¿é«æãåæ¶çæ°æ®ä¼ è¾ãä¸åä»£äº§åç¸æ¯ï¼æ°ä¸ä»£ PCIe 5.0  äº¤æ¢æºå¯ä»¥å®ç°æ´ä½çå»¶è¿ï¼ä»èå¢å¼ºå¯¹å»¶è¿ææçåºç¨ç¨åºçæ§è½ã

**4ãå¼å®¹æ§**
ä¸ç°æç¡¬ä»¶åè½¯ä»¶çå¼å®¹æ§å¯¹äºé¿åéæé®é¢è³å³éè¦ãæ£æ¥æ¯å¦ç¬¦åææ°ç PCIe æ åï¼ä¾å¦ PCIe 4.0 æ PCIe  5.0ï¼ï¼å¹¶ç¡®ä¿äº¤æ¢æºååå¼å®¹æ§è®¾å¤ãè¿ç§å¼å®¹æ§å¯ç¡®ä¿æ ç¼éæå¹¶æå¤§éåº¦å°æé«å½ååºç¡è®¾æ½çæç¨ã PCI-SIG  çå¼å®¹æ§æåå¼ºè°äºç¡®ä¿æ°äº¤æ¢æºä¸ç°æç³»ç»æ ç¼åä½çéè¦æ§ï¼ä»¥é¿åä»£ä»·é«æçåçº§ååæºã
**5. å¯é æ§ååä½æ§**
å¯é æ§æ¯ä¸å®¹ååçï¼å°¤å¶æ¯å¨å³é®ä»»å¡ç¯å¢ä¸­ãå¯»æ¾å·æåç½®åä½åè½çäº¤æ¢æºï¼ä¾å¦ç­ææç»ä»¶åçº éç  (ECC) æ¯æãè¿äºåè½å¢å¼ºäºç³»ç»å¼¹æ§ï¼æå¤§éåº¦å°åå°åæºæ¶é´å¹¶ç¡®ä¿æ°æ®å®æ´æ§ã PCIe äº¤æ¢æºä¸­ ECC  ååä½çå®æ½å¯¹äºå¨é«é£é©ç¯å¢ä¸­ä¿ææ°æ®å®æ´æ§åç³»ç»æ­£å¸¸è¿è¡æ¶é´è³å³éè¦ã

**6. çµæºæç**
çµæºæçæ¯ç°ä»£æ°æ®ä¸­å¿åä¼ä¸ç¯å¢ä¸­æ¥çåå°å³æ³¨çé®é¢ãéæ©è½å¤å¹³è¡¡æ§è½ä¸åèç PCIe äº¤æ¢æºãé«æççµæºç®¡çå¯éä½è¿è¥ææ¬å¹¶ç¬¦åå¯æç»­åå±ç®æ ãå¦ä»ï¼ä¸ä¸ä»£ PCIe äº¤æ¢æºçè®¾è®¡èèäºçµæºæçï¼è¿å¯¹äºåå°æ°æ®ä¸­å¿çæ´ä½è½æºè¶³è¿¹è³å³éè¦ã
**7. ç®¡çåçæ§è½å**
ææçç®¡çåçæ§è½åå¯¹äºä¿ææä½³æ§è½è³å³éè¦ãéæ©å·æé«çº§ç®¡çåè½çäº¤æ¢æºï¼ä¾å¦è¿ç¨çæ§ãè¯æ­å·¥å·åç¨æ·åå¥½ççé¢ãè¿äºåè½ç®åäºç»´æ¤ãæéæé¤åæ§è½è°æ´ãè¿ç¨ç®¡çåçæ§ PCIe äº¤æ¢æºçè½åå¯ä»¥æ¾çæé«è¿è¥æçå¹¶éä½ç»´æ¤ææ¬ã

**8. é¢åæªæ¥**
éçæ°æ®å¯éååºç¨ç¨åºçä¸æ­åå±ï¼ä½¿æ¨çåºç¡è®¾æ½é¢åæªæ¥åå¾è¶æ¥è¶éè¦ãåæ¶æ¯æ PCIe å CXLï¼Compute Express Linkï¼æ åçæ··åäº¤æ¢æºæä¾äºå¼äººæ³¨ç®çè§£å³æ¹æ¡ã CXL  æ¯ä¸ç§å¼æ¾æ åäºè¿ï¼æ¨å¨éè¿å¨æ°æ®ä¸­å¿ CPUãGPU åå¶ä»å éå¨ä¹é´æä¾é«éãä½å»¶è¿çéä¿¡æ¥å¢å¼ºè¿äºç»ä»¶çæ§è½åæçãéè¿éæå¯¹ PCIe å CXL çæ¯æï¼æ··åäº¤æ¢æºå¯ç¡®ä¿ä¸å½å PCIe è®¾å¤çå¼å®¹æ§ï¼åæ¶æ¯æéç¨ä¸ä¸ä»£æ¯æ CXL  çç¡¬ä»¶ãè¿ç§åéæ¯ææå¤§éåº¦å°æé«äºçµæ´»æ§åå¯æ©å±æ§ï¼åè®¸éçæ°ææ¯çåºç°èæ ç¼åçº§åæ©å±ãæ­¤å¤ï¼æ­¤ç±»æ··åäº¤æ¢æºå¯ä»¥ä¼åèµæºå©ç¨çãæé«åå­ä¸è´æ§å¹¶åå°å»¶è¿ï¼ä½¿å¶æä¸ºå¯»æ±é¢åææ¯è¿æ­¥çæ°æ®ä¸­å¿å HPC ç¯å¢ççæ³éæ©ã
æèµåéç PCIe  Switchä¸ä»ä»æ¯ä¸ºäºæ»¡è¶³å½ä»çè¦æ±ï¼è¿ä¸ºäºæ»¡è¶³éæ±ãè¿æ¯å³äºåå¤æ¨çåºç¡è®¾æ½ä»¥æ¯æä¸ä¸ä»£ææ¯è¿æ­¥ãéæ©æ­£ç¡®ç PCIe  äºè¿äº¤æ¢æºæ¯å½±åç³»ç»æ§è½ãå¯æ©å±æ§åå¯é æ§çå³é®å³ç­ãéè¿ä»ç»èèææåéï¼æ¨å¯ä»¥ååºææºçéæ©ï¼ä»¥æ»¡è¶³æ¨å½åçéæ±åæªæ¥çå¢é¿ã

ãåèæç®ã

1. [https://blog.51cto.com/u_16213563/11501101](https://link.zhihu.com/?target=https%3A//blog.51cto.com/u_16213563/11501101)
2. [PCIe Switchå¨è§£æï¼ä¸æè®©ä½ ç§æï¼ (webzonl.com)](https://link.zhihu.com/?target=https%3A//www.webzonl.com/cms/700.html)
3. [Selecting the Right PCIe Interconnect Switch for Today, and Tomorrow (technative.io)](https://link.zhihu.com/?target=https%3A//technative.io/selecting-the-right-pcie-interconnect-switch-for-today-and-tomorrow/)

# è³å¼ºXeonå·¥ä½ç«CPUä»ç»ï¼æ´åå¾ä¸ºä½å¤§è¡å¶é

[![haidescs](https://picx.zhimg.com/v2-286c7b27e584abe3cf4326fcef8f2000_l.jpg?source=172ae18b)](https://www.zhihu.com/people/haidescs)

[haidescs](https://www.zhihu.com/people/haidescs)

[![ç¥ä¹ç¥è¯ä¼å](https://pic1.zhimg.com/v2-57fe7feb4813331d5eca02ef731e12c9.jpg?source=88ceefae)](https://www.zhihu.com/kvip/purchase)

ç»æåéèä¸Fintechï¼è¿å¾æä¹¦

åä½å£°æï¼åå« AI è¾å©åä½



23 äººèµåäºè¯¥æç« 



è¯¾å ä¸çç»è®ºåæ¯æææï¼ä¸»è¦æ¯ä¸æºè½è®¡ç®ç¸å³çéåãæ¶æåç®æ³æ¹é¢çé®é¢ãä»¥ä¸ææé¨åæ¥èªäº[ChatGPT-4o](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=ChatGPT-4o&zhida_source=entity)

ãKimiãéä¹åé®2.5ï¼ç¶åæåççæ¹æ¹ã 

ä¾µå ï¼

![img](https://pic1.zhimg.com/v2-44ef509c9588594d61abdad55d6c59fa_1440w.jpg)

## ä¸ï¼ Sandy Bridgeï¼V1çï¼ç±äºä»£é·ç¿è¯ççE3/[E5ç¥æ](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=E5ç¥æ&zhida_source=entity)

Sandy Bridgeæ¶ææ¯è±ç¹å°å¨2011å¹´æ¨åºçä¸ä¸ªéè¦å¾®æ¶æï¼å®å¸¦æ¥äºæ¾èçæ§è½æååæçæ¹è¿ãä»¥ä¸æ¯åºäºSandy Bridgeæ¶æçXeon E3ãE5ç³»åå¤çå¨çè¯¦ç»ä¿¡æ¯ãéè¦æ³¨æçæ¯ï¼å¨Sandy Bridgeæ¶æï¼å¹¶æ²¡æ[è³å¼ºWç³»å](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=è³å¼ºWç³»å&zhida_source=entity)å[Scalable](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=Scalable&zhida_source=entity)

ç³»åã

### *Xeon E3-1200ç³»å (Sandy Bridge)*

1. *åç§°ï¼Xeon E3-1200 v1ï¼åå¸å¹´ä»£ï¼2011å¹´Q1ï¼æ¶æåç§°ï¼Sandy Bridgeï¼nmå·¥èºï¼32nm*
2. *æ¹è¿ç¹ï¼å¼å¥äºç¯å½¢æ»çº¿æ¶æï¼æåäºåå­æ§å¶å¨æ§è½ï¼æ¯æAVXæä»¤éã*
3. *ææ§½ç±»åï¼[LGA 1155](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=LGA+1155&zhida_source=entity)*

*ä¸»æ¿è¯çç»ï¼C204, C206ç­*

*ç¼å­éç½®ï¼8MB L3 Cacheï¼ä»¥E3-1275ä¸ºä¾ï¼*

*[PCIe éé](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=PCIe+éé&zhida_source=entity)*

1. *æ°éï¼16æ¡PCI-E 2.0éé*
2. *å¸åºè¯ä»·ï¼åå°æ¡é¢çº§å·¥ä½ç«ç¨æ·çæ¬¢è¿ï¼æä¾äºè¯å¥½çæ§ä»·æ¯ã*
3. *ä¸è¶³ï¼æ ¸å¿æ°ç¸å¯¹è¾å°ï¼æé«ä¸ºåæ ¸ï¼å¯¹äºå¤ä»»å¡å¤çæä¸å®éå¶ã*
4. *æ ¸å¿æ°æå¤çåå·ï¼E3-1285ï¼4æ ¸ï¼*
5. *é¢çæé«çåå·ï¼E3-1270ï¼3.4GHzåºç¡é¢çï¼ç¿é¢å¯è¾¾3.8GHzï¼*
6. *åæ¶ä»£ç AMD å Intel æ¶è´¹çº§ CPUï¼AMD FX-8150, Intel Core i7-2600K*
7. *å·ä½åå¸æ¶é´ï¼2011å¹´1æ*

### *[Xeon E5](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=Xeon+E5&zhida_source=entity)*

### *-2600/[1600ç³»å](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=1600ç³»å&zhida_source=entity)*

###  *(Sandy Bridge-EP)*

1. *åç§°ï¼Xeon E5-2600/E5-1600 v1ï¼åå¸å¹´ä»£ï¼2012å¹´Q1ï¼æ¶æåç§°ï¼Sandy Bridge-EPï¼nmå·¥èºï¼32nm*
2. *æ¹è¿ç¹ï¼æå¤æ¯æ8ä¸ªæ ¸å¿ï¼æ¯æåè·¯éç½®ï¼å¢å¼ºäºRASç¹æ§ï¼æé«äºåå­å¸¦å®½åæ¯æçåå­å®¹éã*
3. *ææ§½ç±»åï¼[LGA 2011](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=LGA+2011&zhida_source=entity)*

1. *ä¸»æ¿è¯çç»ï¼C602/C600ç­*
2. *ç¼å­éç½®ï¼20MB Intel Smart Cacheï¼ä»¥E5-2690ä¸ºä¾ï¼*
3. *PCIe ééæ°éï¼40æ¡PCI-E 3.0éé*
4. *å¸åºè¯ä»·ï¼å¹¿æ³åºç¨äºæ°æ®ä¸­å¿åé«æ§è½è®¡ç®ç¯å¢ï¼å¾å°äºä¼ä¸ç¨æ·çè®¤å¯ã*
5. *ä¸è¶³ï¼åèè¾é«ï¼å°¤å¶æ¯é«æ ¸å¿æ°åå·ã*
6. *æ ¸å¿æ°æå¤çåå·ï¼E5-2690ï¼8æ ¸ï¼*
7. *é¢çæé«çåå·ï¼E5-2690ï¼2.9GHzåºç¡é¢çï¼ç¿é¢å¯è¾¾3.8GHzï¼*
8. *åæ¶ä»£ç AMD å Intel æ¶è´¹çº§ CPUï¼AMD Opteron 6200ç³»å, Intel Core i7-3960X*
9. *å·ä½åå¸æ¶é´ï¼2012å¹´3æ*

### *Xeon Scalableç³»å (Sandy Bridge)*

- *éç¨æ§ï¼Xeon Scalableç³»åæ¯å¨ä¹åç[Skylake](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=Skylake&zhida_source=entity)*

- *æ¶æä¸æ¨åºçï¼å æ­¤å¨Sandy Bridgeæ¶æå¹¶ä¸å­å¨ã*

### *è³å¼ºWç³»å (Sandy Bridge)*

- *éç¨æ§ï¼å¨Sandy Bridgeæ¶æå¹¶æ²¡æè³å¼ºWç³»åçäº§åã*

ç»¼ä¸æè¿°ï¼Sandy Bridgeæ¶ææé´æXeon E3-1200 v1åXeon E5-2600/E5-1600 v1ç³»åå¤çå¨ï¼ä½æ²¡æè³å¼ºWç³»ååXeon Scalableç³»åçäº§åãè¿äºå¤çå¨ä»£è¡¨äºå½æ¶çææ¯åæ²¿ï¼ä¸ºåæ¥çäº§åå¥ å®äºåºç¡ã

| æä»¤éç±»å«                                                   | æè¿°                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| Intel 64 (x86-64)                                            | æ¯æ 64 ä½æ©å±ï¼è½å¤è®¿é®æ´å¤§çåå­ç©ºé´ã                     |
| SSE4.1 / SSE4.2                                              | æä¾å¢å¼ºçå¤åªä½ãå å¯ãæ°æ®å¤çç­æ§è½ï¼éå¯¹ä¸åçè¿ç®å éã |
| AVX                                                          | æ´å¼ºå¤§ç SIMD æ©å±ï¼æ¯æ 256 ä½åéï¼æåæµ®ç¹è®¡ç®æçã      |
| FMA                                                          | æµ®ç¹ä¹æ³å æ³èåæä½ï¼è½å¤å éæµ®ç¹è®¡ç®ï¼å°¤å¶æ¯å¨ç§å­¦è®¡ç®ä¸­ã |
| [AES-NI](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=AES-NI&zhida_source=entity) |                                                              |

| ç¡¬ä»¶å é AES å å¯ä¸è§£å¯æä½ï¼æé«å å¯ç®æ³æçã |                                                              |
| ----------------------------------------------- | ------------------------------------------------------------ |
| CLMUL                                           | å éä¹æ³è¿ç®ï¼å¸¸ç¨äºå å¯åæ ¡éªåè®¡ç®ã                       |
| X87                                             | æ©æç[æµ®ç¹æä»¤é](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=æµ®ç¹æä»¤é&zhida_source=entity) |

| ï¼ç¡®ä¿å¼å®¹æ§ã                                               |                                                   |
| ------------------------------------------------------------ | ------------------------------------------------- |
| MMX                                                          | SIMD æ©å±ï¼ä¼åå¤åªä½è®¡ç®ï¼ä¸å¸¸ç¨ï¼ä½ä»ç¶æ¯æï¼ã |
| Intel VT-x / [VT-d](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=VT-d&zhida_source=entity) |                                                   |

| ç¡¬ä»¶èæåææ¯ï¼æ¯æé«æèæåå I/O èæåã                |
| ------------------------------------------------------------ |
| Intel [TSX](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=TSX&zhida_source=entity) |

æä¾äºå¡æ§åæ­¥æ©å±ï¼ç¨äºé«æçå¹¶è¡è®¡ç®ã

### æ»ç»ï¼

![img](https://pica.zhimg.com/v2-922ad51597ab2a71ecd85b172ddb95a2_1440w.jpg)

------

## äºï¼[Ivy Bridge](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=Ivy+Bridge&zhida_source=entity)

## ï¼ç»äºèµ°å°äºBridgeçå½¼å²¸ï¼çå°äºæ¡è±æº

Ivy Bridgeæ¶ææ¯è±ç¹å°å¨2012å¹´æ¨åºçä¸ä¸ªå¾®æ¶æï¼ä½ä¸ºSandy  Bridgeçç»§ä»»èï¼å®å¸¦æ¥äºå·¥èºä¸çè¿æ­¥ï¼ä»32nmå°22nmï¼åä¸äºæ§è½ä¸çæ¹è¿ãä»¥ä¸æ¯åºäºIvy Bridgeæ¶æçXeon  E3ãE5ç³»åå¤çå¨çè¯¦ç»ä¿¡æ¯ãéè¦æ³¨æçæ¯ï¼å¨Ivy Bridgeæ¶æï¼å¹¶æ²¡æè³å¼ºWç³»ååScalableç³»åã

### *Xeon E3-1200 v2ç³»å (Ivy Bridge)*

1. *åç§°ï¼Xeon E3-1200 v2ï¼åå¸å¹´ä»£ï¼2012å¹´Q3ï¼æ¶æåç§°ï¼Ivy Bridgeï¼nmå·¥èºï¼22nm*
2. *æ¹è¿ç¹ï¼éç¨æ´åè¿ç22nmå¶ç¨ææ¯ï¼æåäºåçº¿ç¨æ§è½ï¼æ¯æDDR3Lä½çµååå­ï¼éææ¾å¡æ§è½æ¾èæåã*
3. *ææ§½ç±»åï¼LGA 1155*
4. *[ä¸»æ¿è¯çç»](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=3&q=ä¸»æ¿è¯çç»&zhida_source=entity)*

*ï¼C206, C222ç­*

*ç¼å­éç½®ï¼8MB L3 Cacheï¼ä»¥E3-1275 v2ä¸ºä¾ï¼*

*PCIe ééæ°éï¼16æ¡PCI-E 3.0éé*

*å¸åºè¯ä»·ï¼åå°æ¡é¢çº§å·¥ä½ç«ç¨æ·çæ¬¢è¿ï¼æä¾äºæ´å¥½çæ§ä»·æ¯åè½ææ¯ã*

*ä¸è¶³ï¼æ ¸å¿æ°ä»ç¶æéï¼æé«ä¸ºåæ ¸ï¼å¯¹äºå¤ä»»å¡å¤çæä¸å®éå¶ã*

*æ ¸å¿æ°æå¤çåå·ï¼E3-1285 v2ï¼4æ ¸ï¼*

*é¢çæé«çåå·ï¼E3-1275 v2ï¼3.5GHzåºç¡é¢çï¼ç¿é¢å¯è¾¾3.9GHzï¼*

*åæ¶ä»£ç AMD å Intel æ¶è´¹çº§ CPUï¼[AMD FX-8350](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=AMD+FX-8350&zhida_source=entity)*

1. *, Intel Core i7-3770K*
2. *å·ä½åå¸æ¶é´ï¼2012å¹´9æ*

### *Xeon E5-2600/1600 v2ç³»å (Ivy Bridge-EP)*

1. *åç§°ï¼Xeon E5-2600/E5-1600 v2ï¼åå¸å¹´ä»£ï¼2013å¹´Q1ï¼æ¶æåç§°ï¼Ivy Bridge-EPï¼nmå·¥èºï¼22nm*
2. *æ¹è¿ç¹ï¼éç¨äºæ´åè¿ç22nmå¶ç¨ææ¯ï¼å¢å äºå¯¹æ´å¤åå­ééçæ¯æï¼å¢å¼ºäºRASç¹æ§ï¼æé«äºåå­å¸¦å®½åæ¯æçåå­å®¹éã*
3. *ææ§½ç±»åï¼LGA 2011*
4. *ä¸»æ¿è¯çç»ï¼C602/C600ç­*
5. *ç¼å­éç½®ï¼25MB Intel Smart Cacheï¼ä»¥E5-2697 v2ä¸ºä¾ï¼*
6. *PCIe ééæ°éï¼40æ¡PCI-E 3.0éé*
7. *å¸åºè¯ä»·ï¼å¹¿æ³åºç¨äºæ°æ®ä¸­å¿åé«æ§è½è®¡ç®ç¯å¢ï¼å¾å°äºä¼ä¸ç¨æ·çè®¤å¯ã*
8. *ä¸è¶³ï¼åèè¾é«ï¼å°¤å¶æ¯é«æ ¸å¿æ°åå·ï¼ä¸ä¸ä¸ä»£ç¸æ¯ï¼æ¶æååä¸å¤§ï¼æ§è½æåä¸»è¦æ¥èªäºå¶ç¨ä¼åã*
9. *æ ¸å¿æ°æå¤çåå·ï¼E5-2697 v2ï¼12æ ¸ï¼*
10. *é¢çæé«çåå·ï¼E5-2637 v2ï¼3.5GHzåºç¡é¢çï¼ç¿é¢å¯è¾¾3.8GHzï¼*
11. *åæ¶ä»£ç AMD å Intel æ¶è´¹çº§ CPUï¼AMD Opteron 6300ç³»å, Intel Core i7-4960X*
12. *å·ä½åå¸æ¶é´ï¼2013å¹´3æ*

### *Xeon Scalableç³»å (Ivy Bridge)*

- *éç¨æ§ï¼Xeon Scalableç³»åæ¯å¨ä¹åçSkylakeæ¶æä¸æ¨åºçï¼å æ­¤å¨Ivy Bridgeæ¶æå¹¶ä¸å­å¨ã*

### *è³å¼ºWç³»å (Ivy Bridge)*

- *éç¨æ§ï¼å¨Ivy Bridgeæ¶æå¹¶æ²¡æè³å¼ºWç³»åçäº§åã*

ç»¼ä¸æè¿°ï¼Ivy Bridgeæ¶ææé´æXeon E3-1200 v2åXeon E5-2600/E5-1600 v2ç³»åå¤çå¨ï¼ä½æ²¡æè³å¼ºWç³»ååXeon  Scalableç³»åçäº§åãè¿äºå¤çå¨ä»£è¡¨äºå½æ¶çææ¯åæ²¿ï¼è¿ä¸æ­¥å·©åºäºè±ç¹å°å¨æå¡å¨åå·¥ä½ç«å¸åºçå°ä½ã

### **æ»ç»**

| ç¹æ§       | Sandy Bridge                | Ivy Bridge                       |
| ---------- | --------------------------- | -------------------------------- |
| å¶ç¨       | 32nm                        | 22nm                             |
| AVX        | æ¯æ AVX1.0                 | æ¯æ AVX1.0ï¼æ§è½æ´ä¼            |
| FMA        | æ¯æ FMA                    | æ¯æ FMAï¼æ§è½æ´ä¼               |
| AES-NI     | æ¯æ AES-NI                 | æ¯æ AES-NIï¼æ§è½æå            |
| CLMUL      | æ¯æ CLMUL                  | æ¯æ CLMUL                       |
| TSX        | ä¸æ¯æ                      | æ¯æ TSXï¼æåå¹¶è¡è®¡ç®æ§è½       |
| éææ¾å¡   | Intel HD Graphics 2000/3000 | Intel HD Graphics 4000ï¼æ§è½æå |
| PCIe       | PCIe 2.0                    | PCIe 3.0ï¼å¸¦å®½æå               |
| èæåææ¯ | æ¯æ VT-x å VT-d           | æ¯æ VT-x å VT-dï¼æ§è½æ´å¥½      |
| æ»æ§è½     | åºæ¬æ§è½è¯å¥½ï¼ä½åèè¾é«    | æ§è½æåï¼åèæ´ä½               |

Ivy Bridge å¨å¤æ¹é¢è¿è¡äºä¼åï¼å°¤å¶æ¯æ§è½åè½æä¸ï¼ç¸æ¯äº Sandy Bridge æçæ¾èçæåãéè¿æ´åè¿ç 22nm å¶ç¨ï¼Ivy Bridge æä¾äºæ´ä½çåèãæ´é«çæ§è½åå¯¹æ´å¤ç°ä»£ææ¯çæ¯æã

![img](https://picx.zhimg.com/v2-05cacfb11947cc46dfe183bbe22a86f5_1440w.jpg)

------

## ä¸ï¼[Haswell](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=Haswell&zhida_source=entity)

## ï¼åä»£Wellï¼éå¸¸Well

Haswellæ¶ææ¯è±ç¹å°å¨2013å¹´æ¨åºçä¸ä¸ªéè¦å¾®æ¶æï¼å®å¸¦æ¥äºæ¾èçæ§è½æååæçæ¹è¿ãä»¥ä¸æ¯åºäºHaswellæ¶æçXeon E3ãE5ç³»åå¤çå¨çè¯¦ç»ä¿¡æ¯ãéè¦æ³¨æçæ¯ï¼å¨Haswellæ¶æï¼å¹¶æ²¡æè³å¼ºWç³»ååScalableç³»åã

### *Xeon E3-1200 v3ç³»å (Haswell)*

1. *åç§°ï¼Xeon E3-1200 v3ï¼åå¸å¹´ä»£ï¼2013å¹´Q4ï¼æ¶æåç§°ï¼Haswellï¼nmå·¥èºï¼22nm*
2. *æ¹è¿ç¹ï¼å¼å¥äºå¯¹DDR3Låå­çæ¯æï¼å¢å¼ºäºéææ¾å¡æ§è½ï¼æåäºåçº¿ç¨åå¤çº¿ç¨æ§è½ï¼æ¯ææ´å¤[PCIeéé](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=PCIeéé&zhida_source=entity)*

*ã*

*ææ§½ç±»åï¼[LGA 1150](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=LGA+1150&zhida_source=entity)*

1. *ä¸»æ¿è¯çç»ï¼C226, C230ç­*
2. *ç¼å­éç½®ï¼8MB L3 Cacheï¼ä»¥E3-1275 v3ä¸ºä¾ï¼*
3. *PCIe ééæ°éï¼16æ¡PCI-E 3.0éé*
4. *å¸åºè¯ä»·ï¼åå°æ¡é¢çº§å·¥ä½ç«ç¨æ·çæ¬¢è¿ï¼æä¾äºè¯å¥½çæ§ä»·æ¯åè½ææ¯ã*
5. *ä¸è¶³ï¼æ ¸å¿æ°ç¸å¯¹æéï¼æé«ä¸ºåæ ¸ï¼å¯¹äºéè¦å¤§éå¤çº¿ç¨å¤ççåºç¨æä¸å®éå¶ã*
6. *æ ¸å¿æ°æå¤çåå·ï¼E3-1285L v3ï¼4æ ¸ï¼*
7. *é¢çæé«çåå·ï¼E3-1231 v3ï¼3.4GHzåºç¡é¢çï¼ç¿é¢å¯è¾¾3.7GHzï¼*
8. *åæ¶ä»£ç AMD å Intel æ¶è´¹çº§ CPUï¼AMD A10-7850K, Intel Core i7-4790K*
9. *å·ä½åå¸æ¶é´ï¼2013å¹´10æ*

### *Xeon E5-2600 v3ç³»å (Haswell-EP)*

1. *åç§°ï¼Xeon E5-2600 v3ï¼åå¸å¹´ä»£ï¼2014å¹´Q3ï¼æ¶æåç§°ï¼Haswell-EPï¼nmå·¥èºï¼22nm*
2. *æ¹è¿ç¹ï¼æå¤æ¯æ18ä¸ªæ ¸å¿ï¼æ¯æDDR4åå­ï¼å¢å¼ºäºAVX 2.0æä»¤éï¼æé«äºåå­å¸¦å®½åæ¯æçåå­å®¹éã*
3. *ææ§½ç±»åï¼LGA 2011-v3*
4. *ä¸»æ¿è¯çç»ï¼C612ç­*
5. *ç¼å­éç½®ï¼45MB Intel Smart Cacheï¼ä»¥E5-2699 v3ä¸ºä¾ï¼*
6. *PCIe ééæ°éï¼40æ¡PCI-E 3.0éé*
7. *å¸åºè¯ä»·ï¼å¹¿æ³åºç¨äºæ°æ®ä¸­å¿åé«æ§è½è®¡ç®ç¯å¢ï¼å¾å°äºä¼ä¸ç¨æ·çè®¤å¯ã*
8. *ä¸è¶³ï¼åèè¾é«ï¼å°¤å¶æ¯é«æ ¸å¿æ°åå·ï¼ä»·æ ¼æè´µã*
9. *æ ¸å¿æ°æå¤çåå·ï¼E5-2699 v3ï¼18æ ¸ï¼*
10. *é¢çæé«çåå·ï¼E5-2667 v3ï¼3.2GHzåºç¡é¢çï¼ç¿é¢å¯è¾¾3.6GHzï¼*
11. *åæ¶ä»£ç AMD å Intel æ¶è´¹çº§ CPUï¼AMD FX-9590, Intel Core i7-4790K*
12. *å·ä½åå¸æ¶é´ï¼2014å¹´9æ*

### *Xeon Scalableç³»å (Haswell)*

- *éç¨æ§ï¼Xeon Scalableç³»åæ¯å¨ä¹åçSkylakeæ¶æä¸æ¨åºçï¼å æ­¤å¨Haswellæ¶æå¹¶ä¸å­å¨ã*

### *è³å¼ºWç³»å (Haswell)*

- *éç¨æ§ï¼å¨Haswellæ¶æå¹¶æ²¡æè³å¼ºWç³»åçäº§åã*

ç»¼ä¸æè¿°ï¼Haswellæ¶ææé´æXeon E3-1200 v3åXeon E5-2600 v3ç³»åå¤çå¨ï¼ä½æ²¡æè³å¼ºWç³»ååXeon  Scalableç³»åçäº§åãè¿äºå¤çå¨ä»£è¡¨äºå½æ¶çææ¯åæ²¿ï¼è¿ä¸æ­¥å·©åºäºè±ç¹å°å¨æå¡å¨åå·¥ä½ç«å¸åºçå°ä½ï¼å¹¶ä¸ºåç»­äº§åçåå±å¥ å®äºåºç¡ã

| æä»¤éç¹æ§                                                   | Sandy Bridge           | Haswell                                              | æ¹è¿ææ°å¢åè½                                           |
| ------------------------------------------------------------ | ---------------------- | ---------------------------------------------------- | -------------------------------------------------------- |
| AVX                                                          | æ¯æ AVX1.0            | æ¯æ AVX1.0 å AVX2.0                                | AVX2.0 å¼å¥äºå¯¹256ä½æ´æ°åæµ®ç¹æ°åéçæ¯æï¼æåè®¡ç®æ§è½ |
| FMA                                                          | ä¸æ¯æ                 | æ¯æ FMA3ï¼Fused Multiply-Addï¼                      | å¼å¥ FMA3 æä»¤éï¼å éæµ®ç¹æ°ä¹å è¿ç®ï¼æåè®¡ç®æç       |
| AES-NI                                                       | æ¯æ AES-NI            | æ¯æ AES-NI                                          | æ éå¤§å·®å¼ï¼ä½Haswellå¨æ´ä½æ§è½åæçä¸æææå          |
| CLMUL                                                        | æ¯æ CLMUL             | æ¯æ CLMUL                                           | æ éå¤§å·®å¼ï¼æ¯æå éä¹æ³è¿ç®ï¼å°¤å¶å¨å å¯ç®æ³ä¸­ä½¿ç¨       |
| TSX                                                          | ä¸æ¯æ                 | æ¯æ TSXï¼Transactional Synchronization Extensionsï¼ | å¼å¥TSXæ¯æï¼æ¹åå¹¶è¡ç¨åºçäºå¡çº§åæ­¥æ§è½                |
| AVX-512                                                      | ä¸æ¯æ                 | ä¸æ¯æ                                               | AVX-512 å¨åç»­æ¶æï¼å¦Skylakeï¼ä¸­æå¼å¥                  |
| BMI1/BMI2                                                    | æ¯æ BMI1ï¼æªæ¯æ BMI2 | æ¯æ BMI1 å BMI2                                    | Haswellæ¯æBMI2ï¼ä½æä½æä»¤éå¢å¼ºï¼ï¼æé«ä½æä½æç      |
| [RDRAND](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=RDRAND&zhida_source=entity) |                        |                                                      |                                                          |

| æ¯æ                                                         | æ¯æ   | ä¸¤èåæ¯æç¡¬ä»¶éæºæ°çæï¼å¢å¼ºå å¯æä½ |                                       |
| ------------------------------------------------------------ | ------ | -------------------------------------- | ------------------------------------- |
| Intel SGX                                                    | ä¸æ¯æ | æ¯æ Intel SGX                         | å¼å¥Intel SGXï¼æä¾ç¡¬ä»¶éç¦»åå å¯æ¯æ |
| Intel [MPX](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=MPX&zhida_source=entity) |        |                                        |                                       |

| ä¸æ¯æ | æ¯æ Intel MPX | å¼å¥MPXï¼æååå­ä¿æ¤ï¼é²æ­¢æº¢åºæ»å» |
| ------ | -------------- | ----------------------------------- |
|        |                |                                     |

![img](https://pic3.zhimg.com/v2-0a9c1ef9c93085bd4dd195fd764c3ddc_1440w.jpg)

------

## åï¼[Broadwell](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=Broadwell&zhida_source=entity)

## ï¼æ´å Wellçä¸ä»£

Broadwellæ¶ææ¯è±ç¹å°å¨2014-2016å¹´é´æ¨åºçå¾®æ¶æï¼ä¸»è¦éç¨äº14nmå¶ç¨ææ¯ãä»¥ä¸æ¯åºäºBroadwellæ¶æçXeon E3ãE5ç³»åå¤çå¨çè¯¦ç»ä¿¡æ¯ãéè¦æ³¨æçæ¯ï¼å¨Broadwellæ¶æï¼å¹¶æ²¡æè³å¼ºWç³»ååScalableç³»åã

### *Xeon E3-1200 v4ç³»å (Broadwell)*

1. *åç§°ï¼Xeon E3-1200 v4ï¼åå¸å¹´ä»£ï¼2015å¹´Q2ï¼æ¶æåç§°ï¼Broadwellï¼nmå·¥èºï¼14nm*
2. *æ¹è¿ç¹ï¼éç¨æ´åè¿ç14nmå¶ç¨ææ¯ï¼æåäºåçº¿ç¨æ§è½ï¼æ¯æDDR4åå­ï¼å¢å¼ºäºéææ¾å¡æ§è½ã*
3. *ææ§½ç±»åï¼[LGA 1151](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=LGA+1151&zhida_source=entity)*

1. *ä¸»æ¿è¯çç»ï¼C232, C236ç­*
2. *ç¼å­éç½®ï¼8MB L3 Cacheï¼ä»¥E3-1275 v4ä¸ºä¾ï¼*
3. *PCIe ééæ°éï¼16æ¡PCI-E 3.0éé*
4. *å¸åºè¯ä»·ï¼åå°æ¡é¢çº§å·¥ä½ç«ç¨æ·çæ¬¢è¿ï¼æä¾äºè¯å¥½çæ§ä»·æ¯åè½ææ¯ã*
5. *ä¸è¶³ï¼æ ¸å¿æ°ç¸å¯¹æéï¼æé«ä¸ºåæ ¸ï¼å¯¹äºéè¦å¤§éå¤çº¿ç¨å¤ççåºç¨æä¸å®éå¶ã*
6. *æ ¸å¿æ°æå¤çåå·ï¼E3-1285 v4ï¼4æ ¸ï¼*
7. *é¢çæé«çåå·ï¼E3-1231 v4ï¼3.4GHzåºç¡é¢çï¼ç¿é¢å¯è¾¾3.8GHzï¼*
8. *åæ¶ä»£ç AMD å Intel æ¶è´¹çº§ CPUï¼AMD Ryzen 7 1800X, Intel Core i7-6700K*
9. *å·ä½åå¸æ¶é´ï¼2015å¹´3æ*

### *Xeon E5-2600 v4ç³»å (Broadwell-EP)*

1. *åç§°ï¼Xeon E5-2600 v4ï¼åå¸å¹´ä»£ï¼2016å¹´Q2ï¼æ¶æåç§°ï¼Broadwell-EPï¼nmå·¥èºï¼14nm*
2. *æ¹è¿ç¹ï¼æå¤æ¯æ22ä¸ªæ ¸å¿ï¼è¿ä¸æ­¥ä¼åäºåèè¡¨ç°ï¼æ¯ææ´å¤åå­ééï¼æå¤å­ä¸ªï¼ï¼æé«äºåå­å¸¦å®½åæ¯æçåå­å®¹éã*
3. *ææ§½ç±»åï¼LGA 2011-v3*
4. *ä¸»æ¿è¯çç»ï¼C612ç­*
5. *ç¼å­éç½®ï¼55MB Intel Smart Cacheï¼ä»¥E5-2699 v4ä¸ºä¾ï¼*
6. *PCIe ééæ°éï¼40æ¡PCI-E 3.0éé*
7. *å¸åºè¯ä»·ï¼å¹¿æ³åºç¨äºæ°æ®ä¸­å¿åé«æ§è½è®¡ç®ç¯å¢ï¼å¾å°äºä¼ä¸ç¨æ·çè®¤å¯ã*
8. *ä¸è¶³ï¼ä»·æ ¼æè´µï¼TDPè¾é«ï¼å°¤å¶æ¯é«æ ¸å¿æ°åå·ã*
9. *æ ¸å¿æ°æå¤çåå·ï¼E5-2699 v4ï¼22æ ¸ï¼*
10. *é¢çæé«çåå·ï¼E5-2697A v4ï¼3.6GHzåºç¡é¢çï¼ç¿é¢å¯è¾¾3.8GHzï¼*
11. *åæ¶ä»£ç AMD å Intel æ¶è´¹çº§ CPUï¼AMD Ryzen 7 1800X, Intel Core i7-6700K*
12. *å·ä½åå¸æ¶é´ï¼2016å¹´4æ*

### *Xeon Scalableç³»å (Broadwell)*

- *éç¨æ§ï¼Xeon Scalableç³»åæ¯å¨ä¹åçSkylakeæ¶æä¸æ¨åºçï¼å æ­¤å¨Broadwellæ¶æå¹¶ä¸å­å¨ã*

### *è³å¼ºWç³»å (Broadwell)*

- *éç¨æ§ï¼å¨Broadwellæ¶æå¹¶æ²¡æè³å¼ºWç³»åçäº§åã*

ç»¼ä¸æè¿°ï¼Broadwellæ¶ææé´æXeon E3-1200 v4åXeon E5-2600 v4ç³»åå¤çå¨ï¼ä½æ²¡æè³å¼ºWç³»ååXeon  Scalableç³»åçäº§åãè¿äºå¤çå¨ä»£è¡¨äºå½æ¶çææ¯åæ²¿ï¼è¿ä¸æ­¥å·©åºäºè±ç¹å°å¨æå¡å¨åå·¥ä½ç«å¸åºçå°ä½ï¼å¹¶ä¸ºåç»­äº§åçåå±å¥ å®äºåºç¡ã

| æä»¤éç¹æ§ | Haswellæ¶æ                                          | Broadwellæ¶æ                                        | æ¹è¿ææ°å¢åè½                                   |
| ---------- | ---------------------------------------------------- | ---------------------------------------------------- | ------------------------------------------------ |
| AVX        | æ¯æ AVX1.0 å AVX2.0                                | æ¯æ AVX1.0 å AVX2.0                                | ä¸¤èç¸åï¼AVX2æ¯æå¯¹256ä½æ´æ°åæµ®ç¹æ°åéçæ¯æ  |
| FMA        | æ¯æ FMA3ï¼Fused Multiply-Addï¼                      | æ¯æ FMA3                                            | æ ååï¼FMA3ç»§ç»­å éæµ®ç¹æ°è¿ç®ï¼æåç§å­¦è®¡ç®æ§è½ |
| AES-NI     | æ¯æ AES-NI                                          | æ¯æ AES-NI                                          | æ ååï¼ç»§ç»­å éAESå è§£å¯æä½                    |
| CLMUL      | æ¯æ CLMUL                                           | æ¯æ CLMUL                                           | æ ååï¼æ¯æå éä¹æ³è¿ç®ï¼å°¤å¶å¨å å¯ç®æ³ä¸­ä½¿ç¨   |
| TSX        | æ¯æ TSXï¼Transactional Synchronization Extensionsï¼ | æ¯æ TSXï¼Transactional Synchronization Extensionsï¼ | æ ååï¼æ¯æç¡¬ä»¶äºå¡åæ­¥                         |
| AVX-512    | ä¸æ¯æ                                               | ä¸æ¯æ                                               | ä¸¤èåä¸æ¯æï¼AVX-512æä»¤éå¨Skylakeå¼å§æ¯æ     |
| BMI1/BMI2  | æ¯æ BMI1 å BMI2                                    | æ¯æ BMI1 å BMI2                                    | æ ååï¼ä¼åä½æä½ï¼å¦ä½è®¾ç½®ãæ¸é¤åå å¯è¿ç®     |
| RDRAND     | æ¯æç¡¬ä»¶éæºæ°çææä»¤                               | æ¯æç¡¬ä»¶éæºæ°çææä»¤                               | æ ååï¼å¢å¼ºå å¯ç®æ³çå®å¨æ§åæ§è½               |
| Intel SGX  | ä¸æ¯æ                                               | æ¯æ Intel SGX                                       | Broadwellæ°å¢å¯¹Intel SGXçæ¯æï¼ç¨äºæé«å®å¨æ§   |
| Intel MPX  | ä¸æ¯æ                                               | æ¯æ Intel MPX                                       | Broadwellæ°å¢å¯¹Intel MPXçæ¯æï¼ç¨äºåå­ä¿æ¤     |

![img](https://picx.zhimg.com/v2-6821df111a8470de83b632c53525f10b_1440w.jpg)

------

## äºï¼Skylakeï¼åä»£Lakeï¼æå¨çä¸ä»£ï¼E5éåºåå²èå°ï¼Scalableå¨æ··ä¹±ä¸­æ¥æ¿

Skylakeæ¶ææ¯è±ç¹å°å¨2015-2017å¹´é´æ¨åºçä¸ä¸ªéè¦å¾®æ¶æï¼å®å¸¦æ¥äºæ¾èçæ§è½æååæçæ¹è¿ãä»¥ä¸æ¯åºäºSkylakeæ¶æçXeon E3ãE5ãWç³»åä»¥åScalableç³»åå¤çå¨çè¯¦ç»ä¿¡æ¯ã

### *Xeon E3-1200 v5ç³»å (Skylake)*

1. *åç§°ï¼Xeon E3-1200 v5ï¼åå¸å¹´ä»£ï¼2017å¹´Q1ï¼æ¶æåç§°ï¼Skylakeï¼nmå·¥èºï¼14nm*
2. *æ¹è¿ç¹ï¼æ¯æDDR4åå­ï¼éææ¾å¡æ§è½å¤§å¹æåï¼TDPéä½ï¼å¢å äºå¯¹æ´å¤PCIeééçæ¯æã*
3. *ææ§½ç±»åï¼LGA 1151*
4. *ä¸»æ¿è¯çç»ï¼C232, C236ç­*
5. *ç¼å­éç½®ï¼8MB L3 Cacheï¼ä»¥E3-1275 v5ä¸ºä¾ï¼*
6. *PCIe ééæ°éï¼16æ¡PCI-E 3.0éé*
7. *å¸åºè¯ä»·ï¼åå°æ¡é¢çº§å·¥ä½ç«ç¨æ·çæ¬¢è¿ï¼æä¾äºè¯å¥½çæ§ä»·æ¯åè½ææ¯ã*
8. *ä¸è¶³ï¼æ ¸å¿æ°ç¸å¯¹æéï¼æé«ä¸ºåæ ¸ï¼å¯¹äºéè¦å¤§éå¤çº¿ç¨å¤ççåºç¨æä¸å®éå¶ã*
9. *æ ¸å¿æ°æå¤çåå·ï¼E3-1285L v5ï¼4æ ¸ï¼*
10. *é¢çæé«çåå·ï¼E3-1231 v5ï¼3.4GHzåºç¡é¢çï¼ç¿é¢å¯è¾¾3.9GHzï¼*
11. *åæ¶ä»£ç AMD å Intel æ¶è´¹çº§ CPUï¼AMD Ryzen 7 1800X, Intel Core i7-7700K*
12. *å·ä½åå¸æ¶é´ï¼2017å¹´3æ*

### *Xeon E5-2600 v4ç³»å (Skylake-EP)*

- *éç¨æ§ï¼å®éä¸æ²¡æå®æ¹å®ä¹çâv4âçæ¬åºäºSkylakeæ¶æï¼Xeon E5ç³»åå¨æ­¤æé´å·²è¿æ¸¡å°Xeon Scalableç³»åã*

### *Xeon Scalableç³»å ([Skylake-SP](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=Skylake-SP&zhida_source=entity)*

### *)*

1. *åç§°ï¼[Xeon Platinum](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=Xeon+Platinum&zhida_source=entity)*

1. */Gold/Silver/Bronzeï¼åå¸å¹´ä»£ï¼2017å¹´Q3èµ·ï¼æ¶æåç§°ï¼Skylake-SPï¼nmå·¥èºï¼14nm*
2. *æ¹è¿ç¹ï¼å¼å¥äºæ°çå½åä½ç³»ï¼æé«äºå®å¨æ§ç¹æ§ï¼å¢å¼ºäºç½ç»åå­å¨å éåè½ï¼æ¯ææ´å¤çæ ¸å¿æ°åæ´å¤§çç¼å­ï¼æ¯ææ´é«çåå­å¸¦å®½ã*
3. *ææ§½ç±»åï¼LGA 3647*
4. *ä¸»æ¿è¯çç»ï¼C620ç³»åç­*
5. *ç¼å­éç½®ï¼æ ¹æ®å·ä½åå·èå®ï¼æé«å¯è¾¾38.5MB Intel Smart Cacheã*
6. *PCIe ééæ°éï¼æå¤48æ¡PCI-E 3.0éé*
7. *å¸åºè¯ä»·ï¼å¹¿æ³åºç¨äºæ°æ®ä¸­å¿åé«æ§è½è®¡ç®ç¯å¢ï¼å¾å°äºä¼ä¸ç¨æ·çè®¤å¯ã*
8. *ä¸è¶³ï¼ä»·æ ¼è¾é«ï¼åèè¾å¤§ã*
9. *æ ¸å¿æ°æå¤çåå·ï¼Platinum 8280ï¼28æ ¸ï¼*
10. *é¢çæé«çåå·ï¼Gold 6258Rï¼2.7GHzåºç¡é¢çï¼ç¿é¢å¯è¾¾4.0GHzï¼*
11. *åæ¶ä»£ç AMD å Intel æ¶è´¹çº§ CPUï¼AMD EPYC 7000ç³»å, Intel Core i9-7980XE*
12. *å·ä½åå¸æ¶é´ï¼2017å¹´7æå¼å§éç»­æ¨åº*

### *Xeon Wç³»å (Skylake-X)*

1. *åç§°ï¼Xeon W-2100/W-2100Mï¼åå¸å¹´ä»£ï¼2017å¹´Q4ï¼æ¶æåç§°ï¼Skylake-Xï¼nmå·¥èºï¼14nm*
2. *æ¹è¿ç¹ï¼ä¸ä¸ºå·¥ä½ç«è®¾è®¡ï¼æ¯æå¤è¾¾18ä¸ªæ ¸å¿ï¼å·å¤æ´å¼ºçå¤çº¿ç¨å¤çè½åï¼æ¯ææ´é«çåå­å¸¦å®½ã*
3. *ææ§½ç±»åï¼LGA 2066*
4. *ä¸»æ¿è¯çç»ï¼C422ç­*
5. *ç¼å­éç½®ï¼24.75MB Intel Smart Cacheï¼ä»¥W-2195ä¸ºä¾ï¼*
6. *PCIe ééæ°éï¼44æ¡PCI-E 3.0éé*
7. *å¸åºè¯ä»·ï¼åå°äºä¸ä¸åä½èåå·¥ç¨å¸çå¥½è¯ï¼éåé«ç«¯å·¥ä½ç«ç¨æ·ã*
8. *ä¸è¶³ï¼ææ¬è¾é«ï¼å¹³å°å¤æåº¦å¢å ã*
9. *æ ¸å¿æ°æå¤çåå·ï¼W-2195ï¼18æ ¸ï¼*
10. *é¢çæé«çåå·ï¼W-2123ï¼3.6GHzåºç¡é¢çï¼ç¿é¢å¯è¾¾4.5GHzï¼*
11. *åæ¶ä»£ç AMD å Intel æ¶è´¹çº§ CPUï¼AMD Ryzen Threadripper 1950X, Intel Core i9-7980XE*
12. *å·ä½åå¸æ¶é´ï¼2017å¹´10æ*

ç»¼ä¸æè¿°ï¼Skylakeæ¶ææé´æXeon E3-1200 v5ãXeon Wç³»åä»¥åXeon Scalableç³»åå¤çå¨ï¼ä½æ²¡æå®æ¹å®ä¹çXeon E5  v4åºäºSkylakeæ¶æçäº§åãè¿äºå¤çå¨ä»£è¡¨äºå½æ¶çææ¯åæ²¿ï¼è¿ä¸æ­¥å·©åºäºè±ç¹å°å¨æå¡å¨ãå·¥ä½ç«å¸åºçå°ä½ï¼å¹¶ä¸ºåç»­äº§åçåå±å¥ å®äºåºç¡ã

| æä»¤éç¹æ§     | Broadwellæ¶æ                                        | Skylakeæ¶æ                                          | æ¹è¿ææ°å¢åè½                                            |
| -------------- | ---------------------------------------------------- | ---------------------------------------------------- | --------------------------------------------------------- |
| AVX            | æ¯æ AVX1.0 å AVX2.0                                | æ¯æ AVX1.0ãAVX2.0 å AVX-512                       | æ°å¢å¯¹AVX-512æä»¤éçæ¯æï¼æåé«æ§è½è®¡ç®æ§è½             |
| FMA            | æ¯æ FMA3ï¼Fused Multiply-Addï¼                      | æ¯æ FMA3                                            | æ ååï¼ç»§ç»­å éæµ®ç¹æ°è¿ç®ï¼æåç§å­¦è®¡ç®æ§è½              |
| AES-NI         | æ¯æ AES-NI                                          | æ¯æ AES-NI                                          | æ ååï¼ç»§ç»­å éAESå è§£å¯æä½                             |
| CLMUL          | æ¯æ CLMUL                                           | æ¯æ CLMUL                                           | æ ååï¼æ¯æå éä¹æ³è¿ç®ï¼å°¤å¶å¨å å¯ç®æ³ä¸­ä½¿ç¨            |
| TSX            | æ¯æ TSXï¼Transactional Synchronization Extensionsï¼ | æ¯æ TSXï¼Transactional Synchronization Extensionsï¼ | æ ååï¼æ¯æç¡¬ä»¶äºå¡åæ­¥                                  |
| AVX-512        | ä¸æ¯æ                                               | æ¯æ AVX-512                                         | æ°å¢å¯¹AVX-512æä»¤éçæ¯æï¼æåå¤§è§æ¨¡æµ®ç¹æ°åæ´æ°è¿ç®æ§è½ |
| BMI1/BMI2      | æ¯æ BMI1 å BMI2                                    | æ¯æ BMI1 å BMI2                                    | æ ååï¼ä¼åä½æä½ï¼å¦ä½è®¾ç½®ãæ¸é¤åå å¯è¿ç®              |
| RDRAND         | æ¯æç¡¬ä»¶éæºæ°çææä»¤                               | æ¯æç¡¬ä»¶éæºæ°çææä»¤                               | æ ååï¼å¢å¼ºå å¯ç®æ³çå®å¨æ§åæ§è½                        |
| Intel SGX      | æ¯æ Intel SGX                                       | æ¯æ Intel SGX                                       | æ ååï¼ç»§ç»­æä¾ç¡¬ä»¶å å¯æ¯æ                              |
| Intel MPX      | æ¯æ Intel MPX                                       | æ¯æ Intel MPX                                       | æ ååï¼é²æ­¢åå­æº¢åºé®é¢                                  |
| Intel DL Boost | ä¸æ¯æ                                               | æ¯æ Intel DL Boostï¼ä»éé¨åSkylakeå¤çå¨ï¼         | æ°å¢å¯¹æ·±åº¦å­¦ä¹ æ¨çå éçæ¯æï¼æé«AIåºç¨æ§è½              |

![img](https://pic3.zhimg.com/v2-a530797ccdaa393331be53b2b33f3ed2_1440w.jpg)

------

## å­ï¼[Kaby Lake](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=Kaby+Lake&zhida_source=entity)

## ï¼ä¸ºäºç§»å¨èéå»çä¸ä»£

Kaby Lakeæ¶ææ¯è±ç¹å°å¨2016-2017å¹´é´æ¨åºçå¾®æ¶æï¼ä¸»è¦åºç¨äºæ¶è´¹çº§å¸åºï¼ç¹å«æ¯å¨ç¬è®°æ¬çµèåæ¡é¢å¹³å°ä¸ãç¶èï¼å¨æå¡å¨åå·¥ä½ç«é¢åï¼è±ç¹å°å¹¶æ²¡ææ¨åºåºäºKaby Lakeæ¶æçXeon E3ãE5ãWç³»åæScalableç³»åå¤çå¨ã

### æ¦è¿°

å¯¹äºXeon E3ãE5ãWç³»åä»¥åScalableç³»åï¼è±ç¹å°éæ©äºç»§ç»­ä½¿ç¨åæ¹è¿ä¹åçæ¶æï¼å¦BroadwellåSkylakeï¼ï¼èä¸æ¯éç¨Kaby  Lakeæ¶æãè¿æ¯å ä¸ºæå¡å¨åå·¥ä½ç«å¸åºæ´æ³¨éå¤çº¿ç¨æ§è½ãæ ¸å¿æ°ãç¼å­å¤§å°ä»¥åå¯¹ä¸ä¸å·¥ä½è´è½½çæ¯æï¼èè¿äºæ¹é¢Kaby  Lakeç¸æ¯å¶åä»£äº§åå¹¶æ²¡ææ¾èæ¹è¿ã

![img](https://pic3.zhimg.com/v2-3f1088a8b5d7d11355dcc1b5ab635b64_1440w.jpg)

------

## ä¸ï¼[Coffee Lake](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=Coffee+Lake&zhida_source=entity)

## ï¼Eåé¢æ²¡æ3äºï¼ä»æ­¤é¢ä¸ä»£æ°äººæ¢æ§äºº

Coffee Lakeæ¶ææ¯è±ç¹å°å¨2017-2018å¹´é´æ¨åºçå¾®æ¶æï¼ä¸»è¦ç¨äºæ¶è´¹çº§å¸åºãç¶èï¼å¨æå¡å¨åå·¥ä½ç«é¢åï¼è±ç¹å°å¹¶æ²¡ææ¨åºåºäºCoffee  Lakeæ¶æçXeon E5æScalableç³»åå¤çå¨ãä¸è¿ï¼è±ç¹å°ç¡®å®æ¨åºäºåºäºCoffee  Lakeæ¶æçEç³»åå¤çå¨ç¨äºä»£æ¿E3ç³»åï¼ä¹å°±æ¯ä¼ è¯´ä¸­çXeon E3 v6ç³»åï¼å¹¶ä¸æ²¡æåºäºCoffee Lakeæ¶æçXeon  Wç³»åå¤çå¨ãä»¥ä¸æ¯åºäºCoffee Lakeæ¶æçEç³»åï¼Xeon E3 v6ç³»åï¼å¤çå¨çè¯¦ç»ä¿¡æ¯ã

### *Xeon E-2100/E-2200ç³»å (Coffee Lake)*

1. *åç§°ï¼Xeon E-2100/E-2200ï¼åå¸å¹´ä»£ï¼2018å¹´Q1-Q4ï¼æ¶æåç§°ï¼Coffee Lakeï¼nmå·¥èºï¼14nm*
2. *æ¹è¿ç¹ï¼å¢å äºæ ¸å¿æ°ï¼æå¤6ä¸ªæ ¸å¿ï¼ï¼ç¸è¾äºä¸ä¸ä»£äº§åæåäºå¤çº¿ç¨æ§è½ãæ¯æDDR4åå­ï¼æä¾äºæ´é«çåå­å¸¦å®½ãéææ¾å¡æ§è½æææåï¼æ¯æIntel UHD Graphics 630ã*
3. *ææ§½ç±»åï¼LGA 1151*
4. *ä¸»æ¿è¯çç»ï¼C246, C232ç­*
5. *ç¼å­éç½®ï¼9MB L3 Cacheï¼ä»¥E-2288Gä¸ºä¾ï¼*
6. *PCIe ééæ°éï¼16æ¡PCI-E 3.0éé*
7. *å¸åºè¯ä»·ï¼åå°äºæ¡é¢çº§å·¥ä½ç«ç¨æ·çæ¬¢è¿ï¼ç¹å«æ¯å¨å¾å½¢è®¾è®¡ãè§é¢ç¼è¾ç­é¢åè¡¨ç°è¯å¥½ãç±äºæ§ä»·æ¯é«ï¼ä¹éåä¸­å°ä¼ä¸ä½¿ç¨ã*
8. *ä¸è¶³ï¼å¯¹äºéè¦æ´å¤æ ¸å¿æ°çä¸ä¸åºç¨æ¥è¯´ï¼6æ ¸å¯è½ä»ç¶æéãåèç¸å¯¹è¾é«ï¼ç¹å«æ¯å¯¹äºé«é¢åå·ã*
9. *æ ¸å¿æ°æå¤çåå·ï¼E-2288Gï¼6æ ¸ï¼*
10. *é¢çæé«çåå·ï¼E-2288Gï¼3.7GHzåºç¡é¢çï¼ç¿é¢å¯è¾¾5.0GHzï¼*
11. *åæ¶ä»£ç AMD å Intel æ¶è´¹çº§ CPUï¼AMDï¼[Ryzen 7 2700X](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=Ryzen+7+2700X&zhida_source=entity)*

1. *ãIntelï¼Core i7-8700K*
2. *å·ä½åå¸æ¶é´ï¼2018å¹´éç»­æ¨åºï¼å¶ä¸­E-2100ç³»åå¨2018å¹´åï¼E-2200ç³»åå¨2018å¹´æ«*

### *Xeon Scalableç³»å (Coffee Lake)*

- *éç¨æ§ï¼Xeon Scalableç³»åéç¨äºSkylake-SPååç»­ç[Cascade Lake](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=Cascade+Lake&zhida_source=entity)*

- *-SPæ¶æï¼å æ­¤æ²¡æåºäºCoffee Lakeæ¶æçäº§åã*

### *Xeon Wç³»å (Coffee Lake)*

- *éç¨æ§ï¼æ²¡æåºäºCoffee Lakeæ¶æçXeon Wç³»åå¤çå¨ã* 

ç»¼ä¸æè¿°ï¼Coffee Lakeæ¶ææé´åªEç³»åï¼Xeon E3 v6ç³»åï¼çXeon E-2100/E-2200ç³»åå¤çå¨ï¼èæ²¡æXeon  E5ãWç³»åæScalableç³»åå¤çå¨åºäºè¯¥æ¶æçäº§åãè¿äºå¤çå¨ä¸»è¦é¢åå¥é¨çº§å·¥ä½ç«åå°åä¼ä¸ç¨æ·ï¼æä¾äºä¸å®ç¨åº¦ä¸çæ§è½æååæ´å¥½çæ§ä»·æ¯ã

| æä»¤éç¹æ§     | Skylakeæ¶æ                                          | Coffee Lakeæ¶æ                                      | æ¹è¿ææ°å¢åè½                                        |
| -------------- | ---------------------------------------------------- | ---------------------------------------------------- | ----------------------------------------------------- |
| AVX            | æ¯æ AVX1.0 å AVX2.0                                | æ¯æ AVX1.0ãAVX2.0 å AVX-512                       | æ ååï¼ä½é¨åå¤çå¨æ¯æAVX-512ï¼éç¨äºæ´é«è´è½½çä»»å¡ |
| FMA            | æ¯æ FMA3ï¼Fused Multiply-Addï¼                      | æ¯æ FMA3                                            | æ ååï¼ç»§ç»­å éæµ®ç¹æ°è¿ç®ï¼æåç§å­¦è®¡ç®æ§è½          |
| AES-NI         | æ¯æ AES-NI                                          | æ¯æ AES-NI                                          | æ ååï¼ç»§ç»­å éAESå è§£å¯æä½                         |
| CLMUL          | æ¯æ CLMUL                                           | æ¯æ CLMUL                                           | æ ååï¼æ¯æå éä¹æ³è¿ç®ï¼å°¤å¶å¨å å¯ç®æ³ä¸­ä½¿ç¨        |
| TSX            | æ¯æ TSXï¼Transactional Synchronization Extensionsï¼ | æ¯æ TSXï¼Transactional Synchronization Extensionsï¼ | æ ååï¼ç»§ç»­æ¯æç¡¬ä»¶äºå¡åæ­¥                          |
| AVX-512        | æ¯æ AVX-512ï¼ä»éé¨åå¤çå¨ï¼                       | æ¯æ AVX-512                                         | æ ååï¼ä½æ´å¤å¤çå¨æ¯ææ­¤æä»¤éï¼æåé«æ§è½è®¡ç®ä»»å¡  |
| BMI1/BMI2      | æ¯æ BMI1 å BMI2                                    | æ¯æ BMI1 å BMI2                                    | æ ååï¼ä¼åä½æä½ï¼å¦ä½è®¾ç½®ãæ¸é¤åå å¯è¿ç®          |
| RDRAND         | æ¯æç¡¬ä»¶éæºæ°çææä»¤                               | æ¯æç¡¬ä»¶éæºæ°çææä»¤                               | æ ååï¼å¢å¼ºå å¯ç®æ³çå®å¨æ§åæ§è½                    |
| Intel SGX      | æ¯æ Intel SGX                                       | æ¯æ Intel SGX                                       | æ ååï¼ç»§ç»­æä¾ç¡¬ä»¶å å¯æ¯æ                          |
| Intel DL Boost | ä¸æ¯æ                                               | æ¯æ Intel DL Boostï¼ä»éé¨åCoffee Lakeå¤çå¨ï¼     | æ°å¢å¯¹æ·±åº¦å­¦ä¹ æ¨çå éçæ¯æï¼æé«AIåºç¨æ§è½          |

![img](https://pic4.zhimg.com/v2-b20d668f7d0df8bebf3193a0da949ab5_1440w.jpg)

------

## å«ï¼Whiskey Lakeï¼ä¸ºäºç§»å¨èâåâéå»çä¸ä»£

Whiskey Lakeæ¶ææ¯è±ç¹å°å¨2018å¹´æ¨åºçå¾®æ¶æï¼ä¸»è¦ç¨äºç§»å¨å¹³å°çUç³»åå¤çå¨ãå¯¹äºæå¡å¨åå·¥ä½ç«é¢åï¼è±ç¹å°å¹¶æ²¡ææ¨åºåºäºWhiskey Lakeæ¶æçXeon E3ãE5ãWç³»åæScalableç³»åå¤çå¨ã

### æ¦è¿°

- éç¨æ§ï¼æ²¡æåºäºWhiskey Lakeæ¶æçXeon E3ãE5ãWç³»åæScalableç³»åå¤çå¨ã

![img](https://pic3.zhimg.com/v2-9df7b5728f3d21fe1ff8db7aee1d89e0_1440w.jpg)

------

## ä¹ï¼Cascade Lakeï¼è¢«åå²çä¸ä»£äººï¼CoffeeåªæEï¼CascadeåªæScalableåW

Cascade Lakeæ¶ææ¯è±ç¹å°å¨2019å¹´æ¨åºçä¸ä¸ªéè¦å¾®æ¶æï¼ä¸»è¦ç¨äºæå¡å¨åæ°æ®ä¸­å¿å¸åºãä»¥ä¸æ¯åºäºCascade Lakeæ¶æçXeon  E3ï¼å·²è¢«éæ°å½åä¸ºXeon Eç³»åï¼ãE5ï¼å·²è¢«éæ°å½åä¸ºXeon Scalableç³»åï¼ãWç³»åçè¯¦ç»ä¿¡æ¯ã

### *Xeon E-2200ç³»å (Cascade Lake)*

- *éç¨æ§ï¼æ²¡æåºäºCascade Lakeæ¶æçEç³»åå¤çå¨ã*

### *Xeon Scalableç³»å (Cascade Lake-SP)*

1. *åç§°ï¼Xeon Platinum/Gold/Silver/Bronzeï¼åå¸å¹´ä»£ï¼2019å¹´Q2-Q4ï¼æ¶æåç§°ï¼Cascade Lake-SPï¼nmå·¥èºï¼14nm*
2. *æ¹è¿ç¹ï¼æ¯ææ´å¤çæ ¸å¿æ°ï¼æå¤28ä¸ªæ ¸å¿ï¼ï¼å¢å¼ºäºå¤çº¿ç¨å¤çè½åãæé«äºå®å¨æ§ç¹æ§ï¼å¦Intel Optane DCæä¹åå­æ¯æãå¢å¼ºäºç½ç»åå­å¨å éåè½ãæ¹è¿äºAIæ¨çæ§è½ï¼æ¯æbfloat16æ°æ®æ ¼å¼ã*
3. *ææ§½ç±»åï¼LGA 3647*
4. *ä¸»æ¿è¯çç»ï¼C620ç³»åç­*
5. *ç¼å­éç½®ï¼æ ¹æ®å·ä½åå·èå®ï¼æé«å¯è¾¾38.5MB Intel Smart Cacheã*
6. *PCIe ééæ°éï¼æå¤48æ¡PCI-E 3.0éé*
7. *å¸åºè¯ä»·ï¼å¹¿æ³åºç¨äºæ°æ®ä¸­å¿åé«æ§è½è®¡ç®ç¯å¢ï¼å¾å°äºä¼ä¸ç¨æ·çè®¤å¯ã*
8. *ä¸è¶³ï¼ä»·æ ¼è¾é«ï¼åèè¾å¤§ãå¯¹äºæäºéAIå·¥ä½è´è½½ï¼å¯è½ä¸æ¯æä¼éæ©ã*
9. *æ ¸å¿æ°æå¤çåå·ï¼Platinum 9282ï¼56æ ¸ï¼*
10. *é¢çæé«çåå·ï¼Gold 6258Rï¼2.7GHzåºç¡é¢çï¼ç¿é¢å¯è¾¾4.0GHzï¼*
11. *åæ¶ä»£ç AMD å Intel æ¶è´¹çº§ CPUï¼AMDï¼EPYC 7002ç³»åï¼Intelï¼Core i9-9980XE*
12. *å·ä½åå¸æ¶é´ï¼2019å¹´éç»­æ¨åºï¼å¶ä¸­é¨ååå·å¨2019å¹´ååå¸*

### *Xeon Wç³»å (Cascade Lake-W)*

1. *åç§°ï¼Xeon W-3200/W-2200ï¼åå¸å¹´ä»£ï¼2019å¹´Q4ï¼æ¶æåç§°ï¼Cascade Lake-Wï¼nmå·¥èºï¼14nm*
2. *æ¹è¿ç¹ï¼æå¤æ¯æ28ä¸ªæ ¸å¿ï¼å¤§å¹å¢å¼ºäºå¤çº¿ç¨å¤çè½åãæä¾äºæ´é«çåå­å¸¦å®½åæ¯æçåå­å®¹éãæ¯ææ´å¤çPCIeééï¼æé«äºæ©å±æ§ã*
3. *ææ§½ç±»åï¼LGA 4189ï¼W-3200ï¼/LGA 3647ï¼W-2200ï¼*
4. *ä¸»æ¿è¯çç»ï¼C621ç­*
5. *ç¼å­éç½®ï¼æå¤§38.5MB Intel Smart Cacheï¼ä»¥W-3275ä¸ºä¾ï¼*
6. *PCIe ééæ°éï¼æå¤64æ¡PCI-E 3.0éé*
7. *å¸åºè¯ä»·ï¼åå°äºä¸ä¸åä½èåå·¥ç¨å¸çå¥½è¯ï¼éåé«ç«¯å·¥ä½ç«ç¨æ·ã*
8. *ä¸è¶³ï¼ææ¬è¾é«ï¼å¹³å°å¤æåº¦å¢å ãåèè¾å¤§ï¼å°¤å¶æ¯é«æ ¸å¿æ°åå·ã*
9. *æ ¸å¿æ°æå¤çåå·ï¼W-3275ï¼28æ ¸ï¼*
10. *é¢çæé«çåå·ï¼W-2295ï¼3.0GHzåºç¡é¢çï¼ç¿é¢å¯è¾¾4.5GHzï¼*
11. *åæ¶ä»£ç AMD å Intel æ¶è´¹çº§ CPUï¼AMDï¼Ryzen Threadripper 3990Xï¼Intelï¼Core i9-9980XE*
12. *å·ä½åå¸æ¶é´ï¼2019å¹´11æ*

ç»¼ä¸æè¿°ï¼Cascade Lakeæ¶ææé´æ¨åºäºXeon E-2200ç³»åãXeon Wç³»åä»¥åXeon Scalableç³»åå¤çå¨ãè¿äºå¤çå¨ä»£è¡¨äºå½æ¶çææ¯åæ²¿ï¼è¿ä¸æ­¥å·©åºäºè±ç¹å°å¨æå¡å¨ãå·¥ä½ç«å¸åºçå°ä½ï¼å¹¶ä¸ºåç»­äº§åçåå±å¥ å®äºåºç¡ã

| æä»¤éç¹æ§            | Coffee Lakeæ¶æ                                      | Cascade Lakeæ¶æ                                     | æ¹è¿ææ°å¢åè½                                               |
| --------------------- | ---------------------------------------------------- | ---------------------------------------------------- | ------------------------------------------------------------ |
| AVX                   | æ¯æ AVX1.0 å AVX2.0                                | æ¯æ AVX1.0ãAVX2.0 å AVX-512                       | æ ååï¼ä½æ´å¤å¤çå¨æ¯æAVX-512ï¼éç¨äºæ´é«è´è½½çä»»å¡        |
| FMA                   | æ¯æ FMA3ï¼Fused Multiply-Addï¼                      | æ¯æ FMA3                                            | æ ååï¼ç»§ç»­å éæµ®ç¹æ°è¿ç®ï¼æåç§å­¦è®¡ç®æ§è½                 |
| AES-NI                | æ¯æ AES-NI                                          | æ¯æ AES-NI                                          | æ ååï¼ç»§ç»­å éAESå è§£å¯æä½                                |
| CLMUL                 | æ¯æ CLMUL                                           | æ¯æ CLMUL                                           | æ ååï¼æ¯æå éä¹æ³è¿ç®ï¼å°¤å¶å¨å å¯ç®æ³ä¸­ä½¿ç¨               |
| TSX                   | æ¯æ TSXï¼Transactional Synchronization Extensionsï¼ | æ¯æ TSXï¼Transactional Synchronization Extensionsï¼ | æ ååï¼ç»§ç»­æ¯æç¡¬ä»¶äºå¡åæ­¥                                 |
| AVX-512               | æ¯æ AVX-512ï¼ä»éé¨åå¤çå¨ï¼                       | æ¯æ AVX-512                                         | æ ååï¼ä½Cascade Lakeçæ¯æèå´æ´å¹¿ï¼ç¹å«æ¯å¨æ°æ®ä¸­å¿å¤çå¨ä¸ |
| BMI1/BMI2             | æ¯æ BMI1 å BMI2                                    | æ¯æ BMI1 å BMI2                                    | æ ååï¼ä¼åä½æä½ï¼å¦ä½è®¾ç½®ãæ¸é¤åå å¯è¿ç®                 |
| RDRAND                | æ¯æç¡¬ä»¶éæºæ°çææä»¤                               | æ¯æç¡¬ä»¶éæºæ°çææä»¤                               | æ ååï¼å¢å¼ºå å¯ç®æ³çå®å¨æ§åæ§è½                           |
| Intel SGX             | æ¯æ Intel SGX                                       | æ¯æ Intel SGX                                       | æ ååï¼ç»§ç»­æä¾ç¡¬ä»¶å å¯æ¯æ                                 |
| Intel DL Boost        | æ¯æ Intel DL Boostï¼ä»éé¨åCoffee Lakeå¤çå¨ï¼     | æ¯æ Intel DL Boostï¼ä»éé¨åCascade Lakeå¤çå¨ï¼    | æ ååï¼å¢å¼ºå¯¹æ·±åº¦å­¦ä¹ æ¨çä»»å¡çå éæ¯æ                     |
| Intel Optane DC       | ä¸æ¯æ                                               | æ¯æ Intel Optane DC Persistent Memory               | æ°å¢ï¼æé«å¤§åå­è´è½½ãä½å»¶è¿è®¿é®çæ§è½                       |
| DDI (Data Direct I/O) | ä¸æ¯æ                                               | æ¯æ DDIï¼Data Direct I/Oï¼ï¼æé«æ°æ®ä¸­å¿I/Oæ§è½     | æ°å¢ï¼æé«æ°æ®ä¸­å¿åå¤§è§æ¨¡å¹¶è¡è®¡ç®çæ§è½                     |

![img](https://pic1.zhimg.com/v2-96c381673b9736bfbf5acfe8039f7aa0_1440w.jpg)

------

## åï¼[Ice Lake](https://zhida.zhihu.com/search?content_id=251491023&content_type=Article&match_order=1&q=Ice+Lake&zhida_source=entity)

## ï¼åªå©Scalableçæåä¸ä»£

Ice Lakeæ¶ææ¯è±ç¹å°å¨2019å¹´æ¨åºçå¾®æ¶æï¼æååºç¨äºç§»å¨å¹³å°çUç³»ååYç³»åå¤çå¨ãéåï¼è±ç¹å°æ¨åºäºåºäºIce Lakeæ¶æçXeon  Scalableå¤çå¨ï¼ä¸»è¦ç¨äºæå¡å¨åæ°æ®ä¸­å¿å¸åºãä»¥ä¸æ¯åºäºIce Lakeæ¶æçXeon E3ãE5ï¼å·²è¢«éæ°å½åä¸ºXeon  Scalableç³»åï¼ãWç³»åä»¥åScalableç³»åå¤çå¨çè¯¦ç»ä¿¡æ¯ã

### Xeon Eç³»å (Ice Lakeæ¶æ)

å¯¹äºXeon Eç³»åï¼å¨Ice Lakeæ¶æå¹¶æ²¡ææ¨åºæ°çEç³»åå¤çå¨ãXeon Eç³»åå¨Ice Lakeæ¶æç»§ç»­ä½¿ç¨Coffee Lakeæ¶æçäº§åï¼ç´å°åæ¥çæ´æ°ã

### *Xeon Scalableç³»å (Ice Lake-SP)*

1. *åç§°ï¼Xeon Platinum/Gold/Silver/Bronzeï¼åå¸å¹´ä»£ï¼2020å¹´Q4 - 2021å¹´Q1ï¼æ¶æåç§°ï¼Ice Lake-SPï¼nmå·¥èºï¼10nm*
2. *æ¹è¿ç¹ï¼æ¯ææ´å¤çæ ¸å¿æ°ï¼æå¤40ä¸ªæ ¸å¿ï¼ï¼å¢å¼ºäºå¤çº¿ç¨å¤çè½åãæé«äºå®å¨æ§ç¹æ§ï¼å¦Intel Software Guard Extensions (SGX) å Intel Total Memory Encryption  (TME)ãå¢å¼ºäºç½ç»åå­å¨å éåè½ãæ¹è¿äºAIæ¨çæ§è½ï¼æ¯æbfloat16æ°æ®æ ¼å¼ï¼å¹¶å¼å¥äºDL  Boostææ¯ãæ¯ææ´å¿«çåå­ç±»åï¼DDR4-3200ï¼åæ´é«çåå­å®¹éã*
3. *ææ§½ç±»åï¼LGA 4189*
4. *ä¸»æ¿è¯çç»ï¼C621ç­*
5. *ç¼å­éç½®ï¼æ ¹æ®å·ä½åå·èå®ï¼æé«å¯è¾¾77MB Intel Smart Cacheã*
6. *PCIe ééæ°éï¼æå¤64æ¡PCI-E 4.0éé*
7. *å¸åºè¯ä»·ï¼å¹¿æ³åºç¨äºæ°æ®ä¸­å¿åé«æ§è½è®¡ç®ç¯å¢ï¼å¾å°äºä¼ä¸ç¨æ·çè®¤å¯ãç¹å«æ¯å¨AIæ¨çåå®å¨åºç¨æ¹é¢è¡¨ç°çªåºã*
8. *ä¸è¶³ï¼ä»·æ ¼è¾é«ï¼åèè¾å¤§ãå¯¹äºæäºéAIå·¥ä½è´è½½ï¼å¯è½ä¸æ¯æä¼éæ©ã*
9. *æ ¸å¿æ°æå¤çåå·ï¼Platinum 8380ï¼40æ ¸ï¼*
10. *é¢çæé«çåå·ï¼Gold 6358Pï¼2.9GHzåºç¡é¢çï¼ç¿é¢å¯è¾¾4.0GHzï¼*
11. *åæ¶ä»£ç AMD å Intel æ¶è´¹çº§ CPUï¼AMDï¼EPYC 7003ç³»åï¼Milanï¼,Intelï¼Core i9-10980XE*
12. *å·ä½åå¸æ¶é´ï¼2020å¹´10æå¼å§éç»­æ¨åº*

### Xeon Wç³»å (Ice Lakeæ¶æ)

å¨Ice Lakeæ¶æï¼**Xeon Wç³»åå¹¶æ²¡æç´æ¥éç¨Ice Lakeæ¶æ**ï¼èæ¯ç»§ç»­ä½¿ç¨ä¹åçæ¶æäº§åãå æ­¤ï¼å¨Ice Lakeæ¶æï¼Xeon Wç³»åçä¸»è¦ç¹ç¹ä»ç¶åºäºSkylake-XæCascade Lakeæ¶æã

### æ»ç»

- **Xeon Scalableç³»å**ç¡®å®æ¨åºäºåºäº**Ice Lake-SPæ¶æ**çå¤çå¨ï¼è¿äºå¤çå¨ä¸»è¦é¢åæå¡å¨åæ°æ®ä¸­å¿å¸åºã
- **Xeon Wç³»å**å**Xeon Eç³»å**å¨Ice Lakeæ¶ææ²¡æç´æ¥éç¨Ice Lakeæ¶æï¼èæ¯ç»§ç»­ä½¿ç¨ä¹åçæ¶æäº§åã

| æä»¤éç¹æ§      | Cascade Lakeæ¶æ                                     | Ice Lakeæ¶æ                                                 | æ¹è¿ææ°å¢åè½                                        |
| --------------- | ---------------------------------------------------- | ------------------------------------------------------------ | ----------------------------------------------------- |
| AVX             | æ¯æ AVX1.0 å AVX2.0                                | æ¯æ AVX1.0ãAVX2.0 å AVX-512                               | æ ååï¼ä½æ´å¤å¤çå¨æ¯æAVX-512ï¼éç¨äºæ´é«è´è½½çä»»å¡ |
| FMA             | æ¯æ FMA3ï¼Fused Multiply-Addï¼                      | æ¯æ FMA3                                                    | æ ååï¼ç»§ç»­å éæµ®ç¹æ°è¿ç®ï¼æåç§å­¦è®¡ç®æ§è½          |
| AES-NI          | æ¯æ AES-NI                                          | æ¯æ AES-NI                                                  | æ ååï¼ç»§ç»­å éAESå è§£å¯æä½                         |
| CLMUL           | æ¯æ CLMUL                                           | æ¯æ CLMUL                                                   | æ ååï¼æ¯æå éä¹æ³è¿ç®ï¼å°¤å¶å¨å å¯ç®æ³ä¸­ä½¿ç¨        |
| TSX             | æ¯æ TSXï¼Transactional Synchronization Extensionsï¼ | æ¯æ TSXï¼Transactional Synchronization Extensionsï¼         | æ ååï¼ç»§ç»­æ¯æç¡¬ä»¶äºå¡åæ­¥                          |
| AVX-512         | æ¯æ AVX-512ï¼ä»éé¨åå¤çå¨ï¼                       | æ¯æ AVX-512                                                 | æ°å¢ï¼æ¹è¿äºå¯¹åéå¹¶è¡ä¼ååå¤æè®¡ç®çå é            |
| BMI1/BMI2       | æ¯æ BMI1 å BMI2                                    | æ¯æ BMI1 å BMI2                                            | æ ååï¼ä¼åä½æä½ï¼å¦ä½è®¾ç½®ãæ¸é¤åå å¯è¿ç®          |
| RDRAND          | æ¯æç¡¬ä»¶éæºæ°çææä»¤                               | æ¯æç¡¬ä»¶éæºæ°çææä»¤                                       | æ ååï¼å¢å¼ºå å¯ç®æ³çå®å¨æ§åæ§è½                    |
| Intel SGX       | æ¯æ Intel SGX                                       | æ¯æ Intel SGX                                               | æ ååï¼ç»§ç»­æä¾ç¡¬ä»¶å å¯æ¯æ                          |
| Intel DL Boost  | æ¯æ Intel DL Boostï¼ä»éé¨åCascade Lakeå¤çå¨ï¼    | æ¯æ Intel DL Boostï¼ä»éé¨åIce Lakeå¤çå¨ï¼                | æ ååï¼å¢å¼ºå¯¹æ·±åº¦å­¦ä¹ æ¨çä»»å¡çå éæ¯æ              |
| Intel Optane DC | ä¸æ¯æ                                               | æ¯æ Intel Optane DC Persistent Memory                       | æ°å¢ï¼æé«å¤§åå­è´è½½ãä½å»¶è¿è®¿é®çæ§è½                |
| VNNI            | ä¸æ¯æ                                               | æ¯æ VNNIï¼Vector Neural Network Instructionsï¼ï¼å éç¥ç»ç½ç»æ¨çå¤ç | æ°å¢ï¼æé«ç¥ç»ç½ç»æ¨çæçï¼ç¹å«æ¯å¨AIåºç¨ä¸­éå¸¸éè¦  |
| Intel Flex IT   | ä¸æ¯æ                                               | æ¯æ Flex ITï¼Flexible Instruction Traceï¼ï¼å¢å¼ºå¤çº¿ç¨æ¯æ   | æ°å¢ï¼æåé«è´è½½å¤çº¿ç¨è®¡ç®åºæ¯ä¸­çæ§è½                |

### **æä»¤éä¹é´çå·®å¼åå³é®æ¹è¿æ»ç»**

![img](https://pica.zhimg.com/v2-4a80ba1c0fabe7592e97651b58af9b20_1440w.jpg)

------

## æ»ç»è¯­ï¼EåWä¼ä¸ä¼ä»æ­¤æä¸ºæ´åå¾çä»£åè¯ï¼ï¼ï¼

æªè³2024å¹´åºï¼è±ç¹å°å°æªæ¨åºåºäºTiger Lakeæ¶æçXeon E3ãE5ãWç³»åæScalableç³»åå¤çå¨ãTiger Lakeæ¶æä¸»è¦åºç¨äºæ¶è´¹çº§å¸åºï¼ç¹å«æ¯ç¬è®°æ¬çµèåå¶ä»ç§»å¨è®¾å¤ä¸­çUç³»ååHç³»åå¤çå¨ã

### æ¦è¿°

- éç¨æ§ï¼æ²¡æåºäºTiger Lakeæ¶æçXeon EãWç³»åæScalableç³»åå¤çå¨ã

![img](https://pic4.zhimg.com/v2-c0153fcb115aac31278ea9180b811679_1440w.jpg)



ç¼è¾äº 2024-12-14 10:56ã»IP å±å°æµæ±

### åå®¹æå±ä¸æ 

- ![æºè½è®¡ç®ï¼æ¡æ¶&ç®æ³](https://picx.zhimg.com/v2-f111d7ee1c41944859e975a712c0883b_l.jpg?source=172ae18b)

  ## [æºè½è®¡ç®ï¼æ¡æ¶&ç®æ³](https://www.zhihu.com/column/c_1763731262546956288)

  å¤ç§¯ä¸äºæºè½è®¡ç®çæäºåææ

# æ·±å¥GPUç¡¬ä»¶æ¶æåè¿è¡æºå¶

[![å¤æ®¿è¤é£ææç¶](https://pic1.zhimg.com/v2-ad3c66592a9048dc0837984d51be5d6d_l.jpg?source=172ae18b)](https://www.zhihu.com/people/ada-30-73)

[å¤æ®¿è¤é£ææç¶](https://www.zhihu.com/people/ada-30-73)

å¯¹éå½æ­æåªæ¿å¼å¿å°è

1114 äººèµåäºè¯¥æç« 



æè§å¾è¿ç¯æç« åå¾ç¹å«å¥½ï¼å°±è½¬è½½è¿æ¥ãè½¬è½½è½¬è½½ããã

å¦æä½èè§å¾ä¾µç¯èä½æï¼æé©¬ä¸å°±å ããããã

[æ·±å¥GPUç¡¬ä»¶æ¶æåè¿è¡æºå¶ - 0åå¾0 - åå®¢å­](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html)

[www.cnblogs.com/timlly/p/11471507.html![img](https://pic3.zhimg.com/v2-4198a4724b1eda602a9dd4bd07a4f69a_180x120.jpg)](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html)

ç®å½

- [ä¸ãå¯¼è¨](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23%E4%B8%80%E3%80%81%E5%AF%BC%E8%A8%80)
  - [1.1 ä¸ºä½è¦äºè§£GPUï¼](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%2311-%E4%B8%BA%E4%BD%95%E8%A6%81%E4%BA%86%E8%A7%A3gpu%EF%BC%9F)
  - [1.2 åå®¹è¦ç¹](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%2312-%E5%86%85%E5%AE%B9%E8%A6%81%E7%82%B9)
  - [1.3 å¸¦çé®é¢éè¯»](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%2313-%E5%B8%A6%E7%9D%80%E9%97%AE%E9%A2%98%E9%98%85%E8%AF%BB)



- [äºãGPUæ¦è¿°](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23%E4%BA%8C%E3%80%81gpu%E6%A6%82%E8%BF%B0)
  - [2.1 GPUæ¯ä»ä¹ï¼](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%2321-gpu%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F)
  - [2.2 GPUåå²](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%2322-gpu%E5%8E%86%E5%8F%B2)
    - [2.2.1 NV GPUåå±å²](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23221-nv-gpu%E5%8F%91%E5%B1%95%E5%8F%B2)
    - [2.2.2 NV GPUæ¶æåå±å²](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23222-nv-gpu%E6%9E%B6%E6%9E%84%E5%8F%91%E5%B1%95%E5%8F%B2)



- [2.3 GPUçåè½](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%2323-gpu%E7%9A%84%E5%8A%9F%E8%83%BD)



- [ä¸ãGPUç©çæ¶æ](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23%E4%B8%89%E3%80%81gpu%E7%89%A9%E7%90%86%E6%9E%B6%E6%9E%84)
  - [3.1 GPUå®è§ç©çç»æ](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%2331-gpu%E5%AE%8F%E8%A7%82%E7%89%A9%E7%90%86%E7%BB%93%E6%9E%84)
  - [3.2 GPUå¾®è§ç©çç»æ](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%2332-gpu%E5%BE%AE%E8%A7%82%E7%89%A9%E7%90%86%E7%BB%93%E6%9E%84)
    - [3.2.1 NVidia Teslaæ¶æ](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23321-nvidia-tesla%E6%9E%B6%E6%9E%84)
    - [3.2.2 NVidia Fermiæ¶æ](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23322-nvidia-fermi%E6%9E%B6%E6%9E%84)
    - [3.2.3 NVidia Maxwellæ¶æ](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23323-nvidia-maxwell%E6%9E%B6%E6%9E%84)
    - [3.2.4 NVidia Kepleræ¶æ](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23324-nvidia-kepler%E6%9E%B6%E6%9E%84)
    - [3.2.5 NVidia Turingæ¶æ](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23325-nvidia-turing%E6%9E%B6%E6%9E%84)



- [3.3 GPUæ¶æçå±æ§](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%2333-gpu%E6%9E%B6%E6%9E%84%E7%9A%84%E5%85%B1%E6%80%A7)



- [åãGPUè¿è¡æºå¶](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23%E5%9B%9B%E3%80%81gpu%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6)
  - [4.1 GPUæ¸²ææ»è§](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%2341-gpu%E6%B8%B2%E6%9F%93%E6%80%BB%E8%A7%88)
  - [4.2 GPUé»è¾ç®¡çº¿](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%2342-gpu%E9%80%BB%E8%BE%91%E7%AE%A1%E7%BA%BF)
  - [4.3 GPUææ¯è¦ç¹](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%2343-gpu%E6%8A%80%E6%9C%AF%E8%A6%81%E7%82%B9)
    - [4.3.1 SIMDåSIMT](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23431-simd%E5%92%8Csimt)
    - [4.3.2 co-issue](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23432-co-issue)
    - [4.3.3 if - elseè¯­å¥](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23433-if---else%E8%AF%AD%E5%8F%A5)
    - [4.3.4 Early-Z](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23434-early-z)
    - [4.3.5 ç»ä¸çè²å¨æ¶æï¼Unified shader Architectureï¼](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23435-%E7%BB%9F%E4%B8%80%E7%9D%80%E8%89%B2%E5%99%A8%E6%9E%B6%E6%9E%84%EF%BC%88unified-shader-architecture%EF%BC%89)
    - [4.3.6 åç´ åï¼Pixel Quadï¼](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23436-%E5%83%8F%E7%B4%A0%E5%9D%97%EF%BC%88pixel-quad%EF%BC%89)



- [4.4 GPUèµæºæºå¶](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%2344-gpu%E8%B5%84%E6%BA%90%E6%9C%BA%E5%88%B6)
  - [4.4.1 åå­æ¶æ](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23441-%E5%86%85%E5%AD%98%E6%9E%B6%E6%9E%84)
  - [4.4.2 GPU Contextåå»¶è¿](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23442-gpu-context%E5%92%8C%E5%BB%B6%E8%BF%9F)
  - [4.4.3 CPU-GPUå¼æç³»ç»](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23443-cpu-gpu%E5%BC%82%E6%9E%84%E7%B3%BB%E7%BB%9F)
  - [4.4.4 GPUèµæºç®¡çæ¨¡å](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23444-gpu%E8%B5%84%E6%BA%90%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9E%8B)
  - [4.4.5 CPU-GPUæ°æ®æµ](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23445-cpu-gpu%E6%95%B0%E6%8D%AE%E6%B5%81)
  - [4.4.6 æ¾åæºå¶](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23446-%E6%98%BE%E5%83%8F%E6%9C%BA%E5%88%B6)



- [4.5 Shaderè¿è¡æºå¶](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%2345-shader%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6)
- [4.6 å©ç¨æ©å±ä¾è¯](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%2346-%E5%88%A9%E7%94%A8%E6%89%A9%E5%B1%95%E4%BE%8B%E8%AF%81)



- [äºãæ»ç»](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23%E4%BA%94%E3%80%81%E6%80%BB%E7%BB%93)
  - [5.1 CPU vs GPU](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%2351-cpu-vs-gpu)
  - [5.2 æ¸²æä¼åå»ºè®®](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%2352-%E6%B8%B2%E6%9F%93%E4%BC%98%E5%8C%96%E5%BB%BA%E8%AE%AE)
  - [5.3 GPUçæªæ¥](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%2353-gpu%E7%9A%84%E6%9C%AA%E6%9D%A5)
  - [5.4 ç»è¯­](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%2354-%E7%BB%93%E8%AF%AD)



- [ç¹å«è¯´æ](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23%E7%89%B9%E5%88%AB%E8%AF%B4%E6%98%8E)
- [åèæç®](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE)



 
**ä¸ãå¯¼è¨**
å¯¹äºå¤§å¤æ°å¾å½¢æ¸²æå¼åèï¼GPUæ¯æ¢çæåéççé¨ä»¶ï¼çæçæ¯æ¯å¤©é½éè¦è·å®æäº¤éï¼éççæ¯GPUå°±å¦ä¸ä¸ªé»çï¼ä¸ç¥éå¶åé¨ç¡¬ä»¶æ¶æï¼æ´æ ä»è°åå¶è¿è¡æºå¶ã
æ¬æä»¥NVIDIAä½ä¸ºä¸»çº¿ï¼å°è¯å¾å¨é¢ä¸æ·±å¥å°åæGPUçç¡¬ä»¶æ¶æåè¿è¡æºå¶ï¼ä¸»è¦æ¶åPCæ¡é¢çº§çGPUï¼ä¸ä¼è¦çç§»å¨ç«¯ãä¸ä¸è®¡ç®ã[å¾å½¢å·¥ä½ç«](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=å¾å½¢å·¥ä½ç«&zhida_source=entity)

çº§å«çGPUã
è¥è¦éè¯»æ¬æï¼è¦æ±è¯»èæä¸å®å¾å½¢å­¦çåºç¡ï¼äºè§£GPU[æ¸²æç®¡çº¿](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=æ¸²æç®¡çº¿&zhida_source=entity)

ï¼æå¥½åè¿HLSLãGLSLç­shaderä»£ç ã
**1.1 ä¸ºä½è¦äºè§£GPUï¼**
äºè§£GPUç¡¬ä»¶æ¶æåçè§£è¿è¡æºå¶ï¼ç¬èè®¤ä¸ºå¥½å¤å¤å¤ï¼æ»ç»åºæ¥æï¼

- çè§£GPUå¶ç©çç»æåè¿è¡æºå¶ï¼GPUç±é»çåç½çã
- æ´ææ¾åºæ¸²æç¶é¢ï¼ååºé«æçshaderä»£ç ã
- ç´§è·æ¶ä»£æ½®æµï¼äºè§£æåæ²¿æ¸²æææ¯ï¼
- æå¤ä¸åèº«ï¼

**1.2 åå®¹è¦ç¹**
æ¬æçåå®¹è¦ç¹æç¼å¦ä¸ï¼

- GPUç®ä»ãåå²ãç¹æ§ã
- GPUç¡¬ä»¶æ¶æã
- GPUåCPUçåè°è°åº¦æºå¶ã
- GPUç¼å­ç»æã
- GPUæ¸²æç®¡çº¿ã
- GPUè¿è¡æºå¶ã
- GPUä¼åæå·§ã

**1.3 å¸¦çé®é¢éè¯»**
éå½å¸¦çé®é¢å»éè¯»ææ¯æç« ï¼éå¸¸è½å æ·±çè§£åè®°å¿ï¼éè¯»æ¬æå¯å¸¦çä»¥ä¸é®é¢ï¼
1ãGPUæ¯å¦ä½ä¸CPUåè°å·¥ä½çï¼
2ãGPUä¹æ[ç¼å­æºå¶](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=ç¼å­æºå¶&zhida_source=entity)

åï¼æå å±ï¼å®ä»¬çéåº¦å·®å¼å¤å°ï¼
3ãGPUçæ¸²ææµç¨æåªäºé¶æ®µï¼å®ä»¬çåè½åå«æ¯ä»ä¹ï¼
4ã[Early-Zææ¯](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=Early-Zææ¯&zhida_source=entity)

æ¯ä»ä¹ï¼åçå¨åªä¸ªé¶æ®µï¼è¿ä¸ªé¶æ®µè¿ä¼åçä»ä¹ï¼ä¼äº§çä»ä¹é®é¢ï¼å¦ä½è§£å³ï¼
5ãSIMDåSIMTæ¯ä»ä¹ï¼å®ä»¬çå¥½å¤æ¯ä»ä¹ï¼co-issueå¢ï¼
6ãGPUæ¯å¹¶è¡å¤ççä¹ï¼è¥æ¯ï¼ç¡¬ä»¶å±æ¯å¦ä½è®¾è®¡åå®ç°çï¼
7ãGPCãTPCãSMæ¯ä»ä¹ï¼Warpåæ¯ä»ä¹ï¼å®ä»¬åCoreãThreadä¹é´çå³ç³»å¦ä½ï¼
8ãé¡¶ç¹çè²å¨ï¼VSï¼ååç´ çè²å¨ï¼PSï¼å¯ä»¥æ¯åä¸å¤çåååï¼ä¸ºä»ä¹ï¼
9ãåç´ çè²å¨ï¼PSï¼çæå°å¤çåä½æ¯1åç´ åï¼ä¸ºä»ä¹ï¼ä¼å¸¦æ¥ä»ä¹å½±åï¼
10ãShaderä¸­çifãforç­è¯­å¥ä¼éä½æ¸²ææçåï¼ä¸ºä»ä¹ï¼
11ãå¦ä¸å¾ï¼æ¸²æç¸åé¢ç§¯çå¾å½¢ï¼ä¸è§å½¢æ°éå°ï¼å·¦ï¼çè¿æ¯æ°éå¤ï¼å³ï¼çæçæ´å¿«ï¼ä¸ºä»ä¹ï¼

![img](https://pica.zhimg.com/v2-194986889f4cfd4f3a103b968f73cdba_1440w.jpg)


12ãGPU Contextæ¯ä»ä¹ï¼æä»ä¹ä½ç¨ï¼
13ãé ææ¸²æç¶é¢çé®é¢å¾å¯è½æåªäºï¼è¯¥å¦ä½é¿åæä¼åå®ä»¬ï¼
å¦æéè¯»å®æ¬æï¼è½å¤éå¸¸æ¸æ°å°åç­ä»¥ä¸ææé®é¢ï¼é£ä¹ï¼æ­åä½ ææ¡å°æ¬æçç²¾é«äºï¼
 
**äºãGPUæ¦è¿°**
**2.1 GPUæ¯ä»ä¹ï¼**
**GPU**å¨ç§°æ¯**Graphics Processing Unit**ï¼å¾å½¢å¤çååãå®çåè½æåä¸åå­ä¸è´ï¼æ¯ä¸é¨ç¨äºç»å¶å¾ååå¤çå¾åæ°æ®çç¹å®è¯çï¼åæ¥æ¸æ¸å å¥äºå¶å®å¾å¤åè½ã

![img](https://picx.zhimg.com/v2-f00767850726ceed684672377575a401_1440w.jpg)


*NVIDIA GPUè¯çå®ç©å¾*ã
æä»¬æ¥å¸¸è®¨è®ºGPUåæ¾å¡æ¶ï¼ç»å¸¸æ··ä¸ºä¸è°ï¼ä¸¥æ ¼æ¥è¯´æ¯ææåºå«çãGPUæ¯æ¾å¡ï¼Video cardãDisplay cardãGraphics cardï¼ææ ¸å¿çé¨ä»¶ï¼ä½é¤äºGPUï¼æ¾å¡è¿ææç­å¨ãéè®¯åä»¶ãä¸ä¸»æ¿åæ¾ç¤ºå¨è¿æ¥çåç±»ææ§½ã
å¯¹äºPCæ¡é¢ï¼çäº§GPUçååä¸»è¦æä¸¤å®¶ï¼

- **NVIDIA**ï¼è±ä¼è¾¾ï¼æ¯å½ä»é¦å±ä¸æç[å¾å½¢æ¸²æææ¯](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=å¾å½¢æ¸²æææ¯&zhida_source=entity)

çå¼é¢èåGPUçäº§åä½¼ä½¼èãNVIDIAçäº§åä¿ç§°Nå¡ï¼ä»£è¡¨äº§åæ[GeForceç³»å](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=GeForceç³»å&zhida_source=entity)

- ãGTXç³»åãRTXç³»åç­ã

![img](https://pic2.zhimg.com/v2-c7a1fde0dbf89bbac18350f4e9a4c279_1440w.jpg)



- **AMD**ï¼æ¢æ¯CPUçäº§åï¼ä¹æ¯GPUçäº§åï¼å®å®¶çæ¾å¡ä¿ç§°Aå¡ãä»£è¡¨äº§åæRadeonç³»åã

![img](https://pica.zhimg.com/v2-015aa33bb434e891a80c732889664cc0_1440w.jpg)



å½ç¶ï¼NVIDIAåAMDä¹é½çäº§ç§»å¨ç«¯ãå¾å½¢å·¥ä½ç«ç±»åçGPUãæ­¤å¤ï¼çäº§ç§»å¨ç«¯æ¾å¡çååè¿æARMãImagination Technologyãé«éç­å¬å¸ã
**2.2 GPUåå²**
GPUèªä»ä¸ä¸çºª90å¹´ä»£åºç°éå½¢ä»¥æ¥ï¼ç»è¿20å¤å¹´çåå±ï¼å·²ç»åå±æä¸ä»ä»æ¯æ¸²æå¾å½¢è¿ä¹ç®åï¼è¿åå«äºæ°å­¦è®¡ç®ã[ç©çæ¨¡æ](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=ç©çæ¨¡æ&zhida_source=entity)

ãAIè¿ç®ç­åè½ã
**2.2.1 NV GPUåå±å²**
ä»¥ä¸æ¯GPUåå±èç¹è¡¨ï¼

- **1995 â NV1**

![img](https://pic1.zhimg.com/v2-29a01baae0b3772fdad2510f1ea20604_1440w.jpg)


*NV1çæ¸²æç»é¢åå¶ç¹æ§ã*

- **1997 â Riva 128 (NV3), DX3**
- **1998 â Riva TNT (NV4), DX5**
  - 32ä½é¢è², 24ä½Zç¼å­, 8ä½æ¨¡æ¿ç¼å­
  - åçº¹ç, [åçº¿æ§è¿æ»¤](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=åçº¿æ§è¿æ»¤&zhida_source=entity)

- æ¯æ¶é2åç´  (2 ppc)



- **1999 - [GeForce 256](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=GeForce+256&zhida_source=entity)**

**ï¼NV10ï¼**

- **åºå®ç®¡çº¿**ï¼æ¯æDirectX 7.0
- **ç¡¬ä»¶T&L**ï¼Transform & lightingï¼[åæ åæ¢](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=åæ åæ¢&zhida_source=entity)

ååç§ï¼

ç«æ¹ä½ç¯å¢å¾ï¼Cubemapsï¼

DOT3 â bump mapping

2å[ååå¼æ§è¿æ»¤](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=ååå¼æ§è¿æ»¤&zhida_source=entity)

ä¸çº¿æ§è¿æ»¤

DXT[çº¹çåç¼©](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=çº¹çåç¼©&zhida_source=entity)

- 4ppc
- **å¼å¥âGPUâæ¯è¯­**

![img](https://pic4.zhimg.com/v2-90665a1fd1538c5f081bec7aad058d19_1440w.jpg)


*NV10çæ¸²æç»é¢åå¶ç¹æ§ã*

- **2001 - GeForce 3**
  - DirectX 8.0
  - Shader Model 1.0
  - **å¯ç¼ç¨æ¸²æç®¡çº¿**
    - [é¡¶ç¹çè²å¨](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=2&q=é¡¶ç¹çè²å¨&zhida_source=entity)

- åç´ çè²å¨



- 3Dçº¹ç
- ç¡¬ä»¶é´å½±å¾
- 8åååå¼æ§è¿æ»¤
- [å¤éæ ·æé¯é½¿](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=å¤éæ ·æé¯é½¿&zhida_source=entity)

- ï¼MSAAï¼
- 4 ppc

![img](https://pica.zhimg.com/v2-eb4d617c88a897bdb84582842acf7ace_1440w.jpg)


*NV20çæ¸²æç»é¢åå¶ç¹æ§ã*

- **2003 - GeForce FXç³»åï¼NV3xï¼**
  - DirectX 9.0
  - Shader Model 2.0
    - 256é¡¶ç¹æä½æä»¤
    - 32çº¹ç + 64ç®æ¯åç´ æä½æä»¤



- Shader Model 2.0a
  - 256é¡¶ç¹æä½æä»¤
  - 512åç´ æä½æä»¤



- **[çè²è¯­è¨](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=çè²è¯­è¨&zhida_source=entity)**

- HLSL
- CGSL
- GLSL



![img](https://pic1.zhimg.com/v2-129d63a0e1a82322a09ecad895b39fc0_1440w.jpg)



*NV30çæ¸²æç»é¢åå¶ç¹æ§ã*

- **2004 - GeForce 6ç³»å (NV4x)**
  - DirectX 9.0c
  - Shader Model 3.0
  - **å¨ææµæ§å¶**
    - åæ¯ãå¾ªç¯ãå£°æç­



- é¡¶ç¹çº¹çè¯»å
- é«å¨æèå´ï¼HDRï¼
  - 64ä½æ¸²æçº¹çï¼Render Targetï¼
  - FP16*4 [çº¹çè¿æ»¤](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=çº¹çè¿æ»¤&zhida_source=entity)

- åæ··å



![img](https://pica.zhimg.com/v2-1d5d40b5aeaa92bbdcadded6eb07f2c4_1440w.jpg)



*NV40çæ¸²æç»é¢åå¶ç¹æ§ã*

- **2006 - GeForce 8ç³»å (G8x)**
  - DirectX 10.0
  - Shader Model 4.0
    - å ä½çè²å¨ï¼Geometry Shadersï¼
    - æ²¡æä¸éä½ï¼No caps bitsï¼
    - **ç»ä¸ççè²å¨ï¼Unified Shadersï¼**



- Vistaç³»ç»å¨æ°é©±å¨
- åºäºGPUè®¡ç®çCUDAé®ä¸
- GPUè®¡ç®è½åä»¥GFLOPSè®¡éã

![img](https://pic3.zhimg.com/v2-867ad7a3f3bccbab206699a773dcfe90_1440w.jpg)


*NV G80çæ¸²æç»é¢åå¶ç¹æ§ã*

- **2010 - GeForce 405ï¼GF119ï¼**
  - DirectX 11.0
    - **æ²é¢ç»åï¼Tessellationï¼**
      - å¤å£³çè²å¨ï¼Hull Shaderï¼
      - é¶åµååï¼tessellatorï¼
      - [åçè²å¨](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=åçè²å¨&zhida_source=entity)

- ï¼Domain Shaderï¼



- **è®¡ç®çè²å¨ï¼Compute Shaderï¼**
  - æ¯æStream Output



![img](https://pic4.zhimg.com/v2-93589c113a09c3fcd7b2e8b067bcbab1_1440w.jpg)


*DirectX 11çæ¸²æç®¡çº¿ã*

- å¤çº¿ç¨æ¯æ
- æ¹è¿ççº¹çåç¼©



- **Shader Model 5.0**
  - æ´å¤æä»¤ãå­å¨ååãå¯å­å¨
  - é¢åå¯¹è±¡çè²è¯­è¨
  - æ²é¢ç»å
  - è®¡ç®çè²å¨





- **2014 - GeForceGT 710ï¼GK208ï¼**
  - DirectX 12.0
    - è½»éåé©±å¨å±
    - ç¡¬ä»¶çº§å¤çº¿ç¨æ¸²ææ¯æ



- æ´å®åçç¡¬ä»¶èµæºç®¡ç



- **2016 - GeForceGTX 1060 6GB**
  - é¦æ¬¡æ¯æRTXåDXRææ¯ï¼å³**æ¯æåçº¿è¿½è¸ª**
  - å¼å¥RT Coreï¼åçº¿è¿½è¸ªæ ¸å¿ï¼

![img](https://pic2.zhimg.com/v2-3d3949862b7cc0ffd56a507f50e33a39_1440w.jpg)


*æ¯æRTXåçº¿è¿½è¸ªçæ¾å¡åè¡¨ã*

- **2018 - TITAN RTXï¼TU102ï¼**
  - DirectX 12.1ï¼OpenGL 4.5
  - 6GPCï¼36TPCï¼72SMï¼72RT Coreï¼...
  - 8Kåè¾¨çï¼1770MHzä¸»é¢ï¼24Gæ¾å­ï¼384ä½å¸¦å®½

![img](https://pica.zhimg.com/v2-498ca0cfde9614a8eaccc446ea181382_1440w.jpg)





ä»ä¸é¢å¯ä»¥çåºæ¥ï¼GPUç¡¬ä»¶æ¯ä¼´éçå¾å½¢APIæ åãæ¸¸æä¸èµ·åå±çï¼å¹¶ä¸å®ä»¬å½¢æäºç¸äºç¸æãç¸äºä¿è¿çè¯æ§å³ç³»ã
**2.2.2 NV GPUæ¶æåå±å²**
ä¼æå¨ç¥ï¼CPUçåå±ç¬¦åæ©å°å®å¾ï¼æ¯18ä¸ªæéåº¦ç¿»åã

![img](https://picx.zhimg.com/v2-7baec45c4dbaeb5a38ffd6a386d78545_1440w.jpg)


*å¤çè¯çæ¶ä½ç®¡æ°éç¬¦å[æ©å°å®å¾](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=2&q=æ©å°å®å¾&zhida_source=entity)*

*ï¼å¾å³æ¯æ©å°æ¬äººï¼Intelçåå§äºº*
èNVIDIAåå§äºº**[é»ä»å](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=é»ä»å&zhida_source=entity)**

å¨å¾å¤å¹´åæ¾ä¿¡èªæ¦æ¦å°è¯´ï¼GPUçéåº¦ååè½è¦è¶è¶æ©å°å®å¾ï¼æ¯6ä¸ªæå°±ç¿»ä¸åãNVçGPUåå±å²è¯æï¼ä»ç¡®å®åå°äºï¼GPUçæéå¹çè¿è¶CPUï¼

![img](https://pica.zhimg.com/v2-e2add84307f9c6f2a8b9947edca4d04a_1440w.jpg)


NVIDIA GPUæ¶æåç»å¤æ¬¡åé©ï¼ä»èµ·åçTeslaåå±å°ææ°çTuringæ¶æï¼åå±å²å¯åä¸ºä»¥ä¸æ¶é´èç¹ï¼

- **2008 - Tesla**
  Teslaæåæ¯ç»è®¡ç®å¤çååä½¿ç¨çï¼åºç¨äºæ©æçCUDAç³»åæ¾å¡è¯çä¸­ï¼å¹¶ä¸æ¯çæ­£æä¹ä¸çæ®éå¾å½¢å¤çè¯çã
- **2010 - Fermi**
  Fermiæ¯ç¬¬ä¸ä¸ªå®æ´çGPUè®¡ç®æ¶æãé¦æ¬¾å¯æ¯æä¸å±äº«å­å¨ç»åçº¯cacheå±æ¬¡çGPUæ¶æï¼æ¯æECCçGPUæ¶æã
- **2012 - Kepler**
  Keplerç¸è¾äºFermiæ´å¿«ï¼æçæ´é«ï¼æ§è½æ´å¥½ã
- **2014 - Maxwell**
  å¶å¨æ°ç[ç«ä½åç´ å¨å±åç§](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=ç«ä½åç´ å¨å±åç§&zhida_source=entity)

 (VXGI) ææ¯é¦æ¬¡è®©æ¸¸æ GPU è½å¤æä¾å®æ¶çå¨æå¨å±åç§ææãåºäº Maxwell æ¶æç [GTX 980](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=GTX+980&zhida_source=entity) å 970 GPU éç¨äºåæ¬å¤å¸§éæ ·æé¯é½¿ (MFAA)ãå¨æè¶çº§åè¾¨ç (DSR)ãVR Direct ä»¥å[è¶èè½è®¾è®¡](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=è¶èè½è®¾è®¡&zhida_source=entity)

å¨åçä¸ç³»åæ°ææ¯ã

**2016 - Pascal**
Pascal æ¶æå°å¤çå¨åæ°æ®éæå¨åä¸ä¸ªç¨åºååï¼ä»¥å®ç°æ´é«çè®¡ç®æçã[1080ç³»å](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=1080ç³»å&zhida_source=entity)

ã1060ç³»ååºäºPascalæ¶æ

**2017 - Volta**
Volta éå¤640 ä¸ªTensor æ ¸å¿ï¼æ¯ç§å¯æä¾è¶è¿100 åæ¬¡[æµ®ç¹è¿ç®](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=æµ®ç¹è¿ç®&zhida_source=entity)

- (TFLOPS) çæ·±åº¦å­¦ä¹ æè½ï¼æ¯åä¸ä»£çPascal æ¶æå¿«5 åä»¥ä¸ã
- **2018 - Turing**
  Turing æ¶æéå¤äºåä¸º RT Core çä¸ç¨åçº¿è¿½è¸ªå¤çå¨ï¼è½å¤ä»¥é«è¾¾æ¯ç§ 10 Giga Rays çéåº¦å¯¹åçº¿åå£°é³å¨ 3D  ç¯å¢ä¸­çä¼ æ­è¿è¡å éè®¡ç®ãTuring æ¶æå°å®æ¶åçº¿è¿½è¸ªè¿ç®å éè³ä¸ä¸ä»£ NVIDIA Pascalâ¢ æ¶æç 25 åï¼å¹¶è½ä»¥é«åº CPU  30 å¤åçéåº¦è¿è¡çµå½±ææçæç»å¸§æ¸²æã2060ç³»åã2080ç³»åæ¾å¡ä¹æ¯è·³è¿äºVoltaç´æ¥éæ©äºTuringæ¶æã

ä¸å¾æ¯é¨åGPUæ¶æçåå±åç¨ï¼

![img](https://pic1.zhimg.com/v2-c1e1e4dd317dbb9df6086589a57cbff4_1440w.jpg)


**2.3 GPUçåè½**
ç°ä»£GPUé¤äºç»å¶å¾å½¢å¤ï¼è¿æå½äºå¾å¤é¢å¤çåè½ï¼ç»¼åèµ·æ¥å¦ä¸å æ¹é¢ï¼

- **å¾å½¢ç»å¶ã**
  è¿æ¯GPUæä¼ ç»çæ¿æå¥½æï¼ä¹æ¯æåºç¡ãææ ¸å¿çåè½ãä¸ºå¤§å¤æ°PCæ¡é¢ãç§»å¨è®¾å¤ãå¾å½¢å·¥ä½ç«æä¾å¾å½¢å¤çåç»å¶åè½ã
- **ç©çæ¨¡æã**
  GPUç¡¬ä»¶éæçç©çå¼æï¼PhysXãHavokï¼ï¼ä¸ºæ¸¸æãçµå½±ãæè²ãç§å­¦æ¨¡æç­é¢åæä¾äºæç¾ä¸ååæ§è½çç©çæ¨¡æï¼ä½¿å¾ä»¥åéè¦é¿æ¶é´è®¡ç®çç©çæ¨¡æå¾ä»¥å®æ¶åç°ã
- **æµ·éè®¡ç®ã**
  è®¡ç®çè²å¨åæµè¾åºçåºç°ï¼ä¸ºåç§å¯ä»¥[å¹¶è¡è®¡ç®](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=å¹¶è¡è®¡ç®&zhida_source=entity)

çæµ·ééæ±å¾ä»¥å®ç°ï¼CUDAå°±æ¯æå¥½çä¾è¯ã

**AIè¿ç®ã**
è¿å¹´æ¥ï¼äººå·¥æºè½çå´èµ·æ¨å¨äºGPUéæäºAI Core[è¿ç®åå](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=è¿ç®åå&zhida_source=entity)

ï¼ååºAIè¿ç®è½åçæåï¼ç»åè¡åä¸å¸¦æ¥äºè®¡ç®è½åçæåã

**å¶å®è®¡ç®ã**
[é³è§é¢ç¼è§£ç ](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=é³è§é¢ç¼è§£ç &zhida_source=entity)

ãå è§£å¯ãç§å­¦è®¡ç®ã[ç¦»çº¿æ¸²æ](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=ç¦»çº¿æ¸²æ&zhida_source=entity)

- ç­ç­é½ç¦»ä¸å¼ç°ä»£GPUçå¹¶è¡è®¡ç®è½ååæµ·éååè½åã


**ä¸ãGPUç©çæ¶æ**
**3.1 GPUå®è§ç©çç»æ**
ç±äºçº³ç±³å·¥èºçå¼å¥ï¼GPUå¯ä»¥å°æ°ä»¥äº¿è®°çæ¶ä½ç®¡åçµå­å¨ä»¶éæå¨ä¸ä¸ªå°å°çè¯çåãä»å®è§ç©çç»æä¸çï¼ç°ä»£å¤§å¤æ°æ¡é¢çº§GPUçå¤§å°è·æ°æç¡¬å¸åç­å¤§å°ï¼é¨åçè³æ¯ä¸æç¡¬å¸è¿å°ï¼ä¸å¾ï¼ã

![img](https://pic3.zhimg.com/v2-e75304ecbc995270a315bc5db9b28460_1440w.jpg)


*é«ééªé¾853æ¾ç¤ºè¯çæ¯ç¡¬å¸è¿å°*
å½GPUç»åæ£ç­é£æãPCIææ§½ãHDMIæ¥å£ç­é¨ä»¶ä¹åï¼å°±ç»æäºæ¾å¡ï¼ä¸å¾ï¼ã

![img](https://pica.zhimg.com/v2-498ca0cfde9614a8eaccc446ea181382_1440w.jpg)


æ¾å¡ä¸è½ç¬ç«å·¥ä½ï¼éè¦è£è½½å¨ä¸»æ¿ä¸ï¼ç»åCPUãåå­ãæ¾å­ãæ¾ç¤ºå¨ç­ç¡¬ä»¶è®¾å¤ï¼ç»æå®æ´çPCæºã

![img](https://pic4.zhimg.com/v2-ae94e18bd5453bf31a7c88a90a1023b5_1440w.jpg)


*æ­è½½äºæ¾å¡çä¸»æ¿ã*
**3.2 GPUå¾®è§ç©çç»æ**
GPUçå¾®è§ç»æå ä¸åååãä¸åæ¶æé½ä¼ææå·®å¼ï¼ä½æ ¸å¿é¨ä»¶ãæ¦å¿µãä»¥åè¿è¡æºå¶å¤§åå°å¼ãä¸é¢å°å±ç¤ºé¨åæ¶æçGPUå¾®è§ç©çç»æã
**3.2.1 NVidia Teslaæ¶æ**

![img](https://pica.zhimg.com/v2-c7a59138805ad7310466d2c73b8bc62c_1440w.jpg)


Teslaå¾®è§æ¶ææ»è§å¾å¦ä¸ãä¸é¢å°éè¿°å®çç¹æ§åæ¦å¿µï¼

- æ¥æ7ç»TPCï¼Texture/Processor Clusterï¼çº¹çå¤çç°ï¼
- æ¯ä¸ªTPCæä¸¤ç»SMï¼Stream Multiprocessorï¼æµå¤å¤çå¨ï¼
- æ¯ä¸ªSMåå«ï¼
  - 6ä¸ªSPï¼Streaming Processorï¼æµå¤çå¨ï¼
  - 2ä¸ªSFUï¼Special Function Unitï¼[ç¹æ®å½æ°](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=ç¹æ®å½æ°&zhida_source=entity)

- ååï¼
- L1ç¼å­ãMT Issueï¼å¤çº¿ç¨æä»¤è·åï¼ãC-Cacheï¼å¸¸éç¼å­ï¼ãå±äº«åå­



- é¤äºTPCæ ¸å¿ååï¼è¿æä¸æ¾å­ãCPUãç³»ç»åå­äº¤äºçåç§é¨ä»¶ã

**3.2.2 NVidia Fermiæ¶æ**

![img](https://pic3.zhimg.com/v2-02dc1051fe942d08b324c4279529b8be_1440w.jpg)


Fermiæ¶æå¦ä¸å¾ï¼å®çç¹æ§å¦ä¸ï¼

- æ¥æ16ä¸ªSM
- æ¯ä¸ªSMï¼
  - 2ä¸ªWarpï¼çº¿ç¨æï¼
  - ä¸¤ç»å±32ä¸ªCore
  - 16ç»å è½½å­å¨ååï¼LD/STï¼
  - 4ä¸ªç¹æ®å½æ°ååï¼SFUï¼



- æ¯ä¸ªWarpï¼
  - 16ä¸ªCore
  - Warpç¼æå¨ï¼Warp Schedulerï¼
  - ååååï¼Dispatch Unitï¼



- æ¯ä¸ªCoreï¼
  - 1ä¸ªFPUï¼æµ®ç¹æ°ååï¼
  - 1ä¸ªALUï¼[é»è¾è¿ç®åå](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=é»è¾è¿ç®åå&zhida_source=entity)

- ï¼



**3.2.3 NVidia Maxwellæ¶æ**

![img](https://pic3.zhimg.com/v2-7a1d0568e6e7d80c93fb2dd0b5bbe84a_1440w.jpg)


éç¨äºMaxwellçGM204ï¼æ¥æ4ä¸ªGPCï¼æ¯ä¸ªGPCæ4ä¸ªSMï¼å¯¹æ¯Teslaæ¶ææ¥è¯´ï¼å¨å¤çååä¸æäºå¾å¤§çæåã
**3.2.4 NVidia Kepleræ¶æ**

![img](https://pica.zhimg.com/v2-1f98249cbfb5ae25d89ebee14f4b5df2_1440w.jpg)


Kepleré¤äºå¨ç¡¬ä»¶æäºæåï¼æäºæ´å¤å¤çååä¹å¤ï¼è¿å°SMåçº§å°äºSMXãSMXæ¯æ¹è¿çæ¶æï¼æ¯æå¨æåå»º[æ¸²æçº¿ç¨](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=æ¸²æçº¿ç¨&zhida_source=entity)

ï¼ä¸å¾ï¼ï¼ä»¥éä½å»¶è¿ã

![img](https://pic4.zhimg.com/v2-af327e53b5541c82f4ba2a568baf2f4f_1440w.jpg)


**3.2.5 NVidia Turingæ¶æ**

![img](https://pic4.zhimg.com/v2-940f43d36b0b2d84b84992d055cb41dd_1440w.jpg)


ä¸å¾æ¯éçº³äºTuringæ¶æçTU102 GPUï¼å®çç¹ç¹å¦ä¸ï¼

- 6 GPCï¼å¾å½¢å¤çç°ï¼
- 36 TPCï¼[çº¹çå¤çç°](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=2&q=çº¹çå¤çç°&zhida_source=entity)

- ï¼
- 72 SMï¼æµå¤å¤çå¨ï¼
- æ¯ä¸ªGPCæ6ä¸ªTPCï¼æ¯ä¸ªTPCæ2ä¸ªSM
- 4,608 CUDAæ ¸
- 72 RTæ ¸
- 576 Tensoræ ¸
- 288 çº¹çåå
- 12x32ä½ GDDR6åå­æ§å¶å¨ (å±384ä½)

åä¸ªSMçç»æå¾å¦ä¸ï¼

![img](https://pic4.zhimg.com/v2-fab1bba5b9860f6984cd22bebaf34ac7_1440w.jpg)


æ¯ä¸ªSMåå«ï¼

- 64 CUDAæ ¸
- 8 Tensoræ ¸
- 256 KBå¯å­å¨æä»¶

TU102 GPUè¯çå®ç©å¾ï¼

![img](https://pica.zhimg.com/v2-b5194c17865b68dace11e9c38bf95f50_1440w.jpg)


**3.3 GPUæ¶æçå±æ§**
çºµè§ä¸ä¸èçææGPUæ¶æï¼å¯ä»¥åç°å®ä»¬è½ç¶ææå·®å¼ï¼ä½å­å¨çå¾å¤ç¸åçæ¦å¿µåé¨ä»¶ï¼

- GPC
- TPC
- Thread
- SMãSMXãSMM
- Warp
- SP
- Core
- ALU
- FPU
- SFU
- ROP
- Load/Store Unit
- L1 Cache
- L2 Cache
- Memory
- Register File

ä»¥ä¸åä¸ªé¨ä»¶çç¨éå°å¨ä¸ä¸ç« è¯¦ç»éè¿°ã
GPUä¸ºä»ä¹ä¼æè¿ä¹å¤å±çº§ä¸æè¿ä¹å¤é·åçé¨ä»¶ï¼ç­æ¡æ¯GPUçä»»å¡æ¯å¤©ç¶å¹¶è¡çï¼ç°ä»£GPUçæ¶æçæ¯ä»¥é«åº¦å¹¶è¡è½åèè®¾è®¡çã
 
**åãGPUè¿è¡æºå¶**
**4.1 GPUæ¸²ææ»è§**
ç±ä¸ä¸ç« å¯å¾ç¥ï¼ç°ä»£GPUæçç¸ä¼¼çç»æï¼æå¾å¤ç¸åçé¨ä»¶ï¼å¨è¿è¡æºå¶ä¸ï¼ä¹æå¾å¤å±åç¹ãä¸é¢æ¯Fermiæ¶æçè¿è¡æºå¶æ»è§å¾ï¼

![img](https://pic3.zhimg.com/v2-7692eb02eeeb3ba83c0ea285944acec8_1440w.jpg)


ä»Fermiå¼å§NVIDIAä½¿ç¨ç±»ä¼¼çåçæ¶æï¼ä½¿ç¨ä¸ä¸ªGiga Thread Engineæ¥ç®¡çæææ­£å¨è¿è¡çå·¥ä½ï¼GPUè¢«ååæå¤ä¸ªGPCs(Graphics Processing  Cluster)ï¼æ¯ä¸ªGPCæ¥æå¤ä¸ªSMï¼SMXãSMMï¼åä¸ä¸ªåæ åå¼æ(Raster  Engine)ï¼å®ä»¬å¶ä¸­æå¾å¤çè¿æ¥ï¼ææ¾èçæ¯Crossbarï¼å®å¯ä»¥è¿æ¥GPCsåå¶å®åè½æ§æ¨¡åï¼ä¾å¦ROPæå¶ä»å­ç³»ç»ï¼ã
ç¨åºåç¼åçshaderæ¯å¨SMä¸å®æçãæ¯ä¸ªSMåå«è®¸å¤ä¸ºçº¿ç¨æ§è¡æ°å­¦è¿ç®çCoreï¼æ ¸å¿ï¼ãä¾å¦ï¼ä¸ä¸ªçº¿ç¨å¯ä»¥æ¯é¡¶ç¹æåç´ çè²å¨è°ç¨ãè¿äºCoreåå¶å®ååç±Warp Scheduleré©±å¨ï¼Warp Schedulerç®¡çä¸ç»32ä¸ªçº¿ç¨ä½ä¸ºWarpï¼çº¿ç¨æï¼å¹¶å°è¦æ§è¡çæä»¤ç§»äº¤ç»Dispatch  Unitsã
GPUä¸­å®éæå¤å°è¿äºååï¼æ¯ä¸ªGPCæå¤å°ä¸ªSMï¼å¤å°ä¸ªGPC  ......ï¼åå³äºè¯çéç½®æ¬èº«ãä¾å¦ï¼GM204æ4ä¸ªGPCï¼æ¯ä¸ªGPCæ4ä¸ªSMï¼ä½Tegra  X1æ1ä¸ªGPCå2ä¸ªSMï¼å®ä»¬åéç¨Maxwellè®¾è®¡ãSMè®¾è®¡æ¬èº«ï¼åæ ¸æ°éï¼æä»¤åä½ï¼[è°åº¦ç¨åº](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=è°åº¦ç¨åº&zhida_source=entity)

......ï¼ä¹éçæ¶é´çæ¨ç§»èåçååï¼å¹¶å¸®å©ä½¿è¯çåå¾å¦æ­¤é«æï¼å¯ä»¥ä»é«ç«¯å°å¼æºæ©å±å°ç¬è®°æ¬çµèç§»å¨ã

![img](https://pica.zhimg.com/v2-3fe702c62ce53860114145ce43fdd890_1440w.jpg)


å¦ä¸å¾ï¼å¯¹äºæäºGPUï¼å¦Fermié¨ååå·ï¼çåä¸ªSMï¼åå«ï¼

- 32ä¸ªè¿ç®æ ¸å¿ ï¼Coreï¼ä¹å«æµå¤çå¨Stream Processorï¼
- 16ä¸ªLD/STï¼load/storeï¼æ¨¡åæ¥å è½½åå­å¨æ°æ®
- 4ä¸ªSFUï¼Special function unitsï¼æ§è¡ç¹æ®æ°å­¦è¿ç®ï¼sinãcosãlogç­ï¼
- 128KBå¯å­å¨ï¼Register Fileï¼
- 64KB L1ç¼å­
- å¨å±åå­ç¼å­ï¼Uniform Cacheï¼
- çº¹çè¯»ååå
- çº¹çç¼å­ï¼Texture Cacheï¼
- PolyMorph Engineï¼å¤è¾¹å½¢å¼æè´è´£å±æ§è£éï¼attribute Setupï¼ãé¡¶ç¹æå(VertexFetch)ã[æ²é¢ç»å](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=3&q=æ²é¢ç»å&zhida_source=entity)

- ãæ æ ¼åï¼è¿ä¸ªæ¨¡åå¯ä»¥çè§£ä¸é¨å¤çé¡¶ç¹ç¸å³çä¸è¥¿ï¼ã
- 2ä¸ªWarp Schedulersï¼è¿ä¸ªæ¨¡åè´è´£warpè°åº¦ï¼ä¸ä¸ªwarpç±32ä¸ªçº¿ç¨ç»æï¼warpè°åº¦å¨çæä»¤éè¿Dispatch Unitséå°Coreæ§è¡ã
- æä»¤ç¼å­ï¼Instruction Cacheï¼
- åé¨é¾æ¥ç½ç»ï¼Interconnect Networkï¼

**4.2 GPUé»è¾ç®¡çº¿**
äºè§£ä¸ä¸èçé¨ä»¶åæ¦å¿µä¹åï¼å¯ä»¥æ·±å¥éè¿°GPUçæ¸²æè¿ç¨åæ­¥éª¤ãä¸é¢å°ä»¥Fermiå®¶æçSMä¸ºä¾ï¼è¿è¡é»è¾ç®¡çº¿çè¯¦ç»è¯´æã

![img](https://pic2.zhimg.com/v2-8792c13419695fd5ca051208c427dbe7_1440w.jpg)


1ãç¨åºéè¿å¾å½¢API(DXãGLãWEBGL)ååºdrawcallæä»¤ï¼æä»¤ä¼è¢«æ¨éå°é©±å¨ç¨åºï¼é©±å¨ä¼æ£æ¥æä»¤çåæ³æ§ï¼ç¶åä¼ææä»¤æ¾å°GPUå¯ä»¥è¯»åçPushbufferä¸­ã
2ãç»è¿ä¸æ®µæ¶é´æèæ¾å¼è°ç¨flushæä»¤åï¼é©±å¨ç¨åºæPushbufferçåå®¹åéç»GPUï¼GPUéè¿ä¸»æºæ¥å£ï¼Host Interfaceï¼æ¥åè¿äºå½ä»¤ï¼å¹¶éè¿åç«¯ï¼Front Endï¼å¤çè¿äºå½ä»¤ã
3ãå¨å¾ååéå¨(Primitive Distributor)ä¸­å¼å§å·¥ä½åéï¼å¤çindexbufferä¸­çé¡¶ç¹äº§çä¸è§å½¢åææ¹æ¬¡(batches)ï¼ç¶ååéç»å¤ä¸ªPGCsãè¿ä¸æ­¥ççè§£å°±æ¯æäº¤ä¸æ¥nä¸ªä¸è§å½¢ï¼åéç»è¿å ä¸ªPGCåæ¶å¤çã

![img](https://pic2.zhimg.com/v2-50303aa1b93bf72a00ec057ce4ef6fc1_1440w.jpg)


4ãå¨GPCä¸­ï¼æ¯ä¸ªSMä¸­çPoly Morph Engineè´è´£éè¿ä¸è§å½¢ç´¢å¼(triangle indices)ååºä¸è§å½¢çæ°æ®(vertex data)ï¼å³å¾ä¸­çVertex Fetchæ¨¡åã
5ãå¨è·åæ°æ®ä¹åï¼å¨SMä¸­ä»¥32ä¸ªçº¿ç¨ä¸ºä¸ç»ççº¿ç¨æ(Warp)æ¥è°åº¦ï¼æ¥å¼å§å¤çé¡¶ç¹æ°æ®ãWarpæ¯å¸åçåæä»¤å¤çº¿ç¨ï¼SIMTï¼SIMDåæä»¤å¤æ°æ®çåçº§ï¼çå®ç°ï¼ä¹å°±æ¯32ä¸ªçº¿ç¨åæ¶æ§è¡çæä»¤æ¯ä¸æ¨¡ä¸æ ·çï¼åªæ¯çº¿ç¨æ°æ®ä¸ä¸æ ·ï¼è¿æ ·çå¥½å¤å°±æ¯ä¸ä¸ªwarpåªéè¦ä¸ä¸ªå¥é»è¾å¯¹æä»¤è¿è¡è§£ç åæ§è¡å°±å¯ä»¥äºï¼è¯çå¯ä»¥åçæ´å°æ´å¿«ï¼ä¹æä»¥å¯ä»¥è¿ä¹åæ¯ç±äºGPUéè¦å¤ççä»»å¡æ¯å¤©ç¶å¹¶è¡çã
6ãSMçwarpè°åº¦å¨ä¼æç§é¡ºåºååæä»¤ç»æ´ä¸ªwarpï¼åä¸ªwarpä¸­ççº¿ç¨ä¼éæ­¥(lock-step)æ§è¡åèªçæä»¤ï¼å¦æçº¿ç¨ç¢°å°ä¸æ¿æ´»æ§è¡çæåµä¹ä¼è¢«é®æ©(be masked  out)ãè¢«é®æ©çåå æå¾å¤ï¼ä¾å¦å½åçæä»¤æ¯if(true)çåæ¯ï¼ä½æ¯å½åçº¿ç¨çæ°æ®çæ¡ä»¶æ¯falseï¼æèå¾ªç¯çæ¬¡æ°ä¸ä¸æ ·ï¼æ¯å¦forå¾ªç¯æ¬¡æ°nä¸æ¯å¸¸éï¼æè¢«breakæåç»æ­¢äºä½æ¯å«çè¿å¨èµ°ï¼ï¼å æ­¤å¨shaderä¸­çåæ¯ä¼æ¾èå¢å æ¶é´æ¶èï¼å¨ä¸ä¸ªwarpä¸­çåæ¯é¤é32ä¸ªçº¿ç¨é½èµ°å°ifæèelseéé¢ï¼å¦åç¸å½äºææçåæ¯é½èµ°äºä¸éï¼çº¿ç¨ä¸è½ç¬ç«æ§è¡æä»¤èæ¯ä»¥warpä¸ºåä½ï¼èè¿äºwarpä¹é´ææ¯ç¬ç«çã
7ãwarpä¸­çæä»¤å¯ä»¥è¢«ä¸æ¬¡å®æï¼ä¹å¯è½ç»è¿å¤æ¬¡è°åº¦ï¼ä¾å¦éå¸¸SMä¸­çLD/ST(å è½½å­å)ååæ°éææ¾å°äºåºç¡æ°å­¦æä½ååã
8ãç±äºæäºæä»¤æ¯å¶ä»æä»¤éè¦æ´é¿çæ¶é´æè½å®æï¼ç¹å«æ¯åå­å è½½ï¼warpè°åº¦å¨å¯è½ä¼ç®åå°åæ¢å°å¦ä¸ä¸ªæ²¡æåå­ç­å¾ç[warp](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=13&q=warp&zhida_source=entity)

ï¼è¿æ¯GPUå¦ä½åæåå­è¯»åå»¶è¿çå³é®ï¼åªæ¯ç®åå°åæ¢æ´»å¨çº¿ç¨ç»ãä¸ºäºä½¿è¿ç§åæ¢éå¸¸å¿«ï¼è°åº¦å¨ç®¡ççææwarpå¨å¯å­å¨æä»¶ä¸­é½æèªå·±çå¯å­å¨ãè¿éå°±ä¼æä¸ªçç¾äº§çï¼shaderéè¦è¶å¤çå¯å­å¨ï¼å°±ä¼ç»warpçä¸è¶å°çç©ºé´ï¼å°±ä¼äº§çè¶å°çwarpï¼è¿æ¶åå¨ç¢°å°[åå­å»¶è¿](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=åå­å»¶è¿&zhida_source=entity)

çæ¶åå°±ä¼åªæ¯ç­å¾ï¼èæ²¡æå¯ä»¥è¿è¡çwarpå¯ä»¥åæ¢ã

![img](https://pic2.zhimg.com/v2-397d5557995e266de6de6f84a707daf1_1440w.jpg)


9ãä¸æ¦warpå®æäºvertex-shaderçæææä»¤ï¼è¿ç®ç»æä¼è¢«Viewport Transformæ¨¡åå¤çï¼ä¸è§å½¢ä¼è¢«è£åªç¶ååå¤[æ æ ¼å](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=2&q=æ æ ¼å&zhida_source=entity)

ï¼GPUä¼ä½¿ç¨L1åL2ç¼å­æ¥è¿è¡vertex-shaderåpixel-shaderçæ°æ®éä¿¡ã

![img](https://pic4.zhimg.com/v2-7dff80a4d5562c1195c5660e7894d0e5_1440w.jpg)


10ãæ¥ä¸æ¥è¿äºä¸è§å½¢å°è¢«åå²ï¼ååéç»å¤ä¸ªGPCï¼ä¸è§å½¢çèå´å³å®çå®å°è¢«åéå°åªä¸ªåæ å¼æ(raster engines)ï¼æ¯ä¸ªraster  enginesè¦çäºå¤ä¸ªå±å¹ä¸çtileï¼è¿ç­äºæä¸è§å½¢çæ¸²æåéå°å¤ä¸ªtileä¸é¢ãä¹å°±æ¯åç´ é¶æ®µå°±ææä¸è§å½¢åååæäºææ¾ç¤ºçåç´ ååäºã

![img](https://picx.zhimg.com/v2-18e19ba271539f61c70012e4fa2cc059_1440w.jpg)


11ãSMä¸çAttribute Setupä¿è¯äºä»vertex-shaderæ¥çæ°æ®ç»è¿æå¼åæ¯pixel-shadeæ¯å¯è¯»çã
12ãGPCä¸çåæ å¼æ(raster engines)å¨å®æ¥æ¶å°çä¸è§å½¢ä¸å·¥ä½ï¼æ¥è´è´£è¿äºè¿äºä¸è§å½¢çåç´ ä¿¡æ¯ççæï¼åæ¶ä¼å¤çè£åªClippingãèé¢åé¤åEarly-Zåé¤ï¼ã
13ã32ä¸ªåç´ çº¿ç¨å°è¢«åæä¸ç»ï¼æèè¯´8ä¸ª2x2çåç´ åï¼è¿æ¯å¨åç´ çè²å¨ä¸é¢çæå°å·¥ä½ååï¼å¨è¿ä¸ªåç´ çº¿ç¨åï¼å¦ææ²¡æè¢«ä¸è§å½¢è¦çå°±ä¼è¢«é®æ©ï¼SMä¸­çwarpè°åº¦å¨ä¼ç®¡çåç´ çè²å¨çä»»å¡ã
14ãæ¥ä¸æ¥çé¶æ®µå°±åvertex-shaderä¸­çé»è¾æ­¥éª¤å®å¨ä¸æ ·ï¼ä½æ¯åæäºå¨åç´ çè²å¨çº¿ç¨ä¸­æ§è¡ã ç±äºä¸èè´¹ä»»ä½æ§è½å¯ä»¥è·åä¸ä¸ªåç´ åçå¼ï¼å¯¼è´éæ­¥æ§è¡éå¸¸ä¾¿å©ï¼ææççº¿ç¨å¯ä»¥ä¿è¯ææçæä»¤å¯ä»¥å¨åä¸ç¹ã

![img](https://pic1.zhimg.com/v2-31d741448fdceb7f60776c2d44943e4e_1440w.jpg)


15ãæåä¸æ­¥ï¼ç°å¨åç´ çè²å¨å·²ç»å®æäºé¢è²çè®¡ç®è¿ææ·±åº¦å¼çè®¡ç®ï¼å¨è¿ä¸ªç¹ä¸ï¼æä»¬å¿é¡»èèä¸è§å½¢çåå§apié¡ºåºï¼ç¶åæå°æ°æ®ç§»äº¤ç»ROP(render output unitï¼æ¸²æè¾å¥åå)ï¼ä¸ä¸ªROPåé¨æå¾å¤ROPååï¼å¨ROPååä¸­å¤çæ·±åº¦æµè¯ï¼å[framebuffer](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=framebuffer&zhida_source=entity)

çæ··åï¼æ·±åº¦åé¢è²çè®¾ç½®å¿é¡»æ¯[åå­æä½](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=åå­æä½&zhida_source=entity)ï¼å¦åä¸¤ä¸ªä¸åçä¸è§å½¢å¨åä¸ä¸ªåç´ ç¹å°±ä¼æå²çªåéè¯¯ã
**4.3 GPUææ¯è¦ç¹**
ç±äºä¸ä¸èä¸»è¦éè¿°GPUåé¨çå·¥ä½æµç¨åæºå¶ï¼ä¸ºäºç®æ´æ§ï¼çç¥äºå¾å¤ç¥è¯ç¹åè¿ç¨ï¼æ¬èå°å¯¹å®ä»¬åè¿ä¸æ­¥è¡¥åè¯´æã
**4.3.1 SIMDåSIMT**
**SIMD**ï¼Single Instruction Multiple Dataï¼æ¯åæä»¤å¤æ°æ®ï¼å¨GPUçALUåååï¼ä¸æ¡æä»¤å¯ä»¥å¤çå¤ç»´åéï¼ä¸è¬æ¯4Dï¼çæ°æ®ãæ¯å¦ï¼æä»¥ä¸shaderæä»¤ï¼
float4 c = a + b; // a, bé½æ¯float4ç±»å
å¯¹äºæ²¡æSIMDçå¤çååï¼éè¦4æ¡æä»¤å°4ä¸ªfloatæ°å¼ç¸å ï¼æ±ç¼[ä¼ªä»£ç ](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=ä¼ªä»£ç &zhida_source=entity)

å¦ä¸ï¼
ADD c.x, a.x, b.x ADD c.y, a.y, b.y ADD c.z, a.z, b.z ADD c.w, a.w, b.w
ä½æäºSIMDææ¯ï¼åªéä¸æ¡æä»¤å³å¯å¤çå®ï¼
SIMD_ADD c, a, b

![img](https://pic2.zhimg.com/v2-6b025fbde867f0f6b128d18d35cc842b_1440w.jpg)


**SIMT**ï¼Single Instruction Multiple Threadsï¼[åæä»¤å¤çº¿ç¨](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=2&q=åæä»¤å¤çº¿ç¨&zhida_source=entity)

ï¼æ¯SIMDçåçº§çï¼å¯å¯¹GPUä¸­åä¸ªSMä¸­çå¤ä¸ªCoreåæ¶å¤çåä¸æä»¤ï¼å¹¶ä¸æ¯ä¸ªCoreå­åçæ°æ®å¯ä»¥æ¯ä¸åçã
SIMT_ADD c, a, b
ä¸è¿°æä»¤ä¼è¢«åæ¶éå¥å¨åä¸ªSMä¸­è¢«ç¼ç»çææCoreä¸­ï¼åæ¶æ§è¡è¿ç®ï¼ä½`a`ã`b` ã`c`çå¼å¯ä»¥ä¸ä¸æ ·ï¼

![img](https://pic4.zhimg.com/v2-8f3ded6ad285664c7e5e51bd864302bb_1440w.jpg)


**4.3.2 co-issue**
**co-issue**æ¯ä¸ºäºè§£å³SIMDè¿ç®ååæ æ³ååå©ç¨çé®é¢ãä¾å¦ä¸å¾ï¼ç±äºfloatæ°éçä¸åï¼ALUå©ç¨çä»100%ä¾æ¬¡ä¸éä¸º75%ã50%ã25%ã

![img](https://pic3.zhimg.com/v2-873d8450740bac583bf7eaa5438e9d8c_1440w.jpg)


ä¸ºäºè§£å³çè²å¨å¨ä½ç»´åéçå©ç¨çä½çé®é¢ï¼å¯ä»¥éè¿åå¹¶1Dä¸3Dæ2Dä¸2Dçæä»¤ãä¾å¦ä¸å¾ï¼`DP3`æä»¤ç¨äº3Dæ°æ®ï¼`ADD`æä»¤åªæ1Dæ°æ®ï¼co-issueä¼èªå¨å°å®ä»¬åå¹¶ï¼å¨åä¸ä¸ªALUåªéä¸ä¸ªæä»¤å¨æå³å¯æ§è¡å®ã

![img](https://pic3.zhimg.com/v2-3e61da9d87e30e1b3bb4d827519c3374_1440w.png)


ä½æ¯ï¼å¯¹äºåéè¿ç®ååï¼Vector ALUï¼ï¼å¦æå¶ä¸­ä¸ä¸ªåéæ¢æ¯æä½æ°åæ¯å­å¨æ°çæåµï¼æ æ³å¯ç¨co-issueææ¯ï¼

![img](https://pic2.zhimg.com/v2-d0cc5d11753b686238569a7240a98c65_1440w.jpg)


äºæ¯**æ éæä»¤çè²å¨**ï¼Scalar Instruction Shaderï¼åºè¿èçï¼å®å¯ä»¥ææå°ç»åä»»ä½åéï¼å¼å¯co-issueææ¯ï¼åååæ¥SIMDçä¼å¿ã
**4.3.3 if - elseè¯­å¥**

![img](https://pic1.zhimg.com/v2-35bb7dd6c5027bc3a7c23e54867b6736_1440w.jpg)


å¦ä¸å¾ï¼SMä¸­æ8ä¸ªALUï¼Coreï¼ï¼ç±äºSIMDçç¹æ§ï¼æ¯ä¸ªALUçæ°æ®ä¸ä¸æ ·ï¼å¯¼è´`if-else`è¯­å¥å¨æäºALUä¸­æ§è¡çæ¯`true`åæ¯ï¼é»è²ï¼ï¼æäºALUæ§è¡çæ¯`false`åæ¯ï¼ç°èè²ï¼ï¼è¿æ ·å¯¼è´å¾å¤ALUçæ§è¡å¨æè¢«æµªè´¹æäºï¼å³masked outï¼ï¼æé¿äºæ´ä¸ªæ§è¡å¨æãæåçæåµï¼åä¸ä¸ªSMä¸­åªæ1/8ï¼8æ¯åä¸ä¸ªSMççº¿ç¨æ°ï¼ä¸åæ¶æçGPUææä¸åï¼çå©ç¨çã
åæ ·ï¼`for`å¾ªç¯ä¹ä¼å¯¼è´ç±»ä¼¼çæå½¢ï¼ä¾å¦ä»¥ä¸shaderä»£ç ï¼
void func(int count, int breakNum) { 	for(int i=0; i<count; ++i) 	{ 		if  (i == breakNum) 			break; 		else 			// do something 	} }
ç±äºæ¯ä¸ªALUç`count`ä¸ä¸æ ·ï¼å ä¸æ`break`åæ¯ï¼å¯¼è´æå¿«æ§è¡å®shaderçALUå¯è½æ¯ææ¢çNåä¹ä¸çæ¶é´ï¼ä½ç±äºSIMDçç¹æ§ï¼æå¿«çé£ä¸ªALUä¾ç¶è¦ç­å¾ææ¢çALUæ§è¡å®æ¯ï¼æè½æ¥ä¸ä¸ç»æä»¤çæ´»ï¼ä¹å°±ç½ç½æµªè´¹äºå¾å¤æ¶é´å¨æã
**4.3.4 Early-Z**
æ©æGPUçæ¸²æç®¡çº¿çæ·±åº¦æµè¯æ¯å¨åç´ çè²å¨ä¹åææ§è¡ï¼ä¸å¾ï¼ï¼è¿æ ·ä¼é æå¾å¤æ¬ä¸å¯è§çåç´ æ§è¡äºèæ§è½çåç´ çè²å¨è®¡ç®ã

![img](https://pic2.zhimg.com/v2-66f0dce870467f23e4020f9e27c307d5_1440w.jpg)


åæ¥ï¼ä¸ºäºåå°åç´ çè²å¨çé¢å¤æ¶èï¼å°æ·±åº¦æµè¯æè³åç´ çè²å¨ä¹åï¼ä¸å¾ï¼ï¼è¿å°±æ¯Early-Zææ¯çç±æ¥ã

![img](https://pica.zhimg.com/v2-f831036ab1712134a60ee6cd3e2a00e4_1440w.jpg)


Early-Zææ¯å¯ä»¥å°å¾å¤æ æçåç´ æååé¤ï¼é¿åå®ä»¬è¿å¥èæ¶ä¸¥éçåç´ çè²å¨ãEarly-Zåé¤çæå°åä½ä¸æ¯1åç´ ï¼èæ¯**åç´ å**ï¼pixel quadï¼2x2ä¸ªåç´ ï¼è¯¦è§[4.3.6 ](#4.3.6 åç´ åï¼pixel quadï¼)ï¼ã
ä½æ¯ï¼ä»¥ä¸æåµä¼å¯¼è´Early-Zå¤±æï¼

- **å¼å¯Alpha Test**ï¼ç±äºAlpha Testéè¦å¨åç´ çè²å¨åé¢çAlpha Testé¶æ®µæ¯è¾ï¼æä»¥æ æ³å¨åç´ çè²å¨ä¹åå°±å³å®è¯¥åç´ æ¯å¦è¢«åé¤ã
- **å¼å¯Alpha Blend**ï¼å¯ç¨äºAlphaæ··åçåç´ å¾å¤éè¦ä¸frame bufferåæ··åï¼æ æ³æ§è¡æ·±åº¦æµè¯ï¼ä¹å°±æ æ³å©ç¨Early-Zææ¯ã
- **å¼å¯Tex Kill**ï¼å³å¨[shaderä»£ç ](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=4&q=shaderä»£ç &zhida_source=entity)

- ä¸­æåç´ æå¼æä»¤ï¼DXçdiscardï¼OpenGLçclipï¼ã
- **å³é­æ·±åº¦æµè¯**ãEarly-Zæ¯å»ºç«å¨æ·±åº¦æµè¯çå¼å¯çæ¡ä»¶ä¸ï¼å¦æå³é­äºæ·±åº¦æµè¯ï¼ä¹å°±æ æ³å¯ç¨Early-Zææ¯ã
- **å¼å¯Multi-Sampling**ï¼å¤éæ ·ä¼å½±åå¨è¾¹åç´ ï¼èEarly-Zé¶æ®µæ æ³å¾ç¥å¨è¾¹åç´ æ¯å¦è¢«è£åªï¼ææ æ³æååé¤ã
- ä»¥åå¶å®ä»»ä½å¯¼è´éè¦æ··ååé¢é¢è²çæä½ã

æ­¤å¤ï¼Early-Zææ¯ä¼å¯¼è´ä¸ä¸ªé®é¢ï¼**æ·±åº¦æ°æ®å²çª**ï¼depth data hazardï¼ã

![img](https://pica.zhimg.com/v2-1eb37359abb581e3fc26e110d61f3178_1440w.jpg)


ä¾å­è¦ç»åä¸å¾ï¼åè®¾æ°å¼æ·±åº¦å¼5å·²ç»ç»è¿Early-Zå³å°åå¥Frame  Bufferï¼èæ·±åº¦å¼10åå¥½å¤äºEarly-Zé¶æ®µï¼è¯»åå¹¶å¯¹æ¯å½åç¼å­çæ·±åº¦å¼15ï¼ç»æå°±æ¯10éè¿äºEarly-Zæµè¯ï¼ä¼è¦çææ¯èªå·±å°çæ·±åº¦å¼5ï¼æç»frame bufferçæ·±åº¦å¼æ¯éè¯¯çç»æã
é¿åæ·±åº¦æ°æ®å²çªçæ¹æ³ä¹ä¸æ¯å¨åå¥æ·±åº¦å¼ä¹åï¼åæ¬¡ä¸frame bufferçå¼è¿è¡å¯¹æ¯ï¼

![img](https://pic2.zhimg.com/v2-6ff9920e1ea288df93b00f7c023abc1f_1440w.jpg)


**4.3.5 ç»ä¸çè²å¨æ¶æï¼Unified shader Architectureï¼**
å¨æ©æçGPUï¼é¡¶ç¹çè²å¨ååç´ çè²å¨çç¡¬ä»¶ç»ææ¯ç¬ç«çï¼å®ä»¬åæåçå¯å­å¨ãè¿ç®ååç­é¨ä»¶ãè¿æ ·å¾å¤æ¶åï¼ä¼é æé¡¶ç¹çè²å¨ä¸åç´ çè²å¨ä¹é´ä»»å¡çä¸å¹³è¡¡ãå¯¹äºé¡¶ç¹æ°éå¤çä»»å¡ï¼åç´ çè²å¨ç©ºé²ç¶æå¤ï¼å¯¹äºåç´ å¤çä»»å¡ï¼é¡¶ç¹çè²å¨çç©ºé²ç¶æå¤ï¼ä¸å¾ï¼ã

![img](https://pica.zhimg.com/v2-3fd6917f9d3ecf2df58a8507a14af05a_1440w.jpg)


äºæ¯ï¼ä¸ºäºè§£å³VSåPSä¹é´çä¸å¹³è¡¡ï¼å¼å¥äºç»ä¸çè²å¨æ¶æï¼Unified shader Architectureï¼ãç¨äºæ­¤æ¶æçGPUï¼VSåPSç¨çé½æ¯ç¸åçCoreãä¹å°±æ¯ï¼åä¸ä¸ªCoreæ¢å¯ä»¥æ¯VSåå¯ä»¥æ¯PSã

![img](https://pic2.zhimg.com/v2-d5ac6924f35d2eeff626c444bfe27be3_1440w.jpg)


è¿æ ·å°±è§£å³äºä¸åç±»åçè²å¨ä¹é´çä¸å¹³è¡¡é®é¢ï¼è¿å¯ä»¥åå°GPUçç¡¬ä»¶ååï¼åç¼©ç©çå°ºå¯¸åèçµéãæ­¤å¤ï¼VSãPSå¯è¿å¯ä»¥åå¶å®çè²å¨ï¼å ä½ãæ²é¢ãè®¡ç®ï¼ç»ä¸ä¸ºä¸ä½ã

![img](https://pic2.zhimg.com/v2-d5ed3cfea6be88e9abfe85a5d031d82d_1440w.jpg)


**4.3.6 åç´ åï¼Pixel Quadï¼**
ä¸ä¸èæ­¥éª¤13æå°ï¼
32ä¸ªåç´ çº¿ç¨å°è¢«åæä¸ç»ï¼æèè¯´8ä¸ª**2x2çåç´ å**ï¼è¿æ¯å¨**åç´ çè²å¨ä¸é¢çæå°å·¥ä½åå**ï¼å¨è¿ä¸ªåç´ çº¿ç¨åï¼å¦ææ²¡æè¢«ä¸è§å½¢è¦çå°±ä¼è¢«é®æ©ï¼SMä¸­çwarpè°åº¦å¨ä¼ç®¡çåç´ çè²å¨çä»»å¡ã
ä¹å°±æ¯è¯´ï¼å¨åç´ çè²å¨ä¸­ï¼ä¼å°ç¸é»çåä¸ªåç´ ä½ä¸ºä¸å¯åéçä¸ç»ï¼éå¥åä¸ä¸ªSMå4ä¸ªä¸åçCoreã
ä¸ºä»ä¹åç´ çè²å¨å¤ççæå°ååæ¯2x2çåç´ åï¼
ç¬èæ¨æµæä»¥ä¸åå ï¼
1ãç®ååå éåç´ åæ´¾çå·¥ä½ã
2ãç²¾ç®SMçæ¶æï¼åå°ç¡¬ä»¶ååæ°éåå°ºå¯¸ã
3ãéä½åèï¼æé«æè½æ¯ã
4ãæ æåç´ è½ç¶ä¸ä¼è¢«å­å¨ç»æï¼ä½å¯è¾å©ææåç´ æ±å¯¼å½æ°ãè¯¦è§[4.6 å©ç¨æ©å±ä¾è¯](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23%E5%88%A9%E7%94%A8%E6%89%A9%E5%B1%95%E4%BE%8B%E8%AF%81)ã
è¿ç§è®¾è®¡è½ç¶æå¶ä¼å¿ï¼ä½åæ¶ï¼ä¹ä¼æ¿åè¿ç»å¶ï¼Over Drawï¼çæåµï¼æèé¢å¤çæ§è½ãæ¯å¦ä¸å¾ä¸­ï¼ç½è²çä¸è§å½¢åªå ç¨äº3ä¸ªåç´ ï¼ç»¿è²ï¼ï¼ææä»¬æ®éçæç»´ï¼åªéè¦3ä¸ªCoreç»å¶3æ¬¡å°±å¯ä»¥äºã

![img](https://pic4.zhimg.com/v2-2e86dd6a76086b0a6a2fea25df098ca9_1440w.jpg)


ä½æ¯ï¼ç±äºä¸é¢ç3ä¸ªåç´ åå«å æ®äºä¸åçåç´ åï¼æ©è²åéï¼ï¼å®éä¸éè¦å ç¨12ä¸ªCoreç»å¶12æ¬¡ï¼ä¸å¾ï¼ã

![img](https://pic1.zhimg.com/v2-750a8f6433a8b093a8df3fe2079e8656_1440w.jpg)


è¿å°±ä¼é¢å¤æ¶è300%çç¡¬ä»¶æ§è½ï¼å¯¼è´äºæ´å ä¸¥éçè¿ç»å¶æåµã
æ´å¤è¯¦æå¯ä»¥è§çèå¹»å®æ¹çè§é¢æå­¦ï¼[å®æ¶æ¸²ææ·±å¥æ¢ç©¶](https://link.zhihu.com/?target=https%3A//learn.unrealengine.com/course/2504896)ã
**4.4 GPUèµæºæºå¶**
æ¬èå°éè¿°GPUçåå­è®¿é®ãèµæºç®¡çç­æºå¶ã
**4.4.1 åå­æ¶æ**
é¨åæ¶æçGPUä¸CPUç±»ä¼¼ï¼ä¹æå¤çº§ç¼å­ç»æï¼å¯å­å¨ãL1ç¼å­ãL2ç¼å­ãGPUæ¾å­ãç³»ç»æ¾å­ã

![img](https://pic2.zhimg.com/v2-9b50594bceccea8eac535a071b98337d_1440w.jpg)


å®ä»¬çå­åéåº¦ä»å¯å­å¨å°ç³»ç»åå­ä¾æ¬¡åæ¢ï¼

| å­å¨ç±»å | å¯å­å¨ | å±äº«åå­ | L1ç¼å­ | L2ç¼å­ | çº¹çãå¸¸éç¼å­ | å¨å±åå­ |
| -------- | ------ | -------- | ------ | ------ | -------------- | -------- |
|          |        |          |        |        |                |          |


ç±æ­¤å¯è§ï¼shaderç´æ¥è®¿é®å¯å­å¨ãL1ãL2ç¼å­è¿æ¯æ¯è¾å¿«çï¼ä½è®¿é®çº¹çãå¸¸éç¼å­åå¨å±åå­éå¸¸æ¢ï¼ä¼é æå¾é«çå»¶è¿ã
ä¸é¢çå¤çº§ç¼å­ç»æå¯è¢«ç§°ä¸ºâCPU-Styleâï¼è¿å­å¨GPU-Styleçåå­æ¶æï¼

![img](https://pic3.zhimg.com/v2-781a843db18a7287eff97df8bd2bf8a0_1440w.jpg)


è¿ç§æ¶æçç¹ç¹æ¯ALUå¤ï¼GPUä¸ä¸æï¼Contextï¼å¤ï¼ååéé«ï¼ä¾èµé«å¸¦å®½ä¸ç³»ç»åå­äº¤æ¢æ°æ®ã
**4.4.2 GPU Contextåå»¶è¿**
ç±äºSIMTææ¯çå¼å¥ï¼å¯¼è´å¾å¤åä¸ä¸ªSMåçå¾å¤Coreå¹¶ä¸æ¯ç¬ç«çï¼å½å®ä»¬å½ä¸­æé¨åCoreéè¦è®¿é®å°çº¹çãå¸¸éç¼å­åå¨å±åå­æ¶ï¼å°±ä¼å¯¼è´éå¸¸å¤§çå¡é¡¿ï¼Stallï¼ã
ä¾å¦ä¸å¾ä¸­ï¼æ4ç»ä¸ä¸æï¼Contextï¼ï¼å®ä»¬å±ç¨åä¸ç»è¿ç®ååALUã

![img](https://pic4.zhimg.com/v2-db97749ee6b9bbee11a03d6be5d4b2c1_1440w.jpg)


åè®¾ç¬¬ä¸ç»Contextéè¦è®¿é®ç¼å­æåå­ï¼ä¼å¯¼è´2~3ä¸ªå¨æçå»¶è¿ï¼æ­¤æ¶è°åº¦å¨ä¼æ¿æ´»ç¬¬äºç»Contextä»¥å©ç¨ALUï¼

![img](https://pic2.zhimg.com/v2-b846fd5373dbe2ecb147e77cd0997e37_1440w.jpg)


å½ç¬¬äºç»Contextè®¿é®ç¼å­æåå­åå¡ä½ï¼ä¼ä¾æ¬¡æ¿æ´»ç¬¬ä¸ãç¬¬åç»Contextï¼ç´å°ç¬¬ä¸ç»Contextæ¢å¤è¿è¡æææé½è¢«æ¿æ´»ï¼

![img](https://pic1.zhimg.com/v2-37750f0b46838827df58b51637dbe7ee_1440w.jpg)


å»¶è¿çåææ¯æ¯ç»Contextçæ»ä½æ§è¡æ¶é´è¢«æé¿äºï¼

![img](https://pic1.zhimg.com/v2-3cc916313b53b4db6d303c49ea1b3e5c_1440w.jpg)


ä½æ¯ï¼è¶å¤Contextå¯ç¨å°±è¶å¯ä»¥æåè¿ç®ååçååéï¼æ¯å¦ä¸å¾ç18ç»Contextçæ¶æå¯ä»¥æå¤§åå°æåååéï¼

![img](https://pic3.zhimg.com/v2-fc73fae635ecc0002287e0d5c1077b52_1440w.jpg)


**4.4.3 CPU-GPUå¼æç³»ç»**
æ ¹æ®CPUåGPUæ¯å¦å±äº«åå­ï¼å¯åä¸ºä¸¤ç§ç±»åçCPU-GPUæ¶æï¼

![img](https://pic3.zhimg.com/v2-c4adde277777afc74c1e8f5122b6302c_1440w.jpg)


ä¸å¾å·¦æ¯**åç¦»å¼æ¶æ**ï¼CPUåGPUåèªæç¬ç«çç¼å­ååå­ï¼å®ä»¬éè¿PCI-eç­æ»çº¿éè®¯ãè¿ç§ç»æçç¼ºç¹å¨äº PCI-e ç¸å¯¹äºä¸¤èå·æä½å¸¦å®½åé«å»¶è¿ï¼æ°æ®çä¼ è¾æäºå¶ä¸­çæ§è½ç¶é¢ãç®åä½¿ç¨éå¸¸å¹¿æ³ï¼å¦PCãæºè½ææºç­ã
ä¸å¾å³æ¯**è¦åå¼æ¶æ**ï¼CPU å GPU å±äº«åå­åç¼å­ãAMD ç APU éç¨çå°±æ¯è¿ç§ç»æï¼ç®åä¸»è¦ä½¿ç¨å¨æ¸¸æä¸»æºä¸­ï¼å¦ PS4ã
å¨å­å¨ç®¡çæ¹é¢ï¼åç¦»å¼ç»æä¸­ CPU å GPU åèªæ¥æç¬ç«çåå­ï¼ä¸¤èå±äº«ä¸å¥[èæå°å](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=èæå°å&zhida_source=entity)

ç©ºé´ï¼å¿è¦æ¶ä¼è¿è¡åå­æ·è´ãå¯¹äºè¦åå¼ç»æï¼GPU æ²¡æç¬ç«çåå­ï¼ä¸ GPU å±äº«ç³»ç»åå­ï¼ç± MMU è¿è¡å­å¨ç®¡çã
**4.4.4 GPUèµæºç®¡çæ¨¡å**
ä¸å¾æ¯åç¦»å¼æ¶æçèµæºç®¡çæ¨¡åï¼

![img](https://pic2.zhimg.com/v2-e7a7107e8ac65f36be9e8d84488bd9a9_1440w.jpg)



- **MMIOï¼Memory Mapped IOï¼**
  - CPUä¸GPUçäº¤æµå°±æ¯éè¿MMIOè¿è¡çãCPU éè¿ MMIO è®¿é® GPU çå¯å­å¨ç¶æã
  - DMAä¼ è¾å¤§éçæ°æ®å°±æ¯éè¿MMIOè¿è¡å½ä»¤æ§å¶çã
  - I/Oç«¯å£å¯ç¨äºé´æ¥è®¿é®MMIOåºåï¼åNouveauç­[å¼æºè½¯ä»¶](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=å¼æºè½¯ä»¶&zhida_source=entity)

- ä»æ¥ä¸è®¿é®å®ã



- **GPU Context**
  - GPU Contextä»£è¡¨äºGPUè®¡ç®çç¶æã
  - å¨GPUä¸­æ¥æèªå·±çèæå°åã
  - GPU ä¸­å¯ä»¥å¹¶å­å¤ä¸ªæ´»è·æä¸çContextã



- **GPU Channel**
  - ä»»ä½å½ä»¤é½æ¯ç±CPUååºã
  - å½ä»¤æµï¼command streamï¼è¢«æäº¤å°ç¡¬ä»¶ååï¼ä¹å°±æ¯GPU Channelã
  - æ¯ä¸ªGPU Channelå³èä¸ä¸ªcontextï¼èä¸ä¸ªGPU Contextå¯ä»¥æå¤ä¸ªGPU channelã
  - æ¯ä¸ªGPU Context åå«ç¸å³channelç GPU Channel Descriptors ï¼ æ¯ä¸ª Descriptor é½æ¯ GPU åå­ä¸­çä¸ä¸ªå¯¹è±¡ã
  - æ¯ä¸ª GPU Channel Descriptor å­å¨äº Channel çè®¾ç½®ï¼å¶ä¸­å°±åæ¬ Page Table ã
  - æ¯ä¸ª GPU Channel å¨GPUåå­ä¸­åéäºå¯ä¸çå½ä»¤ç¼å­ï¼è¿éè¿MMIOå¯¹CPUå¯è§ã
  - GPU Context Switching åå½ä»¤æ§è¡é½å¨GPUç¡¬ä»¶åé¨è°åº¦ã



- **GPU Page Table**
  - GPU Contextå¨èæåºå°ç©ºé´ç±Page Tableéç¦»å¶å®çContext ã
  - GPU Page Tableéç¦»CPU Page Tableï¼ä½äºGPUåå­ä¸­ã
  - GPU Page Tableçç©çå°åä½äº GPU Channel Descriptorä¸­ã
  - GPU Page Tableä¸ä»ä»å° GPUèæå°åè½¬æ¢æGPUåå­çç©çå°åï¼ä¹å¯ä»¥è½¬æ¢æCPUçç©çå°åãå æ­¤ï¼GPU Page Tableå¯ä»¥å°GPUèæå°ååCPUåå­å°åç»ä¸å°GPUç»ä¸èæå°åç©ºé´æ¥ã



- **PCI-e BAR**
  - GPU è®¾å¤éè¿PCI-eæ»çº¿æ¥å¥å°ä¸»æºä¸ã Base Address Registers(BARs) æ¯ MMIOççªå£ï¼å¨GPUå¯å¨æ¶åéç½®ã
  - GPUç[æ§å¶å¯å­å¨](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=æ§å¶å¯å­å¨&zhida_source=entity)

- ååå­é½æ å°å°äºBARsä¸­ã
- GPUè®¾å¤åå­éè¿æ å°çMMIOçªå£å»éç½®GPUåè®¿é®GPUåå­ã



- **PFIFO Engine**
  - PFIFOæ¯GPUå½ä»¤æäº¤éè¿çä¸ä¸ªç¹æ®çé¨ä»¶ã
  - PFIFOç»´æ¤äºä¸äºç¬ç«å½ä»¤éåï¼ä¹å°±æ¯Channelã
  - æ­¤å½ä»¤éåæ¯Ring Bufferï¼æPUTåGETçæéã
  - ææè®¿é®Channelæ§å¶åºåçæ§è¡æä»¤é½è¢«PFIFO æ¦æªä¸æ¥ã
  - GPUé©±å¨ä½¿ç¨Channel Descriptoræ¥å­å¨ç¸å³çChannelè®¾å®ã
  - PFIFOå°è¯»åçå½ä»¤è½¬äº¤ç»PGRAPH Engineã



- **BO**
  - Buffer Object (BO)ï¼åå­çä¸å(Block)ï¼è½å¤ç¨äºå­å¨çº¹çï¼Textureï¼ã[æ¸²æç®æ ](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=æ¸²æç®æ &zhida_source=entity)

ï¼Render Targetï¼ãçè²ä»£ç ï¼shader codeï¼ç­ç­ã

NouveauåGdevç»å¸¸ä½¿ç¨BOã
Nouveauæ¯ä¸ä¸ªèªç±å[å¼æ¾æºä»£ç ](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=å¼æ¾æºä»£ç &zhida_source=entity)

æ¾å¡[é©±å¨ç¨åº](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=3&q=é©±å¨ç¨åº&zhida_source=entity)ï¼æ¯ä¸ºNVidiaçæ¾å¡æç¼åã
Gdevæ¯ä¸å¥ä¸°å¯çå¼æºè½¯ä»¶ï¼ç¨äºNVIDIAçGPGPUææ¯ï¼åæ¬[è®¾å¤é©±å¨ç¨åº](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=è®¾å¤é©±å¨ç¨åº&zhida_source=entity)

- ã



æ´å¤è¯¦ç»å¯ä»¥éè¯»è®ºæï¼[Data Transfer Matters for GPU Computing](https://link.zhihu.com/?target=http%3A//www.ertl.jp/~shinpei/papers/icpads13.pdf)ã
**4.4.5 CPU-GPUæ°æ®æµ**
ä¸å¾æ¯åç¦»å¼æ¶æçCPU-GPUç[æ°æ®æµç¨å¾](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=æ°æ®æµç¨å¾&zhida_source=entity)

ï¼

![img](https://pic2.zhimg.com/v2-5b09b5526b10b3a4116c73f0a8f30ee3_1440w.jpg)


1ãå°ä¸»å­çå¤çæ°æ®å¤å¶å°æ¾å­ä¸­ã
2ãCPUæä»¤é©±å¨GPUã
3ãGPUä¸­çæ¯ä¸ªè¿ç®ååå¹¶è¡å¤çãæ­¤æ­¥ä¼ä»æ¾å­å­åæ°æ®ã
4ãGPUå°æ¾å­ç»æä¼ åä¸»å­ã
**4.4.6 æ¾åæºå¶**

- **æ°´å¹³å[åç´åæ­¥](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=åç´åæ­¥&zhida_source=entity)**

- **ä¿¡å·**
  å¨æ©æçCRTæ¾ç¤ºå¨ï¼çµå­æªä»ä¸å°ä¸éè¡æ«æï¼æ«æå®æåæ¾ç¤ºå¨å°±åç°ä¸å¸§ç»é¢ãç¶åçµå­æªåå°åå§ä½ç½®è¿è¡ä¸ä¸æ¬¡æ«æãä¸ºäºåæ­¥æ¾ç¤ºå¨çæ¾ç¤ºè¿ç¨åç³»ç»çè§é¢æ§å¶å¨ï¼æ¾ç¤ºå¨ä¼ç¨ç¡¬ä»¶æ¶éäº§çä¸ç³»åçå®æ¶ä¿¡å·ã

![img](https://picx.zhimg.com/v2-3e3fa32e7b7236ab29e6e29df8e8b949_1440w.jpg)


å½çµå­æªæ¢è¡è¿è¡æ«ææ¶ï¼æ¾ç¤ºå¨ä¼ååºä¸ä¸ªæ°´å¹³åæ­¥ä¿¡å·ï¼horizonal synchronizationï¼ï¼ç®ç§° **HSync**
å½ä¸å¸§ç»é¢ç»å¶å®æåï¼çµå­æªåå¤å°åä½ï¼åå¤ç»ä¸ä¸å¸§åï¼æ¾ç¤ºå¨ä¼ååºä¸ä¸ªåç´åæ­¥ä¿¡å·ï¼vertical synchronizationï¼ï¼ç®ç§° **VSync**ã
æ¾ç¤ºå¨éå¸¸ä»¥åºå®é¢çè¿è¡å·æ°ï¼è¿ä¸ªå·æ°çå°±æ¯ VSync ä¿¡å·äº§ççé¢çãè½ç¶ç°å¨çæ¾ç¤ºå¨åºæ¬é½æ¯æ¶²æ¶æ¾ç¤ºå±äºï¼ä½å¶åçåºæ¬ä¸è´ã
CPUå°è®¡ç®å¥½æ¾ç¤ºåå®¹æäº¤è³ GPUï¼GPU æ¸²æå®æåå°æ¸²æç»æå­å¥å¸§ç¼å²åºï¼è§é¢æ§å¶å¨ä¼æç§ VSync ä¿¡å·éå¸§è¯»åå¸§ç¼å²åºçæ°æ®ï¼ç»è¿æ°æ®è½¬æ¢åæç»ç±æ¾ç¤ºå¨è¿è¡æ¾ç¤ºã

![img](https://pic1.zhimg.com/v2-a6c20d32f4f9cfa2a8047e91c4d65364_1440w.jpg)



- **åç¼å²**
  å¨åç¼å²ä¸ï¼å¸§ç¼å²åºçè¯»ååå·æ°é½é½ä¼ææ¯è¾å¤§çæçé®é¢ï¼ç»å¸¸ä¼åºç°ç¸äºç­å¾çæåµï¼å¯¼è´å¸§çä¸éã
  ä¸ºäºè§£å³æçé®é¢ï¼GPU éå¸¸ä¼å¼å¥ä¸¤ä¸ªç¼å²åºï¼å³ **åç¼å²æºå¶**ãå¨è¿ç§æåµä¸ï¼GPU ä¼é¢åæ¸²æä¸å¸§æ¾å¥ä¸ä¸ªç¼å²åºä¸­ï¼ç¨äºè§é¢æ§å¶å¨çè¯»åãå½ä¸ä¸å¸§æ¸²æå®æ¯åï¼GPU ä¼ç´æ¥æè§é¢æ§å¶å¨çæéæåç¬¬äºä¸ªç¼å²å¨ã

![img](https://picx.zhimg.com/v2-58c88c01930f8621406973cb151e2967_1440w.jpg)



- **åç´åæ­¥**
  åç¼å²è½ç¶è½è§£å³æçé®é¢ï¼ä½ä¼å¼å¥ä¸ä¸ªæ°çé®é¢ãå½è§é¢æ§å¶å¨è¿æªè¯»åå®ææ¶ï¼å³å±å¹åå®¹åæ¾ç¤ºä¸åæ¶ï¼GPU å°æ°çä¸å¸§åå®¹æäº¤å°å¸§ç¼å²åºå¹¶æä¸¤ä¸ªç¼å²åºè¿è¡äº¤æ¢åï¼è§é¢æ§å¶å¨å°±ä¼ææ°çä¸å¸§æ°æ®çä¸åæ®µæ¾ç¤ºå°å±å¹ä¸ï¼é æ[ç»é¢æè£](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=ç»é¢æè£&zhida_source=entity)

- ç°è±¡ï¼

![img](https://pic1.zhimg.com/v2-e03e5040c49eeea6a8f5d67ca6c56f58_1440w.jpg)


ä¸ºäºè§£å³è¿ä¸ªé®é¢ï¼GPU éå¸¸æä¸ä¸ªæºå¶å«å**åç´åæ­¥**ï¼ç®åä¹æ¯V-Syncï¼ï¼å½å¼å¯åç´åæ­¥åï¼GPU ä¼ç­å¾æ¾ç¤ºå¨ç VSync ä¿¡å·ååºåï¼æè¿è¡æ°çä¸å¸§æ¸²æåç¼å²åºæ´æ°ãè¿æ ·è½è§£å³ç»é¢æè£ç°è±¡ï¼ä¹å¢å äºç»é¢æµçåº¦ï¼ä½éè¦æ¶è´¹æ´å¤çè®¡ç®èµæºï¼ä¹ä¼å¸¦æ¥é¨åå»¶è¿ã

**4.5 Shaderè¿è¡æºå¶**
Shaderä»£ç ä¹è·ä¼ ç»çC++ç­è¯­è¨ç±»ä¼¼ï¼éè¦å°é¢åäººç±»çé«çº§è¯­è¨ï¼GLSLãHLSLãCGSLï¼éè¿ç¼è¯å¨è½¬æé¢åæºå¨çäºè¿å¶æä»¤ï¼äºè¿å¶æä»¤å¯è½¬è¯ææ±ç¼ä»£ç ï¼ä»¥ä¾¿ææ¯äººåæ¥éåè°è¯ã

![img](https://pic1.zhimg.com/v2-cb2311a3213ef171427b400fa8703870_1440w.png)


ç±é«çº§è¯­è¨ç¼è¯æ[æ±ç¼æä»¤](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=æ±ç¼æä»¤&zhida_source=entity)

çè¿ç¨éå¸¸æ¯å¨ç¦»çº¿é¶æ®µæ§è¡ï¼ä»¥åè½»è¿è¡æ¶çæ¶èã
å¨æ§è¡é¶æ®µï¼CPUç«¯å°shaderäºè¿å¶æä»¤ç»ç±PCI-eæ¨éå°GPUç«¯ï¼GPUå¨æ§è¡ä»£ç æ¶ï¼ä¼ç¨Contextå°æä»¤åæè¥å¹²Channelæ¨éå°åä¸ªCoreçå­å¨ç©ºé´ã
å¯¹ç°ä»£GPUèè¨ï¼å¯ç¼ç¨çé¶æ®µè¶æ¥è¶å¤ï¼åå«ä½ä¸éäºï¼é¡¶ç¹çè²å¨ï¼Vertex Shaderï¼ãæ²é¢ç»åæ§å¶çè²å¨ï¼Tessellation Control Shaderï¼ãå ä½çè²å¨ï¼Geometry Shaderï¼ãåç´ /[çåçè²å¨](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=çåçè²å¨&zhida_source=entity)

ï¼Fragment Shaderï¼ãè®¡ç®çè²å¨ï¼Compute Shaderï¼ã...

![img](https://pica.zhimg.com/v2-4e4c642970cf19681f99614c0e9ebffc_1440w.jpg)


è¿äºçè²å¨å½¢ææµæ°´çº¿å¼çå¹¶è¡åçæ¸²æç®¡çº¿ãä¸é¢å°éåå·ä½çä¾å­è¯´æã
ä¸æ®µæ¯è®¡ç®æ¼«åå°çç»å¸ä»£ç ï¼
sampler mySamp; Texture2D<float3> myTex; float3 lightDir;  float4  diffuseShader(float3 norm, float2 uv) { 	float3 kd; 	kd =  myTex.Sample(mySamp, uv); 	kd *= clamp( dot(lightDir, norm), 0.0, 1.0);  return float4(kd, 1.0); }
ç»è¿ç¼è¯åæä¸º[æ±ç¼ä»£ç ](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=2&q=æ±ç¼ä»£ç &zhida_source=entity)

ï¼
<diffuseShader>: sample r0, v4, t0, s0 mul    r3, v0, cb0[0] madd   r3, v1, cb0[1], r3  madd   r3, v2, cb0[2], r3 clmp   r3, r3, l(0.0), l(1.0) mul    o0, r0,  r3 mul    o1, r1, r3 mul    o2, r2, r3 mov    o3, l(1.0)
å¨æ§è¡é¶æ®µï¼ä»¥ä¸æ±ç¼ä»£ç ä¼è¢«GPUæ¨éå°æ§è¡ä¸ä¸æï¼Execution Contextï¼ï¼ç¶åALUä¼éæ¡è·åï¼Detchï¼ãè§£ç ï¼Decodeï¼æ±ç¼æä»¤ï¼å¹¶æ§è¡å®ä»¬ã

![img](https://pic2.zhimg.com/v2-6b261bbe88e8cfcb8f7fceaf515de793_1440w.jpg)


ä»¥ä¸ç¤ºä¾å¾åªæ¯åä¸ªALUçæ§è¡æåµï¼å®éä¸ï¼GPUæå åçè³ä¸ç¾ä¸ªæ§è¡ååå¨åæ¶æ§è¡[shaderæä»¤](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=2&q=shaderæä»¤&zhida_source=entity)

ï¼

![img](https://pic4.zhimg.com/v2-6e80019193d38351a2d4d8e878cfa6a1_1440w.jpg)


å¯¹äºSIMTæ¶æçGPUï¼æ±ç¼æä»¤ææä¸åï¼åæäºSIMTç¹å®æä»¤ä»£ç ï¼
<VEC8_diffuseShader>:  VEC8_sample vec_r0, vec_v4, t0, vec_s0  VEC8_mul    vec_r3, vec_v0,  cb0[0]  VEC8_madd   vec_r3, vec_v1, cb0[1], vec_r3  VEC8_madd   vec_r3,  vec_v2, cb0[2], vec_r3 VEC8_clmp   vec_r3, vec_r3, l(0.0), l(1.0)   VEC8_mul    vec_o0, vec_r0, vec_r3  VEC8_mul    vec_o1, vec_r1, vec_r3   VEC8_mul    vec_o2, vec_r2, vec_r3  VEC8_mov    o3, l(1.0)
å¹¶ä¸Contextä»¥Coreä¸ºåä½ç»æå±äº«çç»æï¼åä¸ä¸ªCoreçå¤ä¸ªALUå±äº«ä¸ç»Contextï¼

![img](https://pic2.zhimg.com/v2-74165dd53515025d7de9302ba55352e1_1440w.jpg)


å¦ææå¤ä¸ªCoreï¼å°±ä¼ææ´å¤çALUåæ¶åä¸shaderè®¡ç®ï¼æ¯ä¸ªCoreæ§è¡çæ°æ®æ¯ä¸ä¸æ ·çï¼å¯è½æ¯é¡¶ç¹ãå¾åãåç´ ç­ä»»ä½æ°æ®ï¼

![img](https://pic1.zhimg.com/v2-6cef64b2caa7f6bc470ca7b5c84aacb2_1440w.jpg)


**4.6 å©ç¨æ©å±ä¾è¯**
[NV shader thread group](https://link.zhihu.com/?target=https%3A//www.opengl.org/registry/specs/NV/shader_thread_group.txt)æä¾äºOpenGLçæ©å±ï¼å¯ä»¥æ¥è¯¢[GPUçº¿ç¨](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=GPUçº¿ç¨&zhida_source=entity)

ãCoreãSMãWarpç­ç¡¬ä»¶ç¸å³çå±æ§ãå¦æè¦å¼å¯æ¬¡æ­¤æ©å±ï¼éè¦æ»¡è¶³ä»¥ä¸æ¡ä»¶ï¼

- OpenGL 4.3+ï¼
- GLSL 4.3+ï¼
- æ¯æOpenGL 4.3+çNVæ¾å¡ï¼

å¹¶ä¸æ­¤æ©å±åªå¨NVé¨å5ä»£çè²å¨åèµ·ä½ç¨ï¼
This extension interacts with NV_gpu_program5
This extension interacts with NV_compute_program5
This extension interacts with NV_tessellation_program5
ä¸é¢æ¯å·ä½çå­æ®µåä»£è¡¨çæä¹ï¼
// å¼å¯æ©å± #extension GL_NV_shader_thread_group : require     (or enable)   WARP_SIZE_NV	// åä¸ªçº¿ç¨æççº¿ç¨æ°é WARPS_PER_SM_NV	// åä¸ªSMççº¿ç¨ææ°é SM_COUNT_NV		// SMæ°é  uniform uint  gl_WarpSizeNV;	// åä¸ªçº¿ç¨æççº¿ç¨æ°é uniform uint   gl_WarpsPerSMNV;	// åä¸ªSMççº¿ç¨ææ°é uniform uint  gl_SMCountNV;		// SMæ°é  in  uint  gl_WarpIDNV;		// å½åçº¿ç¨æid in uint  gl_SMIDNV;			// å½åçº¿ç¨ææå¨çSM  idï¼åå¼[0, gl_SMCountNV-1] in uint  gl_ThreadInWarpNV;	// å½åçº¿ç¨idï¼åå¼[0,  gl_WarpSizeNV-1]  in uint  gl_ThreadEqMaskNV;	// æ¯å¦ç­äºå½åçº¿ç¨idçä½åæ©ç ã in  uint  gl_ThreadGeMaskNV;	// æ¯å¦å¤§äºç­äºå½åçº¿ç¨idçä½åæ©ç ã in uint   gl_ThreadGtMaskNV;	// æ¯å¦å¤§äºå½åçº¿ç¨idçä½åæ©ç ã in uint  gl_ThreadLeMaskNV;	//  æ¯å¦å°äºç­äºå½åçº¿ç¨idçä½åæ©ç ã in uint  gl_ThreadLtMaskNV;	// æ¯å¦å°äºå½åçº¿ç¨idçä½åæ©ç ã  in  bool  gl_HelperThreadNV;	// å½åçº¿ç¨æ¯å¦åå©åçº¿ç¨ã
ä¸è¿°æè¯´çåå©åçº¿ç¨`gl_HelperThreadNV`æ¯æå¨å¤ç2x2çåç´ åæ¶ï¼é£äºæªè¢«å¾åè¦ççåç´ çè²å¨çº¿ç¨å°è¢«æ è®°ä¸º`gl_HelperThreadNV = true`ï¼å®ä»¬çç»æå°è¢«å¿½ç¥ï¼ä¹ä¸ä¼è¢«å­å¨ï¼ä½å¯è¾å©ä¸äºè®¡ç®ï¼å¦å¯¼æ°`dFdx`å`dFdy`ãä¸ºäºé²æ­¢çè§£æè¯¯ï¼è´´åºåæï¼
The variable gl_HelperThreadNV specifies if the current thread is a helper  thread. In implementations supporting this extension, fragment shader  invocations may be arranged in SIMD thread groups of 2x2 fragments  called "quad". When a fragment shader instruction is executed on a quad, it's possible that some fragments within the quad will execute the  instruction even if they are not covered by the primitive. Those threads are called helper threads. Their outputs will be discarded and they  will not execute global store functions, but the intermediate values  they compute can still be used by thread group sharing functions or by  fragment derivative functions like dFdx and dFdy.
å©ç¨ä»¥ä¸å­æ®µï¼å¯ä»¥ç¼åç¹æ®shaderä»£ç è½¬æé¢è²ä¿¡æ¯ï¼ä»¥ä¾¿å¯è§åçª¥æ¢GPUçå·¥ä½æºå¶åæµç¨ã

![img](https://pic3.zhimg.com/v2-70f01c04fec375b7f2eb9ba0a294a492_1440w.jpg)


*å©ç¨NVæ©å±å­æ®µï¼å¯è§åäºé¡¶ç¹çè²å¨ãåç´ çè²å¨çSMãWarp idï¼ä¸ºæä»¬æ¥æ¢GPUçå·¥ä½æºå¶åæµç¨æä¾äºéå¾ã*
ä¸é¢æ­£å¼è¿å¥éªè¯é¶æ®µï¼å°ä»¥Geforce RTX 2060ä½ä¸ºéªè¯å¯¹è±¡ï¼å·ä½ä¿¡æ¯å¦ä¸ï¼
æä½ç³»ç»ï¼ Windows 10 Pro, 64-bit
DirectX çæ¬ï¼ 12.0
GPU å¤çå¨ï¼ GeForce RTX 2060
é©±å¨ç¨åºçæ¬ï¼ 417.71
Driver Type: Standard
Direct3D API çæ¬ï¼ 12
Direct3D åè½çº§å«ï¼12_1
CUDA æ ¸å¿ï¼ 1920
æ ¸å¿æ¶éï¼ 1710 MHz
åå­æ°æ®éçï¼ 14.00 Gbps
åå­æ¥å£ï¼ 192-ä½
åå­å¸¦å®½ï¼ 336.05 GB/ç§
å¨é¨å¯ç¨çå¾å½¢åå­ï¼22494MB
ä¸ç¨è§é¢åå­ï¼ 6144 MB GDDR6
ç³»ç»è§é¢åå­ï¼ 0MB
å±äº«ç³»ç»åå­ï¼ 16350MB
è§é¢ BIOS çæ¬ï¼ 90.06.3F.00.73
IRQï¼ Not used
æ»çº¿ï¼ PCI Express x16 Gen3
é¦åå¨åºç¨ç¨åºåå»ºåå«ä¸¤ä¸ªä¸è§å½¢çé¡¶ç¹æ°æ®ï¼
// set up vertex data (and buffer(s)) and configure vertex [attributes](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=attributes&zhida_source=entity)

 const float HalfSize = 1.0f; float vertices[] = { 	-HalfSize,  -HalfSize, 0.0f, // left bottom 	HalfSize, -HalfSize, 0.0f,  // right  bottom 	-HalfSize,  HalfSize, 0.0f, // top left  	-HalfSize,  HalfSize,  0.0f, // top left 	HalfSize, -HalfSize, 0.0f,  // right bottom 	 HalfSize,  HalfSize, 0.0f,  // top right };
æ¸²æéç¨çé¡¶ç¹çè²å¨éå¸¸ç®åï¼
\#version 430 core  layout (location = 0) in [vec3](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=vec3&zhida_source=entity)

 aPos;  void main() { 	gl_Position = vec4(aPos, 1.0f); }
çåçè²å¨ä¹æ¯å¯¥å¯¥æ°è¡ï¼
\#version 430 core  out vec4 FragColor;  void main() { 	FragColor = vec4(1.0f, 0.5f, 0.2f, 1.0f); }
ç»å¶åºæ¥çåå§ç»é¢å¦ä¸ï¼

![img](https://pica.zhimg.com/v2-911e2a2bbbaad2f8bed78c96d8870750_1440w.jpg)


ç´§æ¥çï¼ä¿®æ¹çåçè²å¨ï¼å å¥æ©å±æéçä»£ç ï¼å¹¶ä¿®æ¹é¢è²è®¡ç®ï¼
\#version 430 core #extension GL_NV_shader_thread_group : require  uniform uint   gl_WarpSizeNV;	// åä¸ªçº¿ç¨æççº¿ç¨æ°é uniform uint  gl_WarpsPerSMNV;	//  åä¸ªSMççº¿ç¨ææ°é uniform uint  gl_SMCountNV;		// SMæ°é  in uint  gl_WarpIDNV;		 // å½åçº¿ç¨æid in uint  gl_SMIDNV;			// å½åçº¿ç¨æå¨çSM idï¼åå¼[0, gl_SMCountNV-1]  in uint  gl_ThreadInWarpNV;	// å½åçº¿ç¨idï¼åå¼[0, gl_WarpSizeNV-1]  out vec4  FragColor;  void main() { 	// SM id 	float lightness = gl_SMIDNV /  gl_SMCountNV; 	FragColor = vec4(lightness); }
ç±ä¸é¢çä»£ç æ¸²æçç»é¢å¦ä¸ï¼

![img](https://picx.zhimg.com/v2-dcb3408a16dd9160c94bb78bd0689fb7_1440w.jpg)


ä»ä¸é¢å¯åæåºä¸äºä¿¡æ¯ï¼

- ç»é¢å±æ32ä¸ªäº®åº¦è²é¶ï¼ä¹å°±æ¯Geforce RTX 2060æ32ä¸ªSMã
- åä¸ªSMæ¯æ¬¡æ¸²æ16x16ä¸ºåä½çåç´ åï¼ä¹å°±æ¯æ¯ä¸ªSMæ256ä¸ªCoreã
- SMä¹é´ä¸æ¯é¡ºåºåéåç´ åï¼èæ¯æ åºåéã
- ä¸åä¸è§å½¢çæ¥ç¼å¤åºç°æ­å±ï¼è¯´æåä¸ä¸ªåç´ åå¦æåå±ä¸åçä¸è§å½¢ï¼å°±ä¼åéå°ä¸åçSMè¿è¡å¤çãç±æ­¤æ¨æ­ï¼**ç¸åé¢ç§¯çåºåï¼å¦ææå±çä¸è§å½¢è¶å¤ï¼å°±ä¼å¯¼è´åéç»SMçæ¬¡æ°è¶å¤ï¼æ¶èçæ¸²ææ§è½ä¹è¶å¤**ã

æ¥çä¿®æ¹çåçè²å¨çé¢è²è®¡ç®ä»£ç ä»¥æ¾ç¤ºWarp idï¼
// warp id float lightness = gl_WarpIDNV / gl_WarpsPerSMNV; FragColor = [vec4](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=6&q=vec4&zhida_source=entity)

(lightness);
å¾å°å¦ä¸ç»é¢ï¼

![img](https://pic4.zhimg.com/v2-72671702d39cb35cc4fd3a61b2f5edfd_1440w.jpg)


ç±æ­¤å¯å¾åºä¸äºä¿¡æ¯ææ¨è®ºï¼

- ç»é¢å±æ32ä¸ªäº®åº¦è²é¶ï¼ä¹å°±æ¯æ¯ä¸ªSMæ32ä¸ªWarpï¼æ¯ä¸ªWarpæ8ä¸ªCoreã
- æ¯ä¸ªè²ååç´ æ¯4x8ï¼ç±äºæ¯ä¸ªWarpæ8ä¸ªCoreï¼ç±æ­¤æ¨æ­æ¯ä¸ªCoreåæ¬¡è¦å¤ç2x2çæå°åååç´ åã
- ä¹æ¯æ åºåéåç´ åã
- ä¸è§å½¢æ¥ç¼å¤åºç°æ­å±ï¼åSMçæ¨æ­ä¸è´ã

åä¿®æ¹çåçè²å¨çé¢è²è®¡ç®ä»£ç ä»¥æ¾ç¤ºçº¿ç¨idï¼
// thread id float lightness = gl_ThreadInWarpNV / gl_WarpSizeNV; FragColor = vec4(lightness);
å¾å°å¦ä¸ç»é¢ï¼

![img](https://pic1.zhimg.com/v2-5c772d29497755079f0cd1b768607398_1440w.jpg)


ä¸ºäºæ¹ä¾¿åæï¼ç¨Photoshopå¯¹ä¸­é´å±é¨æ¾å¤§10åï¼å¾å°ä»¥ä¸ç»é¢ï¼

![img](https://picx.zhimg.com/v2-7f9e28bcf8908ff477d4d4411e21e04d_1440w.jpg)


ç»åä¸é¢ä¸¤å¹å¾ï¼ä¹å¯ä»¥å¾åºä¸äºç»è®ºï¼

- ç¸è¾SMãçº¿ç¨æï¼çº¿ç¨åå¸å¾æ¯è¾è§å¾ãè¯´æåä¸ä¸ªWarpççº¿ç¨åå¸æ¯è§å¾çã
- ä¸è§å½¢æ¥ç¼å¤åºç°ç´ä¹±ï¼è¯´ææ¯ä¸åçWarpé æäºä¸åççº¿ç¨ã
- ç»é¢æ32ä¸ªè²é¶ï¼è¯´æåä¸ªWarpæ32ä¸ªçº¿ç¨ã
- æ¯ä¸ªåç´ ç¬å ä¸ä¸ªäº®åº¦è²é¶ï¼ä¸å¨è¾¹ç¸é»åç´ é½ä¸åï¼è¯´ææ¯ä¸ªçº¿ç¨åªå¤çä¸ä¸ªåç´ ã

åæ¬¡è¯´æï¼ä»¥ä¸ç»é¢åç»è®ºæ¯åºäºGeforce RTX 2060ï¼ä¸ååå·çGPUå¯è½ä¼ä¸ä¸æ ·ï¼å¾å°çç»æåæ¨è®ºä¹ä¼ææä¸åã
æ´å¤NVæ©å±å¯åè§OpenGLå®ç½ï¼[NV extensions](https://link.zhihu.com/?target=https%3A//www.khronos.org/registry/OpenGL/extensions/NV/)ã
 
**äºãæ»ç»**
**5.1 CPU vs GPU**
CPUåGPUçå·®å¼å¯ä»¥æè¿°å¨ä¸é¢è¡¨æ ¼ä¸­ï¼

|      | CPU  | GPU  |
| ---- | ---- | ---- |
|      |      |      |


å®ä»¬ä¹é´çå·®å¼ï¼ç¼å­ãæ ¸å¿æ°éãåå­ãçº¿ç¨æ°ç­ï¼å¯ç¨ä¸å¾å±ç¤ºåºæ¥ï¼

![img](https://pic4.zhimg.com/v2-b782be687d466cb360b010a1daabb2a5_1440w.jpg)


**5.2 æ¸²æä¼åå»ºè®®**
ç±ä¸ç« çåæï¼å¯ä»¥å¾å®¹æç»åºæ¸²æä¼åå»ºè®®ï¼

- **åå°CPUåGPUçæ°æ®äº¤æ¢ï¼**
  - åæ¹ï¼Batchï¼
  - åå°é¡¶ç¹æ°ãä¸è§å½¢æ°
  - [è§é¥è£åª](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=è§é¥è£åª&zhida_source=entity)

- BVH
- Portal
- BSP
- OSP



- é¿åæ¯å¸§æäº¤Bufferæ°æ®
  - CPUççç²å­ãå¨ç»ä¼æ¯å¸§ä¿®æ¹ãæäº¤æ°æ®ï¼å¯ç§»è³GPUç«¯ã



- åå°æ¸²æç¶æè®¾ç½®åæ¥è¯¢
  - ä¾å¦ï¼`glGetUniformLocation`ä¼ä»GPUåå­æ¥è¯¢ç¶æï¼èè´¹å¾å¤æ¶é´å¨æã
  - é¿åæ¯å¸§è®¾ç½®ãæ¥è¯¢æ¸²æç¶æï¼å¯å¨åå§åæ¶ç¼å­ç¶æã



- å¯ç¨GPU Instance
- å¼å¯LOD
- é¿åä»æ¾å­è¯»æ°æ®



- **åå°è¿ç»å¶ï¼**
  - é¿åTex Killæä½
  - é¿åAlpha Test
  - é¿åAlpha Blend
  - å¼å¯æ·±åº¦æµè¯
    - Early-Z
    - å±æ¬¡Zç¼å²ï¼Hierarchical Z-Bufferingï¼HZBï¼



- å¼å¯è£åªï¼
  - èé¢è£åª
  - é®æ¡è£åª
  - è§å£è£åª
  - åªåç©å½¢ï¼scissor rectangleï¼



- æ§å¶ç©ä½æ°é
  - ç²å­æ°éå¤ä¸é¢ç§¯å°ï¼ç±äºåç´ åæºå¶ï¼ä¼å å§è¿ç»å¶æåµ
  - æ¤ç©ãæ²ç³ãæ¯åç­ä¹å¦æ­¤





- **Shaderä¼åï¼**
  - é¿åifãswitchåæ¯è¯­å¥
  - é¿å`for`[å¾ªç¯è¯­å¥](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=å¾ªç¯è¯­å¥&zhida_source=entity)

- ï¼ç¹å«æ¯å¾ªç¯æ¬¡æ°å¯åç
- åå°çº¹çéæ ·æ¬¡æ°
- ç¦ç¨`clip`æ`discard`æä½
- åå°å¤ææ°å­¦å½æ°è°ç¨



æ´å¤ä¼åæå·§å¯éè¯»ï¼

- [ç§»å¨æ¸¸ææ§è½ä¼åéç¨ææ³](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/10463467.html)ã
- [GPU Programming Guide](https://link.zhihu.com/?target=http%3A//developer.download.nvidia.com/GPU_Programming_Guide/GPU_Programming_Guide_G80.pdf)ã
- [Real-Time Rendering Resources](https://link.zhihu.com/?target=http%3A//www.realtimerendering.com/)ã

**5.3 GPUçæªæ¥**
ä»ç« è[2.2 GPUåå²](#2.2 GPUåå²)å¯ä»¥å¾åºä¸äºç»è®ºï¼ä¹å¯ä»¥æ¨æµGPUåå±çè¶å¿ï¼

- **ç¡¬ä»¶åçº§**ãæ´å¤è¿ç®ååï¼æ´å¤å­å¨ç©ºé´ï¼æ´é«å¹¶åï¼æ´é«å¸¦å®½ï¼æ´ä½å»¶æ¶ããã
- **Tile-Based Renderingçéæ**ãåºäºç¦ççæ¸²æå¯ä»¥ä¸å®ç¨åº¦éä½å¸¦å®½åæååç§è®¡ç®æçï¼ç®åé¨åç§»å¨ç«¯åæ¡é¢çGPUå·²ç»å¼å¥è¿ä¸ªææ¯ï¼æªæ¥å°æææä¸ºå¸¸æã

![img](https://picx.zhimg.com/v2-8c27fb9a373400378aad0798657de66b_1440w.jpg)



- **3Dåå­ææ¯**ãç®åå¤§å¤æ°ä¼ ç»çåå­æ¯2Dçï¼3Dåå­åä¸åï¼å¨ç©çç»æä¸æ¯3Dçï¼ç±»ä¼¼ç«æ¹ä½ç»æï¼éæäºè¯çåãå¯è·å¾å åçè®¿é®éåº¦åæè½æ¯ã

![img](https://pic2.zhimg.com/v2-e2e5600fef48b43a3835d5767d2d0939_1440w.jpg)



- **GPUæå å¯ç¼ç¨å**ãGPUå¤©çæ¯å¹¶è¡ä¸ç¸å¯¹åºå®çï¼æªæ¥å°ä¼å¼æ¾è¶æ¥è¶å¤çshaderå¯ä¾ç¼ç¨ï¼èCPUåå¥½ç¸åï¼å°å¾å¹¶è¡ååå±ãä¹å°±æ¯è¯´ï¼æªæ¥çGPUè¶æ¥è¶åCPUï¼èCPUè¶æ¥è¶åGPUãé¾éå®ä»¬åºéªäºå¤è¯­ï¼åä¹å¿åï¼åä¹å¿åä¹ï¼

![img](https://pic3.zhimg.com/v2-319c9e79ced72e564cdede5b5a6cc572_1440w.jpg)



- **å®æ¶åç§è¿½è¸ªçæ®å**ãåºäºTuringæ¶æçGPUå·²ç»å å¥å¤§éRT CoreãHVBãAIéåªç­ææ¯ï¼**Hybrid Rendering Pipeline**å°±æ¯æ­¤æ¶æçåçº¿è¿½è¸ªæ¸²æç®¡çº¿ï¼è½å¤åæ¶ç»å[åæ åå¨](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=åæ åå¨&zhida_source=entity)

ãRT CoreãCompute Coreæ§è¡[æ··åæ¸²æ](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=æ··åæ¸²æ&zhida_source=entity)

- ï¼

![img](https://pica.zhimg.com/v2-7cc6d922418764fae362ac6fbe5cce0e_1440w.jpg)


Hybrid Rendering Pipelineç¸å½äºåçº¿è¿½è¸ªæ¸²æç®¡çº¿ååæ åæ¸²æç®¡çº¿çåä½ï¼

![img](https://pic3.zhimg.com/v2-8ed13ba18f0519b3d930c7cc62690cf2_1440w.jpg)



- **æ°æ®å¹¶åæåãæ·±åº¦ç¥ç»ç½ç»ãGPUè®¡ç®ååç­æ®ååæå**ã

![img](https://pic4.zhimg.com/v2-2649b81f6ef0172ce10aa59169df0edf_1440w.jpg)



- **AIéåªåAIæé¯é½¿**ãAIéåªå·²ç»å¨é¨åRTXç³»åçåçº¿è¿½è¸ªçæ¬å¾å°åºç¨ï¼èAIæé¯é½¿ï¼Super Resï¼å¯ç¨äºè¶é«åè¾¨ççè§é¢å¾åæé¯é½¿ï¼

![img](https://pic3.zhimg.com/v2-7cdd2269056a7ab07690b365363078d4_1440w.jpg)



- **åºäºä»»å¡å[ç½æ ¼çè²å¨](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=ç½æ ¼çè²å¨&zhida_source=entity)**

**çæ¸²æç®¡çº¿**ãåºäºä»»å¡åç½æ ¼çè²å¨çæ¸²æç®¡çº¿ï¼Graphics Pipeline with Task and Mesh Shadersï¼ä¸ä¼ ç»ç[åæ å](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=4&q=åæ å&zhida_source=entity)

- æ¸²æåçº¿æçå¾å¤§çå·®å¼ï¼å®ä»¥çº¿ç¨ç»ï¼Thread Groupï¼ãä»»å¡çè²å¨ï¼Task shaderï¼åç½æ ¼çè²å¨ï¼Mesh shaderï¼ä¸ºåºç¡ï¼å½¢æä¸ç§å¨æ°çæ¸²æç®¡çº¿ï¼

![img](https://picx.zhimg.com/v2-e6c8308f6cf854e1a170ec8307960b33_1440w.jpg)


å³äºæ­¤ææ¯çæ´å¤è¯¦æå¯éè¯»ï¼[NVIDIA Turing Architecture Whitepaper](https://link.zhihu.com/?target=https%3A//www.nvidia.com/content/dam/en-zz/Solutions/design-visualization/technologies/turing-architecture/NVIDIA-Turing-Architecture-Whitepaper.pdf)ã

- **[å¯åéççè²](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=å¯åéççè²&zhida_source=entity)**

- **ï¼Variable Rate Shadingï¼**ãå¯åå©ççè²ææ¯å¯å¤æ­ç»é¢åºåçéè¦æ§ï¼æç±åºç¨ç¨åºæå®ï¼ï¼ç¶åæ ¹æ®ç»é¢åºåçéè¦æ§ç¨åº¦éç¨ä¸åççè²åè¾¨çç²¾åº¦ï¼å¯ä»¥æ¾èéä½åèï¼æé«çè²æçã

![img](https://pic4.zhimg.com/v2-411ed37714cf40b20d68cec5ed6a0e15_1440w.jpg)


**5.4 ç»è¯­**
æ¬æç³»ç»å°è®²è§£äºGPUçåå²ãåå±ãå·¥ä½æµç¨ï¼ä»¥åé¨åè¿ç¨çç»åè¯´æåç¨å°çåç§ææ¯ï¼æä»¬ä»ä¸­å¯ä»¥çå°GPUæ¶æçå¨æºãæºå¶ãç¶é¢ï¼ä»¥åæªæ¥çåå±ã
å¸æçå®æ¬æï¼å¤§å®¶è½å¾å¥½å°åç­å¯¼è¨æåºçé®é¢ï¼[1.3 å¸¦çé®é¢éè¯»](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11471507.html%23%E5%B8%A6%E7%9D%80%E9%97%AE%E9%A2%98%E9%98%85%E8%AF%BB)ãå¦æä¸è½å¨é¨åç­ï¼ä¹æ²¡å³ç³»ï¼åå¤´çç¸å³ç« èï¼æ»è½æ¾å°ç­æ¡ã
å¦ææ³æ´æ·±å¥å°äºè§£GPUçè®¾è®¡ç»èãå®ç°ç»èï¼å¯éè¯»GPUååå®æåå¸ç[ç½ç®ä¹¦](https://zhida.zhihu.com/search?content_id=167487986&content_type=Article&match_order=1&q=ç½ç®ä¹¦&zhida_source=entity)

ååå¤§é«æ ¡ãæºæåå¸çè®ºæãæ¨èä¸ä¸ªGPUè§£è¯´è§é¢ï¼[A trip through the Graphics Pipeline 2011: Index](https://link.zhihu.com/?target=https%3A//fgiesen.wordpress.com/2011/07/09/a-trip-through-the-graphics-pipeline-2011-index/)ï¼è½ç¶æ¯å¤å¹´åçè§é¢ï¼ä½æ¯è¾ç³»ç»ãå¨é¢å°è®²è§£äºGPUçæºå¶åææ¯ã
 
**ç¹å«è¯´æ**

- æè°¢ææåèæç®çä½èä»¬ï¼
- **ååæç« ï¼æªç»è®¸å¯ï¼ç¦æ­¢è½¬è½½ï¼**


**åèæç®**

- [Real-Time Rendering Resources](https://link.zhihu.com/?target=http%3A//www.realtimerendering.com/)
- [Life of a triangle - NVIDIA's logical pipeline](https://link.zhihu.com/?target=https%3A//developer.nvidia.com/content/life-triangle-nvidias-logical-pipeline)
- [NVIDIA Pascal Architecture Whitepaper](https://link.zhihu.com/?target=https%3A//images.nvidia.com/content/pdf/tesla/whitepaper/pascal-architecture-whitepaper.pdf)
- [NVIDIA Turing Architecture Whitepaper](https://link.zhihu.com/?target=https%3A//www.nvidia.com/content/dam/en-zz/Solutions/design-visualization/technologies/turing-architecture/NVIDIA-Turing-Architecture-Whitepaper.pdf)
- [Pomegranate: A Fully Scalable Graphics Architecture](https://link.zhihu.com/?target=http%3A//graphics.stanford.edu/papers/pomegranate/pomegranate.pdf)
- [Performance Optimization Guidelines and the GPU Architecture behind them](https://link.zhihu.com/?target=http%3A//on-demand.gputechconf.com/gtc/2013/video/S3466-Performance-Optimization-Guidelines-GPU-Architecture-Details.mp4)
- [A trip through the Graphics Pipeline 2011](https://link.zhihu.com/?target=https%3A//fgiesen.wordpress.com/2011/07/09/a-trip-through-the-graphics-pipeline-2011-index/)
- [Graphic Architecture introduction and analysis](https://link.zhihu.com/?target=https%3A//nielshagoort.com/2019/03/12/exploring-the-gpu-architecture/)
- [Exploring the GPU Architecture](https://link.zhihu.com/?target=https%3A//nielshagoort.com/2019/03/12/exploring-the-gpu-architecture/)
- [Introduction to GPU Architecture](https://link.zhihu.com/?target=http%3A//haifux.org/lectures/267/Introduction-to-GPUs.pdf)
- [An Introduction to Modern GPU Architecture](https://link.zhihu.com/?target=http%3A//download.nvidia.com/developer/cuda/seminar/TDCI_Arch.pdf)
- [GPU TECHNOLOGY: PAST, PRESENT, FUTURE](https://link.zhihu.com/?target=https%3A//www.nvidia.com.tw/content/PDF/GTC/keynote/marc-hamilton-nvidia-keynote.pdf)
- [GPU Computing & Architectures](https://link.zhihu.com/?target=http%3A//www.eziobartocci.com/intro_1.pdf)
- [NVIDIA VOLTA](https://link.zhihu.com/?target=https%3A//www.nvidia.com/zh-tw/data-center/volta-gpu-architecture/)
- [NVIDIA TURING](https://link.zhihu.com/?target=https%3A//www.nvidia.cn/design-visualization/technologies/turing-architecture/)
- [Graphics processing unit](https://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Graphics_processing_unit)
- [GPUå¹¶è¡æ¶æåæ¸²æä¼å](https://zhuanlan.zhihu.com/p/61358167)
- [æ¸²æä¼å-ä»GPUçç»æè°èµ·](https://zhuanlan.zhihu.com/p/58694744)
- [GPU Architecture and Models](https://link.zhihu.com/?target=https%3A//www.cs.utah.edu/~jeffp/teaching/MCMD/S20-GPU.pdf)
- [Introduction to and History of GPU Algorithms](https://link.zhihu.com/?target=https%3A//www.cs.utah.edu/~jeffp/teaching/MCMD/GPU-intro.pdf)
- [GPU Architecture Overview](https://link.zhihu.com/?target=https%3A//insujang.github.io/2017-04-27/gpu-architecture-overview/)
- [è®¡ç®æºé£äºäº(8)ââå¾å½¢å¾åæ¸²æåç](https://link.zhihu.com/?target=http%3A//chuquan.me/2018/08/26/graphics-rending-principle-gpu/)
- [GPU Programming Guide GeForce 8 and 9 Series](https://link.zhihu.com/?target=http%3A//developer.download.nvidia.com/GPU_Programming_Guide/GPU_Programming_Guide_G80.pdf)
- [GPUçå·¥ä½åç](https://zhuanlan.zhihu.com/p/34675934)
- [NVIDIAæ¾ç¤ºæ ¸å¿åè¡¨](https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/NVIDIA%E9%A1%AF%E7%A4%BA%E6%A0%B8%E5%BF%83%E5%88%97%E8%A1%A8)
- [DirectX](https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/DirectX)
- [é«çº§çè²å¨è¯­è¨](https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%E9%AB%98%E7%BA%A7%E7%9D%80%E8%89%B2%E5%99%A8%E8%AF%AD%E8%A8%80)
- [æ¢ç©¶åçº¿è¿½è¸ªææ¯åUE4çå®ç°](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/11366199.html)
- [ç§»å¨æ¸¸ææ§è½ä¼åéç¨ææ³](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/p/10463467.html)
- [NV shader thread group](https://link.zhihu.com/?target=https%3A//www.opengl.org/registry/specs/NV/shader_thread_group.txt)
- [å®æ¶æ¸²ææ·±å¥æ¢ç©¶](https://link.zhihu.com/?target=https%3A//learn.unrealengine.com/course/2504896)
- [NVIDIA GPU ç¡¬ä»¶ä»ç»](https://link.zhihu.com/?target=http%3A//juniorprincewang.github.io/2018/07/14/NVIDIA-GPU-%E7%A1%AC%E4%BB%B6%E4%BB%8B%E7%BB%8D/)
- [Data Transfer Matters for GPU Computing](https://link.zhihu.com/?target=http%3A//www.ertl.jp/~shinpei/papers/icpads13.pdf)
- [Slang â A Shader Compilation System](https://link.zhihu.com/?target=http%3A//graphics.cs.cmu.edu/projects/slang/he18_slang.pdf)
- [Graphics Shaders - Theory and Practice 2nd Edition](https://link.zhihu.com/?target=http%3A//cs.uns.edu.ar/cg/clasespdf/GraphicShaders.pdf)





åç±»: [C/C++/Lua](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/category/1409894.html), [è®¡ç®æºå¾å½¢å­¦](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/category/1409892.html)
**æ ç­¾:** **[GPU](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/tag/GPU/),** **[shader](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/tag/shader/),** **[glsl](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/tag/glsl/),** **[hlsl](https://link.zhihu.com/?target=https%3A//www.cnblogs.com/timlly/tag/hlsl/)**

åå¸äº 2021-03-15 06:52

### åå®¹æå±ä¸æ 

- ![ç¨ä½ å¬å¾æçè¯è®²ç§æ®](https://pic1.zhimg.com/v2-f111d7ee1c41944859e975a712c0883b_l.jpg?source=172ae18b)

  ## [ç¨ä½ å¬å¾æçè¯è®²ç§æ®](https://www.zhihu.com/column/c_1187264588697001984)
