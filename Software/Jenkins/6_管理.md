# Managing Jenkins 管理 Jenkins

Chapter Sub-Sections 章节小节

- [ Configuring the System  配置系统](https://www.jenkins.io/doc/book/managing/system-configuration)
- [ Configuration as Code  配置即代码](https://www.jenkins.io/doc/book/managing/casc)
- [ Managing Tools  管理工具](https://www.jenkins.io/doc/book/managing/tools)
- [ Managing Plugins  管理插件](https://www.jenkins.io/doc/book/managing/plugins)
- [ About Jenkins  关于 Jenkins](https://www.jenkins.io/doc/book/managing/about-jenkins)
- [ System Information  系统信息](https://www.jenkins.io/doc/book/managing/system-info)
- [ Jenkins Features Controlled with System Properties 
  使用系统属性控制的 Jenkins 功能](https://www.jenkins.io/doc/book/managing/system-properties)
- [ Change System Time Zone  更改系统时区](https://www.jenkins.io/doc/book/managing/change-system-timezone)
- [ Jenkins CLI  Jenkins 命令行界面](https://www.jenkins.io/doc/book/managing/cli)
- [ Script Console  脚本控制台](https://www.jenkins.io/doc/book/managing/script-console)
- [ Groovy Hook Scripts  Groovy Hook 脚本](https://www.jenkins.io/doc/book/managing/groovy-hook-scripts)
- [ Managing Nodes  管理节点](https://www.jenkins.io/doc/book/managing/nodes)
- [ In-process Script Approval 
  进程内脚本审批](https://www.jenkins.io/doc/book/managing/script-approval)
- [ Users  用户](https://www.jenkins.io/doc/book/managing/users)
- [ Themes for user interface 
  用户界面主题](https://www.jenkins.io/doc/book/managing/ui-themes)
- [ User Content  用户内容](https://www.jenkins.io/doc/book/managing/user-content)
- [ Spawning Processes From Build 
  从 Build 生成进程](https://www.jenkins.io/doc/book/managing/spawning-processes)

Table of Contents 目录

- [System Configuration group
  “系统配置”组](https://www.jenkins.io/doc/book/managing/#system-configuration-group)
- [Security group 安全组](https://www.jenkins.io/doc/book/managing/#security-group)
- [Status Information group “状态信息”组](https://www.jenkins.io/doc/book/managing/#status-information-group)
- [Troubleshooting group 故障排除组](https://www.jenkins.io/doc/book/managing/#troubleshooting-group)
- [Tools and Actions group “工具和操作”组](https://www.jenkins.io/doc/book/managing/#tools-and-actions-group)
- [Uncategorized group 未分类的组](https://www.jenkins.io/doc/book/managing/#uncategorized-group)

Most standard administrative tasks can be performed from the screens in the **Manage Jenkins** section of the dashboard. In this chapter, we look at these screens and explain how to use them.
大多数标准管理任务都可以从仪表板的 **Manage Jenkins （管理 Jenkins**） 部分中的屏幕执行。在本章中，我们将介绍这些屏幕并解释如何使用它们。

The tiles displayed on the **Manage Jenkins** page are grouped logically. Here we discuss the pages that are part of the standard installation. Plugins may add pages to this screen.
**Manage Jenkins （管理 Jenkins**） 页面上显示的磁贴按逻辑分组。在这里，我们讨论作为标准安装一部分的页面。插件可能会向此屏幕添加页面。

The top of the **Manage Jenkins** screen may contain "Monitors" that alert you when a new version of the Jenkins software or a security update is available. Each monitor includes a description of the issue it is reporting and links to additional information about the issue
**Manage Jenkins （管理 Jenkins**） 屏幕的顶部可能包含“监视器”，当 Jenkins 软件的新版本或安全更新可用时，这些监视器会提醒您。每个监控器都包含它所报告的问题的描述以及指向有关该问题的其他信息的链接

Inline help is available on most **Manage Jenkins** pages:
内联帮助在大多数 **Manage Jenkins** 页面上都可用：

- To access the help, select the `?` icon to the right of each field.
  要访问帮助，请选择每个字段右侧的 `？`图标。
- Click the `?` icon again to hide the help text.
  再次单击 `？`图标可隐藏帮助文本。

Other system administration topics are discussed in [Jenkins System Administration](https://www.jenkins.io/doc/book/system-administration/).
其他系统管理主题在 [Jenkins 系统管理](https://www.jenkins.io/doc/book/system-administration/)中讨论。

## System Configuration group “系统配置”组

Screens for configuring resources for your Jenkins controller.
用于为 Jenkins 控制器配置资源的屏幕。

- [System 系统](https://www.jenkins.io/doc/book/managing/system-configuration)

  Configure global settings and paths for the Jenkins controller 配置 Jenkins 控制器的全局设置和路径

- [Tools 工具](https://www.jenkins.io/doc/book/managing/tools)

  Configure tools, their locations, and automatic installers 配置工具、其位置和自动安装程序

- [Plugins 插件](https://www.jenkins.io/doc/book/managing/plugins)

  Add, update, remove, disable/enable plugins that extend the functionality of Jenkins. 添加、更新、删除、禁用/启用扩展 Jenkins 功能的插件。

- [Nodes and Clouds 节点和云](https://www.jenkins.io/doc/book/managing/nodes)

  Add, remove, control, and monitor the nodes used for the agents on which build jobs run. 添加、删除、控制和监控用于运行生成作业的代理的节点。

- [Configuration as Code 配置即代码](https://www.jenkins.io/doc/book/managing/casc)

  Configure your Jenkins controller using a human-readable YAML file rather than the UI. This is an optional feature that appears in this group only when the plugin is installed on your controller. 使用人类可读的 YAML 文件而不是 UI 配置 Jenkins 控制器。这是一项可选功能，仅当控制器上安装插件时，该功能才会显示在此组中。

## Security group 安全组

Screens for configuring security features for your Jenkins controller. See [Securing Jenkins](https://www.jenkins.io/doc/book/security/) for general information about managing Jenkins security.
用于为 Jenkins 控制器配置安全功能的屏幕。有关管理 Jenkins 安全性的一般信息，请参阅[保护 Jenkins](https://www.jenkins.io/doc/book/security/)。

- [Security 安全](https://www.jenkins.io/doc/book/managing/system-configuration)

  Set configuration parameters that secure your Jenkins controller. 设置用于保护 Jenkins 控制器的配置参数。

- [Manage Credentials 管理凭证](https://www.jenkins.io/doc/book/using/using-credentials/#adding-new-global-credentials)

  Configure the credentials that provide secure access to third-party sites and applications that interact with Jenkins. 配置凭证，以提供对与 Jenkins 交互的第三方网站和应用程序的安全访问。

- **Credential Providers 凭证提供程序**

  Configure credential providers and types 配置凭据提供程序和类型

- [Users 用户](https://www.jenkins.io/doc/book/managing/users)

  Manage users defined in the Jenkins user database. This is not used if you use a different security realm such as LDAP or AD. 管理 Jenkins 用户数据库中定义的用户。如果您使用其他安全域（如 LDAP 或 AD），则不会使用此字段。

## Status Information group “状态信息”组

- [System Information 系统信息](https://www.jenkins.io/doc/book/managing/system-info)

  Displays information about the Jenkins environment. 显示有关 Jenkins 环境的信息。

- [System Log 系统日志](https://www.jenkins.io/doc/book/system-administration/viewing-logs/)

  Jenkins log that contains all `java.util.logging` output related to Jenkins. 包含与 Jenkins 相关的所有 `java.util.logging` 输出的 Jenkins 日志。

- **Load Statistics 负载统计**

  Displays information about resource utilization on you Jenkins controller. 显示有关 Jenkins 控制器上的资源利用率的信息。

- [About Jenkins 关于 Jenkins](https://www.jenkins.io/doc/book/managing/about-jenkins)

  Provides version and license information for your Jenkins controller. 提供 Jenkins 控制器的版本和许可证信息。

## Troubleshooting group 故障排除组

- **Manage Old Data 管理旧数据**

  Remove configuration information related to plugins that have been removed from the controller. 删除与已从控制器中删除的插件相关的配置信息。

## Tools and Actions group “工具和操作”组

Screens for common management tasks and management tools that enable you to do administrative tasks without using the UI.
常见管理任务和管理工具的屏幕，使您能够在不使用 UI 的情况下执行管理任务。

- **Reload Configuration from Disk 从磁盘重新加载配置**

  Discard all data that is loaded in memory and reload everything from the file system. This is useful when you modify configuration files directly on disk. 丢弃内存中加载的所有数据，并重新加载文件系统中的所有内容。当您直接在磁盘上修改配置文件时，这非常有用。

- [Jenkins CLI Jenkins 命令行界面](https://www.jenkins.io/doc/book/managing/cli)

  How to use the Jenkins CLI from a shell or script. 如何从 shell 或脚本使用 Jenkins CLI。

- [Script Console 脚本控制台](https://www.jenkins.io/doc/book/managing/script-console/)

  Execute an Apache Groovy script for administration, troubleshooting, and diagnostics. 执行 Apache Groovy 脚本以进行管理、故障排除和诊断。

- Prepare for Shutdown 准备关闭

  Prevents new builds from starting so that the system can be shut down safely. Displays a red banner with a custom message so that users know what is about to happen. 阻止新的构建启动，以便可以安全地关闭系统。显示带有自定义消息的红色横幅，以便用户了解即将发生的情况。

![Red headband with a custom message](https://www.jenkins.io/doc/book/resources/managing/prepare-for-shutdown.png)

|      | This does not ask Jenkins to stop; this action will just prevent new builds from starting. If you need to stop or restart Jenkins, you should use the command line or the `/restart` and `/safeRestart` end points. There is also a plugin called [Safe Restart](https://plugins.jenkins.io/saferestart/) that will add a `Restart Safely` link in the UI.  这并不要求 Jenkins 停止;此操作只会阻止新的 Build 开始。如果需要停止或重新启动 Jenkins，则应使用命令行或 `/restart` 和 `/safeRestart` 端点。还有一个名为 [Safe Restart](https://plugins.jenkins.io/saferestart/) 的插件，它将在 UI 中添加 `Restart Safely` 链接。 |
| ---- | ------------------------------------------------------------ |
|      |                                                              |

## Uncategorized group 未分类的组

Screens for plugins that have not yet declared the category of their page.
尚未声明其页面类别的插件的屏幕。

# Configuring the System 配置系统

Table of Contents 目录

- [Jenkins home directory Jenkins 主目录](https://www.jenkins.io/doc/book/managing/system-configuration/#jenkins-home-directory)

Jenkins stores its global configuration in files on the Jenkins controller. Administrators and privileged users modify the global configuration from the Jenkins configuration pages.
Jenkins 将其全局配置存储在 Jenkins 控制器上的文件中。管理员和特权用户从 Jenkins 配置页面修改全局配置。

## Jenkins home directory Jenkins 主目录

The `JENKINS_HOME` directory is the root of the directory structure on disk that Jenkins uses to perform builds and keep archives. The Jenkins home directory is listed in **Manage Jenkins** > **System** under the **Home directory** heading.
`JENKINS_HOME` 目录是 Jenkins 用于执行构建和保存存档的磁盘上目录结构的根目录。Jenkins 主目录列在**“管理 Jenkins** > **系统**”中的**“主目录**”标题下。

![Home dir](https://www.jenkins.io/images/system-administration/administering-jenkins/home-dir.png)

- On Windows by default, this is set to `C:\ProgramData\Jenkins\.jenkins`.
  在 Windows 上，默认情况下，此参数设置为 `C:\ProgramData\Jenkins\.jenkins` 。
- On Ubuntu by default, this is set to `~/.jenkins`.
  在 Ubuntu 上，默认情况下，此参数设置为 `~/.jenkins`。

But you can change this in one of the following ways:
但您可以通过以下方式之一更改此设置：

- Set the `JENKINS_HOME` environment variable.
  设置 `JENKINS_HOME` 环境变量。
- Set the `JENKINS_HOME` Java system property.
  设置 `JENKINS_HOME` Java 系统属性。

You can change this location after you’ve used Jenkins for a while, too. To do this:
您也可以在使用 Jenkins 一段时间后更改此位置。操作步骤：

1. Stop Jenkins completely. 完全停止 Jenkins。
2. Move the contents from the old `JENKINS_HOME` to the new location.
   将内容从旧`JENKINS_HOME`移动到新位置。
3. Set the `JENKINS_HOME` variable to the new location.
   将 `JENKINS_HOME` 变量设置为新位置。
4. Restart Jenkins. 重启 Jenkins。

The directory structure of the `JENKINS_HOME` tree is often structured as follows:
`JENKINS_HOME` 树的目录结构通常结构如下：

```
JENKINS_HOME +- builds            (build records)    +- [BUILD_ID]     (subdirectory for each build)         +- build.xml      (build result summary)         +- changelog.xml  (change log) +- config.xml         (Jenkins root configuration file) +- *.xml              (other site-wide configuration files) +- fingerprints       (stores fingerprint records, if any) +- identity.key.enc   (RSA key pair that identifies an instance) +- jobs               (root directory for all Jenkins jobs)     +- [JOBNAME]      (sub directory for each job)         +- config.xml (job configuration file)     +- [FOLDERNAME]   (sub directory for each folder)         +- config.xml (folder configuration file)         +- jobs       (subdirectory for all nested jobs) +- plugins            (root directory for all Jenkins plugins)     +- [PLUGIN]       (sub directory for each plugin)     +- [PLUGIN].jpi   (.jpi or .hpi file for the plugin) +- secret.key         (deprecated key used for some plugins' secure operations) +- secret.key.not-so-secret  (used for validating _$JENKINS_HOME_ creation date) +- secrets            (root directory for the secret+key for credential decryption)     +- hudson.util.Secret   (used for encrypting some Jenkins data)     +- master.key           (used for encrypting the hudson.util.Secret key)     +- InstanceIdentity.KEY (used to identity this instance) +- userContent        (files served under your https://server/userContent/) +- workspace          (working directory for the version control system)
```

# Configuration as Code 配置即代码

The Jenkins Configuration as Code (JCasC) feature defines Jenkins configuration parameters in a human-readable YAML file that can be stored as source code. This essentially captures the configuration parameters and values that are used when configuring Jenkins from the web UI. The configuration can then be modified by editing this file and then applying it.
Jenkins 配置即代码 （JCasC） 功能在人类可读的 YAML 文件中定义 Jenkins 配置参数，该文件可以存储为源代码。这实质上捕获了从 Web UI 配置 Jenkins 时使用的配置参数和值。然后，可以通过编辑此文件，然后应用它来修改配置。

|      | Traditionally, experienced Jenkins administrators created Apache Groovy `init` scripts to automate the configuration for their Jenkins controllers. This works but requires in-depth understanding of Jenkins APIs and the ability to write Groovy scripts. Such scripts are powerful and can do almost anything, but they also provide few protections against configuration errors. 传统上，经验丰富的 Jenkins 管理员会创建 Apache Groovy `初始化`脚本来自动配置他们的 Jenkins 控制器。这可行，但需要深入了解 Jenkins API 并能够编写 Groovy 脚本。此类脚本功能强大，几乎可以执行任何操作，但它们也很少提供针对配置错误的保护。 |
| ---- | ------------------------------------------------------------ |
|      |                                                              |

JCasC provides the convenience and flexibility of configuring controllers without using the UI. It does not require more understanding of the configuration parameters than is required to configure Jenkins through the UI and it provides some checks on the values that are provided.
JCasC 提供了配置控制器的便利性和灵活性，而无需使用 UI。与通过 UI 配置 Jenkins 相比，它不需要对配置参数有更多的了解，并且它对提供的值提供了一些检查。

The JCasC configuration file can be checked into an SCM, which enables you to determine who made what modifications to the configuration and to roll back to a previous configuration if necessary.
JCasC 配置文件可以签入到 SCM 中，这使您能够确定谁对配置进行了哪些修改，并在必要时回滚到以前的配置。

The [Configuration as Code](https://plugins.jenkins.io/configuration-as-code) plugin must be installed on the Jenkins controller that you will use to build out your JCasC configuration. If you do not see the **Configuration as Code** tile in the **System Configuration** section of the **Manage Jenkins** page on your dashboard, you need to install the plugin.
[Configuration as Code](https://plugins.jenkins.io/configuration-as-code) 插件必须安装在 Jenkins 控制器上，您将使用该控制器来构建 JCasC 配置。如果您在控制面板上 **Manage Jenkins （管理 Jenkins）** 页面的 **System Configuration （系统配置**） 部分中没有看到 **Configuration as Code （配置即代码**） 磁贴，则需要安装插件。

## Viewing the JCasC file 查看 JCasC 文件

When the Configuration as Code plugin is installed, you will see **Configuration as Code** in the **System Configuration** section of the **Manage Jenkins** page on your dashboard. Click on this link, then click on **View Configuration** to view the YAML file.
安装 Configuration as Code 插件后，您将在控制面板上 **Manage Jenkins （管理 Jenkins**） 页面的 **System Configuration （系统配置**） 部分看到 **Configuration as Code （配置即代码**）。单击此链接，然后单击 **View Configuration** 以查看 YAML 文件。

This file is an export of the current configuration on this controller. In most cases, it is ready to use without modification although you usually want to customize it before deploying it. You may want to push the unmodified version to SCM so you have it as part of your history.
此文件是此控制器上当前配置的导出。在大多数情况下，它无需修改即可使用，尽管您通常希望在部署之前对其进行自定义。您可能希望将未修改的版本推送到 SCM，以便将其作为历史记录的一部分。

|      | The **Configuration as Code** UI page shows the full pathname of the YAML file being used and gives a box where you can specify a different file to use. See the information below about how to modify the location used for JCasC YAML files. **Configuration as Code UI （配置即代码**） UI 页面显示正在使用的 YAML 文件的完整路径名，并提供一个框，您可以在其中指定要使用的其他文件。请参阅以下有关如何修改用于 JCasC YAML 文件的位置的信息。 |
| ---- | ------------------------------------------------------------ |
|      |                                                              |

The default JCasC YAML file has four sections:
默认的 JCasC YAML 文件有四个部分：

- `jenkins` section defines the root Jenkins object, with configurations that can be set with the **Manage Jenkins >> System** and **Manage Jenkins >> Configure Nodes and Clouds** screens.
  `jenkins` 部分定义根 Jenkins 对象，其配置可通过**管理 Jenkins >> 系统和****管理 Jenkins >> 配置节点和云**屏幕进行设置。
- `tool` section defines build tools that can be set on the **Manage Jenkins >> Tools** screen.
  `tool` 部分定义可在 **Manage Jenkins >> Tools** 屏幕上设置的构建工具。
- `unclassified` section defines all other configurations, including configuration for installed plugins.
  `unclassified` 部分定义所有其他配置，包括已安装插件的配置。
- `credentials` section defines credentials that can be set on the **Manage Jenkins >> Manage Credentials** screen. You may want to delete this section from your YAML file; this is discussed in [How to Install Jenkins Using Ansible and JCasC](https://youtu.be/ANU7jkxbZSM?t=1673).
  `credentials` 部分定义可在 **Manage Jenkins >> Manage Credentials** 屏幕上设置的凭据。您可能希望从 YAML 文件中删除此部分;[这在如何使用 Ansible 和 JCasC 安装 Jenkins](https://youtu.be/ANU7jkxbZSM?t=1673) 中进行了讨论。

## YAML file syntax YAML 文件语法

JCasC defines the controller configuration in a YAML file. YAML is a popular serialization language for configuration information, with a syntax that is straight-forward and easy to read but precise.
JCasC 在 YAML 文件中定义控制器配置。YAML 是一种流行的配置信息序列化语言，其语法简单明了，易于阅读但又精确。

Some key points about YAML syntax:
有关 YAML 语法的一些关键点：

- YAML files are case sensitive.
  YAML 文件区分大小写。
- Indentation is very significant and specific.
  缩进是非常显著和特异的。
- Each item is a key/value pair.
  每个项目都是一个键/值对。
  - The key is followed by a colon (`:`) and a space.
    键后跟冒号 （`：`） 和空格。
  - YAML converts certain strings into other types unless they are in quotes.
    YAML 将某些字符串转换为其他类型，除非它们位于引号中。
    - Values such as `true`, `false`, `Yes`, and `No` are converted to Boolean values.
      `true`、`false`、`Yes` 和 `No` 等值将转换为布尔值。
    - Values such as `2` and `3.0` are converted to floating point values.
      `2` 和 `3.0` 等值将转换为浮点值。
- A value can be a list:
  值可以是列表：
  - Each list item is on a separate line starting with a dash (`-`).
    每个列表项都位于以短划线 （`-`） 开头的单独行上。
  - Each list item in the file must start at the same indentation.
    文件中的每个列表项都必须以相同的缩进开始。
    - Use spaces, never tabs, for indentation.
      使用空格（切勿使用制表符）进行缩进。
  - Never leave a blank line in a YAML file — things will break!
    永远不要在 YAML 文件中留下空行 - 事情会坏的！

See the [YAML Reference Card](https://yaml.org/refcard.html) for more details about YAML file syntax.
有关 YAML 文件语法的更多详细信息，请参阅 [YAML 参考卡](https://yaml.org/refcard.html)。

## Checking the YAML files into SCM 将 YAML 文件签入 SCM

To get the maximum benefit of JCasC, the YAML files should be stored in SCM. This gives you a history that you can use to trace changes that are made and allow you to easily roll back to an earlier version of the file if necessary.
为了获得 JCasC 的最大好处，YAML 文件应该存储在 SCM 中。这将为您提供一个历史记录，您可以使用该历史记录来跟踪所做的更改，并允许您在必要时轻松回滚到文件的早期版本。

JCasC does not require that the file be stored in SCM and so does not enforce any rules about how you do this. The most common practice is to create one SCM repository in which you store all of your JCasC files.
JCasC 不要求将文件存储在 SCM 中，因此不强制执行任何有关如何执行此操作的规则。最常见的做法是创建一个 SCM 存储库，在其中存储所有 JCasC 文件。

If you are storing your JCasC YAML files in SCM, you should commit the first default file that is generated, before you make any modifications to the file.
如果要将 JCasC YAML 文件存储在 SCM 中，则应在对文件进行任何修改之前提交生成的第一个默认文件。

## Modifying the JCasC file 修改 JCasC 文件

To modify the JCasC YAML file, use the text editor of your choice to edit the file that is listed on the **Manage Jenkins >> Configuration as Code** UI page. By default, this is *$JENKINS_HOME/jenkins.yaml*.
要修改 JCasC YAML 文件，请使用您选择的文本编辑器编辑“**将 Jenkins >> 配置管理为代码** UI”页面上列出的文件。默认情况下，这是 *$JENKINS_HOME/jenkins.yaml*。

For a simple exercise to work through the process, you can modify the value of the "System Message" that is displayed on the Jenkins dashboard.
要通过简单的练习来完成该过程，您可以修改 Jenkins 仪表板上显示的 “System Message” 的值。

1. Open the JCasC YAML file with the text editor of your choice.
   使用您选择的文本编辑器打开 JCasC YAML 文件。

2. Find the `systemMessage` line near the top of the file:
   在文件顶部附近找到 `systemMessage` 行：

   ```
   jenkins:
     systemMessage: "Jenkins configured automatically by Jenkins Configuration as Code plugin\n\n"
   ```

1. Modify the text between the quotation marks to contain your new text
   修改引号之间的文本以包含新文本
2. Write/save the file 写入/保存文件
3. Click the **Reload existing configuration** button to apply the changes
   单击 **Reload existing configuration** 按钮以应用更改
4. View the modified "System Message" on your dashboard
   在控制面板上查看修改后的 “System Message”

|      | It is not necessary to restart Jenkins to apply the JCasC changes, although you should try to restart Jenkins with the modifications before you check the modified YAML file into SCM, especially when making more substantive configuration changes. 无需重新启动 Jenkins 即可应用 JCasC 更改，但您应该在将修改后的 YAML 文件签入 SCM 之前尝试重新启动修改后的 Jenkins，尤其是在进行更实质性的配置更改时。 |
| ---- | ------------------------------------------------------------ |
|      |                                                              |

When you have made and tested your desired changes, push the modified JCasC YAML file to your SCM.
在进行并测试所需的更改后，将修改后的 JCasC YAML 文件推送到 SCM。

## Configuring a plugin with JCasC 使用 JCasC 配置插件

To configure a plugin with JCasC:
要使用 JCasC 配置插件：

1. Use the UI of the current system to install and configure the plugin
   使用当前系统的 UI 安装和配置插件
2. Click **Apply >> Save** to save the configuration
   单击**应用 >> 保存**以保存配置
3. Use **Manage Jenkins >> Configuration as Code >> View Configuration** to view the JCasC file with the plugin configured
   使用**“管理 Jenkins >> 配置”作为代码 >> 查看**配置好了插件的 JCasC 文件
4. Click on **Download Configuration**  to save the modified configuration file locally
   单击 **Download Configuration** 将修改后的配置文件保存在本地
5. Edit the JCasC YAML file to modify the configuration, if necessary
   如有必要，编辑 JCasC YAML 文件以修改配置
6. Save the file 保存文件
7. Click **Reload existing configuration** to load the local changes onto the Jenkins server
   单击 **Reload existing configuration （重新加载现有配置**） 以将本地更改加载到 Jenkins 服务器上
8. Verify the changes on the UI
   验证 UI 上的更改
9. When you have thoroughly tested the plugin configuration, push the modified YAML file to your SCM
   全面测试插件配置后，将修改后的 YAML 文件推送到 SCM

See the [Configure Plugins with JCasC](https://www.jenkins.io/blog/2021/05/20/configure-plugins-with-jcasc/) blog for detailed instructions and an embedded video demonstration of this process.
有关此过程的详细说明和嵌入式视频演示，请参阅[使用 JCasC 配置插件](https://www.jenkins.io/blog/2021/05/20/configure-plugins-with-jcasc/)博客。

## YAML file location YAML 文件位置

By default, the YAML file for the CasC configuration is located in `$JENKINS_HOME/jenkins.yaml`. The location and name of the file being used is displayed on the **Configuration as Code** UI page. You can specify a different file to view by typing the full pathname into the **Path or URL** field.
默认情况下，CasC 配置的 YAML 文件位于 `$JENKINS_HOME/jenkins.yaml` 中。正在使用的文件的位置和名称显示在 **Configuration as Code** UI 页面上。您可以通过在 **Path 或 URL** 字段中键入完整路径名来指定要查看的其他文件。

You can specify a different location or a different file name for the creation of the JCasC YAML file by doing either of the following:
您可以通过执行以下任一操作来指定用于创建 JCasC YAML 文件的不同位置或不同的文件名：

- Populate the `CASC_JENKINS_CONFIG` environment variable to point to a comma-separated list that defines where configuration files are located.
  填充 `CASC_JENKINS_CONFIG` 环境变量以指向定义配置文件所在位置的逗号分隔列表。

- Use the `casc.jenkins.config` Java property to control the file name and location. This is useful when installing Jenkins via a package management tool. Most package management systems support configuration files that are retained across upgrades. It is best to not modify a file installed by a package manager because it could be overwritten by an update.
  使用 `casc.jenkins.config` Java 属性控制文件名和位置。这在通过包管理工具安装 Jenkins 时非常有用。大多数软件包管理系统都支持在升级后保留的配置文件。最好不要修改 Package Manager 安装的文件，因为它可能会被更新覆盖。

  On Linux systems, you can run `systemctl edit jenkins` and add the following:
  在 Linux 系统上，您可以运行 `systemctl edit jenkins` 并添加以下内容：

  ```
  [Service]
  Environment="JAVA_OPTS=-Dcasc.jenkins.config=/jenkins/casc_configs"
  ```

The file location and name can be specified as any of the following:
文件位置和名称可以指定为以下任意值：

- Path to a folder containing a set of config files such as `/var/jenkins_home/casc_configs`.
  包含一组配置文件（如 `/var/jenkins_home/casc_configs` .
- A full path to a single file such as `/var/jenkins_home/casc_configs/jenkins.yaml`.
  单个文件的完整路径，例如 `/var/jenkins_home/casc_configs/jenkins.yaml` .
- A URL pointing to a file served on the web such as `https://acme.org/jenkins.yaml`.
  指向 Web 上提供的文件的 URL，例如 `https://acme.org/jenkins.yaml`。

The value of the `CASC_JENKINS_CONFIG` variable is unpacked according to the following rules:
`CASC_JENKINS_CONFIG` 变量的值根据以下规则进行解包：

- If an element of `CASC_JENKINS_CONFIG` points to a folder, the plugin recursively traverses the folder to find file(s) with the .yml, .yaml, .YAML, or .YML suffix.
  如果 `CASC_JENKINS_CONFIG` 的元素指向文件夹，则插件会递归遍历该文件夹以查找.yml为 .yaml、.YAML 或 .YML 后缀。
- It excludes hidden files or files that contain a hidden folder (such as/ `jenkins/casc_configs/.dir1/config.yaml`) in **any part** of the full path.
  它排除隐藏文件或在完整路径**的任何部分**包含隐藏文件夹（如 / `jenkins/casc_configs/.dir1/config.yaml` ）的文件。
- It follows symbolic links for both files and directories.
  它遵循文件和目录的符号链接。
- The order of traversal does not matter to the final outcome because all configuration files that are discovered MUST be supplementary. If a file attempts to overwrite configuration values from another file, it creates a conflict and raises a `ConfiguratorException`.
  遍历的顺序对最终结果无关紧要，因为发现的所有配置文件都必须是补充的。如果一个文件试图覆盖另一个文件的配置值，它会创建冲突并引发 `ConfiguratorException`。

### CasC configuration and UI modifications CasC 配置和 UI 修改

Configuration for a Jenkins controller should be implemented either with CasC or with the UI, but not by both. The system allows administrators to modify configuration options on the UI even when they were configured by CasC, but these modifications are overwritten the next time the controller restarts.
Jenkins 控制器的配置应该使用 CasC 或 UI 实现，但不能同时通过两者来实现。系统允许管理员修改 UI 上的配置选项，即使这些选项是由 CasC 配置的，但这些修改将在下次控制器重新启动时被覆盖。

You can install the [Extended Read Permission Plugin](https://github.com/jenkinsci/extended-read-permission-plugin), which allows you to grant read-only access to configuration parameters to users. See [JEP-224: Readonly system configuration](https://github.com/jenkinsci/jep/blob/master/jep/224/README.adoc) for more details.
您可以安装 [Extended Read Permission Plugin](https://github.com/jenkinsci/extended-read-permission-plugin)，它允许您向用户授予对配置参数的只读访问权限。有关更多详细信息，请参阅 [JEP-224：只读系统配置](https://github.com/jenkinsci/jep/blob/master/jep/224/README.adoc) 。

A small group of administrators may have write access to the UI configuration fields. They should understand that JCasC will overwrite changes they make on the UI.
一小群管理员可能具有对 UI 配置字段的写入权限。他们应该明白 JCasC 将覆盖他们在 UI 上所做的更改。

## For more information 了解更多信息

### General information 一般信息

- [Look Ma! No Hands! — Manage Jenkins Configuration as Code](https://www.youtube.com/watch?v=47D3H1BZi4o) is a video of the 2018 DevOps World presentation that introduced the JCasC feature.
  [看，马！没有手！— 将 Jenkins 配置作为代码管理](https://www.youtube.com/watch?v=47D3H1BZi4o) 是 2018 DevOps World 演示的视频，其中介绍了 JCasC 功能。
- [Configure Plugins with JCasC](https://www.jenkins.io/blog/2021/05/20/configure-plugins-with-jcasc/) is a blog post with video that demonstrates how to configure a plugin with JCasC.
  [使用 JCasC 配置插件](https://www.jenkins.io/blog/2021/05/20/configure-plugins-with-jcasc/)是一篇包含视频的博客文章，演示了如何使用 JCasC 配置插件。
- [How to Install Jenkins Using Ansible and JCasC](https://www.youtube.com/watch?v=ANU7jkxbZSM) is a video presentation with details about using JCasC.
  [如何使用 Ansible 和 JCasC 安装 Jenkins](https://www.youtube.com/watch?v=ANU7jkxbZSM) 是一个视频演示，其中包含有关使用 JCasC 的详细信息。

### Implementation details 实现细节

Much of the detailed JCasC documentation is provided in the [Github repository](https://github.com/jenkinsci/configuration-as-code-plugin/tree/master/docs).
[Github 存储库](https://github.com/jenkinsci/configuration-as-code-plugin/tree/master/docs)中提供了许多详细的 JCasC 文档。

- [Implementation details 实现细节](https://github.com/jenkinsci/configuration-as-code-plugin/blob/master/docs/IMPLEMENTATION.md)
  - The [demos](https://github.com/jenkinsci/configuration-as-code-plugin/tree/master/demos) directory contains sample **.yaml* files for configuring specific Jenkins components and plugins, with a *README* file in each directory that describes the configurations for that component.
    [demos](https://github.com/jenkinsci/configuration-as-code-plugin/tree/master/demos) 目录包含用于配置特定 Jenkins 组件和插件的示例 **.yaml* 文件，每个目录中都有一个描述该组件配置的 *README* 文件。
  - [How to create the initial "seed" job with Job DSL
    如何使用 Job DSL 创建初始 “seed” 作业](https://github.com/jenkinsci/configuration-as-code-plugin/blob/master/docs/seed-jobs.md)
  - [Usage scenarios 使用场景](https://github.com/jenkinsci/configuration-as-code-plugin/blob/master/docs/usageScenarios.md)
  - [Triggering Configuration Reload
    触发配置重新加载](https://github.com/jenkinsci/configuration-as-code-plugin/blob/master/docs/features/configurationReload.md)
  - [Exporting configurations 导出配置](https://github.com/jenkinsci/configuration-as-code-plugin/blob/master/docs/features/configExport.md)

### Information for plugin developers and maintainers 面向插件开发人员和维护者的信息

- [Developer documentation](https://github.com/jenkinsci/configuration-as-code-plugin/blob/master/docs/DEVELOPER.md) for JCasC
  JCasC [的开发人员文档](https://github.com/jenkinsci/configuration-as-code-plugin/blob/master/docs/DEVELOPER.md)
- [JCasC Requirements - guide for plugin maintainers
  JCasC 要求 - 插件维护者指南](https://github.com/jenkinsci/configuration-as-code-plugin/blob/master/docs/REQUIREMENTS.md)

# Managing Tools 管理工具

|      | This section is a work in progress. Want to help? Check out the [jenkinsci/docs gitter channel](https://app.gitter.im/#/room/#jenkins/docs:matrix.org). For other ways to contribute to the Jenkins project, see [this page about participating and contributing](https://www.jenkins.io/participate). 此部分正在进行中。想要提供帮助？查看 [jenkinsci/docs gitter 频道](https://app.gitter.im/#/room/#jenkins/docs:matrix.org)。有关为 Jenkins 项目做出贡献的其他方式，请参阅[此页关于参与和贡献](https://www.jenkins.io/participate)。 |
| ---- | ------------------------------------------------------------ |
|      |                                                              |

Table of Contents 目录

- Built-in tool providers 内置工具提供程序
  - [Ant 蚂蚁](https://www.jenkins.io/doc/book/managing/tools/#ant)
  - [Git Git 公司](https://www.jenkins.io/doc/book/managing/tools/#git)
  - [JDK](https://www.jenkins.io/doc/book/managing/tools/#jdk)
  - [Maven Maven 系列](https://www.jenkins.io/doc/book/managing/tools/#maven)

## Built-in tool providers 内置工具提供程序

### Ant 蚂蚁

#### Ant build step Ant 构建步骤

### Git Git 公司

### JDK

### Maven Maven 系列

# Managing Plugins 管理插件

Table of Contents 目录

- Installing a plugin 安装插件
  - [From the web UI 从 Web UI](https://www.jenkins.io/doc/book/managing/plugins/#from-the-web-ui)
  - [Using the Jenkins CLI 使用 Jenkins CLI](https://www.jenkins.io/doc/book/managing/plugins/#install-with-cli)
  - [Advanced installation 高级安装](https://www.jenkins.io/doc/book/managing/plugins/#advanced-installation)
- Updating a plugin 更新插件
  - [List installed plugins and their versions
    列出已安装的插件及其版本](https://www.jenkins.io/doc/book/managing/plugins/#list-installed-plugins-and-their-versions)
- Removing a plugin 删除插件
  - [Uninstalling a plugin 卸载插件](https://www.jenkins.io/doc/book/managing/plugins/#uninstalling-a-plugin)
  - [Disabling a plugin 禁用插件](https://www.jenkins.io/doc/book/managing/plugins/#disabling-a-plugin)
- [Pinned plugins 固定插件](https://www.jenkins.io/doc/book/managing/plugins/#pinned-plugins)
- What is an implied dependency?
  什么是隐含依赖？
  - [Why does the implied dependency exist?
    为什么存在隐含的依赖关系？](https://www.jenkins.io/doc/book/managing/plugins/#why-does-the-implied-dependency-exist)
  - [How can the implied dependency be removed?
    如何删除隐含的依赖关系？](https://www.jenkins.io/doc/book/managing/plugins/#how-can-the-implied-dependency-be-removed)

Plugins are the primary means of enhancing the functionality of a Jenkins environment to suit organization- or user-specific needs. There are [over a thousand different plugins](https://plugins.jenkins.io) which can be installed on a Jenkins controller and to integrate various build tools, cloud providers, analysis tools, and much more.
插件是增强 Jenkins 环境功能以满足组织或用户特定需求的主要手段。Jenkins 控制器上可以安装一[千多种不同的插件](https://plugins.jenkins.io)，并集成各种构建工具、云提供商、分析工具等等。

Plugins can be automatically downloaded, with their dependencies, from the [Update Center](https://www.jenkins.io/doc/book/glossary/#update-center). The Update Center is a service operated by the Jenkins project which provides an inventory of open source plugins which have been developed and maintained by various members of the Jenkins community.
插件及其依赖项可以从 [Update Center](https://www.jenkins.io/doc/book/glossary/#update-center) 自动下载。更新中心是由 Jenkins 项目运营的一项服务，它提供由 Jenkins 社区的各个成员开发和维护的开源插件清单。

This section covers everything from the basics of managing plugins within the Jenkins web UI, to making changes on the [controller’s](https://www.jenkins.io/doc/book/glossary/#controller) file system.
本节涵盖了从 Jenkins Web UI 中管理插件的基础知识到对[控制器](https://www.jenkins.io/doc/book/glossary/#controller)的文件系统进行更改的所有内容。

## Installing a plugin 安装插件

Jenkins provides two methods for installing plugins on the controller:
Jenkins 提供了两种在控制器上安装插件的方法：

1. Using the "Plugin Manager" in the web UI.
   使用 Web UI 中的 “Plugin Manager”。
2. Using the [Jenkins CLI](https://www.jenkins.io/doc/book/managing/plugins/#install-with-cli) `install-plugin` command.
   使用 [Jenkins CLI](https://www.jenkins.io/doc/book/managing/plugins/#install-with-cli)`install-plugin` 命令。

Each approach will result in the plugin being loaded by Jenkins but may require different levels of access and trade-offs in order to use.
每种方法都会导致插件由 Jenkins 加载，但可能需要不同级别的访问权限和权衡才能使用。

The two approaches require that the Jenkins controller be able to download meta-data from an Update Center, whether the primary Update Center operated by the Jenkins project [[1](https://www.jenkins.io/doc/book/managing/plugins/#_footnotedef_1)], or a custom Update Center.
这两种方法要求 Jenkins 控制器能够从更新中心下载元数据，无论是由 Jenkins 项目 [[1](https://www.jenkins.io/doc/book/managing/plugins/#_footnotedef_1)] 操作的主更新中心，还是自定义更新中心。

The plugins are packaged as self-contained `.hpi` files, which have all the necessary code, images, and other resources which the plugin needs to operate successfully.
这些插件打包为自包含的 `.hpi` 文件，其中包含插件成功运行所需的所有代码、图像和其他资源。

### From the web UI 从 Web UI

The simplest and most common way of installing plugins is through the **Manage Jenkins** > **Plugins** view, available to administrators of a Jenkins environment.
安装插件的最简单和最常见的方法是通过 **Manage Jenkins** > **Plugins** 视图，该视图可供 Jenkins 环境的管理员使用。

Under the **Available** tab, plugins available for download from the configured Update Center can be searched and considered:
在 **可用** 选项卡下，可以搜索和考虑可从配置的更新中心下载的插件：

![Available tab in the Plugin Manager](https://www.jenkins.io/doc/book/resources/blueocean/intro/blueocean-plugins-filtered.png)

Most plugins can be installed and used immediately by checking the box adjacent to the plugin and clicking **Install without restart**.
大多数插件都可以立即安装和使用，只需选中插件旁边的框并单击 **Install （安装） 即可 （无需重新启动**）。

|      | If the list of available plugins is empty, the controller may be incorrectly configured or has not yet downloaded plugin meta-data from the Update Center. Clicking the **Check now** button forces Jenkins to attempt to contact its configured Update Center. 如果可用插件列表为空，则控制器可能配置不正确或尚未从更新中心下载插件元数据。单击 **Check now （立即检查**） 按钮会强制 Jenkins 尝试联系其配置的更新中心。 |
| ---- | ------------------------------------------------------------ |
|      |                                                              |

### Using the Jenkins CLI 使用 Jenkins CLI

Installing Jenkins plugins using Jenkins CLI
使用 Jenkins CLI 安装 Jenkins 插件

<iframe width="800" height="420" src="https://www.youtube.com/embed/bTFMvXIkNIg?rel=0" frameborder="0" allowfullscreen=""></iframe>

Administrators may also use the [Jenkins CLI](https://www.jenkins.io/doc/book/managing/cli/) which provides a command to install plugins. Scripts to manage Jenkins environments, or configuration management code, may need to install plugins without direct user interaction in the web UI. The Jenkins CLI allows a command line user or automation tool to download a plugin and its dependencies.
管理员还可以使用 [Jenkins CLI](https://www.jenkins.io/doc/book/managing/cli/)，它提供了一个安装插件的命令。用于管理 Jenkins 环境的脚本或配置管理代码可能需要安装插件，而无需在 Web UI 中直接进行用户交互。Jenkins CLI 允许命令行用户或自动化工具下载插件及其依赖项。

```
java -jar jenkins-cli.jar -s http://localhost:8080/ install-plugin SOURCE ... [-deploy] [-name VAL] [-restart]
Installs a plugin either from a file, an URL, or from update center.

 SOURCE    : If this points to a local file, that file will be installed. If
             this is an URL, Jenkins downloads the URL and installs that as a
             plugin.Otherwise the name is assumed to be the short name of the
             plugin in the existing update center (like "findbugs"),and the
             plugin will be installed from the update center.
 -deploy   : Deploy plugins right away without postponing them until the reboot.
 -name VAL : If specified, the plugin will be installed as this short name
             (whereas normally the name is inferred from the source name
             automatically).
 -restart  : Restart Jenkins upon successful installation.
```

### Advanced installation 高级安装

The Update Center only allows the installation of the most recently released version of a plugin. In cases where an older release of the plugin is desired, a Jenkins administrator can download an older `.hpi` archive and manually install that on the Jenkins controller.
更新中心仅允许安装插件的最新发布版本。如果需要旧版本的插件，Jenkins 管理员可以下载较旧的 `.hpi` 存档，并在 Jenkins 控制器上手动安装该存档。

Jenkins stores plugins it has downloaded in the `plugins` directory with a `.jpi` suffix, whether the plugins originally had a `.jpi` or an `.hpi` suffix.
Jenkins 将其下载的插件存储在带有 `.jpi` 后缀的 `plugins` 目录中，无论插件最初具有 `.jpi` 还是 `.hpi` 后缀。

If an administrator manually copies a plugin archive into the `plugins` directory, it should be named with a `.jpi` suffix to match the file names used by plugins installed from the update center.
如果管理员手动将插件存档复制到 `plugins` 目录中，则应使用 `.jpi` 后缀命名，以匹配从更新中心安装的插件使用的文件名。

#### From the web UI 从 Web UI

Assuming a `.hpi` file has been downloaded, a logged-in Jenkins administrator may upload the file from within the web UI:
假设已下载 `.hpi` 文件，登录的 Jenkins 管理员可以从 Web UI 中上传该文件：

1. Navigate to the **Manage Jenkins** > **Plugins** page in the web UI.
   导航到 Web UI 中的 **Manage Jenkins** **> Plugins** 页面。
2. Click on the **Advanced** tab.
   点击 **高级** 选项卡。
3. Choose the `.hpi` file from your system or enter a URL to the archive file under the **Deploy Plugin** section.
   从系统中选择 `.hpi` 文件，或在 **Deploy Plugin** 部分下输入存档文件的 URL。
4. **Deploy** the plugin file.
   **部署**插件文件。

![Advanced tab in the Plugin Manager](https://www.jenkins.io/doc/book/resources/managing/plugin-manager-upload.png)

Once a plugin file has been uploaded, the Jenkins controller must be manually restarted in order for the changes to take effect.
上传插件文件后，必须手动重新启动 Jenkins 控制器才能使更改生效。

#### On the controller 在控制器上

Assuming a `.hpi` file has been explicitly downloaded by a system administrator, the administrator can manually place the file in a specific location on the file system.
假设系统管理员已明确下载了 `.hpi` 文件，管理员可以手动将该文件放在文件系统上的特定位置。

Copy the downloaded `.hpi`` file into the `JENKINS_HOME/plugins` directory on the Jenkins controller (for example, on Debian systems `JENKINS_HOME` is generally `/var/lib/jenkins`). If an administrator manually copies a plugin archive into the `plugins` directory, it should be named with a `.jpi` suffix to match the file names used by plugins installed from the update center.
将下载的 `.hpi'` 文件复制到 Jenkins 控制器上的 `JENKINS_HOME/plugins` 目录中（例如，在 Debian 系统上`JENKINS_HOME`通常为 `/var/lib/jenkins`）。如果管理员手动将插件存档复制到 `plugins` 目录中，则应使用 `.jpi` 后缀命名，以匹配从更新中心安装的插件使用的文件名。

The controller must be restarted before the plugin is loaded and made available in the Jenkins environment.
在加载插件并在 Jenkins 环境中可用之前，必须重新启动控制器。

|      | The names of the plugin directories in the Update Site [[1](https://www.jenkins.io/doc/book/managing/plugins/#_footnotedef_1)] are not always the same as the plugin’s display name. Searching [plugins.jenkins.io](https://plugins.jenkins.io/) for the desired plugin will provide the appropriate link to the archive file. 更新站点 [[1](https://www.jenkins.io/doc/book/managing/plugins/#_footnotedef_1)] 中的插件目录名称并不总是与插件的显示名称相同。在 [plugins.jenkins.io](https://plugins.jenkins.io/) 中搜索所需的插件将提供指向存档文件的相应链接。 |
| ---- | ------------------------------------------------------------ |
|      |                                                              |

## Updating a plugin 更新插件

Updates are listed in the **Updates** tab of the **Plugins** page and can be installed by checking the checkboxes of the desired plugin updates and clicking the **Download now and install after restart** button.
更新列在 **Plugins** 页面的 **Updates** 选项卡中，可以通过选中所需插件更新的复选框并单击 **Download now and install after restart** 按钮来安装更新。

![Updates tab in the Plugin Manager](https://www.jenkins.io/doc/book/resources/managing/plugin-manager-update.png)

By default, the Jenkins controller will check for updates from the Update Center once every 24 hours. To manually trigger a check for updates, simply click on the **Check now** button in the **Updates** tab.
默认情况下，Jenkins 控制器将每 24 小时从更新中心检查一次更新。要手动触发更新检查，只需单击 **Updates** 选项卡中的 **Check now** 按钮。

### List installed plugins and their versions 列出已安装的插件及其版本

The simplest way to retrieve the list of installed plugins and their versions is by using the Jenkins Script Console.
检索已安装插件及其版本列表的最简单方法是使用 Jenkins 脚本控制台。

Follow these steps: 请执行以下步骤：

1. Open the Jenkins [Script Console](https://www.jenkins.io/doc/book/managing/script-console/):
   打开 Jenkins [脚本控制台](https://www.jenkins.io/doc/book/managing/script-console/)：
   - Navigate to `Manage Jenkins` > `Script Console`.
     导航到 `Manage Jenkins` > `Script Console`。
2. Run the following script to list installed plugins and their versions:
   运行以下脚本以列出已安装的插件及其版本：

```
   Jenkins.instance.pluginManager.plugins.each {
      println("${it.getShortName()}: ${it.getVersion()}")
   }
```

This script iterates through each installed plugin and prints its short name along with the version.
此脚本遍历每个已安装的插件，并打印其短名称和版本。

## Removing a plugin 删除插件

When a plugin is no longer used in a Jenkins environment, it is prudent to remove the plugin from the Jenkins controller. This provides a number of benefits such as reducing memory overhead at boot or runtime, reducing configuration options in the web UI, and removing the potential for future conflicts with new plugin updates.
当 Jenkins 环境中不再使用插件时，从 Jenkins 控制器中删除该插件是明智的做法。这提供了许多好处，例如减少引导或运行时的内存开销，减少 Web UI 中的配置选项，以及消除将来与新插件更新发生冲突的可能性。

### Uninstalling a plugin 卸载插件

This video reviews the process of uninstalling a plugin from Jenkins.
此视频回顾了从 Jenkins 卸载插件的过程。

<iframe width="800" height="420" src="https://www.youtube.com/embed/Keh6riX7574?rel=0" frameborder="0" allowfullscreen=""></iframe>

The simplest way to uninstall a plugin is to navigate to the **Installed** tab on the **Plugins** page. From there, Jenkins will automatically determine which plugins are safe to uninstall, those which are not dependencies of other plugins, and present a button for doing so.
卸载插件的最简单方法是导航到 **Plugins** 页面上的 **Installed** 选项卡。从那里，Jenkins 将自动确定哪些插件可以安全卸载，哪些插件不依赖于其他插件，并提供一个按钮来执行此操作。

![Installed tab in the Plugin Manager](https://www.jenkins.io/doc/book/resources/managing/plugin-manager-uninstall.png)

A plugin may also be uninstalled by removing the corresponding `.jpi` file from the `JENKINS_HOME/plugins` directory on the controller. The plugin will continue to function until the controller has been restarted.
也可以通过从控制器上的 `JENKINS_HOME/plugins` 目录中删除相应的 `.jpi` 文件来卸载插件。该插件将继续运行，直到控制器重新启动。

|      | If a plugin file is removed but required by other plugins, the Jenkins controller may fail to boot correctly. 如果删除了插件文件，但其他插件需要，则 Jenkins 控制器可能无法正确启动。 |
| ---- | ------------------------------------------------------------ |
|      |                                                              |

Uninstalling a plugin does **not** remove the configuration that the plugin may have created. If there are existing jobs/nodes/views/builds/etc configurations that reference data created by the plugin, during boot Jenkins will warn that some configurations could not be fully loaded and ignore the unrecognized data.
卸载插件**不会**删除插件可能已创建的配置。如果已有的 jobs/nodes/views/builds/etc 配置引用了插件创建的数据，在启动过程中，Jenkins 会警告某些配置无法完全加载，并忽略无法识别的数据。

Since the configuration(s) will be preserved until they are overwritten, re-installing the plugin will result in those configuration values reappearing.
由于配置将被保留直到它们被覆盖，因此重新安装插件将导致这些配置值重新出现。

#### Removing old data 删除旧数据

Jenkins provides a facility for purging configuration left behind by uninstalled plugins. Navigate to **Manage Jenkins** and then click on **Manage Old Data** to review and remove old data.
Jenkins 提供了一种工具，用于清除已卸载插件留下的配置。导航到 **Manage Jenkins（管理 Jenkins**），然后单击 **Manage Old Data（管理旧数据**）以查看并删除旧数据。

### Disabling a plugin 禁用插件

Disabling a plugin is a softer way to retire a plugin. Jenkins will continue to recognize that the plugin is installed, but it will not start the plugin, and no extensions contributed from this plugin will be visible.
禁用插件是停用插件的一种较温和的方法。Jenkins 将继续识别该插件已安装，但不会启动该插件，并且该插件提供的扩展将不可见。

A Jenkins administrator may disable a plugin by unchecking the box on the **Installed** tab of the **Plugins** page (see below).
Jenkins 管理员可以通过取消选中 **Plugins** 页面的 **Installed** 选项卡上的框来禁用插件（见下文）。

![Installed tab in the Plugin Manager](https://www.jenkins.io/doc/book/resources/managing/plugin-manager-disable.png)

A systems administrator may also disable a plugin by creating a file on the Jenkins controller, such as: `JENKINS_HOME/plugins/PLUGIN_NAME.jpi.disabled`.
系统管理员还可以通过在 Jenkins 控制器上创建一个文件来禁用插件，例如： `JENKINS_HOME/plugins/PLUGIN_NAME.jpi.disabled` 。

The configuration(s) created by the disabled plugin behave as if the plugin were uninstalled, insofar that they result in warnings on boot but are otherwise ignored.
由禁用的插件创建的配置的行为就像插件被卸载一样，因为它们在启动时会导致警告，否则会被忽略。

#### Using the Jenkins CLI 使用 Jenkins CLI

It is also possible to enable or disable plugins via the [Jenkins CLI](https://www.jenkins.io/doc/book/managing/cli/) using the `enable-plugin` or `disable-plugin` commands.
也可以使用 `enable-plugin` 或 `disable-plugin` 命令通过 [Jenkins CLI](https://www.jenkins.io/doc/book/managing/cli/) 启用或禁用插件。

|      | The `enable-plugin` command was added to Jenkins in [v2.136](https://www.jenkins.io/changelog/#v2.136). The `disable-plugin` command was added to Jenkins in [v2.151](https://www.jenkins.io/changelog/#v2.151). `enable-plugin` 命令在 [v2.136](https://www.jenkins.io/changelog/#v2.136) 中被添加到 Jenkins 中。`disable-plugin` 命令是在 [v2.151](https://www.jenkins.io/changelog/#v2.151) 的 Jenkins 中新增的。 |
| ---- | ------------------------------------------------------------ |
|      |                                                              |

The `enable-plugin` command receives a list of plugins to be enabled. Any plugins which a selected plugin depends on will also be enabled by this command.
`enable-plugin` 命令接收要启用的插件列表。所选插件所依赖的任何插件也将由此命令启用。

```
java -jar jenkins-cli.jar -s http://localhost:8080/ enable-plugin PLUGIN ... [-restart]
Enables one or more installed plugins transitively.

 PLUGIN   : Enables the plugins with the given short names and their
            dependencies.
 -restart : Restart Jenkins after enabling plugins.
```

The `disable-plugin` command receives a list of plugins to be disabled. The output will display messages for both successful and failed operations. If you only want to see error messages, the `-quiet` option can be specified. The `-strategy` option controls what action will be taken when one of the specified plugins is listed as an optional or mandatory dependency of another enabled plugin.
`disable-plugin` 命令接收要禁用的插件列表。输出将显示成功和失败操作的消息。如果您只想查看错误消息，则可以指定 `-quiet` 选项。`-strategy` 选项控制当指定插件之一被列为另一个已启用插件的可选或强制依赖项时将采取的操作。

```
java -jar jenkins-cli.jar -s http://localhost:8080/ disable-plugin PLUGIN ... [-quiet (-q)]
[-restart (-r)] [-strategy (-s) strategy]
Disable one or more installed plugins.
Disable the plugins with the given short names. You can define how to proceed with the
dependant plugins and if a restart after should be done. You can also set the quiet mode
to avoid extra info in the console.

 PLUGIN                  : Plugins to be disabled.
 -quiet (-q)             : Be quiet, print only the error messages
 -restart (-r)           : Restart Jenkins after disabling plugins.
 -strategy (-s) strategy : How to process the dependant plugins.
                           - none: if a mandatory dependant plugin exists and
                           it is enabled, the plugin cannot be disabled
                           (default value).
                           - mandatory: all mandatory dependant plugins are
                           also disabled, optional dependant plugins remain
                           enabled.
                           - all: all dependant plugins are also disabled, no
                           matter if its dependency is optional or mandatory.
```

|      | In the same way than enabling and disabling plugins from the UI requires a restart to complete the process, the changes made with the CLI commands will take effect once Jenkins is restarted. The `-restart` option forces a safe restart of the controller once the command has successfully finished, so the changes will be immediately applied. 与从 UI 启用和禁用插件需要重新启动才能完成该过程的方式相同，使用 CLI 命令所做的更改将在 Jenkins 重新启动后生效。命令成功完成后，`-restart` 选项会强制安全重启控制器，因此将立即应用更改。 |
| ---- | ------------------------------------------------------------ |
|      |                                                              |

## Pinned plugins 固定插件

|      | Pinned plugins feature was removed in Jenkins 2.0. Versions later than Jenkins 2.0 do not bundle plugins, instead providing a wizard to install the most useful plugins. 固定插件功能在 Jenkins 2.0 中删除。Jenkins 2.0 之后的版本不捆绑插件，而是提供安装最有用插件的向导。 |
| ---- | ------------------------------------------------------------ |
|      |                                                              |

The notion of **pinned plugins** applies to plugins that are bundled with Jenkins 1.x, such as the [**Matrix Authorization plugin**](https://plugins.jenkins.io/matrix-auth).
**固定插件**的概念适用于与 Jenkins 1.x 捆绑在一起的插件，例如 [**Matrix Authorization 插件**](https://plugins.jenkins.io/matrix-auth)。

By default, whenever Jenkins is upgraded, its bundled plugins overwrite the versions of the plugins that are currently installed in `JENKINS_HOME`.
默认情况下，每当 Jenkins 升级时，其捆绑的插件都会覆盖 `JENKINS_HOME` 中当前安装的插件版本。

However, when a bundled plugin has been manually updated, Jenkins will mark that plugin as pinned to the particular version. On the file system, Jenkins creates an empty file called `JENKINS_HOME/plugins/PLUGIN_NAME.jpi.pinned` to indicate the pinning.
但是，当手动更新捆绑的插件时，Jenkins 会将该插件标记为固定到特定版本。在文件系统上，Jenkins 会创建一个空文件，称为 `JENKINS_HOME/plugins/PLUGIN_NAME.jpi.pinned` to indicate the pinning。

Pinned plugins will never be overwritten by bundled plugins during Jenkins startup. (Newer versions of Jenkins do warn you if a pinned plugin is *older* than what is currently bundled.)
在 Jenkins 启动期间，固定的插件永远不会被捆绑的插件覆盖。（如果固定的插件比当前捆绑的插件*旧*，则 Jenkins 的新版本会警告您。

It is safe to update a bundled plugin to a version offered by the Update Center. This is often necessary to pick up the newest features and fixes. The bundled version is occasionally updated, but not consistently.
将捆绑的插件更新到 Update Center 提供的版本是安全的。这通常是获取最新功能和修复程序所必需的。捆绑版本偶尔会更新，但不会始终如一。

The Plugin Manager allows plugins to be explicitly unpinned. The `JENKINS_HOME/plugins/PLUGIN_NAME.hpi.pinned` file can also be manually created/deleted to control the pinning behavior. If the `pinned` file is present, Jenkins will use whatever plugin version the user has specified. If the file is absent, Jenkins will restore the plugin to the default version on startup.
插件管理器 允许显式取消固定插件。也可以手动创建/删除 `JENKINS_HOME/plugins/PLUGIN_NAME.hpi.pinned` 该文件以控制固定行为。如果存在`固定`文件，Jenkins 将使用用户指定的任何插件版本。如果该文件不存在，Jenkins 会在启动时将插件恢复到默认版本。

## What is an implied dependency? 什么是隐含依赖？

Features are sometimes detached (or split off) from Jenkins core and moved into a plugin.
功能有时会从 Jenkins 核心中分离（或分离）并移动到插件中。

Many plugins, like [Subversion](https://plugins.jenkins.io/subversion) and [JUnit](https://plugins.jenkins.io/junit), got their beginnings as Jenkins core functionalities. When a plugin was attached to Jenkins core prior to being detached, it  may or may not have used its full functionality with other plugins that  relied on the same version of Jenkins. To ensure that plugins do not fail when a functionality on which they  rely is separated from Jenkins core, it is necessary to have a  dependency in the detached plugin, if it specifies a dependency on a  version of Jenkins core prior to the split. It is assumed that there is a dependency on the detached plugin, even  when it isn’t stated explicitly.
许多插件，如 [Subversion](https://plugins.jenkins.io/subversion) 和 [JUnit](https://plugins.jenkins.io/junit)，都是作为 Jenkins 的核心功能开始的。当插件在分离之前附加到 Jenkins 核心时，它可能已经或可能没有与依赖于相同版本 Jenkins  的其他插件一起使用其全部功能。为了确保插件在它们所依赖的功能与 Jenkins 核心分离时不会失败，如果它在拆分之前指定了对 Jenkins  核心版本的依赖，则必须在分离的插件中具有依赖项。假设对 detached 插件存在依赖关系，即使没有明确说明也是如此。

Implied dependencies build up over time for plugins that don’t frequently update which Jenkins core version they depend on.
对于不经常更新它们所依赖的 Jenkins 核心版本的插件，隐含的依赖关系会随着时间的推移而积累。

### Why does the implied dependency exist? 为什么存在隐含的依赖关系？

It is "implied" since it is not stated explicitly in the plugin, and it is a dependency because Jenkins core is uncertain if the APIs available in Jenkins core, prior to the separation of the plugin, are necessary or  not.
它是“隐含的”，因为它没有在插件中明确说明，并且它是一个依赖关系，因为在插件分离之前，Jenkins 核心不确定 Jenkins 核心中可用的 API 是否必要。

For example, because the Instance Identity plugin was separated from  Jenkins core, Jenkins core is uninformed if the dependent plugin needs  any functionality that was previously present in Jenkins core. This creates an implied dependency.
例如，由于实例身份插件与 Jenkins 核心分开，因此 Jenkins 核心不知道依赖插件是否需要以前存在于 Jenkins 核心中的任何功能。这会产生隐含的依赖关系。

As a Jenkins administrator, you can see the plugins that have an implied dependency from the plugin manager page. Hover over the "uninstall" button and a list of plugins with an implied dependency is displayed.
作为 Jenkins 管理员，您可以从插件管理器页面查看具有隐含依赖关系的插件。将鼠标悬停在 “uninstall” 按钮上，将显示具有隐含依赖项的插件列表。

![Hover over the uninstall button to see Implied Dependencies](https://www.jenkins.io/doc/book/resources/managing/hover-for-implied-dependencies.png)

### How can the implied dependency be removed? 如何删除隐含的依赖关系？

The implied dependency can be removed by releasing a new version of the plugin that depends on a newer minimum Jenkins core. The [Improve a plugin tutorial](https://www.jenkins.io/doc/developer/tutorial-improve/) provides steps that can assist plugin developers as they update the plugin to [depend on a newer minimum Jenkins core](https://www.jenkins.io/doc/developer/tutorial-improve/update-base-jenkins-version/).
可以通过发布依赖于较新的最低 Jenkins 内核的新版本的插件来删除隐含的依赖项。[改进插件教程](https://www.jenkins.io/doc/developer/tutorial-improve/)提供了一些步骤，可帮助插件开发人员更新插件以[依赖于较新的最低 Jenkins 核心](https://www.jenkins.io/doc/developer/tutorial-improve/update-base-jenkins-version/)。

------

[1](https://www.jenkins.io/doc/book/managing/plugins/#_footnoteref_1). [updates.jenkins.io](https://updates.jenkins.io)

# About Jenkins 关于 Jenkins

The **Manage Jenkins >> About Jenkins** page shows the current release of Jenkins on your system plus information about licenses for all components. The top of the display shows the release and version of Jenkins that is running.
**“管理 Jenkins >> 关于 Jenkins**”页面显示系统上 Jenkins 的当前版本以及有关所有组件的许可证的信息。显示屏顶部显示正在运行的 Jenkins 的发行版和版本。

The following information about your Jenkins cluster is also provided:
此外，还提供了有关 Jenkins 集群的以下信息：

- List of all third-party libraries used for this release of Jenkins, with links to licensing details about each library.
  用于此版本的 Jenkins 的所有第三方库的列表，以及指向每个库的许可详细信息的链接。
- List of static resources that are installed.
  已安装的静态资源列表。
- List of installed plugins, each of which includes a link to the page that shows all third-party dependencies for each plugin with a link to licensing details about each library.
  已安装插件的列表，每个插件都包含一个指向页面的链接，该页面显示每个插件的所有第三方依赖项，以及指向每个库的许可详细信息的链接。

This video shares different methods to check the version of Jenkins being used.
此视频分享了检查正在使用的 Jenkins 版本的不同方法。

What is the latest version of Jenkins?
Jenkins 的最新版本是什么？

<iframe width="800" height="420" src="https://www.youtube.com/embed/--uAoNOZtKo?rel=0" frameborder="0" allowfullscreen=""></iframe>

------

[ ⇐ Managing Plugins  ⇐ 管理插件](https://www.jenkins.io/doc/book/managing/plugins)

[ ⇑ Managing Jenkins  ⇑ 管理 Jenkins](https://www.jenkins.io/doc/book/managing/)

# System Information 系统信息

The **Manage Jenkins >> System Information** page provides detailed information about what is available on this Jenkins controller:
**Manage Jenkins >> System Information** 页面提供了有关此 Jenkins 控制器上可用内容的详细信息：

- **System Properties** that can be used as arguments to the command line used to start Jenkins.
  **可用作**启动 Jenkins 的命令行的参数的系统属性。
- **Environment Variables** recognized on this system,  with current values. This includes the environment variables defined by Jenkins and available on all systems as well as environment variables associated with plugins installed on this controller.
  此系统上识别的**环境变量**，具有当前值。这包括由 Jenkins 定义且在所有系统上可用的环境变量，以及与此控制器上安装的插件关联的环境变量。
- List of Plugins installed on the system.
  系统上安装的插件列表。
- **Memory Usage** gives a graph that shows the current memory usage for this controller.
  **Memory Usage** 给出了一个图表，显示此控制器的当前内存使用情况。

# Jenkins Features Controlled with System Properties  使用系统属性控制的 Jenkins 功能

Jenkins has several "hidden" features that can be enabled with system properties. This page documents many of them and explains how to configure them on your controller.
Jenkins 有几个 “隐藏” 功能，可以通过系统属性启用。本页记录了其中的许多问题，并说明了如何在控制器上配置它们。

Some system properties related to the Remoting library used for communication between controller and agents are documented in [that component’s repository](https://github.com/jenkinsci/remoting/blob/master/docs/configuration.md).
与用于控制器和代理之间通信的 Remoting 库相关的一些系统属性记录在该[组件的存储库](https://github.com/jenkinsci/remoting/blob/master/docs/configuration.md)中。

## Usage 用法

System properties are defined by passing `-Dproperty=value` to the `java` command line to start Jenkins. Make sure to pass all of these arguments **before** the `-jar` argument, otherwise they will be ignored. Example:
通过将 `-Dproperty=value` 传递给 `java` 命令行以启动 Jenkins 来定义系统属性。确保在 `-jar` 参数**之前**传递所有这些参数，否则它们将被忽略。例：

```
java -Dhudson.footerURL=http://example.org -jar jenkins.war
```

The following lists the properties and the version of Jenkins they were introduced in.
下面列出了引入它们的 Jenkins 的属性和版本。

- `**Property**` - Java property name
  `**Property**` - Java 属性名称
- **Default** - Default value if not explicitly set
  **Default** — 如果未明确设置，则为默认值
- **Since** - The version of Jenkins the property was introduced in
  **Since** - 属性引入的 Jenkins 版本
- **Description** - Other notes
  **描述** - 其他说明

### Compatibility 兼容性

We do **NOT** guarantee that system properties will remain unchanged and functional indefinitely. These switches are often experimental in nature, and subject to change without notice. If you find these useful, please file a ticket to promote it to an official feature.
我们**不保证**系统属性将无限期地保持不变和功能。这些开关通常本质上是实验性的，如有更改，恕不另行通知。如果您觉得这些有用，请提交一个票证以将其提升为官方功能。

## Properties in Jenkins Core Jenkins Core 中的属性

|      | Due to the very large number of system properties used, often just added as a "safety valve" or "escape hatch" in case a change causes problems, this list is not expected to be complete.  由于使用了非常多的系统属性，通常只是作为“安全阀”或“逃生舱口”添加，以防更改导致问题，因此此列表预计不完整。 |
| ---- | ------------------------------------------------------------ |
|      |                                                              |

- `debug.YUI` `调试。姚`

  development 发展  **Since:** December 2006   **因为：** 2006 年 12 月  **Default: 违约：** `false` `假`  **Description: 描述：** Whether to use the minified (`false`) or debug (`true`) JS files for the YUI library. 是否对 YUI 库使用缩小 （`false`） 或调试 （`true`） JS 文件。

- `executable-war` `可执行文件 war`

  packaging 包装  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** Path to `jenkins.war` when invoked as `java -jar jenkins.war`, undefined otherwise. 作为 `java -jar jenkins.war` 调用时 `jenkins.war` 的路径，否则为 undefined。  **Description: 描述：** This is the path to `jenkins.war` and set by `executable.Main` when invoked using `java -jar jenkins.war`. This allows Jenkins to find its own `.war` file and e.g. replace it to apply an update. If undefined, Jenkins will not e.g. offer to update itself. 这是 `jenkins.war` 的路径，由 `executable 设置。Main` 调用时，使用 `java -jar jenkins.war` 调用。这允许 Jenkins 找到自己的 `.war` 文件，例如替换它以应用更新。如果未定义，则 Jenkins 不会提供更新自身。

- `historyWidget.descriptionLimit`

  feature  UI   功能  UI   **Since:** 2.223  **从：**  2.223  **Default: 违约：** `100`  **Description: 描述：** Defines a limit for the characters shown in the description field for each build row in the Build History column. A positive integer (e.g. `300`) will define the limit. After the limit is reached (…) will be shown. The value `-1` disables the limit and allows unlimited characters in the build description. The value `0` shows no description. 定义 Build History （构建历史记录） 列中每个构建行的描述字段中显示的字符限制。正整数（例如 `300`）将定义限制。达到限制后，将显示 （...）。值 `-1` 禁用限制，并允许在构建描述中使用无限字符。值 `0` 不显示任何描述。

- `hudson.bundled.plugins`

  development 发展  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** undefined 定义  **Description: 描述：** Specify a location for additional bundled plugins during plugin development (`hpi:run`). There is no reason this would be set by an administrator. 在插件开发期间指定其他捆绑插件的位置 （`hpi：run`）。管理员没有理由设置此项。

- `hudson.ClassicPluginStrategy.noBytecodeTransformer`

  escape hatch  obsolete   逃生舱口  OBSOLETE   **Since:** 1.538  **从：**  1.538  **Default: 违约：** `false` `假`  **Description: 描述：** Disable the bytecode transformer that retains compatibility at runtime after changing public Java APIs. Has no effect since 2.296, as the bytecode transformer has been removed. 禁用在更改公共 Java API 后在运行时保持兼容性的字节码转换器。自 2.296 起没有效果，因为字节码转换器已被删除。

- `hudson.ClassicPluginStrategy.useAntClassLoader`

  escape hatch 逃生舱口  **Since:** 1.316  **自：**  1.316  **Default: 违约：** `false` (until 2.309 and since 2.348), `true` (from 2.310 to 2.347) `false` （直到 2.309 和 2.348），`true` （从 2.310 到 2.347）  **Description: 描述：** Unused between 1.527 and 2.309. Since 2.310, can be set to `false` to use `URLClassLoader` instead. This is the default since 2.347. 在 1.527 和 2.309 之间未使用。从 2.310 开始，可以设置为 `false` 以改用 `URLClassLoader`。这是自 2.347 以来的默认值。

- `hudson.cli.CLI.pingInterval`

  tuning 调音  **Since:** 2.199  **自：**  2.199  **Default: 违约：** `3000` `3000` 元  **Description: 描述：** Client-side HTTP CLI ping interval in milliseconds. Set on the CLI client (`java -jar jenkins-cli.jar`), not Jenkins server process. 客户端 HTTP CLI ping 间隔（以毫秒为单位）。在 CLI 客户端 （`java -jar jenkins-cli.jar`） 上设置，而不是在 Jenkins 服务器进程上设置。

- `hudson.cli.CLIAction.ALLOW_WEBSOCKET`

  escape hatch  security   逃生舱口  安全   **Since:** 2.442 and LTS 2.426.3   **从：**  2.442 和 LTS 2.426.3 开始  **Default: 违约：** undefined 定义  **Description: 描述：** Escape hatch for [SECURITY-3315](https://www.jenkins.io/security/advisory/2024-01-24/#SECURITY-3315). The default behavior (when undefined) is to apply an `Origin` header check when an attempt is made to access the CLI via WebSocket. Set to `true` to allow CLI access via WebSocket connections without `Origin` header check (the default before introduction of this system property). Set to `false` to prohibit CLI access via WebSocket connections completely. [SECURITY-3315](https://www.jenkins.io/security/advisory/2024-01-24/#SECURITY-3315) 的逃生舱口。默认行为（未定义时）是在尝试通过 WebSocket 访问 CLI 时应用 `Origin` 标头检查。设置为 `true` 以允许通过 WebSocket 连接进行 CLI 访问，而无需 `Origin` 标头检查（引入此系统属性之前的默认值）。设置为 `false` 可完全禁止通过 WebSocket 连接进行 CLI 访问。

- `hudson.cli.CLICommand.allowAtSyntax`

  escape hatch  security   逃生舱口  安全   **Since:** 2.442 and LTS 2.426.3   **从：**  2.442 和 LTS 2.426.3 开始  **Default: 违约：** `false` `假`  **Description: 描述：** Escape hatch for [SECURITY-3314](https://www.jenkins.io/security/advisory/2024-01-24/#SECURITY-3314). [SECURITY-3314](https://www.jenkins.io/security/advisory/2024-01-24/#SECURITY-3314) 的逃生舱口。

- `hudson.ConsoleNote.INSECURE` `哈德森。ConsoleNote.不安全`

  escape hatch  security   逃生舱口  安全   **Since:** 2.44 / 2.32.2   **从：**  2.44 / 2.32.2  **Default: 违约：** `false` `假`  **Description: 描述：** Whether to load unsigned console notes. See SECURITY-382 on [Jenkins Security Advisory 2017-02-01](https://www.jenkins.io/security/advisory/2017-02-01/#persisted-cross-site-scripting-vulnerability-in-console-notes). 是否加载未签名的控制台注释。请参阅 [Jenkins 安全公告 2017-02-01](https://www.jenkins.io/security/advisory/2017-02-01/#persisted-cross-site-scripting-vulnerability-in-console-notes) 上的 SECURITY-382。

- `hudson.consoleTailKB` `hudson.console尾部KB`

  tuning 调音  **Since:** March 2009   **因为：** 2009 年 3 月  **Default: 违约：** `150` `150` 元  **Description: 描述：** How many KB of console log to show in default console view. This property had no effect from Jenkins 2.4 (inclusive) until 2.98/2.89.3 (exclusive), see JENKINS-48593. 在默认控制台视图中显示多少 KB 的控制台日志。此属性从 Jenkins 2.4（含）到 2.98/2.89.3（不含）都不起作用，请参阅 JENKINS-48593。

- `hudson.diagnosis.HudsonHomeDiskUsageChecker.freeSpaceThreshold`

  tuning 调音  **Since:** 1.339  **从：**  1.339  **Default: 违约：** `1073741824` (1 GB, up to 2.39), `10737418240` (10 GB, from 2.40) `1073741824`（1 GB，最高 2.39 GB），`10737418240`（10 GB，从 2.40 起）  **Description: 描述：** If there’s less than this amount of free disk space, in bytes, on the disk with the Jenkins home directory, and the disk is 90% or more full, a  warning will be shown to administrators. 如果具有 Jenkins 主目录的磁盘上的可用磁盘空间（以字节为单位）少于此数量，并且磁盘已满 90% 或更多，则会向管理员显示警告。

- `hudson.diyChunking` `hudson.diy分块`

  feature 特征  **Since:** May 2009   **因为：** 2009 年 5 月  **Default: 违约：** `false` `假`  **Description: 描述：** Set to `true` if the servlet container doesn’t support chunked encoding. 如果 servlet 容器不支持分块编码，则设置为 `true`。

- `hudson.DNSMultiCast.disabled` `哈德森。DNSMultiCast.disabled`

  escape hatch  obsolete   逃生舱口  OBSOLETE   **Since:** 1.359  **起始时间：**  1.359  **Default: 违约：** `false` until 2.218, `true` in 2.219 `在` 2.218 之前为 false，在 2.219 中为 `true`  **Description: 描述：** Set to `true` to disable DNS multicast. Has no effect since 2.220 as the feature has been removed. See [SECURITY-1641](https://www.jenkins.io/security/advisory/2020-01-29/#SECURITY-1641) 设置为 `true` 可禁用 DNS 多播。自 2.220 起没有效果，因为该功能已被删除。参见 [SECURITY-1641](https://www.jenkins.io/security/advisory/2020-01-29/#SECURITY-1641)

- `hudson.FilePath.VALIDATE_ANT_FILE_MASK_BOUND`

  tuning 调音  **Since:** 1.592  **从：**  1.592  **Default: 违约：** `10000` `10000` 元  **Description: 描述：** Max. number of operations to validate a file mask (e.g. pattern to archive artifacts). 验证文件掩码的最大操作数（例如，用于存档构件的模式）。

- `hudson.footerURL` `hudson.footer网址`

  feature 特征  **Since:** 1.416  **从：**  1.416  **Default: 违约：** `https://jenkins.io`  **Description: 描述：** Allows tweaking the URL displayed at the bottom of Jenkins' UI 允许调整显示在 Jenkins UI 底部的 URL

- `hudson.Functions.autoRefreshSeconds`

  obsolete  tuning   过时的  调优   **Since:** 1.365  **起始价：**  1.365  **Default: 违约：** `10`  **Description: 描述：** Number of seconds between reloads when Auto Refresh is enabled. Obsolete since the feature was removed in Jenkins 2.223. 启用 Auto Refresh 时重新加载之间的秒数。已过时，因为该功能在 Jenkins 2.223 中删除了。

- `hudson.Functions.hidingPasswordFields`

  security  escape hatch   安全  逃生舱口   **Since:** 2.205  **从：**  2.205  **Default: 违约：** `true` `真`  **Description: 描述：** Jenkins 2.205 and newer attempts to prevent browsers from offering to auto-fill password form fields by using a custom password control. Setting this to `false` reverts to the legacy behavior of using mostly standard password form fields. Jenkins 2.205 及更高版本尝试阻止浏览器使用自定义密码控件来提供自动填充密码表单字段。将此设置为 `false` 将恢复为主要使用标准密码表单字段的传统行为。

- `hudson.lifecycle` `hudson.生命周期`

  packaging 包装  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** automatically determined based on environment, see `hudson.lifecycle.Lifecycle` 根据环境自动确定，请参阅 `hudson.lifecycle.Lifecycle`  **Description: 描述：** Specify full class name for Lifecycle implementation to override default. See [documentation](https://www.jenkins.io/doc/developer/extensions/jenkins-core/#lifecycle) for class names. 为 Lifecycle implementation to override default （要覆盖默认值） 指定完整的类名。有关类名，请参阅[文档](https://www.jenkins.io/doc/developer/extensions/jenkins-core/#lifecycle)。

- `hudson.logging.LogRecorderManager.skipPermissionCheck`

  security  escape hatch   安全  逃生舱口   **Since:** 2.121.3 and 2.138   **从：**  2.121.3 和 2.138 开始  **Default: 违约：** `false` `假`  **Description: 描述：** Disable security hardening for LogRecorderManager Stapler access. Possibly unsafe, [see 2018-12-05 security advisory](https://www.jenkins.io/security/advisory/2018-12-05/#SECURITY-595). 禁用 LogRecorderManager Stapler 访问的安全强化。可能不安全，[请参阅 2018-12-05 安全公告](https://www.jenkins.io/security/advisory/2018-12-05/#SECURITY-595)。

- `hudson.Main.development` `哈德森。主开发`

  development 发展  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `false` in production, `true` in development 在生产环境中`为 false`，在开发中`为 true`  **Description: 描述：** This is set to `true` by the development tooling to identify when Jenkins is running via `jetty:run` or `hpi:run`. Can be used to distinguish between development and production use; most  prominently used to bypass the setup wizard when running with an empty  Jenkins home directory during development. 开发工具将其设置为 `true`，以确定 Jenkins 何时通过 `jetty：run` 或 `hpi：run` 运行。可用于区分开发和生产使用;最突出的是用于在开发过程中使用空 Jenkins 主目录运行时绕过设置向导。

- `hudson.Main.timeout` `哈德森。Main.timeout （主 .timeout）`

  tuning 调音  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `15000` `15000` 元  **Description: 描述：** When using `jenkins-core.jar` from the CLI, this is the connection timeout connecting to Jenkins to report a build result. 从 CLI 使用 `jenkins-core.jar` 时，这是连接到 Jenkins 以报告构建结果的连接超时。

- `hudson.markup.MarkupFormatter.previewsAllowGET`

  security  escape hatch   安全  逃生舱口   **Since:** 2.263.2 / 2.275   **从：**  2.263.2 / 2.275  **Default: 违约：** `false` `假`  **Description: 描述：** Controls whether URLs implementing markup formatter previews are accessible via GET. See [2021-01-13 security advisory](https://www.jenkins.io/security/advisory/2021-01-13/#SECURITY-2153). 控制是否可通过 GET 访问实现标记格式化程序预览的 URL。请参阅 [2021-01-13 安全公告](https://www.jenkins.io/security/advisory/2021-01-13/#SECURITY-2153)。

- `hudson.markup.MarkupFormatter.previewsSetCSP`

  security  escape hatch   安全  逃生舱口   **Since:** 2.263.2 / 2.275   **从：**  2.263.2 / 2.275  **Default: 违约：** `true` `真`  **Description: 描述：** Controls whether to set restrictive Content-Security-Policy headers on URLs implementing markup formatter previews. See [2021-01-13 security advisory](https://www.jenkins.io/security/advisory/2021-01-13/#SECURITY-2153). 控制是否在实施标记格式化程序预览的 URL 上设置限制性 Content-Security-Policy 标头。请参阅 [2021-01-13 安全公告](https://www.jenkins.io/security/advisory/2021-01-13/#SECURITY-2153)。

- `hudson.matrix.MatrixConfiguration.useShortWorkspaceName`

  feature 特征  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `false` `假`  **Description: 描述：** Use shorter but cryptic names in matrix build workspace directories. Avoids problems with 256 character limit on paths in Cygwin, path depths problems on Windows, and shell metacharacter problems with label  expressions on most platforms. See [JENKINS-25783](https://issues.jenkins.io/browse/JENKINS-25783). 在矩阵构建工作区目录中使用较短但晦涩的名称。避免了 Cygwin 中路径的 256 个字符限制问题、Windows 上的路径深度问题以及大多数平台上标签表达式的 shell 元字符问题。请参阅 [JENKINS-25783](https://issues.jenkins.io/browse/JENKINS-25783)。

- `hudson.model.AbstractItem.skipPermissionCheck`

  security  escape hatch   安全  逃生舱口   **Since:** 2.121.3 / 2.138   **从：**  2.121.3 / 2.138  **Default: 违约：** `false` `假`  **Description: 描述：** Disable security hardening related to Stapler routing for AbstractItem. Possibly unsafe, [see 2018-12-05 security advisory](https://www.jenkins.io/security/advisory/2018-12-05/#SECURITY-595). 禁用与 AbstractItem 的 Stapler 路由相关的安全强化。可能不安全，[请参阅 2018-12-05 安全公告](https://www.jenkins.io/security/advisory/2018-12-05/#SECURITY-595)。

- `hudson.model.Api.INSECURE`

  security  escape hatch  obsolete   安全  逃生舱口  OBSOLETE   **Since:** 1.502  **起始时间：**  1.502  **Default: 违约：** `false` `假`  **Description: 描述：** Set to `true` to permit accessing the Jenkins remote API in an unsafe manner. See SECURITY-47. Deprecated, use e.g. [Secure Requester Whitelist](https://plugins.jenkins.io/secure-requester-whitelist/) instead. 设置为 `true` 以允许以不安全的方式访问 Jenkins 远程 API。参见 SECURITY-47。已弃用，请改用 [Secure Requester Whitelist](https://plugins.jenkins.io/secure-requester-whitelist/) 等。

- `hudson.model.AsyncAperiodicWork.logRotateMinutes`

  tuning 调音  **Since:** 1.651  **从：**  1.651  **Default: 违约：** `1440` `1440` 元  **Description: 描述：** The number of minutes after which to try and rotate the log file used by any AsyncAperiodicWork extension. For fine-grained control of a specific extension you can use the `*FullyQualifiedClassName*.logRotateMinutes` system property to only affect a specific extension. *It is not anticipated that you will ever need to change these defaults.* 尝试轮换任何 AsyncAperiodicWork 扩展使用的日志文件的分钟数。要对特定扩展进行精细控制， `*FullyQualifiedClassName*.logRotateMinutes` 可以使用 system 属性仅影响特定扩展。*预计您不需要更改这些默认值。*

- `hudson.model.AsyncAperiodicWork.logRotateSize`

  tuning 调音  **Since:** 1.651  **从：**  1.651  **Default: 违约：** `-1`  **Description: 描述：** When starting a new run of any AsyncAperiodicWork extension, if this value  is non-negative and the existing log file is larger than the specified  number of bytes then the log file will be rotated. For fine-grained control of a specific extension you can use the `*FullyQualifiedClassName*.logRotateSize` system property to only affect a specific extension. *It is not anticipated that you will ever need to change these defaults.* 开始任何 AsyncAperiodicWork 扩展的新运行时，如果此值为非负值，并且现有日志文件大于指定的字节数，则日志文件将轮换。要对特定扩展进行精细控制， `*FullyQualifiedClassName*.logRotateSize` 可以使用 system 属性仅影响特定扩展。*预计您不需要更改这些默认值。*

- `hudson.model.AsyncPeriodicWork.logRotateMinutes`

  tuning 调音  **Since:** 1.651  **从：**  1.651  **Default: 违约：** `1440` `1440` 元  **Description: 描述：** The number of minutes after which to try and rotate the log file used by any AsyncPeriodicWork extension. For fine-grained control of a specific extension you can use the `*FullyQualifiedClassName*.logRotateMinutes` system property to only affect a specific extension. *It is not anticipated that you will ever need to change these defaults.* 尝试轮换任何 AsyncPeriodicWork 扩展使用的日志文件的分钟数。要对特定扩展进行精细控制， `*FullyQualifiedClassName*.logRotateMinutes` 可以使用 system 属性仅影响特定扩展。*预计您不需要更改这些默认值。*  Some implementations that can be individually configured (see *FullyQualifiedClassName* above): 一些可以单独配置的实现（参见上面的 *FullyQualifiedClassName*）：   `hudson.model.WorkspaceCleanupThread`  `hudson.model.FingerprintCleanupThread`  `hudson.slaves.ConnectionActivityMonitor`  `jenkins.DailyCheck` `詹金斯。每日检查`  `jenkins.model.BackgroundGlobalBuildDiscarder`  `jenkins.telemetry.Telemetry$TelemetryReporter`

- `hudson.model.AsyncPeriodicWork.logRotateSize`

  tuning 调音  **Since:** 1.651  **从：**  1.651  **Default: 违约：** `-1`  **Description: 描述：** When starting a new run of any AsyncPeriodicWork extension, if this value is non-negative and the existing log file is larger than the specified  number of bytes then the log file will be rotated. For fine-grained control of a specific extension you can use the `*FullyQualifiedClassName*.logRotateSize` system property to only affect a specific extension. *It is not anticipated that you will ever need to change these defaults* 开始任何 AsyncPeriodicWork 扩展的新运行时，如果此值为非负值，并且现有日志文件大于指定的字节数，则将轮换日志文件。要对特定扩展进行精细控制， `*FullyQualifiedClassName*.logRotateSize` 可以使用 system 属性仅影响特定扩展。*预计您不需要更改这些默认值*  Some implementations that can be individually configured (see *FullyQualifiedClassName* above): 一些可以单独配置的实现（参见上面的 *FullyQualifiedClassName*）：   `hudson.model.WorkspaceCleanupThread`  `hudson.model.FingerprintCleanupThread`  `hudson.slaves.ConnectionActivityMonitor`  `jenkins.DailyCheck` `詹金斯。每日检查`  `jenkins.model.BackgroundGlobalBuildDiscarder`  `jenkins.telemetry.Telemetry$TelemetryReporter`

- `hudson.model.DirectoryBrowserSupport.allowAbsolutePath`

  obsolete  security  escape hatch   过时  的安全  逃生舱口   **Since:** 2.315 and 2.303.2   **从：**  2.315 和 2.303.2 开始  **Default: 违约：** `false` `假`  **Description: 描述：** Deprecated: Escape hatch for [SECURITY-2481](https://www.jenkins.io/security/advisory/2021-10-06/#SECURITY-2481). Has no effect since 2.463. 已废弃： [SECURITY-2481](https://www.jenkins.io/security/advisory/2021-10-06/#SECURITY-2481) 的转义舱口。自 2.463 起无效。

- `hudson.model.DirectoryBrowserSupport.allowSymlinkEscape`

  security  escape hatch   安全  逃生舱口   **Since:** 2.154 and 2.138.4   **从：**  2.154 和 2.138.4 开始  **Default: 违约：** `false` `假`  **Description: 描述：** Escape hatch for [SECURITY-904](https://www.jenkins.io/security/advisory/2018-12-05/#SECURITY-904) and [SECURITY-1452](https://www.jenkins.io/security/advisory/2021-01-13/#SECURITY-1452). [SECURITY-904](https://www.jenkins.io/security/advisory/2018-12-05/#SECURITY-904) 和 [SECURITY-1452](https://www.jenkins.io/security/advisory/2021-01-13/#SECURITY-1452) 的逃生舱口。

- `hudson.model.DirectoryBrowserSupport.allowTmpEscape`

  security  escape hatch   安全  逃生舱口   **Since:** 2.394 and 2.375.4   **自：**  2.394 和 2.375.4  **Default: 违约：** `false` `假`  **Description: 描述：** Escape hatch for [SECURITY-1807](https://www.jenkins.io/security/advisory/2023-03-08/#SECURITY-1807). [SECURITY-1807](https://www.jenkins.io/security/advisory/2023-03-08/#SECURITY-1807) 的逃生舱口。

- `hudson.model.DirectoryBrowserSupport.CSP`

  security  escape hatch   安全  逃生舱口   **Since:** 1.625.3, 1.641   **从：**  1.625.3、1.641  **Default: 违约：** `sandbox; default-src 'none'; image-src 'self'; style-src 'self';`  **Description: 描述：** Determines the Content Security Policy header sent for static files served by Jenkins. Only affects controllers that don’t have a resource root URL set up. See [Configuring Content Security Policy](https://www.jenkins.io/doc/book/system-administration/security/configuring-content-security-policy/) for more details. 确定为 Jenkins 提供的静态文件发送的内容安全策略标头。仅影响未设置资源根 URL 的控制器。有关更多详细信息，请参阅[配置内容安全策略](https://www.jenkins.io/doc/book/system-administration/security/configuring-content-security-policy/)。

- `hudson.model.DownloadService$Downloadable.defaultInterval`

  tuning 调音  **Since:** 1.500  **起始价：**  1.500  **Default: 违约：** `86400000` (1 day) `86400000` （1 天）  **Description: 描述：** Interval between periodic downloads of *Downloadables*, typically tool installer metadata. 定期下载 *Downloadables*（通常是工具安装程序元数据）的间隔。

- `hudson.model.DownloadService.never`

  obsolete  escape hatch   过时的  逃生舱口   **Since:** 1.319  **从：**  1.319  **Default: 违约：** `false` `假`  **Description: 描述：** Suppress the periodic download of data files for plugins via browser-based download. Since Jenkins 2.200, this has no effect. 禁止通过基于浏览器的下载定期下载插件的数据文件。从 Jenkins 2.200 开始，这没有效果。

- `hudson.model.DownloadService.noSignatureCheck`

  security  escape hatch   安全  逃生舱口   **Since:** 1.482  **自：**  1.482  **Default: 违约：** `false` `假`  **Description: 描述：** Skip the update site signature check. Setting this to `true` can be unsafe. 跳过更新站点签名检查。将此设置为 `true` 可能不安全。

- `hudson.model.Hudson.flyweightSupport`

  obsolete  feature  escape hatch   过时  特征  escape hatch   **Since:** 1.318  **自：**  1.318  **Default: 违约：** `false` before 1.337; `true` from 1.337; unused since 1.598 1.337 之前的 `false`;`true` 从 1.337;自 1.598 年起未使用  **Description: 描述：** Matrix parent job and other flyweight tasks (e.g. Build Flow plugin) won’t consume an executor when `true`. Unused since 1.598, flyweight support is now always enabled. Matrix 父作业和其他享元任务（例如 Build Flow 插件）在 `true` 时不会消耗执行程序。自 1.598 起未使用，现在始终启用享元支持。

- `hudson.model.Hudson.initLogLevel`

  obsolete 过时  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default:**  *Undocumented*   **默认值：**  *未记录*   **Description: 描述：** Deprecated: Backward-compatible fallback for `jenkins.model.Jenkins.initLogLevel`. Removed since 2.272. 已弃用：向后兼容的回退 `jenkins.model.Jenkins.initLogLevel` 。自 2.272 起删除。

- `hudson.model.Hudson.killAfterLoad`

  obsolete 过时  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default:**  *Undocumented*   **默认值：**  *未记录*   **Description: 描述：** Deprecated: Backward-compatible fallback for `jenkins.model.Jenkins.killAfterLoad`. Removed since 2.272. 已弃用：向后兼容的回退 `jenkins.model.Jenkins.killAfterLoad` 。自 2.272 起删除。

- `hudson.model.Hudson.logStartupPerformance`

  obsolete 过时  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default:**  *Undocumented*   **默认值：**  *未记录*   **Description: 描述：** Deprecated: Backward-compatible fallback for `jenkins.model.Jenkins.logStartupPerformance`. Removed since 2.272. 已弃用：向后兼容的回退 `jenkins.model.Jenkins.logStartupPerformance` 。自 2.272 起删除。

- `hudson.model.Hudson.parallelLoad`

  obsolete 过时  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default:**  *Undocumented*   **默认值：**  *未记录*   **Description: 描述：** Deprecated: Backward-compatible fallback for `jenkins.model.Jenkins.parallelLoad`. Removed since 2.272. 已弃用：向后兼容的回退 `jenkins.model.Jenkins.parallelLoad` 。自 2.272 起删除。

- `hudson.model.Hudson.workspaceDirName`

  obsolete 过时  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default:**  *Undocumented*   **默认值：**  *未记录*   **Description: 描述：** Deprecated: Backward-compatible fallback for `jenkins.model.Jenkins.workspaceDirName`. Removed since 2.272. 已弃用：向后兼容的回退 `jenkins.model.Jenkins.workspaceDirName` 。自 2.272 起删除。

- `hudson.model.LabelAtom.allowFolderTraversal`

  security  escape hatch   安全  逃生舱口   **Since:** 2.263.2 / 2.275   **从：**  2.263.2 / 2.275  **Default: 违约：** `false` `假`  **Description: 描述：** Controls whether label names containing unsafe characters that lead to path traversal can be saved. See [2.263.2 upgrade guide](https://www.jenkins.io/doc/upgrade-guide/2.263/#labelatom). 控制是否可以保存包含导致路径遍历的不安全字符的标签名称。请参阅 [2.263.2 升级指南](https://www.jenkins.io/doc/upgrade-guide/2.263/#labelatom)。

- `hudson.model.LoadStatistics.clock`

  tuning 调音  **Since:** January 2009   **因为：** 2009 年 1 月  **Default: 违约：** `10000` (10 seconds) `10000` （10 秒）  **Description: 描述：** Load statistics clock cycle in milliseconds. 加载统计信息时钟周期（以毫秒为单位）。

- `hudson.model.LoadStatistics.decay`

  tuning 调音  **Since:** January 2009   **因为：** 2009 年 1 月  **Default: 违约：** `0.9` `0,9`%  **Description: 描述：** Decay ratio for every clock cycle in node utilization charts. 节点利用率图表中每个 clock cycle 的衰减率。

- `hudson.model.MultiStageTimeSeries.chartFont`

  feature  UI   功能  UI   **Since:** 1.562  **自：**  1.562  **Default: 违约：** `SansSerif-10` `无衬线 10`  **Description: 描述：** Font used for load statistics. See [Java documentation](http://docs.oracle.com/javase/7/docs/api/java/awt/Font.html#decode(java.lang.String)) on how the value is decoded. 用于负载统计信息的字体。有关如何解码该值的信息，请参阅 [Java 文档](http://docs.oracle.com/javase/7/docs/api/java/awt/Font.html#decode(java.lang.String))。

- `hudson.model.MyViewsProperty.skipPermissionCheck`

  security  escape hatch   安全  逃生舱口   **Since:** 2.471 and 2.452.4   **自：**  2.471 和 2.452.4  **Default: 违约：** `false` `假`  **Description: 描述：** Allow non-admin users to access (and potentially change) other users' "My Views". Escape hatch for [SECURITY-3349](https://www.jenkins.io/security/advisory/2024-08-07/#SECURITY-3349). 允许非管理员用户访问（并可能更改）其他用户的“我的视图”。[SECURITY-3349](https://www.jenkins.io/security/advisory/2024-08-07/#SECURITY-3349) 的逃生舱口。

- `hudson.model.Node.SKIP_BUILD_CHECK_ON_FLYWEIGHTS`

  security  escape hatch   安全  逃生舱口   **Since:** 2.111  **从：**  2.111  **Default: 违约：** `true` `真`  **Description: 描述：** Whether to allow building flyweight tasks even if the necessary permission (Computer/Build) is missing. See [JENKINS-46652](https://issues.jenkins.io/browse/JENKINS-46652). 是否允许构建享元任务，即使缺少必要的权限 （Computer/Build）。请参阅 [JENKINS-46652](https://issues.jenkins.io/browse/JENKINS-46652)。

- `hudson.model.ParametersAction.keepUndefinedParameters`

  security  escape hatch   安全  逃生舱口   **Since:** 1.651.2 / 2.3   **从：**  1.651.2 / 2.3  **Default: 违约：** undefined 定义  **Description: 描述：** If true, not discard parameters for builds that are not defined on the job. **Enabling this can be unsafe.** Since Jenkins 2.40, if set to false, will not log a warning message that parameters were defined but ignored. 如果为 true，则不丢弃未在作业上定义的构建的参数。**启用此功能可能不安全。**从 Jenkins 2.40 开始，如果设置为 false，则不会记录参数已定义但被忽略的警告消息。

- `hudson.model.ParametersAction.safeParameters`

  security  escape hatch   安全  逃生舱口   **Since:** 1.651.2 / 2.3   **从：**  1.651.2 / 2.3  **Default: 违约：** undefined 定义  **Description: 描述：** Comma-separated list of additional build parameter names that should not be discarded even when not defined on the job. 以逗号分隔的其他生成参数名称列表，即使未在作业中定义，也不应丢弃这些名称。

- `hudson.model.Queue.cacheRefreshPeriod`

  tuning 调音  **Since:** 1.577 up to 1.647   **从：**  1.577 到 1.647  **Default: 违约：** `1000`  **Description: 描述：** Defines the refresh period for the internal queue cache (in milliseconds). The greater period workarounds web UI delays on large installations,  which may be caused by locking of the build queue by build executors. Downside: Builds appear in the queue with a noticeable delay. 定义内部队列缓存的刷新周期（以毫秒为单位）。较长的时间段解决方法是大型安装上的 Web UI 延迟，这可能是由于生成执行程序锁定了生成队列造成的。缺点：生成在队列中出现时有明显的延迟。

- `hudson.model.Queue.Saver.DELAY_SECONDS`

  tuning 调音  **Since:** 2.109  **从：**  2.109  **Default: 违约：** `60`  **Description: 描述：** Maximal delay of a save operation when content of Jenkins queue changes. This works as a balancing factor between queue consistency guarantee in  case of Jenkins crash (short delay) and decreasing IO activity based on  Jenkins load (long delay). 当 Jenkins 队列的内容发生更改时，保存操作的最大延迟。这是在 Jenkins 崩溃（短延迟）的情况下保证队列一致性和根据 Jenkins 负载减少 IO 活动（长延迟）之间的平衡因素。

- `hudson.model.Run.ArtifactList.listCutoff`

  tuning  UI   优化  UI   **Since:** 1.33  **从：**  1.33  **Default: 违约：** `16`  **Description: 描述：** More artifacts than this will use tree view or simple link rather than listing out artifacts 超过此数量的工件将使用树状视图或简单链接，而不是列出工件

- `hudson.model.Run.ArtifactList.treeCutoff`

  tuning  UI   优化  UI   **Since:** 1.33  **从：**  1.33  **Default: 违约：** `40`  **Description: 描述：** More artifacts than this will show a simple link to directory browser rather than showing artifacts in tree view 超过此项目将显示指向目录浏览器的简单链接，而不是在树视图中显示项目

- `hudson.model.Slave.workspaceRoot`

  tuning 调音  **Since:** 1.341?  **自：**  1.341？  **Default: 违约：** `workspace` `工作`  **Description: 描述：** name of the folder within the agent root directory to contain workspaces 代理根目录中用于包含 WorkSpaces 的文件夹的名称

- `hudson.model.UpdateCenter.className`

  packaging 包装  **Since:** 2.4  **从：**  2.4  **Default: 违约：** effectively `hudson.model.UpdateCenter` 有效地 `hudson.model.UpdateCenter`  **Description: 描述：** This allows overriding the implementation class for update center when customizing the `.war` packaging of Jenkins. Cannot be used for plugins. 这允许在自定义 Jenkins 的 `.war` 打包时覆盖更新中心的实现类。不能用于插件。

- `hudson.model.UpdateCenter.defaultUpdateSiteId`

  Uncategorized 未分类  **Since:** 2.4  **从：**  2.4  **Default: 违约：** `default` `违约`  **Description: 描述：** Configure a different ID for the default update site. Useful for custom war distributions or externally provided UC data files. 为默认更新站点配置不同的 ID。对于自定义 war 分发或外部提供的 UC 数据文件很有用。

- `hudson.model.UpdateCenter.never`

  Uncategorized 未分类  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `false` `假`  **Description: 描述：** When true, don’t automatically check for new versions 如果为 true，则不自动检查新版本

- `hudson.model.UpdateCenter.pluginDownloadReadTimeoutSeconds`

  tuning 调音  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `60`  **Description: 描述：** Read timeout in seconds for downloading plugins. 读取下载插件的超时时间（以秒为单位）。

- `hudson.model.UpdateCenter.skipPermissionCheck`

  security  escape hatch   安全  逃生舱口   **Since:** 2.121.3 / 2.138   **从：**  2.121.3 / 2.138  **Default: 违约：** `false` `假`  **Description: 描述：** Disable security hardening related to Stapler routing for UpdateCenter. Possibly unsafe, [see 2018-12-05 security advisory](https://www.jenkins.io/security/advisory/2018-12-05/#SECURITY-595). 禁用与 UpdateCenter 的 Stapler 路由相关的安全强化。可能不安全，[请参阅 2018-12-05 安全公告](https://www.jenkins.io/security/advisory/2018-12-05/#SECURITY-595)。

- `hudson.model.UpdateCenter.updateCenterUrl`

  obsolete 过时  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `https://updates.jenkins.io/`  **Description: 描述：** Deprecated: Override the default update site URL. May have no effect since Jenkins 1.333. 已弃用：覆盖默认更新站点 URL。从 Jenkins 1.333 开始可能没有效果。

- `hudson.model.UsageStatistics.disabled`

  feature 特征  **Since:** May 2009   **因为：** 2009 年 5 月  **Default: 违约：** `false` `假`  **Description: 描述：** Set to `true` to opt out of usage statistics collection, independent of UI option. 设置为 `true` 可选择退出使用情况统计信息收集，独立于 UI 选项。

- `hudson.model.User.allowNonExistentUserToLogin`

  security  escape hatch   安全  逃生舱口   **Since:** 1.602  **从：**  1.602  **Default: 违约：** `false` `假`  **Description: 描述：** When `true`, does not check auth realm for existence of user if there’s a record in Jenkins. Unsafe, but may be used on some controllers for service accounts 如果为 `true`，则如果 Jenkins 中有记录，则不检查 auth realm 是否存在 user。不安全，但可能会用于服务帐户的某些控制器

- `hudson.model.User.allowUserCreationViaUrl`

  security  escape hatch   安全  逃生舱口   **Since:** 2.44 / 2.32.2   **从：**  2.44 / 2.32.2  **Default: 违约：** `false` `假`  **Description: 描述：** Whether admins accessing `/user/example` creates a user record (see SECURITY-406 on [Jenkins Security Advisory 2017-02-01](https://wiki.jenkins.io/display/SECURITY/Jenkins+Security+Advisory+2017-02-01)) 访问 `/user/example` 的管理员是否创建用户记录（请参阅 [Jenkins 安全公告 2017-02-01](https://wiki.jenkins.io/display/SECURITY/Jenkins+Security+Advisory+2017-02-01) 上的 SECURITY-406）

- `hudson.model.User.SECURITY_243_FULL_DEFENSE`

  security  escape hatch   安全  逃生舱口   **Since:** 1.651.2 / 2.3   **从：**  1.651.2 / 2.3  **Default: 违约：** `true` `真`  **Description: 描述：** When false, skips part of the fix that tries to determine whether a given  user ID exists, and if so, doesn’t consider users with the same full  name during resolution. 如果为 false，则跳过尝试确定给定用户 ID 是否存在的部分修复，如果存在，则在解析过程中不考虑具有相同全名的用户。

- `hudson.model.User.skipPermissionCheck`

  security  escape hatch   安全  逃生舱口   **Since:** 2.121.3 / 2.138   **从：**  2.121.3 / 2.138  **Default: 违约：** `false` `假`  **Description: 描述：** Disable security hardening related to Stapler routing for User. Possibly unsafe, [see 2018-12-05 security advisory](https://www.jenkins.io/security/advisory/2018-12-05/#SECURITY-595). 禁用与 User 的 Stapler 路由相关的安全强化。可能不安全，[请参阅 2018-12-05 安全公告](https://www.jenkins.io/security/advisory/2018-12-05/#SECURITY-595)。

- `hudson.model.WorkspaceCleanupThread.disabled`

  escape hatch 逃生舱口  **Since:** June 2009   **因为：** 2009 年 6 月  **Default: 违约：** `false` `假`  **Description: 描述：** Don’t clean up old workspaces on agent nodes 不要清理代理节点上的旧工作区

- `hudson.model.WorkspaceCleanupThread.recurrencePeriodHours`

  tuning 调音  **Since:** 1.608  **从：**  1.608  **Default: 违约：** `24`  **Description: 描述：** How frequently workspace cleanup should run, in hours. 工作区清理应运行的频率（以小时为单位）。

- `hudson.model.WorkspaceCleanupThread.retainForDays`

  tuning 调音  **Since:** 1.608  **从：**  1.608  **Default: 违约：** `30`  **Description: 描述：** Unused workspaces are retained for this many days before qualifying for deletion. 未使用的工作区将保留此天数，然后才符合删除条件。

- `hudson.node_monitors.AbstractNodeMonitorDescriptor.periodMinutes`

  tuning 调音  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `60` (1 hour) `60` （1 小时）  **Description: 描述：** How frequently to update node monitors by default, in minutes. 默认情况下更新节点监控器的频率（以分钟为单位）。

- `hudson.PluginManager.checkUpdateAttempts`

  tuning 调音  **Since:** 2.152  **自：**  2.152  **Default: 违约：** `1`  **Description: 描述：** Number of attempts to check the updates sites. 尝试检查更新站点的次数。

- `hudson.PluginManager.checkUpdateSleepTimeMillis`

  tuning 调音  **Since:** 2.152  **自：**  2.152  **Default: 违约：** `1000`  **Description: 描述：** Time (milliseconds) elapsed between retries to check the updates sites. 检查更新站点的重试之间经过的时间 （毫秒）。

- `hudson.PluginManager.className`

  packaging 包装  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** effectively `hudson.LocalPluginManager` 实际上是 `Hudson。本地插件管理器`  **Description: 描述：** Can be used to specify a different `PluginManager` implementation when customizing the `.war` packaging of Jenkins. Cannot be used for plugins. 可用于在自定义 Jenkins 的 `.war` 打包时指定不同的 `PluginManager` 实现。不能用于插件。

- `hudson.PluginManager.noFastLookup`

  escape hatch 逃生舱口  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `false` `假`  **Description: 描述：** Disable fast lookup using `ClassLoaderReflectionToolkit` which reflectively accesses internal methods of `ClassLoader`. 使用 `ClassLoaderReflectionToolkit` 禁用快速查找，它以反射方式访问 `ClassLoader` 的内部方法。

- `hudson.PluginManager.skipPermissionCheck`

  security  escape hatch   安全  逃生舱口   **Since:** 2.121.3 / 2.138   **从：**  2.121.3 / 2.138  **Default: 违约：** `false` `假`  **Description: 描述：** Disable security hardening related to Stapler routing for PluginManager. Possibly unsafe, [see 2018-12-05 security advisory](https://www.jenkins.io/security/advisory/2018-12-05/#SECURITY-595). 禁用与 PluginManager 的 Stapler 路由相关的安全强化。可能不安全，[请参阅 2018-12-05 安全公告](https://www.jenkins.io/security/advisory/2018-12-05/#SECURITY-595)。

- `hudson.PluginManager.workDir` `哈德森。插件管理器.workDir`

  feature 特征  **Since:** 1.649  **从：**  1.649  **Default: 违约：** undefined 定义  **Description: 描述：** Location of the base directory for all exploded .hpi/.jpi plugins. By default the plugins will be extracted under `$JENKINS_HOME/plugins/`. 所有已分解的 .hpi/.jpi 插件的基目录的位置。默认情况下，插件将提取到 `$JENKINS_HOME/plugins/` 下。

- `hudson.PluginStrategy` `哈德森。插件策略`

  packaging 包装  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** effectively `hudson.ClassicPluginStrategy` 实际上是 `Hudson。经典插件策略`  **Description: 描述：** Allow plugins to be loaded into a different environment, such as an existing DI container like Plexus. Specify the full class name of a `hudson.PluginStrategy` implementation to override the default. 允许将插件加载到不同的环境中，例如现有的 DI 容器（如 Plexus）。指定 Hudson 的完整类名`。PluginStrategy` 实现来覆盖默认值。

- `hudson.PluginWrapper.dependenciesVersionCheck.enabled`

  escape hatch 逃生舱口  **Since:** 2.0  **从：**  2.0  **Default: 违约：** `true` `真`  **Description: 描述：** Set to `false` to skip the version check for plugin dependencies. 设置为 `false` 可跳过插件依赖项的版本检查。

- `hudson.ProxyConfiguration.DEFAULT_CONNECT_TIMEOUT_MILLIS`

  tuning 调音  **Since:** 2.0  **从：**  2.0  **Default: 违约：** `20000` `20000` 元  **Description: 描述：** Connection timeout applied to connections e.g. to the update site. 连接超时应用于连接，例如连接到更新站点的连接。

- `hudson.remoting.Channel.DISABLE_JAR_URL_VALIDATOR`

  security  escape hatch   安全  逃生舱口   **Since:** 2.471 and 2.452.4   **自：**  2.471 和 2.452.4  **Default: 违约：** `false` `假`  **Description: 描述：** Disable validation of URLs attempted to be read by agents. Escape hatch for [SECURITY-3430](https://www.jenkins.io/security/advisory/2024-08-07/#SECURITY-3430). 禁用对代理尝试读取的 URL 的验证。[SECURITY-3430](https://www.jenkins.io/security/advisory/2024-08-07/#SECURITY-3430) 的逃生舱口。

- `hudson.remoting.ChannelBuilder.allCallablesCanIgnoreRoleChecker`

  security  scape hatch   安全  景观舱口   **Since:** 2.319 and 2.303.3   **自：**  2.319 和 2.303.3  **Default: 违约：** `false` `假`  **Description: 描述：** Disable requirement for remoting callables to perform a role check. See [the description in the upgrade guide](https://www.jenkins.io/doc/upgrade-guide/2.303/#SECURITY-2458). 禁用对远程可调用对象执行角色检查的要求。请参阅[升级指南中的描述](https://www.jenkins.io/doc/upgrade-guide/2.303/#SECURITY-2458)。

- `hudson.remoting.ChannelBuilder.specificCallablesCanIgnoreRoleChecker`

  security  scape hatch   安全  景观舱口   **Since:** 2.319 and 2.303.3   **自：**  2.319 和 2.303.3  **Default: 违约：** undefined 定义  **Description: 描述：** Comma-separated list of class names allowed to bypass role check requirement. See [the description in the upgrade guide](https://www.jenkins.io/doc/upgrade-guide/2.303/#SECURITY-2458). 允许绕过角色检查要求的类名的逗号分隔列表。请参阅[升级指南中的描述](https://www.jenkins.io/doc/upgrade-guide/2.303/#SECURITY-2458)。

- `hudson.remoting.ClassFilter`

  security  escape hatch   安全  逃生舱口   **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** undefined 定义  **Description: 描述：** Allow or disallow the deserialization of specified types. Comma-separated class names, entries are whitelisted unless prefixed with `!`. See [JEP-200#backwards-compatibility: JEP-200](https://github.com/jenkinsci/jep/blob/master/jep/200#backwards-compatibility/README.adoc) and [JENKINS-47736](https://issues.jenkins.io/browse/JENKINS-47736). 允许或禁止指定类型的反序列化。逗号分隔的类名，除非前缀为 `！`，否则条目将被列入白名单。请参阅 [JEP-200#backwards-compatibility： JEP-200](https://github.com/jenkinsci/jep/blob/master/jep/200#backwards-compatibility/README.adoc) 和 [JENKINS-47736](https://issues.jenkins.io/browse/JENKINS-47736)。

- `hudson.scheduledRetention` `hudson.scheduled保留`

  obsolete 过时  **Since:** Up to 1.354   **因为：** 最高 1.354  **Default: 违约：** `false` `假`  **Description: 描述：** Control a agent based on a schedule 根据计划控制代理

- `hudson.scm.SCM.useAutoBrowserHolder`

  feature 特征  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `false` since Jenkins 2.9, `true` before `false` 从 Jenkins 2.9 开始，`之前为 true`  **Description: 描述：** When set to `true`, Jenkins will guess the repository browser used to render links in the changelog. 当设置为 `true` 时，Jenkins 将猜测用于在更改日志中呈现链接的存储库浏览器。

- `hudson.script.noCache`

  development 发展  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `false` in production, `true` during development 在生产环境中`为 false`，在开发期间`为 true`  **Description: 描述：** When set to true, Jenkins will not reference resource files through the `/static/…/` URL space, preventing their caching. This is set to `true` during development by default, and `false` otherwise. 当设置为 true 时，Jenkins 不会通过 `/static/.../` URL 空间引用资源文件，从而阻止其缓存。默认情况下，在开发过程中将其设置为 `true`，否则设置为 `false`。

- `hudson.search.Search.MAX_SEARCH_SIZE`

  security  escape hatch   安全  逃生舱口   **Since:** 2.375.4 / 2.394   **从：**  2.375.4 / 2.394  **Default: 违约：** `500` `500` 元  **Description: 描述：** Limits the number of results a search can render. 限制搜索可以呈现的结果数。

- `hudson.search.Search.skipPermissionCheck`

  security  escape hatch   安全  逃生舱口   **Since:** 2.121.3 / 2.138   **从：**  2.121.3 / 2.138  **Default: 违约：** `false` `假`  **Description: 描述：** Disable security hardening related to Stapler routing for Search. Possibly unsafe, [see 2018-12-05 security advisory](https://www.jenkins.io/security/advisory/2018-12-05/#SECURITY-595). 禁用与 Stapler routing for Search 相关的安全强化。可能不安全，[请参阅 2018-12-05 安全公告](https://www.jenkins.io/security/advisory/2018-12-05/#SECURITY-595)。

- `hudson.security.AccessDeniedException2.REPORT_GROUP_HEADERS`

  escape hatch 逃生舱口  **Since:** 2.46 / 2.32.3   **从：**  2.46 / 2.32.3  **Default: 违约：** `false` `假`  **Description: 描述：** If set to true, restore pre-2.46 behavior of sending HTTP headers on "access denied" pages listing group memberships. 如果设置为 true，则恢复 2.46 之前在列出组成员资格的“拒绝访问”页面上发送 HTTP 标头的行为。

- `hudson.security.ArtifactsPermission`

  security  escape hatch   安全  逃生舱口   **Since:** 1.374  **从：**  1.374  **Default: 违约：** `false` `假`  **Description: 描述：** The Artifacts permission allows to control access to artifacts; When this  property is unset or set to false, access to artifacts is not controlled Artifacts 权限允许控制对 Artifacts 的访问;当此属性未设置或设置为 false 时，不会控制对工件的访问

- `hudson.security.csrf.CrumbFilter.UNPROCESSED_PATHINFO`

  security  escape hatch   安全  逃生舱口   **Since:** 2.228 and 2.204.6   **从：**  2.228 和 2.204.6 开始  **Default: 违约：** `false` `假`  **Description: 描述：** Escape hatch for [SECURITY-1774](https://www.jenkins.io/security/advisory/2020-03-25/#SECURITY-1774). [SECURITY-1774](https://www.jenkins.io/security/advisory/2020-03-25/#SECURITY-1774) 的逃生舱口。

- `hudson.security.csrf.DefaultCrumbIssuer.EXCLUDE_SESSION_ID`

  security  escape hatch   安全  逃生舱口   **Since:** 2.186 and 2.176.2   **从：**  2.186 和 2.176.2 开始  **Default: 违约：** `false` `假`  **Description: 描述：** Escape hatch for [SECURITY-626](https://www.jenkins.io/security/advisory/2019-07-17/#SECURITY-626). [SECURITY-626](https://www.jenkins.io/security/advisory/2019-07-17/#SECURITY-626) 的逃生舱口。

- `hudson.security.csrf.GlobalCrumbIssuerConfiguration.DISABLE_CSRF_PROTECTION`

  security  escape hatch   安全  逃生舱口   **Since:** 2.222  **从：**  2.222  **Default: 违约：** `false` `假`  **Description: 描述：** Restore the ability to disable CSRF protection after the UI for doing so was removed from Jenkins 2.222. 从 Jenkins 2.222 中删除用于禁用 CSRF 保护的 UI 后，恢复禁用 CSRF 保护的功能。

- `hudson.security.csrf.requestfield`

  security  tuning   安全  优化   **Since:** 1.31  **从：**  1.31  **Default: 违约：** `.crumb` (Jenkins 1.x), `Jenkins-Crumb` (Jenkins 2.0) `.crumb` （Jenkins 1.x）、`jenkins-crumb` （Jenkins 2.0）  **Description: 描述：** Parameter name that contains a crumb value on POST requests 包含 POST 请求上的 crumb 值的参数名称

- `hudson.security.ExtendedReadPermission`

  security  feature   安全功能    **Since:** 1.324  **从：**  1.324  **Default: 违约：** `false` `假`  **Description: 描述：** The ExtendedReadPermission allows read-only access to "Configure" pages; can also enable with extended-read-permission plugin ExtendedReadPermission 允许对 “Configure” 页面进行只读访问;也可以使用 extended-read-permission 插件启用

- `hudson.security.HudsonPrivateSecurityRealm.ID_REGEX`

  security  escape hatch   安全  逃生舱口   **Since:** 2.121 and 2.107.3   **从：**  2.121 和 2.107.3 开始  **Default: 违约：** `[a-zA-Z0-9_-]+`  **Description:**  Regex for legal user names in Jenkins user database. See [SECURITY-786](https://www.jenkins.io/security/advisory/2018-05-09/#SECURITY-786). Jenkins 用户数据库中合法用户名的正则表达式。参见 [SECURITY-786](https://www.jenkins.io/security/advisory/2018-05-09/#SECURITY-786)。

- `hudson.security.HudsonPrivateSecurityRealm.maximumBCryptLogRound`

  security  escape hatch   安全  逃生舱口   **Since:** 2.161  **从：**  2.161  **Default: 违约：** `18`  **Description: 描述：** Limits the number of rounds for pre-computed BCrypt hashes of user passwords  for the Jenkins user database to prevent excessive computation. 限制 Jenkins 用户数据库的用户密码的预计算 BCrypt 哈希的轮数，以防止过度计算。

- `hudson.security.LDAPSecurityRealm.groupSearch`

  Uncategorized 未分类  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default:**  *Undocumented*   **默认值：**  *未记录*   **Description: 描述：** LDAP filter to look for groups by their names LDAP 过滤器，用于按名称查找组

- `hudson.security.SecurityRealm.sessionFixationProtectionMode`

  security  escape hatch   安全  逃生舱口   **Since:** 2.300 and 2.289.2   **从：**  2.300 和 2.289.2  **Default: 违约：** `1`  **Description: 描述：** Escape hatch for [SECURITY-2371](https://www.jenkins.io/security/advisory/2021-06-30/#SECURITY-2371). Set to `0` to disable the fix or to `2` to select an alternative implementation. [SECURITY-2371](https://www.jenkins.io/security/advisory/2021-06-30/#SECURITY-2371) 的逃生舱口。设置为 `0` 可禁用修复，设置为 `2` 可选择替代实施。

- `hudson.security.TokenBasedRememberMeServices2.skipTooFarExpirationDateCheck`

  security  escape hatch   安全  逃生舱口   **Since:** 2.160 and 2.150.2   **从：**  2.160 和 2.150.2  **Default: 违约：** `false` `假`  **Description: 描述：** Escape hatch for [SECURITY-868](https://www.jenkins.io/security/advisory/2019-01-16/#SECURITY-868) [SECURITY-868](https://www.jenkins.io/security/advisory/2019-01-16/#SECURITY-868) 逃生舱口

- `hudson.security.WipeOutPermission`

  security  feature   安全功能    **Since:** 1.416  **从：**  1.416  **Default: 违约：** `false` `假`  **Description: 描述：** The WipeOut permission allows to control access to the "Wipe Out Workspace" action, which is normally available as soon as the Build permission is  granted WipeOut 权限允许控制对“Wipe Out Workspace”操作的访问，该操作通常在授予 Build 权限后立即可用

- `hudson.slaves.ChannelPinger.pingInterval`

  tuning  obsolete   调整  过时   **Since:** 1.405  **从：**  1.405  **Default: 违约：** `5`  **Description: 描述：** Frequency (in minutes) of [pings between the controller and agents](https://wiki.jenkins.io/display/JENKINS/Ping+Thread). Deprecated since 2.37, use `hudson.slaves.ChannelPinger.pingIntervalSeconds` instead. [控制器和代理之间的 ping](https://wiki.jenkins.io/display/JENKINS/Ping+Thread) 频率（以分钟为单位）。自 2.37 起已废弃，请改用 `hudson.slaves.ChannelPinger.pingIntervalSeconds` 。

- `hudson.slaves.ChannelPinger.pingIntervalSeconds`

  tuning 调音  **Since:** 2.37  **从：**  2.37  **Default: 违约：** `300`  **Description: 描述：** Frequency of [pings between the controller and agents](https://wiki.jenkins.io/display/JENKINS/Ping+Thread), in seconds [控制器和代理之间的 ping](https://wiki.jenkins.io/display/JENKINS/Ping+Thread) 频率（以秒为单位）

- `hudson.slaves.ChannelPinger.pingTimeoutSeconds`

  tuning 调音  **Since:** 2.37  **从：**  2.37  **Default: 违约：** `240` `240` 元  **Description: 描述：** Timeout for each [ping between the controller and agents](https://wiki.jenkins.io/display/JENKINS/Ping+Thread), in seconds [控制器和代理之间每个 ping 的](https://wiki.jenkins.io/display/JENKINS/Ping+Thread)超时时间（以秒为单位）

- `hudson.slaves.ConnectionActivityMonitor.enabled`

  feature 特征  **Since:** 1.326  **从：**  1.326  **Default: 违约：** `false` `假`  **Description: 描述：** Whether to enable this feature that checks whether agents are alive and cuts them off if not. 是否启用此功能，以检查代理是否处于活动状态，如果不是，则将其切断。

- `hudson.slaves.ConnectionActivityMonitor.frequency`

  tuning 调音  **Since:** 1.326  **从：**  1.326  **Default: 违约：** `10000` (10 seconds) `10000` （10 秒）  **Description: 描述：** How frequently to check for channel activity, in milliseconds. 检查通道活动的频率（以毫秒为单位）。

- `hudson.slaves.ConnectionActivityMonitor.timeToPing`

  tuning 调音  **Since:** 1.326  **从：**  1.326  **Default: 违约：** `180000` (3 minutes) `180000` （3 分钟）  **Description: 描述：** How long to wait after startup to start checking agent connections, in milliseconds. 启动后开始检查代理连接需要等待的时间（以毫秒为单位）。

- `hudson.slaves.NodeProvisioner.initialDelay`

  tuning 调音  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** 10 times `hudson.model.LoadStatistics.clock`, typically 100 seconds 10 次 `hudson.model.LoadStatistics.clock` ，通常为 100 秒  **Description: 描述：** How long to wait after startup before starting to provision nodes from clouds. This will allow static agents to start and handle the load first. 启动后在开始从云中预置节点之前要等待多长时间。这将允许静态代理首先启动并处理负载。

- `hudson.slaves.NodeProvisioner.MARGIN`

  tuning 调音  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default:**  *Undocumented*   **默认值：**  *未记录*   **Description:**  *Undocumented*   **描述：**  *未记载* 

- `hudson.slaves.NodeProvisioner.MARGIN0`

  tuning 调音  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default:**  *Undocumented*   **默认值：**  *未记录*   **Description:**  *Undocumented*   **描述：**  *未记载* 

- `hudson.slaves.NodeProvisioner.MARGIN_DECAY`

  tuning 调音  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default:**  *Undocumented*   **默认值：**  *未记录*   **Description:**  *Undocumented*   **描述：**  *未记载* 

- `hudson.slaves.NodeProvisioner.recurrencePeriod`

  tuning 调音  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** Equal to `hudson.model.LoadStatistics.clock`, typically 10 seconds 等于 `hudson.model.LoadStatistics.clock` ，通常为 10 秒  **Description: 描述：** How frequently to possibly provision nodes. 可能预置节点的频率。

- `hudson.slaves.SlaveComputer.allowUnsupportedRemotingVersions`

  escape hatch 逃生舱口  **Since:** 2.343  **起始时间：**  2.343  **Default: 违约：** `false` `假`  **Description: 描述：** Allow connection by agents running unsupported remoting versions. 允许运行不受支持的远程处理版本的代理进行连接。

- `hudson.slaves.WorkspaceList`

  tuning 调音  **Since:** 1.424  **从：**  1.424  **Default: 违约：** `@`  **Description: 描述：** When concurrent builds is enabled, a unique workspace directory name is required for each concurrent build. To create this name, this token is placed between project name and a unique ID, e.g. "my-project@123". 启用并发构建后，每个并发构建都需要唯一的工作区目录名称。要创建此名称，请将此令牌放置在项目名称和唯一 ID 之间，例如“my-project@123”。

- `hudson.tasks.ArtifactArchiver.warnOnEmpty`

  feature 特征  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `false` `假`  **Description: 描述：** When true, builds don’t fail when there is nothing to archive 如果为 true，则当没有要存档的内容时，构建不会失败

- `hudson.tasks.Fingerprinter.enableFingerprintsInDependencyGraph`

  feature 特征  **Since:** 1.43  **从：**  1.43  **Default: 违约：** `false` `假`  **Description: 描述：** When true, jobs associated through fingerprints are added to the dependency  graph, even when there is no configured upstream/downstream relationship between them. 如果为 true，则通过指纹关联的作业将添加到依赖关系图中，即使它们之间没有配置的上游/下游关系也是如此。

- `hudson.tasks.MailSender.maxLogLines`

  Uncategorized 未分类  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `250`  **Description: 描述：** Number of lines of console output to include in emails 电子邮件中要包含的控制台输出行数

- `hudson.TcpSlaveAgentListener.hostName`

  feature 特征  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** Same as the configured Jenkins root URL 与配置的 Jenkins 根 URL 相同  **Description: 描述：** Host name that Jenkins advertises to inbound TCP agents. Especially useful when running Jenkins behind a reverse proxy. Jenkins 向入站 TCP 代理通告的主机名。在反向代理后面运行 Jenkins 时特别有用。

- `hudson.TcpSlaveAgentListener.port`

  feature 特征  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** Same as the configured TCP agent port 与配置的 TCP 代理端口相同  **Description: 描述：** Port that Jenkins advertises to inbound TCP agents. Especially useful when running Jenkins behind a reverse proxy. Jenkins 向入站 TCP 代理通告的端口。在反向代理后面运行 Jenkins 时特别有用。

- `hudson.TreeView` `哈德森。树视图`

  feature  obsolete   功能  已过时   **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `false` `假`  **Description: 描述：** Enables the experimental nested views feature. Has no effect since 2.302, as the experimental nested views feature has been removed. 启用实验性嵌套视图功能。自 2.302 起不再有效，因为实验性嵌套视图功能已被删除。

- `hudson.triggers.SafeTimerTask.logsTargetDir`

  feature 特征  **Since:** 2.114  **从：**  2.114  **Default: 违约：** `$JENKINS_HOME/logs` `$JENKINS_HOME/日志`  **Description: 描述：** Allows to move the logs usually found under `$JENKINS_HOME/logs` to another location. Beware that no migration is handled if you change it on an existing deployment. 允许将通常在 `$JENKINS_HOME/logs` 下找到的日志移动到另一个位置。请注意，如果您在现有部署上更改迁移，则不会处理迁移。

- `hudson.triggers.SCMTrigger.starvationThreshold`

  tuning 调音  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `3600000` (1 hour) `3600000` （1 小时）  **Description: 描述：** Milliseconds waiting for polling executor before trigger reports it is clogged. 等待轮询 executor 的毫秒数，然后触发器报告它被阻塞。

- `hudson.udp` `哈德逊.udp`

  escape hatch  obsolete  tuning   逃生舱口过时  的调整   **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `33848` until 2.218, `-1` in 2.219 `33848` 至 2.218， `-1` in 2.219  **Description: 描述：** Port for UDP multicast broadcast. Set to -1 to disable. Has no effect since 2.220 as the feature has been removed. See [SECURITY-1641](https://www.jenkins.io/security/advisory/2020-01-29/#SECURITY-1641) UDP 多播广播的端口。设置为 -1 以禁用。自 2.220 起没有效果，因为该功能已被删除。参见 [SECURITY-1641](https://www.jenkins.io/security/advisory/2020-01-29/#SECURITY-1641)

- `hudson.upstreamCulprits` `hudson.upstream罪魁祸首`

  feature 特征  **Since:** 1.327  **从：**  1.327  **Default: 违约：** `false` `假`  **Description: 描述：** Pass blame information to downstream jobs. 将责任信息传递给下游作业。

- `hudson.util.AtomicFileWriter.DISABLE_FORCED_FLUSH`

  escape hatch 逃生舱口  **Since:** 2.102  **从：**  2.102  **Default: 违约：** `false` `假`  **Description: 描述：** Disables the forced flushing when calling `#close()`. Not expected to be used. 在调用 `#close（）` 时禁用强制刷新。预计不会使用。

- `hudson.util.AtomicFileWriter.REQUIRES_DIR_FSYNC`

  escape hatch 逃生舱口  **Since:** 2.44  **从：**  2.44  **Default: 违约：** `true` on Unix, `false` on Windows `在` Unix 上为 true，在 Windows 上`为 false`  **Description: 描述：** Whether or not to flush the parent directory to disk after flushing the file to disk, which is needed to ensure crash consistency in several Unix filesystems. Prior to 2.440, the parent directory was never flushed to disk. 在将文件刷新到磁盘后是否将父目录刷新到磁盘，这是确保多个 Unix 文件系统中的崩溃一致性所必需的。在 2.440 之前，父目录从未刷新到磁盘。

- `hudson.util.CharacterEncodingFilter.disableFilter`

  escape hatch 逃生舱口  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `false` `假`  **Description: 描述：** Set to `true` to disable the filter that sets request encoding to UTF-8 if it’s undefined and its content type is `text/xml` or `application/xml` (API submissions). 设置为 `true` 可禁用将请求编码设置为 UTF-8 的筛选器（如果未定义且其内容类型为 `text/xml` 或 `application/xml`（API 提交）。

- `hudson.util.CharacterEncodingFilter.forceEncoding`

  feature 特征  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `false` `假`  **Description: 描述：** Set to `true` to force the request encoding to UTF-8 even if a different character set is declared. 设置为 `true` 可强制请求编码为 UTF-8，即使声明了不同的字符集也是如此。

- `hudson.Util.deletionRetryWait` `哈德森。Util.deletionRetryWait`

  tuning 调音  **Since:** 2.2  **从：**  2.2  **Default: 违约：** `100`  **Description: 描述：** The time (in milliseconds) to wait between attempts to delete files when retrying. This has no effect unless *hudson.Util.maxFileDeletionRetries* is greater than 1. If zero, there will be no delay between attempts. If negative, the delay will be a (linearly) increasing multiple of this value between attempts. 重试时，在尝试删除文件之间等待的时间（以毫秒为单位）。除非 *hudson.Util.maxFileDeletionRetries* 大于 1。如果为零，则尝试之间不会有延迟。如果为负数，则 delay 将是两次尝试之间该值的 （线性） 递增倍数。

- `hudson.util.Digester2.UNSAFE`

  security  escape hatch  obsolete   安全  逃生舱口  OBSOLETE   **Since:** 2.263.2 / 2.275   **从：**  2.263.2 / 2.275  **Default: 违约：** `false` `假`  **Description: 描述：** Opts out of a change in default behavior that disables the processing of XML external entities (XXE) for the `Digester2` class in Jenkins if set to `true`. This system property can be changed while Jenkins is running and the change is effective immediately. See [2.263.2 upgrade guide](https://www.jenkins.io/doc/upgrade-guide/2.263/#digester2). Has no effect since 2.297, as the `Digester2` class has been removed. 选择退出默认行为的更改，如果设置为 `true`，则禁用 Jenkins 中 `Digester2` 类的 XML 外部实体 （XXE） 的处理。可以在 Jenkins 运行时更改此系统属性，并且更改会立即生效。请参阅 [2.263.2 升级指南](https://www.jenkins.io/doc/upgrade-guide/2.263/#digester2)。自 2.297 起不再有效，因为 `Digester2` 类已被删除。

- `hudson.util.FormValidation.applyContentSecurityPolicyHeaders`

  security  escape hatch   安全  逃生舱口   **Since:** 2.263.2 / 2.275   **从：**  2.263.2 / 2.275  **Default: 违约：** `true` `真`  **Description: 描述：** Controls whether to set restrictive Content-Security-Policy headers on URLs implementing form validation responses. This reduces the impact of cross-site scripting (XSS) vulnerabilities in form validation output. See [2.263.2 upgrade guide](https://www.jenkins.io/doc/upgrade-guide/2.263/#formvalidation). 控制是否在实现表单验证响应的 URL 上设置限制性 Content-Security-Policy 标头。这减少了表单验证输出中跨站点脚本 （XSS） 漏洞的影响。请参阅 [2.263.2 升级指南](https://www.jenkins.io/doc/upgrade-guide/2.263/#formvalidation)。

- `hudson.util.Graph.maxArea`

  security  escape hatch   安全  逃生舱口   **Since:** 2.263.2 / 2.275   **从：**  2.263.2 / 2.275  **Default: 违约：** `10000000` (10 million) `10000000`（1000 万）  **Description: 描述：** Controls the maximum size (area) for requests to render graphs like load statistics. See [2021-01-13 security advisory](https://www.jenkins.io/security/advisory/2021-01-13/#SECURITY-2025). 控制渲染负载统计信息等图形的请求的最大大小（区域）。请参阅 [2021-01-13 安全公告](https://www.jenkins.io/security/advisory/2021-01-13/#SECURITY-2025)。

- `hudson.Util.maxFileDeletionRetries`

  tuning 调音  **Since:** 2.2  **从：**  2.2  **Default: 违约：** `3`  **Description: 描述：** The number of times to attempt to delete files/directory trees before giving up and throwing an exception. Specifying a value less than 1 is invalid and will be treated as if a value of 1 (i.e. one attempt, no retries) was specified. See [JENKINS-10113](https://issues.jenkins.io/browse/JENKINS-10113) and [JENKINS-15331](https://issues.jenkins.io/browse/JENKINS-15331). 在放弃并引发异常之前尝试删除文件/目录树的次数。指定小于 1 的值是无效的，并且将被视为指定了值 1（即一次尝试，无重试）。请参阅 [JENKINS-10113](https://issues.jenkins.io/browse/JENKINS-10113) 和 [JENKINS-15331](https://issues.jenkins.io/browse/JENKINS-15331)。

- `hudson.util.MultipartFormDataParser.FILEUPLOAD_MAX_FILE_SIZE`

  tuning  security   优化  安全性   **Since:** 2.375.4, 2.394   **从：**  2.375.4、2.394  **Default: 违约：** `-1`  **Description: 描述：** Limits the size (in bytes) of individual fields that can be processed in one `multipart/form-data` request. Despite the name, this applies to all form fields, not just actual file attachments. `-1` disables this limit. 限制可在一个 `multipart/form-data` 请求中处理的单个字段的大小（以字节为单位）。尽管名称如此，但这适用于所有表单字段，而不仅仅是实际的文件附件。`-1` 禁用此限制。

- `hudson.util.MultipartFormDataParser.FILEUPLOAD_MAX_FILES`

  escape hatch  tuning  security   逃生舱口  调整  安全性   **Since:** 2.375.4, 2.394   **从：**  2.375.4、2.394  **Default: 违约：** `1000`  **Description: 描述：** Limits the number of form fields that can be processed in one `multipart/form-data` request. Used to set `org.apache.commons.fileupload.servlet.ServletFileUpload#setFileCountMax(long)`. Despite the name, this applies to all form fields, not just actual file attachments. `-1` disables this limit. 限制可在一个 `multipart/form-data` 请求中处理的表单字段数。用于设置 `org.apache.commons.fileupload.servlet.ServletFileUpload#setFileCountMax(long)` .尽管名称如此，但这适用于所有表单字段，而不仅仅是实际的文件附件。`-1` 禁用此限制。

- `hudson.util.MultipartFormDataParser.FILEUPLOAD_MAX_SIZE`

  tuning  security   优化  安全性   **Since:** 2.375.4, 2.394   **从：**  2.375.4、2.394  **Default: 违约：** `-1`  **Description: 描述：** Limits the total request size (in bytes) that can be processed in one `multipart/form-data` request. Used to set `org.apache.commons.fileupload.servlet.ServletFileUpload#setSizeMax(long)`. `-1` disables this limit. 限制可在一个 `multipart/form-data` 请求中处理的总请求大小（以字节为单位）。用于设置 `org.apache.commons.fileupload.servlet.ServletFileUpload#setSizeMax(long)` .`-1` 禁用此限制。

- `hudson.Util.noSymLink` `哈德森。Util.noSymLink`

  feature 特征  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `false` `假`  **Description: 描述：** True to disable creation of symbolic links in job/builds directories 如果为 True，则禁止在 job/builds 目录中创建符号链接

- `hudson.Util.performGCOnFailedDelete`

  tuning 调音  **Since:** 2.2  **从：**  2.2  **Default: 违约：** `false` `假`  **Description: 描述：** If this flag is set to `true` then we will request a garbage collection after a deletion failure before we next retry the delete. It is ignored unless *hudson.Util.maxFileDeletionRetries* is greater than 1. Setting this flag to `true` *may* resolve some problems on Windows, and also for directory trees residing on an NFS share, but it can have a negative impact on performance and  may have no effect at all (GC behavior is JVM-specific). **Warning**: This should only ever be used if you find that your builds are failing  because Jenkins is unable to delete files, that this failure is because  Jenkins itself has those files locked "open", and even then it should  only be used on agents with relatively few executors (because the  garbage collection can impact the performance of all job executors on  that agent). *Setting this flag is a act of last resort - it is not recommended, and should  not be used on your main Jenkins server unless you can tolerate the  performance impact*. 如果此标志设置为 `true`，则我们将在删除失败后请求垃圾回收，然后再重试删除。除非 *hudson.Util.maxFileDeletionRetries* 大于 1。将此标志设置为 `true`*可能会*解决 Windows 上的一些问题，也可以解决驻留在 NFS 共享上的目录树的一些问题，但它可能会对性能产生负面影响，并且可能根本没有影响（GC 行为特定于 JVM）。**警告**：只有当您发现构建失败是因为 Jenkins 无法删除文件时，才应该使用此选项，此失败是因为 Jenkins 本身将这些文件锁定为“打开”状态，即使这样，它也应该只在执行程序相对较少的代理上使用（因为垃圾回收会影响该代理上所有作业执行程序的性能）。*设置此标志是最后的手段 - 不建议这样做，并且不应在主 Jenkins 服务器上使用，除非您可以容忍性能影响*。

- `hudson.util.ProcessTree.disable`

  feature 特征  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `false` `假`  **Description: 描述：** True to disable cleanup of child processes. 如果为 True，则禁用子进程的清理。

- `hudson.util.RingBufferLogHandler.defaultSize`

  tuning 调音  **Since:** 1.563  **从：**  1.563  **Default: 违约：** `256` `256` 元  **Description: 描述：** Number of log entries in loggers available on the UI at `/log/` `/log/` 处 UI 上可用的 Logger 中的日志条目数

- `hudson.util.RobustReflectionConverter.recordFailuresForAdmins`

  security  escape hatch   安全  逃生舱口   **Since:** 2.263.2 / 2.275   **从：**  2.263.2 / 2.275  **Default: 违约：** `false` `假`  **Description: 描述：** If set to `true`, Old Data Monitor will record some failures to load data submitted by  users with Overall/Administer permission, partially disabling a security fix. See [2021-01-13 security advisory](https://www.jenkins.io/security/advisory/2021-01-13/#SECURITY-1923) and [`hudson.util.RobustReflectionConverter.recordFailuresForAllAuthentications`](https://www.jenkins.io/doc/book/managing/system-properties/#hudson-util-robustreflectionconverter-recordfailuresforallauthen). 如果设置为 `true`，则旧数据监视器将记录加载具有 Overall/Administer（总体/管理）权限的用户提交的数据的一些失败，从而部分禁用安全修复。请参阅 [2021-01-13 安全公告](https://www.jenkins.io/security/advisory/2021-01-13/#SECURITY-1923) 和 [ `hudson.util.RobustReflectionConverter.recordFailuresForAllAuthentications` ](https://www.jenkins.io/doc/book/managing/system-properties/#hudson-util-robustreflectionconverter-recordfailuresforallauthen)。

- `hudson.util.RobustReflectionConverter.recordFailuresForAllAuthentications`

  security  escape hatch   安全  逃生舱口   **Since:** 2.263.2 / 2.275   **从：**  2.263.2 / 2.275  **Default: 违约：** `false` `假`  **Description: 描述：** If set to `true`, Old Data Monitor will record some failures to load data submitted by  all authorized users, completely disabling a security fix. See [2021-01-13 security advisory](https://www.jenkins.io/security/advisory/2021-01-13/#SECURITY-1923) and [`hudson.util.RobustReflectionConverter.recordFailuresForAdmins`](https://www.jenkins.io/doc/book/managing/system-properties/#hudson-util-robustreflectionconverter-recordfailuresforadmins). 如果设置为 `true`，则 Old Data Monitor 将记录加载所有授权用户提交的数据的一些失败，从而完全禁用安全修复。请参阅 [2021-01-13 安全公告](https://www.jenkins.io/security/advisory/2021-01-13/#SECURITY-1923) 和 [ `hudson.util.RobustReflectionConverter.recordFailuresForAdmins` ](https://www.jenkins.io/doc/book/managing/system-properties/#hudson-util-robustreflectionconverter-recordfailuresforadmins)。

- `hudson.util.Secret.AUTO_ENCRYPT_PASSWORD_CONTROL`

  security  escape hatch   安全  逃生舱口   **Since:** 2.236  **从：**  2.236  **Default: 违约：** `true` `真`  **Description: 描述：** Jenkins automatically round-trips `f:password` based form fields as encrypted `Secret` even if the field is not of type `Secret`. Set this to `false` to disable this behavior, doing so is discouraged. Jenkins 会自动将基于 `f：password` 的表单字段作为加密`的 Secret`，即使该字段不是 `Secret` 类型。将此项设置为 `false` 可禁用此行为，不建议这样做。

- `hudson.util.Secret.BLANK_NONSECRET_PASSWORD_FIELDS_WITHOUT_ITEM_CONFIGURE`

  escape hatch  security   逃生舱口  安全   **Since:** 2.236  **从：**  2.236  **Default: 违约：** `true` `真`  **Description: 描述：** If the user is missing *Item/Configure* permission, Jenkins 2.236 and newer will blank out the password value automatically even if the form field is not backed by a `Secret`. Set this to `false` to disable this behavior, doing so is discouraged. 如果用户缺少 *Item/Configure* 权限，Jenkins 2.236 及更高版本将自动清空密码值，即使表单字段没有 `Secret` 支持。将此项设置为 `false` 可禁用此行为，不建议这样做。

- `hudson.util.Secret.provider`

  escape hatch 逃生舱口  **Since:** 1.36  **从：**  1.36  **Default: 违约：** system default 系统默认值  **Description: 描述：** Force a particular crypto provider; with Glassfish Enterprise set value to `SunJCE` to workaround [JENKINS-6459](https://issues.jenkins.io/browse/JENKINS-6459) and GLASSFISH-11862. 强制使用特定的加密提供商;将 Glassfish Enterprise 值设置为 `SunJCE` 以解决 [JENKINS-6459](https://issues.jenkins.io/browse/JENKINS-6459) 和 GLASSFISH-11862 问题。

- `hudson.util.StreamTaskListener.AUTO_FLUSH`

  escape hatch 逃生舱口  **Since:** 2.173  **从：**  2.173  **Default: 违约：** `false` `假`  **Description: 描述：** Jenkins no longer automatically flushes streams for code running remotely on agents for better performance. This may lead to loss of messages for plugins which print to a build log from the agent machine but do not flush their output. Use this flag to restore the previous behavior for freestyle builds. Jenkins 不再自动刷新在代理上远程运行的代码的流以获得更好的性能。这可能会导致插件的消息丢失，这些插件从代理计算机打印到构建日志，但不刷新其输出。使用此标志可恢复 freestyle 构建的先前行为。

- `hudson.Util.symlinkEscapeHatch`

  escape hatch 逃生舱口  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `false` `假`  **Description: 描述：** True to use exec of "ln" binary to create symbolic links instead of native code 如果为 True，则使用 “ln” 二进制文件的 exec 创建符号链接，而不是本机代码

- `hudson.Util.useNativeChmodAndMode`

  escape hatch 逃生舱口  **Since:** 2.93  **从：**  2.93  **Default: 违约：** `false` `假`  **Description: 描述：** True to use native (JNA/JNR) implementation to set file permissions instead of NIO. Removed without replacement in 2.304. 如果为 True，则使用本机 （JNA/JNR） 实现而不是 NIO 来设置文件权限。在 2.304 中未替换就被删除。

- `hudson.util.XStream2.collectionUpdateLimit`

  security  tuning  escape hatch   安全  调整  escape hatch   **Since:** 2.334 and 2.319.3   **从：**  2.334 和 2.319.3 开始  **Default: 违约：** `5`  **Description: 描述：** The maximum number of seconds that adding elements to collections may  cumulatively take when loading an XML document using XStream, or `-1` to disable. See [2022-02-09 security advisory](https://www.jenkins.io/security/advisory/2022-02-09/#SECURITY-2602) for context. 使用 XStream 加载 XML 文档时，将元素添加到集合可能累积所需的最大秒数，或者 `-1` 表示禁用。有关上下文，请参阅 [2022-02-09 安全公告](https://www.jenkins.io/security/advisory/2022-02-09/#SECURITY-2602)。

- `hudson.WebAppMain.forceSessionTrackingByCookie`

  escape hatch  security   逃生舱口  安全   **Since:** 2.234  **从：**  2.234  **Default: 违约：** `true` `真`  **Description: 描述：** Set to `false` to not force session tracking to be done via cookie. Escape hatch for [JENKINS-61738](https://issues.jenkins.io/browse/JENKINS-61738). 设置为 `false` 可不强制通过 Cookie 进行会话跟踪。[JENKINS-61738](https://issues.jenkins.io/browse/JENKINS-61738) 的逃生舱口。

- `hudson.widgets.HistoryWidget.threshold`

  tuning 调音  **Since:** 1.433  **从：**  1.433  **Default: 违约：** `30`  **Description: 描述：** How many builds to show in the build history side panel widget. 要在 Build history 侧面板小部件中显示的构建数量。

- `HUDSON_HOME`

  obsolete 过时  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** n/a 不适用  **Description: 描述：** Backward compatible fallback name for `JENKINS_HOME`. See documentation there. `JENKINS_HOME`的向后兼容回退名称。请参阅那里的文档。

- `jenkins.branch.MultiBranchProject.fireSCMSourceBuildsAfterSave`

  feature 特征  **Since:** branch-api 2.7.0   **从以下版本开始：**  branch-api 2.7.0  **Default: 违约：** `true` `真`  **Description: 描述：** When Multibranch Pipeline is reloaded from XML, it notifies its branch sources about it and triggers a scan if possible. This flag allows turning off this behavior. When Job DSL manages the items, this can avoid triggering many scans, which can potentially cause a build storm. The downside is that the branch source might use this notification to register webhooks or do any other useful setup work. 当 Multibranch Pipeline 从 XML 重新加载时，它会通知其分支源，并在可能的情况下触发扫描。此标志允许关闭此行为。当作业  DSL 管理项目时，这可以避免触发许多扫描，这可能会导致构建风暴。缺点是分支源可能会使用此通知来注册 Webhook  或执行任何其他有用的设置工作。

- `jenkins.CLI.disabled` `詹金斯。CLI.disabled`

  feature  obsolete   功能  已过时   **Since:** 2.32 and 2.19.3   **从：**  2.32 和 2.19.3 开始  **Default: 违约：** `false` `假`  **Description: 描述：** `true` to disable Jenkins CLI via JNLP and HTTP (SSHD can still be enabled). This has no effect since 2.165. `如果为 true`，则通过 JNLP 和 HTTP 禁用 Jenkins CLI（SSHD 仍可启用）。这自 2.165 起就没有效果了。

- `jenkins.InitReactorRunner.concurrency`

  tuning 调音  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** 2x of CPU 2 倍的 CPU  **Description: 描述：** During the start of Jenkins, the loading of jobs in parallel have a fixed number of threads by default (twice the CPU). To make Jenkins load time 8x faster (assuming sufficient IO), increase it to 8x. For example, 24 CPU Jenkins controller host use this: `-Djenkins.InitReactorRunner.concurrency=192` 在 Jenkins 启动期间，并行加载的作业默认具有固定数量的线程（CPU 的两倍）。要使 Jenkins 加载时间快 8 倍（假设有足够的 IO），请将其增加到 8 倍。例如，24 个 CPU Jenkins 控制器主机使用以下命令： `-Djenkins.InitReactorRunner.concurrency=192` 

- `jenkins.install.runSetupWizard`

  feature 特征  **Since:** 2.0  **从：**  2.0  **Default: 违约：** undefined 定义  **Description: 描述：** Set to `false` to skip install wizard. Note that doing so leaves Jenkins unsecured. Development-mode only: Set to `true` to not skip showing the setup wizard during Jenkins development. This property is only effective the first time you run Jenkins in given `JENKINS_HOME`. 设置为 `false` 可跳过安装向导。请注意，这样做会使 Jenkins 不安全。仅限开发模式：设置为 `true` 可在 Jenkins 开发期间不跳过显示设置向导。此属性仅在您首次在给定`JENKINS_HOME`中运行 Jenkins 时有效。

- `jenkins.install.SetupWizard.adminInitialApiToken`

  security  packaging   安全  包装   **Since:** 2.260  **从：**  2.260  **Default: 违约：** The default admin account will not have an API Token unless a value is provided for this system property 默认管理员帐户将没有 API 令牌，除非为此系统属性提供了值  **Description: 描述：** This property determines the behavior during the SetupWizard install phase  concerning the API Token creation for the initial admin account. The behavior depends on the provided value: 此属性确定 SetupWizard 安装阶段有关为初始管理员帐户创建 API 令牌的行为。行为取决于提供的值：  `true` `真` A token is generated using random value at startup and the information is put in the file `$JENKINS_HOME/secrets/initialAdminApiToken`. 在启动时使用 random value 生成令牌，并将信息放入 file `$JENKINS_HOME/secrets/initialAdminApiToken` 中。 "token" in plain text 纯文本形式的 “token” A fixed API Token will be created for the user with provided value as the token. 将为用户创建一个固定的 API 令牌，并提供的值作为令牌。 "@[file-location]" which contains plain text value of the token “@[file-location]”，其中包含令牌的纯文本值 A fixed API Token will be created for the user with the value read from the file. Jenkins will not delete the file after read, so the script is responsible to remove it when no longer needed. 将为用户创建一个固定的 API 令牌，其值为 read from the file。Jenkins 不会在读取后删除文件，因此脚本负责在不再需要时将其删除。   Token format is `[2-char hash version][32-hex-char of secret]`, where the hash version is currently only 11, e.g., `110123456789abcdef0123456789abcdef`. For example can be generated in following ways: Token 格式为 `[2-char hash version][32-hex-char of secret]` ，其中哈希版本当前仅为 11，例如 `110123456789abcdef0123456789abcdef` .例如，可以通过以下方式生成：   manually by prepending `11` to output of random generator website. Ask for 32 hex digits or 16 bytes in hex, e.g. https://www.browserling.com/tools/random-hex, https://www.random.org/bytes/ 通过在 Random Generator 网站的输出中预置 `11` 来手动操作。要求 32 个十六进制数字或 16 个字节的十六进制数字，例如 https://www.browserling.com/tools/random-hex、https://www.random.org/bytes/  in a shell: `echo "11$(openssl rand -hex 16)"` 在 shell 中： `echo "11$(openssl rand -hex 16)"`   in JavaScript: `const genRanHex = size ⇒ […Array(size)].map) ⇒ Math.floor(Math.random() *  16).toString(16.join(''); console.log('11' + genRanHex(32));` 在 JavaScript 中： `const genRanHex = size ⇒ […Array(size)].map) ⇒ Math.floor(Math.random() *  16).toString(16.join(''); console.log('11' + genRanHex(32));`    When the API Token is generated using this system property, it should be  revoked during the installation script using the other ways at your  disposal so that you have a fresh (random) token with less traces for  your script. See [ApiTokenProperty#generateNewToken(String)](https://javadoc.jenkins.io/jenkins/security/ApiTokenProperty.html#generateNewToken-java.lang.String-) and [ApiTokenProperty#revokeAllTokensExceptOne(String)](https://javadoc.jenkins.io/jenkins/security/ApiTokenProperty.html#revokeAllTokensExceptOne-java.lang.String-) for scripting methods or using the web API calls: `/user/[user-login]/descriptorByName/jenkins.security.ApiTokenProperty/generateNewToken` and `/user/[user-login]/descriptorByName/jenkins.security.ApiTokenProperty/revokeAllExcept` 使用此系统属性生成 API 令牌时，应在安装脚本期间使用您可以使用的其他方式撤销该令牌，以便您拥有脚本跟踪较少的新（随机）令牌。有关脚本方法或使用 Web API 调用，请参阅 [ApiTokenProperty#generateNewToken（String）](https://javadoc.jenkins.io/jenkins/security/ApiTokenProperty.html#generateNewToken-java.lang.String-) 和 [ApiTokenProperty#revokeAllTokensExceptOne（String）：](https://javadoc.jenkins.io/jenkins/security/ApiTokenProperty.html#revokeAllTokensExceptOne-java.lang.String-) `/user/[user-login]/descriptorByName/jenkins.security.ApiTokenProperty/generateNewToken` 和 `/user/[user-login]/descriptorByName/jenkins.security.ApiTokenProperty/revokeAllExcept` 

- `jenkins.model.Jenkins.additionalReadablePaths`

  security  escape hatch   安全  逃生舱口   **Since:** 2.263.2 / 2.275   **从：**  2.263.2 / 2.275  **Default: 违约：** undefined 定义  **Description: 描述：** A comma-separated list of additional top level path segments that should be accessible to users without Overall/Read permission. See [2021-01-13 security advisory](https://www.jenkins.io/security/advisory/2021-01-13/#SECURITY-2047). 一个逗号分隔的其他顶级路径段列表，这些路径段应可供没有 Overall/Read 权限的用户访问。请参阅 [2021-01-13 安全公告](https://www.jenkins.io/security/advisory/2021-01-13/#SECURITY-2047)。

- `jenkins.model.Jenkins.buildsDir`

  feature 特征  **Since:** 2.119  **从：**  2.119  **Default: 违约：** `${ITEM_ROOTDIR}/builds` `${ITEM_ROOTDIR}/个`  **Description: 描述：** The configuration of a given job is located under `$JENKINS_HOME/jobs/[JOB_NAME]/config.xml` and its builds are under `$JENKINS_HOME/jobs/[JOB_NAME]/builds` by default. This option allows you to store builds elsewhere, which can be useful  with finer-grained backup policies, or to store the build data on a  faster disk such as an SSD. The following placeholders are supported for this value: 默认情况下，给定作业的配置位于 下 `$JENKINS_HOME/jobs/[JOB_NAME]/config.xml` ，其内部版本位于 下 `$JENKINS_HOME/jobs/[JOB_NAME]/builds` 下。此选项允许您将构建存储在其他位置，这对于更精细的备份策略非常有用，或者将构建数据存储在更快的磁盘（如 SSD）上。此值支持以下占位符：   `${JENKINS_HOME}` – Resolves to the Jenkins home directory. `${JENKINS_HOME}` – 解析为 Jenkins 主目录。  `${ITEM_ROOTDIR}` – The directory containing the job metadata within Jenkins home. `${ITEM_ROOTDIR}` – 包含 Jenkins 主目录中作业元数据的目录。  `${ITEM_FULL_NAME}` – The full name of the item, with file system unsafe characters replaced by others. `${ITEM_FULL_NAME}` – 项目的全名，文件系统不安全字符替换为其他字符。  `${ITEM_FULLNAME}` – See above, but does not replace unsafe characters. This is a legacy option and should not be used. `${ITEM_FULLNAME}` – 请参阅上文，但不替换不安全的字符。这是一个旧选项，不应使用。   For instance, if you would like to store builds outside of Jenkins home, you can use a value like the following: `/some_other_root/builds/${ITEM_FULL_NAME}` This used to be a UI setting, but was removed in 2.119 as it did not  support migration of existing build records and could lead to  build-related errors until restart. 例如，如果您想将构建存储在 Jenkins 主目录之外，您可以使用如下值： `/some_other_root/builds/${ITEM_FULL_NAME}` 这曾经是一个 UI 设置，但在 2.119 中删除了，因为它不支持迁移现有构建记录，并且可能导致与构建相关的错误，直到重新启动。  To manually migrate existing build records when starting to use this option (`TARGET_DIR` is the value supplied to `jenkins.model.Jenkins.buildsDir`): 要在开始使用此选项时手动迁移现有构建记录（`TARGET_DIR` 是提供给 `jenkins.model.Jenkins.buildsDir` 的值）：  For [Pipeline](https://www.jenkins.io/doc/book/pipeline/) and Freestyle job types, run this for each `JOB_NAME`: 对于 [Pipeline](https://www.jenkins.io/doc/book/pipeline/) 和 Freestyle 作业类型，请为每个`JOB_NAME`运行以下命令：  `mkdir -p [TARGET_DIR] mv $JENKINS_HOME/jobs/[JOB_NAME]/builds [TARGET_DIR]/[JOB_NAME]`

For [Multibranch Pipeline](https://www.jenkins.io/doc/book/pipeline/multibranch/#creating-a-multibranch-pipeline) jobs, run for each `BRANCH_NAME`:
对于 [Multibranch Pipeline](https://www.jenkins.io/doc/book/pipeline/multibranch/#creating-a-multibranch-pipeline) 作业，请为每个`BRANCH_NAME`运行：

```sh
mkdir -p [TARGET_DIR]/[JOB_NAME]/branches/
mv $JENKINS_HOME/jobs/[JOB_NAME]/branches/[BRANCH_NAME]/builds \
    [TARGET_DIR]/[JOB_NAME]/branches/[BRANCH_NAME]
```

For [Organization Folders](https://www.jenkins.io/doc/book/pipeline/multibranch/#organization-folders), run this for each `REPO_NAME` and `BRANCH_NAME`:
对于 [Organization Folders （组织文件夹](https://www.jenkins.io/doc/book/pipeline/multibranch/#organization-folders)），请为每个 `REPO_NAME` 和 `BRANCH_NAME` 运行以下命令：

```sh
mkdir -p [TARGET_DIR]/[ORG_NAME]/jobs/[REPO_NAME]/branches/
mv $JENKINS_HOME/jobs/[ORG_NAME]/jobs/[REPO_NAME]/branches/[BRANCH_NAME]/builds \
    [TARGET_DIR]/[ORG_NAME]/jobs/[REPO_NAME]/branches/[BRANCH_NAME]
```

- `jenkins.model.Jenkins.crumbIssuerProxyCompatibility`

  escape hatch  feature   逃生舱口  功能   **Since:** 2.119  **从：**  2.119  **Default: 违约：** `false` `假`  **Description: 描述：** `true` to enable crumb proxy compatibility when running the Setup Wizard for the first time. `如果为 true`，则在首次运行 Setup Wizard 时启用 crumb 代理兼容性。

- `jenkins.model.Jenkins.disableExceptionOnNullInstance`

  escape hatch 逃生舱口  **Since:** 2.4 *only*, replaced in 2.5+ by jenkins.model.Jenkins.enableExceptionOnNullInstance   **从：**  2.4 *仅*，在 2.5+ 中替换为 jenkins.model.Jenkins.enableExceptionOnNullInstance  **Default: 违约：** `false` `假`  **Description: 描述：** `true` to disable throwing an `IllegalStateException` when `Jenkins.getInstance()` returns `null` `如果为 true`，则禁止在 `Jenkins.getInstance（）` 返回 `null` 时抛出 `IllegalStateException`

- `jenkins.model.Jenkins.enableExceptionOnNullInstance`

  escape hatch 逃生舱口  **Since:** 2.5  **从：**  2.5  **Default: 违约：** `false` `假`  **Description: 描述：** `true` to enable throwing an `IllegalStateException` when `Jenkins.getInstance()` returns `null` `true` 允许在 `Jenkins.getInstance（）` 返回 `null` 时引发 `IllegalStateException`

- `jenkins.model.Jenkins.exitCodeOnRestart`

  packaging 包装  **Since:** 2.102  **从：**  2.102  **Default: 违约：** `5`  **Description: 描述：** When using the `-Dhudson.lifecycle=hudson.lifecycle.ExitLifecycle`, exit using this exit code when Jenkins is restarted 使用 时， `-Dhudson.lifecycle=hudson.lifecycle.ExitLifecycle` 请在 Jenkins 重新启动时使用此退出代码退出

- `jenkins.model.Jenkins.initLogLevel`

  Uncategorized 未分类  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `FINE` `好`  **Description: 描述：** Log level for verbose messages from the init reactor listener. 来自 init reactor 侦听器的详细消息的日志级别。

- `jenkins.model.Jenkins.killAfterLoad`

  Uncategorized 未分类  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `false` `假`  **Description: 描述：** Exit Jenkins right after loading. Intended as a development/testing aid only. 加载后立即退出 Jenkins。仅用作开发/测试辅助工具。

- `jenkins.model.Jenkins.logStartupPerformance`

  Uncategorized 未分类  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `false` `假`  **Description: 描述：** Log startup timing info. Note that some messages are not logged on levels visible by default (i.e. INFO and up). 记录启动计时信息。请注意，某些消息不会记录在默认可见的级别（即 INFO 及以上）。

- `jenkins.model.Jenkins.nameValidationRejectsTrailingDot`

  security  escape hatch   安全  逃生舱口   **Since:** 2.315 and 2.303.2   **从：**  2.315 和 2.303.2 开始  **Default: 违约：** `true` `真`  **Description: 描述：** Set to `false` to allow names to end with a trailing `.` character, which can cause problems on Windows. Escape hatch for [SECURITY-2424](https://www.jenkins.io/security/advisory/2021-10-06/#SECURITY-2424). 设置为 `false` 以允许名称以尾部 `.` 字符结尾，这可能会导致 Windows 出现问题。[SECURITY-2424](https://www.jenkins.io/security/advisory/2021-10-06/#SECURITY-2424) 的逃生舱口。

- `jenkins.model.Jenkins.parallelLoad`

  escape hatch 逃生舱口  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `true` `真`  **Description: 描述：** Loads job configurations in parallel on startup. 在启动时并行加载作业配置。

- `jenkins.model.Jenkins.slaveAgentPort`

  feature 特征  **Since:** 1.643  **从：**  1.643  **Default: 违约：** `-1` (disabled) since 2.0, `0` in Jenkins 1.x. `-1`（禁用）从 2.0 开始，在 Jenkins 1.x 中为 `0`。  **Description: 描述：** Specifies the default TCP agent port unless/until configured differently on the UI. `-1` to disable, `0` for random port, other values for fixed port. 指定默认 TCP 代理端口，除非/直到在 UI 上配置不同。`-1` 表示禁用，`0` 表示随机端口，其他值表示固定端口。

- `jenkins.model.Jenkins.slaveAgentPortEnforce`

  feature 特征  **Since:** 2.19.4 and 2.24   **从：**  2.19.4 和 2.24 开始  **Default: 违约：** `false` `假`  **Description: 描述：** If true, enforces the specified `jenkins.model.Jenkins.slaveAgentPort` on startup and will not allow changing it through the UI 如果为 true，则在启动时强制执行指定的 `jenkins.model.Jenkins.slaveAgentPort` ID，并且不允许通过 UI 更改它

- `jenkins.model.Jenkins.workspaceDirName`

  obsolete 过时  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `workspace` `工作`  **Description: 描述：** Obsolete: Was used as the default workspace directory name in the legacy  workspace directory layout (workspace directories within job  directories). Obsolete：用作旧版工作区目录布局（作业目录中的工作区目录）中的默认工作区目录名称。

- `jenkins.model.Jenkins.workspacesDir`

  feature 特征  **Since:** 2.119  **从：**  2.119  **Default: 违约：** `${JENKINS_HOME}/workspace/${ITEM_FULL_NAME}`  **Description: 描述：** Allows to change the directory layout for the job workspaces on the controller node. See `jenkins.model.Jenkins.buildsDir` for supported placeholders. 允许更改控制器节点上作业工作区的目录布局。有关支持的占位符，请参阅 `jenkins.model.Jenkins.buildsDir` 。

- `jenkins.model.JenkinsLocationConfiguration.disableUrlValidation`

  escape hatch 逃生舱口  **Since:** 2.197 / LTS 2.176.4   **从：**  2.197 / LTS 2.176.4  **Default: 违约：** `false` `假`  **Description: 描述：** Disable URL validation intended to prevent an XSS vulnerability. See [SECURITY-1471](https://www.jenkins.io/security/advisory/2019-09-25/#SECURITY-1471) for details. 禁用旨在防止 XSS 漏洞的 URL 验证。有关详细信息，请参阅 [SECURITY-1471](https://www.jenkins.io/security/advisory/2019-09-25/#SECURITY-1471)。

- `jenkins.model.lazy.BuildReference.MODE`

  development  tuning   开发  调优   **Since:** 1.548  **自：**  1.548  **Default: 违约：** `soft` `软`  **Description: 描述：** Configure the kind of reference Jenkins uses to hold builds in memory. Choose from among `soft`, `weak`, `strong`, and `not` (do not hold builds in memory at all). Intended mostly as a debugging aid. See [JENKINS-19400](https://issues.jenkins.io/browse/JENKINS-19400). 配置 Jenkins 用于在内存中保存构建的引用类型。从 `soft`、`weak`、`strong` 和 `not` 中进行选择（根本不在内存中保存构建）。主要用作调试辅助工具。请参阅 [JENKINS-19400](https://issues.jenkins.io/browse/JENKINS-19400)。

- `jenkins.model.Nodes.enforceNameRestrictions`

  security  escape hatch   安全  逃生舱口   **Since:** 2.263.2 / 2.275   **从：**  2.263.2 / 2.275  **Default: 违约：** `true` `真`  **Description: 描述：** Whether to enforce new name restrictions for agent names. See [2021-01-13 security advisory](https://www.jenkins.io/security/advisory/2021-01-13/#SECURITY-2021). 是否对代理名称强制实施新的名称限制。请参阅 [2021-01-13 安全公告](https://www.jenkins.io/security/advisory/2021-01-13/#SECURITY-2021)。

- `jenkins.model.StandardArtifactManager.disableTrafficCompression`

  tuning  feature   调优  功能   **Since:** 2.196  **自：**  2.196  **Default: 违约：** `false` `假`  **Description: 描述：** `true` to disable GZIP compression of artifacts when they’re transferred from  agent nodes to controller. Uses less CPU at the cost of increased  network traffic. `如果为 true`，则在构件从 agent 节点传输到 controller 时禁用构件的 GZIP 压缩。 使用更少的 CPU，但代价是网络流量增加。

- `jenkins.monitor.JavaVersionRecommendationAdminMonitor.disable`

  feature 特征  **Since:** 2.305  **起始时间：**  2.305  **Default: 违约：** `false` `假`  **Description: 描述：** `true` to disable the monitor that recommends newer Java versions. `如果为 true`，则禁用推荐较新 Java 版本的监视器。

- `jenkins.security.ApiTokenProperty.adminCanGenerateNewTokens `

  escape hatch  security   逃生舱口  安全   **Since:** 2.129  **从：**  2.129  **Default: 违约：** `false` `假`  **Description: 描述：** `true` to allow users with Overall/Administer permission to create API tokens using the new system for any user. Note that the user will not be able to use that token since it’s only displayed to the creator, once. `如果为 true`，则允许具有 Overall/Administer（总体/管理）权限的用户使用新系统为任何用户创建 API 令牌。请注意，用户将无法使用该令牌，因为它只向创建者显示一次。

- `jenkins.security.ApiTokenProperty.showTokenToAdmins`

  escape hatch  security   逃生舱口  安全   **Since:** 1.638  **起始价：**  1.638  **Default: 违约：** `false` `假`  **Description: 描述：** True to show API tokens for users to administrators on the user configuration page. This was set to `false` as part of [SECURITY-200](https://www.jenkins.io/security/advisory/2015-11-11/#api-tokens-of-other-users-available-to-admins) 如果为 True，则在用户配置页面上向管理员显示用户的 API 令牌。作为 [SECURITY-200](https://www.jenkins.io/security/advisory/2015-11-11/#api-tokens-of-other-users-available-to-admins) 的一部分，此 API 设置为 `false`

- `jenkins.security.ClassFilterImpl.SUPPRESS_ALL`

  escape hatch  security   逃生舱口  安全   **Since:** 2.102  **从：**  2.102  **Default: 违约：** `false` `假`  **Description: 描述：** Do not perform any JEP-200 class filtering when deserializing data. Setting this to `true` is unsafe. See [documentation](https://www.jenkins.io/redirect/class-filter/). 在反序列化数据时，不要执行任何 JEP-200 类过滤。将此设置为 `true` 是不安全的。请参阅[文档](https://www.jenkins.io/redirect/class-filter/)。

- `jenkins.security.ClassFilterImpl.SUPPRESS_WHITELIST`

  escape hatch  security   逃生舱口  安全   **Since:** 2.102  **从：**  2.102  **Default: 违约：** `false` `假`  **Description: 描述：** Do not perform whitelist-based JEP-200 class filtering when deserializing data. With this flag set, only explicitly blacklisted types will be rejected. Setting this to `true` is unsafe. See [documentation](https://www.jenkins.io/redirect/class-filter/). 反序列化数据时，不要执行基于白名单的 JEP-200 类过滤。设置此标志后，将仅拒绝显式列入黑名单的类型。将此设置为 `true` 是不安全的。请参阅[文档](https://www.jenkins.io/redirect/class-filter/)。

- `jenkins.security.FIPS140.COMPLIANCE`

  feature  security   功能  安全性   **Since:** 2.424  **从：**  2.424  **Default: 违约：** `false` `假`  **Description: 描述：** If Jenkins and plugins systems should prefer [FIPS-140](https://csrc.nist.gov/pubs/fips/140-2/upd2/final) compliant cryptography. Not all features/plugins have been adapted, and this only indicates a preference. If you set this flag to `true`, it does not make Jenkins and its plugins FIPS-140 compliant. Refer to [Jenkins and FIPS-140 Overview](https://www.jenkins.io/doc/book/system-administration/FIPS-140/) for more information. 如果 Jenkins 和插件，系统应该首选符合 [FIPS-140](https://csrc.nist.gov/pubs/fips/140-2/upd2/final) 的加密技术。并非所有功能/插件都经过调整，这仅表示偏好。如果将此标志设置为 `true`，则不会使 Jenkins 及其插件符合 FIPS-140 标准。有关更多信息，请参阅 [Jenkins 和 FIPS-140 概述](https://www.jenkins.io/doc/book/system-administration/FIPS-140/)。

- `jenkins.security.FrameOptionsPageDecorator.enabled`

  escape hatch  security   逃生舱口  安全   **Since:** 1.581  **从：**  1.581  **Default: 违约：** `true` `真`  **Description: 描述：** Whether to send `X-Frame-Options: sameorigin` header, set to `false` to disable and make Jenkins embeddable 是否发送 `X-Frame-Options： sameorigin` 头，设置为 `false` 以禁用和嵌入 Jenkins

- `jenkins.security.ignoreBasicAuth`

  feature  security   功能  安全性   **Since:** 1.421  **自：**  1.421  **Default: 违约：** `false` `假`  **Description: 描述：** When set to `true`, disable `Basic` authentication with username and password (rather than API token). 当设置为 `true` 时，禁用使用用户名和密码（而不是 API 令牌）`的基本`身份验证。

- `jenkins.security.ManagePermission`

  feature  security   功能  安全性   **Since:** 2.222  **从：**  2.222  **Default: 违约：** `false` `假`  **Description: 描述：** Enable the optional Overall/Manage permission that allows limited access to  administrative features suitable for a hosted Jenkins environment. See [JEP-223](https://github.com/jenkinsci/jep/tree/master/jep/223). 启用可选的 Overall/Manage 权限，该权限允许对适用于托管 Jenkins 环境的管理功能进行有限访问。请参阅 [JEP-223](https://github.com/jenkinsci/jep/tree/master/jep/223)。

- `jenkins.security.ResourceDomainRootAction.allowAuthenticatedUser`

  security  escape hatch   安全  逃生舱口   **Since:** 2.475  **自：**  2.475  **Default: 违约：** `false` `假`  **Description: 描述：** Allow authenticated user access to [Resource URLs](https://www.jenkins.io/doc/book/security/user-content/#resource-root-url). Escape hatch for a security improvement related to the [2024-01-24 security advisory](https://www.jenkins.io/security/advisory/2024-01-24/#SECURITY-3314). 允许经过身份验证的用户访问[资源 URL](https://www.jenkins.io/doc/book/security/user-content/#resource-root-url)。逃生舱口，用于与 [2024-01-24 安全公告](https://www.jenkins.io/security/advisory/2024-01-24/#SECURITY-3314)相关的安全改进。

- `jenkins.security.ResourceDomainRootAction.validForMinutes`

  tuning  security   优化  安全性   **Since:** 2.2  **从：**  2.2  **Default: 违约：** `30`  **Description: 描述：** How long a resource URL served from the resource root URL will be valid for before users are required to reauthenticate to access it. See inline documentation in Jenkins for details. 从资源根 URL 提供的资源 URL 的有效期，然后用户需要重新进行身份验证才能访问它。有关详细信息，请参阅 Jenkins 中的内联文档。

- `jenkins.security.s2m.CallableDirectionChecker.allow`

  security  escape hatch   安全  逃生舱口   **Since:** 1.587 and 1.580.1   **自：**  1.587 和 1.580.1  **Default: 违约：** `false` `假`  **Description: 描述：** This flag can be set to `true` to disable the agent-to-controller security system entirely. Since Jenkins 2.326, this is the only way to do that, as the UI option has been removed. 此标志可以设置为 `true` 以完全禁用代理到控制器安全系统。从 Jenkins 2.326 开始，这是唯一的方法，因为 UI 选项已被删除。

- `jenkins.security.s2m.CallableDirectionChecker.allowAnyRole`

  security  obsolete   安全性  过时   **Since:** 2.319 and 2.303.3   **自：**  2.319 和 2.303.3  **Default: 违约：** `true` `真`  **Description: 描述：** This flag can be set to `false` to explicitly reject `Callable` implementations that do not declare any required role. It is unclear whether this can safely be set to `false` in Jenkins before 2.335, or whether that would cause problems with some remoting built-in callables. This flag was removed in Jenkins 2.335. 此标志可以设置为 `false` 以显式拒绝未声明任何必需角色的 `Callable` 实现。目前尚不清楚是否可以在 2.335 之前的 Jenkins 中安全地将其设置为 `false`，或者这是否会导致某些远程处理内置可调用对象出现问题。此标志已在 Jenkins 2.335 中删除。

- `jenkins.security.s2m.DefaultFilePathFilter.allow`

  escape hatch  security   逃生舱口  安全   **Since:** 1.587 and 1.580.1   **自：**  1.587 和 1.580.1  **Default: 违约：** `false` `假`  **Description: 描述：** Allow all file paths on the Jenkins controller to be accessed from agents. This disables a big part of [SECURITY-144](https://www.jenkins.io/security/advisory/2014-10-30/) protections. 允许从代理访问 Jenkins 控制器上的所有文件路径。这将禁用很大一部分 [SECURITY-144](https://www.jenkins.io/security/advisory/2014-10-30/) 保护。

- `jenkins.security.s2m.JarURLValidatorImpl.REJECT_ALL`

  security 安全  **Since:** 2.471 and 2.452.4   **自：**  2.471 和 2.452.4  **Default: 违约：** `false` `假`  **Description: 描述：** Reject all attempts by agents to use `ClassLoaderProxy#fetchJar`. Drops backward compatibility with releases of remoting (`agent.jar`) before 2024-08. See [SECURITY-3430](https://www.jenkins.io/security/advisory/2024-08-07/#SECURITY-3430). 拒绝代理使用 `ClassLoaderProxy#fetchJar` 的所有尝试。不再与 2024-08 之前的远程处理 （`agent.jar`） 版本向后兼容。参见 [SECURITY-3430](https://www.jenkins.io/security/advisory/2024-08-07/#SECURITY-3430)。

- `jenkins.security.s2m.RunningBuildFilePathFilter.FAIL`

  escape hatch  security   逃生舱口  安全   **Since:** 2.319 and 2.303.3   **自：**  2.319 和 2.303.3  **Default: 违约：** `true` `真`  **Description: 描述：** Set to `false` to not reject attempts to access file paths in build directories of builds not currently being built on the accessing agent. Instead, only a warning is logged. Attempts to access file paths in build directories from other processes will still fail. See [the description of the SECURITY-2458 security fix](https://www.jenkins.io/security/advisory/2021-11-04/#SECURITY-2455) for context. 设置为 `false` 将不拒绝访问当前未在访问代理上构建的构建的构建目录中的文件路径的尝试。相反，仅记录警告。尝试从其他进程访问 build 目录中的文件路径仍将失败。有关上下文[，请参阅 SECURITY-2458 安全修复的描述](https://www.jenkins.io/security/advisory/2021-11-04/#SECURITY-2455)。

- `jenkins.security.s2m.RunningBuildFilePathFilter.SKIP`

  escape hatch  security   逃生舱口  安全   **Since:** 2.319 and 2.303.3   **自：**  2.319 和 2.303.3  **Default: 违约：** `false` `假`  **Description: 描述：** Set to `true` to disable the additional protection to not reject attempts to access  file paths in build directories. This will restore access to any build directories both from agents and  from other processes with a remoting channel, like Maven Integration  Plugin. See [the description of the SECURITY-2458 security fix](https://www.jenkins.io/security/advisory/2021-11-04/#SECURITY-2455) for context. 设置为 `true` 可禁用附加保护，以不拒绝访问构建目录中的文件路径的尝试。这将恢复来自代理和具有远程通道的其他进程（如 Maven Integration Plugin）对任何构建目录的访问。有关上下文[，请参阅 SECURITY-2458 安全修复的描述](https://www.jenkins.io/security/advisory/2021-11-04/#SECURITY-2455)。

- `jenkins.security.seed.UserSeedProperty.disableUserSeed`

  escape hatch  security   逃生舱口  安全   **Since:** 2.160 and 2.105.2   **从：**  2.160 和 2.105.2 开始  **Default: 违约：** `false` `假`  **Description: 描述：** Disables *user seed*. Escape hatch for [SECURITY-901](https://www.jenkins.io/security/advisory/2019-01-16/#SECURITY-901). 禁用*用户种子*。[SECURITY-901](https://www.jenkins.io/security/advisory/2019-01-16/#SECURITY-901) 的逃生舱口。

- `jenkins.security.seed.UserSeedProperty.hideUserSeedSection`

  UI  security   UI  安全性   **Since:** 2.160 and 2.105.2   **从：**  2.160 和 2.105.2 开始  **Default: 违约：** `false` `假`  **Description: 描述：** Hide the UI for *user seed* introduced for [SECURITY-901](https://www.jenkins.io/security/advisory/2019-01-16/#SECURITY-901). 隐藏为 [SECURITY-901](https://www.jenkins.io/security/advisory/2019-01-16/#SECURITY-901) 引入*的用户种子*的 UI。

- `jenkins.security.stapler.StaplerDispatchValidator.disabled`

  escape hatch  security   逃生舱口  安全   **Since:** 2.186 and 2.176.2   **从：**  2.186 和 2.176.2 开始  **Default: 违约：** `false` `假`  **Description: 描述：** Escape hatch for [SECURITY-534](https://www.jenkins.io/security/advisory/2019-07-17/#SECURITY-534). [SECURITY-534](https://www.jenkins.io/security/advisory/2019-07-17/#SECURITY-534) 的逃生舱口。

- `jenkins.security.stapler.StaplerDispatchValidator.whitelist`

  escape hatch  security   逃生舱口  安全   **Since:** 2.186 and 2.176.2   **从：**  2.186 和 2.176.2 开始  **Default: 违约：** `stapler-views-whitelist.txt` in `JENKINS_HOME` `stapler-views-whitelist.txt` `in JENKINS_HOME`  **Description: 描述：** Override the location of the user configurable whitelist for stapler view dispatches. This augments the built-in whitelist for [SECURITY-534](https://www.jenkins.io/security/advisory/2019-07-17/#SECURITY-534) that allows dispatches to views that would otherwise be prohibited. 覆盖订书机视图分派的用户可配置白名单的位置。这增强了 [SECURITY-534](https://www.jenkins.io/security/advisory/2019-07-17/#SECURITY-534) 的内置白名单，允许 dispatch 到原本被禁止的视图。

- `jenkins.security.stapler.StaticRoutingDecisionProvider.whitelist`

  escape hatch  security   逃生舱口  安全   **Since:** 2.154 and 2.138.4   **从：**  2.154 和 2.138.4 开始  **Default: 违约：** `stapler-whitelist.txt` in `JENKINS_HOME` `stapler-whitelist.txt` `in JENKINS_HOME`  **Description: 描述：** Override the location of the user configurable whitelist for stapler request routing. This augments the built-in whitelist for [SECURITY-595](https://www.jenkins.io/security/advisory/2018-12-05/#SECURITY-595) that allows routing requests through methods that would otherwise be prohibited. 覆盖订书机请求路由的用户可配置白名单的位置。这增强了 [SECURITY-595](https://www.jenkins.io/security/advisory/2018-12-05/#SECURITY-595) 的内置白名单，允许通过原本被禁止的方法路由请求。

- `jenkins.security.stapler.TypedFilter.prohibitStaticAccess`

  escape hatch  security   逃生舱口  安全   **Since:** 2.154 and 2.138.4   **从：**  2.154 和 2.138.4 开始  **Default: 违约：** `true` `真`  **Description: 描述：** Prohibits access to `public static` fields when routing requests in Stapler. Escape hatch for [SECURITY-595](https://www.jenkins.io/security/advisory/2018-12-05/#SECURITY-595). 在 Stapler 中路由请求时禁止访问`公共静态`字段。[SECURITY-595](https://www.jenkins.io/security/advisory/2018-12-05/#SECURITY-595) 的逃生舱口。

- `jenkins.security.stapler.TypedFilter.skipTypeCheck`

  escape hatch  security   逃生舱口  安全   **Since:** 2.154 and 2.138.4   **从：**  2.154 和 2.138.4 开始  **Default: 违约：** `false` `假`  **Description: 描述：** Skip (return) type check when determining whether a method or field should  be routable with Stapler (i.e. allow any return type). Escape hatch for [SECURITY-595](https://www.jenkins.io/security/advisory/2018-12-05/#SECURITY-595). 在确定方法或字段是否应使用 Stapler 进行路由（即允许任何返回类型）时，跳过（返回）类型检查。[SECURITY-595](https://www.jenkins.io/security/advisory/2018-12-05/#SECURITY-595) 的逃生舱口。

- `jenkins.security.SuspiciousRequestFilter.allowSemicolonsInPath`

  escape hatch  security   逃生舱口  安全   **Since:** 2.228 and 2.204.6   **从：**  2.228 和 2.204.6 开始  **Default: 违约：** `false` `假`  **Description: 描述：** Escape hatch for [SECURITY-1774](https://www.jenkins.io/security/advisory/2020-03-25/#SECURITY-1774). Allows requests to URLs with semicolon characters (`;`) in the request path. [SECURITY-1774](https://www.jenkins.io/security/advisory/2020-03-25/#SECURITY-1774) 的逃生舱口。允许对请求路径中带有分号字符 （`;`） 的 URL 发出请求。

- `jenkins.security.SystemReadPermission`

  feature  security   功能  安全性   **Since:** 2.222  **从：**  2.222  **Default: 违约：** `false` `假`  **Description: 描述：** Enable the optional Overall/SystemRead permission that allows read-only access to administrative features suitable for a managed Jenkins Configuration as Code environment. See [JEP-224](https://github.com/jenkinsci/jep/tree/master/jep/224). 启用可选的 Overall/SystemRead 权限，该权限允许对适用于托管 Jenkins 配置即代码环境的管理功能进行只读访问。参见 [JEP-224](https://github.com/jenkinsci/jep/tree/master/jep/224)。

- `jenkins.security.UserDetailsCache.EXPIRE_AFTER_WRITE_SEC`

  tuning  security   优化  安全性   **Since:** 2.15  **从：**  2.15  **Default: 违约：** `120` (2 minutes) `120`（2 分钟）  **Description: 描述：** How long a cache for `UserDetails` should be valid for before it is looked up again from the security realm. See [JENKINS-35493](https://issues.jenkins.io/browse/JENKINS-35493). 在从安全领域再次查找 `UserDetails` 的缓存之前，它的有效期应为多长时间。请参阅 [JENKINS-35493](https://issues.jenkins.io/browse/JENKINS-35493)。

- `jenkins.slaves.DefaultJnlpSlaveReceiver.disableStrictVerification`

  security 安全  **Since:** 2.28  **从：**  2.28  **Default: 违约：** `false` `假`  **Description:**  *Undocumented*   **描述：**  *未记载* 

- `jenkins.slaves.JnlpSlaveAgentProtocol3.enabled`

  obsolete 过时  **Since:** 1.653  **从：**  1.653  **Default: 违约：** undefined 定义  **Description: 描述：** `false` to disable the JNLP3 agent protocol, `true` to enable it. Otherwise it’s randomly enabled/disabled to A/B test it. Obsolete since the protocol was removed in 2.214. `false` 禁用 JNLP3 代理协议，`true` 启用它。否则，将随机启用/禁用它以进行 A/B 测试。由于该协议在 2.214 中被删除，因此已过时。

- `jenkins.slaves.NioChannelSelector.disabled`

  escape hatch 逃生舱口  **Since:** 1.56  **从：**  1.56  **Default: 违约：** `false` `假`  **Description: 描述：** `true` to disable Nio for JNLP agents `如果为 true`，则为 JNLP 代理禁用 Nio

- `jenkins.slaves.StandardOutputSwapper.disabled`

  escape hatch 逃生舱口  **Since:** 1.429  **从：**  1.429  **Default: 违约：** `false` `假`  **Description: 描述：** Some Unix-like agents (e.g. SSH Build Agents) can communicate via stdin/stdout, which is very convenient. Unfortunately, some JVM output (e.g. related to GC) also goes to standard out. This will swap output streams around to prevent stream corruption through unexpected writes to standard out. 一些类 Unix 的代理（例如 SSH Build Agent）可以通过 stdin/stdout 进行通信，非常方便。不幸的是，一些 JVM  输出（例如与 GC 相关）也进入了 standard out。这将交换输出流，以防止因意外写入 standard out 而导致流损坏。

- `jenkins.SoloFilePathFilter.redactErrors`

  escape hatch  security   逃生舱口  安全   **Since:** 2.319 and 2.303.3   **自：**  2.319 和 2.303.3  **Default: 违约：** `true` `真`  **Description: 描述：** Set to `false` to not redact error messages when the agent-to-controller file path filters reject a file access. This can give attackers information about files and directories on the Jenkins controller file system. 设置为 `false` 将在代理到控制器文件路径筛选器拒绝文件访问时不编辑错误消息。这可以向攻击者提供有关 Jenkins 控制器文件系统上的文件和目录的信息。

- `jenkins.telemetry.Telemetry.endpoint`

  development 发展  **Since:** 2.143  **从：**  2.143  **Default: 违约：** `https://uplink.jenkins.io/events`  **Description: 描述：** Change the endpoint that JEP-214/Uplink telemetry sends data to. Expected to be used for testing only. 更改 JEP-214/Uplink 遥测数据发送到的终端节点。预期仅用于测试。

- `jenkins.ui.refresh`

  UI  feature   UI  功能   **Since:** 2.222  **从：**  2.222  **Default: 违约：** `false` `假`  **Description: 描述：** `true` to enable the new experimental UX on Jenkins. See [JENKINS-60920](https://issues.jenkins.io/browse/JENKINS-60920). Also see [Jenkins UX SIG](https://www.jenkins.io/sigs/ux/). Has no effect since [2.344](https://github.com/jenkinsci/jenkins/commit/51e7142d5705c10833e0959fdf2534a32b0e7d86) as the feature has been removed. `true` 在 Jenkins 上启用新的实验性 UX。请参阅 [JENKINS-60920](https://issues.jenkins.io/browse/JENKINS-60920)。另请参阅 [Jenkins UX SIG](https://www.jenkins.io/sigs/ux/)。自 [2.344](https://github.com/jenkinsci/jenkins/commit/51e7142d5705c10833e0959fdf2534a32b0e7d86) 起没有效果，因为该功能已被删除。

- `jenkins.util.groovy.GroovyHookScript.ROOT_PATH`

  packaging 包装  **Since:** 2.273  **自：**  2.273  **Default: 违约：** `$JENKINS_HOME` `$JENKINS_首页`  **Description: 描述：** Set the root directory used to load groovy hooks scripts. 设置用于加载 groovy hooks 脚本的根目录。

- `jenkins.util.ProgressiveRendering.DEBUG_SLEEP`

  Uncategorized 未分类  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `0`  **Description: 描述：** Debug/development option to slow down the cancelling of progressive rendering when the client fails to send a heartbeat. Debug/development 选项，用于在客户端无法发送检测信号时减慢渐进式渲染的取消速度。

- `jenkins.websocket.idleTimeout` `jenkins.websocket.idle超时`

  tuning 调音  **Since:** 2.395  **起始时间：**  2.395  **Default: 违约：** `60`  **Description: 描述：** Number of seconds a WebSocket agent connection may stay idle until it expires. `0` to disable. Must be higher than `jenkins.websocket.pingInterval`. WebSocket 代理连接在过期之前可以保持空闲状态的秒数。`0` 禁用。必须高于 `jenkins.websocket.pingInterval` 。

- `jenkins.websocket.pingInterval`

  tuning 调音  **Since:** 2.217  **从：**  2.217  **Default: 违约：** `30`  **Description: 描述：** Number of seconds between server-sent pings over WebSocket agent connections. `0` to disable. Must be lower than `jenkins.websocket.idleTimeout`. 服务器通过 WebSocket 代理连接发送 ping 之间的秒数。`0` 禁用。必须低于 `jenkins.websocket.idleTimeout`。

- `JENKINS_HOME`

  feature 特征  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `~/.jenkins` `~/。詹金斯`  **Description: 描述：** While typically set as an environment variable, Jenkins also looks up the path to its home directory as a system property. `JENKINS_HOME` set via JNDI context has higher priority than this, but this takes precedence over the environment variable. 虽然通常设置为环境变量，但 Jenkins 还会将其主目录的路径作为系统属性查找。通过 JNDI 上下文设置`JENKINS_HOME`的优先级高于此，但这优先于环境变量。

- `org.jenkinsci.main.modules.sshd.SSHD.idle-timeout`

  tuning 调音  **Since:** 2.22  **从：**  2.22  **Default: 违约：** undefined 定义  **Description: 描述：** Allows to configure the SSHD client idle timeout (value in milliseconds). Default value is 10min (600000ms). 允许配置 SSHD 客户端空闲超时（以毫秒为单位的值）。默认值为 10 分钟 （600000 毫秒）。

- `org.jenkinsci.plugins.workflow.steps.durable_task.DurableTaskStep.REMOTE_TIMEOUT`

  tuning 调音  **Since:** workflow-durable-task-step-plugin 2.29   **从：**  workflow-durable-task-step-plugin 2.29 开始  **Default: 违约：** 20 seconds 20 秒  **Description: 描述：** How long to wait, in seconds, before interrupting remote calls and forcing cleanup when the step is stopped. See [JENKINS-46507](https://issues.jenkins.io/browse/JENKINS-46507) for more information. 在停止步骤时中断远程调用并强制清理之前等待的时间（以秒为单位）。有关更多信息，请参阅 [JENKINS-46507](https://issues.jenkins.io/browse/JENKINS-46507)。

- `org.jenkinsci.plugins.workflow.steps.durable_task.DurableTaskStep.USE_WATCHING`

  feature 特征  **Since:** workflow-durable-task-step-plugin 2.22   **从：**  workflow-durable-task-step-plugin 2.22 开始  **Default: 违约：** `false` `假`  **Description: 描述：** `true` to enable the experimental push mode for durable task logging. See [JENKINS-52165](https://issues.jenkins.io/browse/JENKINS-52165) for more information. `如果为 true`，则为持久任务日志记录启用实验性推送模式。有关更多信息，请参阅 [JENKINS-52165](https://issues.jenkins.io/browse/JENKINS-52165)。

- `org.jenkinsci.plugins.workflow.support.pickles.ExecutorPickle.timeoutForNodeMillis`

  tuning 调音  **Since:** workflow-durable-task-step-plugin 2.14   **从：**  workflow-durable-task-step-plugin 2.14 开始  **Default: 违约：** 5 minutes (300,000 milliseconds) 5 分钟（300,000 毫秒）  **Description: 描述：** How long to wait, in milliseconds, before aborting the build if an agent has been removed. See [JENKINS-36013](https://issues.jenkins.io/browse/JENKINS-36013) for more information. 如果已删除代理，则在中止构建之前等待的时间（以毫秒为单位）。有关更多信息，请参阅 [JENKINS-36013](https://issues.jenkins.io/browse/JENKINS-36013)。

- `org.jenkinsci.plugins.workflow.support.steps.ExecutorStepExecution.REMOVED_NODE_DETECTION`

  feature 特征  **Since:** workflow-durable-task-step-plugin 2.32   **从：**  workflow-durable-task-step-plugin 2.32 开始  **Default: 违约：** `true` `真`  **Description: 描述：** `false` to prevent Jenkins from aborting the build if an agent has been removed. See [JENKINS-49707](https://issues.jenkins.io/browse/JENKINS-49707) for more information. `false` 以防止 Jenkins 在已删除代理时中止构建。有关更多信息，请参阅 [JENKINS-49707](https://issues.jenkins.io/browse/JENKINS-49707)。

- `org.kohsuke.stapler.Facet.allowViewNamePathTraversal`

  escape hatch  security   逃生舱口  安全   **Since:** 2.138.2, 2.146   **从：**  2.138.2、2.146  **Default: 违约：** `false` `假`  **Description: 描述：** Allows specifying non-simple names for views, including ones resulting in path traversal. This is an escape hatch for the [SECURITY-867](https://www.jenkins.io/security/advisory/2018-10-10/#SECURITY-867) fix. 允许为视图指定非简单名称，包括导致路径遍历的名称。这是 [SECURITY-867](https://www.jenkins.io/security/advisory/2018-10-10/#SECURITY-867) 修复的逃生舱口。

- `org.kohsuke.stapler.jelly.IncludeTag.skipLoggingClassSetter`

  escape hatch 逃生舱口  **Since:** 2.288  **从：**  2.288  **Default: 违约：** `false` `假`  **Description: 描述：** Do not log attempts to set the `class` property of `st:include` tags directly. No log messages should be emitted in regular use, but they can be disabled if they cause unnecessary noise in the system log. 不记录直接设置 `st：include` 标记的 `class` 属性的尝试。在正常使用中不应发出任何日志消息，但如果它们在系统日志中引起不必要的噪音，则可以禁用它们。

- `org.kohsuke.stapler.RequestImpl.ALLOWED_HTTP_VERBS_FOR_FORMS`

  escape hatch  security   逃生舱口  安全   **Since:** 2.277.2, 2.287   **从：**  2.277.2、2.287  **Default: 违约：** `POST` `发布`  **Description: 描述：** HTTP verbs of requests that are allowed to provide `StaplerRequest#getSubmittedForm` or `@SubmittedForm`. Escape hatch for a security hardening, see [2.277.2 upgrade guide](https://www.jenkins.io/doc/upgrade-guide/2.277/#submittedform). 允许提供 `StaplerRequest#getSubmittedForm` 或`@SubmittedForm`的请求的 HTTP 动词。转义舱口 有关安全强化的信息，请参阅 [2.277.2 升级指南](https://www.jenkins.io/doc/upgrade-guide/2.277/#submittedform)。

- `org.kohsuke.stapler.RequestImpl.FILEUPLOAD_MAX_FILE_SIZE`

  tuning  security   优化  安全性   **Since:** 2.375.4, 2.394   **从：**  2.375.4、2.394  **Default: 违约：** `-1`  **Description: 描述：** Limits the size (in bytes) of individual fields that can be processed in one `multipart/form-data` request. Despite the name, this applies to all form fields, not just actual file attachments. `-1` disables this limit. 限制可在一个 `multipart/form-data` 请求中处理的单个字段的大小（以字节为单位）。尽管名称如此，但这适用于所有表单字段，而不仅仅是实际的文件附件。`-1` 禁用此限制。

- `org.kohsuke.stapler.RequestImpl.FILEUPLOAD_MAX_FILES`

  escape hatch  tuning  security   逃生舱口  调整  安全性   **Since:** 2.375.4, 2.394   **从：**  2.375.4、2.394  **Default: 违约：** `1000`  **Description: 描述：** Limits the number of form fields that can be processed in one `multipart/form-data` request. Used to set `org.apache.commons.fileupload.servlet.ServletFileUpload#setFileCountMax(long)`. Despite the name, this applies to all form fields, not just actual file attachments. `-1` disables this limit. 限制可在一个 `multipart/form-data` 请求中处理的表单字段数。用于设置 `org.apache.commons.fileupload.servlet.ServletFileUpload#setFileCountMax(long)` .尽管名称如此，但这适用于所有表单字段，而不仅仅是实际的文件附件。`-1` 禁用此限制。

- `org.kohsuke.stapler.RequestImpl.FILEUPLOAD_MAX_SIZE`

  tuning  security   优化  安全性   **Since:** 2.375.4, 2.394   **从：**  2.375.4、2.394  **Default: 违约：** `-1`  **Description: 描述：** Limits the total request size (in bytes) that can be processed in one `multipart/form-data` request. Used to set `org.apache.commons.fileupload.servlet.ServletFileUpload#setSizeMax(long)`. `-1` disables this limit. 限制可在一个 `multipart/form-data` 请求中处理的总请求大小（以字节为单位）。用于设置 `org.apache.commons.fileupload.servlet.ServletFileUpload#setSizeMax(long)` .`-1` 禁用此限制。

- `stapler.jelly.noCache`

  development 发展  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `false` `假`  **Description: 描述：** Controls both caching of various cacheable resources (Jelly scripts etc.) as well as the `Expires` HTTP response header for some static resources. Useful during development to see the effect of changes after reload. 控制各种可缓存资源（Jelly 脚本等）的缓存，以及某些静态资源的 `Expires` HTTP 响应标头。在开发过程中，用于查看重新加载后更改的效果。

- `stapler.jelly.trace` `订书机 .jelly.trace`

  development 发展  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `false` `假`  **Description: 描述：** Enables tracing of Jelly view composition. View the resulting page source to see comments indicating which parts of the view were created from which view fragments. 启用 Jelly 视图合成的跟踪。查看生成的页面源以查看注释，这些注释指示视图的哪些部分是从哪些视图片段创建的。

- `stapler.legacyGetterDispatcherMode`

  security  escape hatch   安全  逃生舱口   **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `false` `假`  **Description: 描述：** Do not filter get methods at the Stapler framework level. Escape hatch for [SECURITY-595](https://www.jenkins.io/security/advisory/2018-12-05/#SECURITY-595). 不要在 Stapler 框架级别过滤 get 方法。[SECURITY-595](https://www.jenkins.io/security/advisory/2018-12-05/#SECURITY-595) 的逃生舱口。

- `stapler.legacyWebMethodDispatcherMode`

  security  escape hatch   安全  逃生舱口   **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `false` `假`  **Description: 描述：** Do not filter web methods ("do" actions) at the Stapler framework level. Escape hatch for [SECURITY-595](https://www.jenkins.io/security/advisory/2018-12-05/#SECURITY-595). 不要在 Stapler 框架级别过滤 Web 方法（“执行”操作）。[SECURITY-595](https://www.jenkins.io/security/advisory/2018-12-05/#SECURITY-595) 的逃生舱口。

- `stapler.resourcePath`

  development 发展  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** undefined 定义  **Description: 描述：** Additional debug resource paths. Set by the core development tooling so developers can see the effect of changes immediately after reloading the page. 其他调试资源路径。由核心开发工具设置，以便开发人员可以在重新加载页面后立即看到更改的效果。

- `stapler.trace` `订书机.trace`

  development 发展  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `true` when run using `mvn jetty:run` (core war) or `mvn hpi:run` (plugins), `false` otherwise 使用 `MVN Jetty：Run`（核心 WAR）或 `MVN HPI：Run`（插件）运行时`为 true`，否则`为 false`  **Description: 描述：** Trace request handling and report the result using `Stapler-Trace-…` response headers. Additionally renders a diagnostic HTTP 404 error page when the request could not be processed. 跟踪请求处理并使用 `Stapler-Trace -...` 响应标头报告结果。此外，当无法处理请求时，还会呈现诊断 HTTP 404 错误页面。

- `stapler.trace.per-request`

  development 发展  **Since:**  *Undocumented*   **开始时间：**  *未记录*   **Default: 违约：** `false` `假`  **Description: 描述：** Trace request handling (see above) for requests with the `X-Stapler-Trace` request header set. 设置了 `X-Stapler-Trace` 请求标头的请求的跟踪请求处理（见上文）。

## References 引用

- [Administering Jenkins 管理 Jenkins](https://wiki.jenkins.io/display/JENKINS/Administering+Jenkins)
- [Configuring HTTP in Jenkins
  在 Jenkins 中配置 HTTP](http://jenkins.io/doc/book/installing/#configuring-http)
- [Remoting configuration 远程处理配置](https://github.com/jenkinsci/remoting/blob/master/docs/configuration.md)

# Change System Time Zone 更改系统时区

Table of Contents 目录

- [User Defined Time Zone 用户定义的时区](https://www.jenkins.io/doc/book/managing/change-system-timezone/#user-defined-time-zone)
- [System Time Zone properties
  系统时区属性](https://www.jenkins.io/doc/book/managing/change-system-timezone/#system-time-zone-properties)

The system time zone configuration is the default time zone displayed by  Jenkins. The "Manage Jenkins" ⇒ "System Information" page shows the value of the  system properties that define the time zone for the Jenkins controller.
系统时区配置是 Jenkins 显示的默认时区。“Manage Jenkins” ⇒ “System Information” 页面显示了定义 Jenkins 控制器时区的系统属性的值。

Refer to the following video for tips on changing the time zone
有关更改时区的提示，请参阅以下视频

Changing the time zone in Jenkins
在 Jenkins 中更改时区

<iframe width="800" height="420" src="https://www.youtube.com/embed/4UmY4dDAlo0?rel=0" frameborder="0" allowfullscreen=""></iframe>

## User Defined Time Zone 用户定义的时区

A user defined time zone for the account can be set from the configure option in the user settings.
可以通过用户设置中的 configure 选项设置帐户的用户定义时区。

![Configure option in the dropdown](https://www.jenkins.io/doc/book/resources/managing/change-system-timezone-user-defined-timezone.png)

![Changing user defined timezone setting](https://www.jenkins.io/doc/book/resources/managing/change-system-timezone-user-defined-timezone-2.png)

## System Time Zone properties 系统时区属性

If you cannot change the time zone of your server, you can force jelly to use a given time zone for formatting time stamps.
如果您无法更改服务器的时区，您可以强制 jelly 使用给定的时区来格式化时间戳。

You need to start your Jenkins with the following java system property:
您需要使用以下 java 系统属性启动 Jenkins：

```
java -Dorg.apache.commons.jelly.tags.fmt.timeZone=TZ ...
```

where TZ is a java.util.TimeZone ID ("Europe/Paris" for example).
其中 TZ 是 java.util.TimeZone ID（例如“Europe/Paris”）。

*Note that `user.timezone=Europe/Paris` will work as well, but it can interfere with other contexts.
请注意，`user.timezone=Europe/Paris` 也可以工作，但它可能会干扰其他上下文。*

If running Jenkins via a Linux package, this can be accomplished by running `systemctl edit jenkins` and adding the following:
如果通过 Linux 包运行 Jenkins，可以通过运行 `systemctl edit jenkins` 并添加以下内容来完成：

```
[Service]
Environment="JAVA_OPTS=-Dorg.apache.commons.jelly.tags.fmt.timeZone=America/New_York"
```

or, if that doesn’t work:
或者，如果这不起作用：

```
[Service]
Environment="JAVA_OPTS=-Duser.timezone=America/New_York"
```

On FreeBSD, the file to edit is /etc/rc.conf, and the option to use is:
在 FreeBSD 上，要编辑的文件是 /etc/rc.conf，要使用的选项是：

```
jenkins_java_opts="-Dorg.apache.commons.jelly.tags.fmt.timeZone=America/Denver"
```

On windows, edit `%INSTALL_PATH%/jenkins/jenkins.xml`. Put `-Dargs` before `-jar`:
在 Windows 上，编辑 `%INSTALL_PATH%/jenkins/jenkins.xml` 。将 `-Dargs` 放在 `-jar` 之前：

```
<arguments>-Duser.timezone="Europe/Minsk" -jar "%BASE%\jenkins.war"</arguments>
```

You can also set it from the [Jenkins Script Console](https://www.jenkins.io/doc/book/managing/script-console/) on a live system without the need for a restart. This can also be included in a [Post-initialization script](https://www.jenkins.io/doc/book/managing/groovy-hook-scripts/) to make it permanent.
您还可以从实时系统上的 [Jenkins 脚本控制台](https://www.jenkins.io/doc/book/managing/script-console/)进行设置，而无需重新启动。这也可以包含在[初始化后脚本](https://www.jenkins.io/doc/book/managing/groovy-hook-scripts/)中，以使其永久化。

```
System.setProperty('org.apache.commons.jelly.tags.fmt.timeZone', 'America/New_York')
```

# Jenkins CLI Jenkins 命令行界面

Table of Contents 目录

- Using the CLI over SSH
  通过 SSH 使用 CLI
  - [Authentication 认证](https://www.jenkins.io/doc/book/managing/cli/#authentication)
  - [Common Commands 常用命令](https://www.jenkins.io/doc/book/managing/cli/#common-commands)
- Using the CLI client 使用 CLI 客户端
  - [Comparing SSH and CLI client
    比较 SSH 和 CLI 客户端](https://www.jenkins.io/doc/book/managing/cli/#comparing-ssh-and-cli-client)
  - [Downloading the client 下载客户端](https://www.jenkins.io/doc/book/managing/cli/#downloading-the-client)
  - [Using the client 使用客户端](https://www.jenkins.io/doc/book/managing/cli/#using-the-client)
  - [Client connection modes 客户端连接模式](https://www.jenkins.io/doc/book/managing/cli/#client-connection-modes)
  - [Common Problems with the CLI client
    CLI 客户端的常见问题](https://www.jenkins.io/doc/book/managing/cli/#common-problems-with-the-cli-client)

Jenkins has a built-in command line interface that allows users and administrators to access Jenkins from a script or shell environment. This can be convenient for scripting of routine tasks, bulk updates, troubleshooting, and more.
Jenkins 具有内置的命令行界面，允许用户和管理员从脚本或 shell 环境访问 Jenkins。这可以方便地编写日常任务的脚本、批量更新、故障排除等。

The command line interface can be accessed over SSH or with the Jenkins CLI client, a `.jar` file distributed with Jenkins.
命令行界面可以通过 SSH 或 Jenkins CLI 客户端（与 Jenkins 一起分发的 `.jar` 文件）进行访问。

|      | This document assumes Jenkins 2.54 or newer. Older versions of the CLI client are considered insecure and should not be used. 本文档假定 Jenkins 2.54 或更高版本。旧版本的 CLI 客户端被视为不安全，不应使用。  WebSocket support is available when using both server and client 2.217 or newer. 当同时使用服务器和客户端 2.217 或更高版本时，可以使用 WebSocket 支持。 |
| ---- | ------------------------------------------------------------ |
|      |                                                              |

## Using the CLI over SSH 通过 SSH 使用 CLI

In a new Jenkins installation, the SSH service is disabled by default. Administrators may choose to set a specific port or ask Jenkins to pick a random port in the [Security](https://www.jenkins.io/doc/book/managing/security/#ssh-server) page. In order to determine the randomly assigned SSH port, inspect the headers returned on a Jenkins URL, for example:
在新的 Jenkins 安装中，SSH 服务默认处于禁用状态。管理员可以选择设置特定端口或要求 Jenkins 在 [Security （安全](https://www.jenkins.io/doc/book/managing/security/#ssh-server)） 页面中随机选择一个端口。要确定随机分配的 SSH 端口，请检查 Jenkins URL 上返回的标头，例如：

```
% curl -Lv https://JENKINS_URL/login 2>&1 | grep -i 'x-ssh-endpoint'
< X-SSH-Endpoint: localhost:53801
%
```

With the random SSH port (`53801` in this example), and [Authentication](https://www.jenkins.io/doc/book/managing/cli/#authentication) configured, any modern SSH client may securely execute CLI commands.
使用随机 SSH 端口（本例中为 `53801`）并配置[身份验证](https://www.jenkins.io/doc/book/managing/cli/#authentication)，任何现代 SSH 客户端都可以安全地执行 CLI 命令。

### Authentication 认证

Whichever user used for authentication with the Jenkins controller must have the `Overall/Read` permission in order to *access* the CLI. The user may require additional permissions depending on the commands executed.
用于 Jenkins 控制器身份验证的哪个用户必须具有 `Overall/Read` 权限才能*访问* CLI。用户可能需要其他权限，具体取决于执行的命令。

Authentication in SSH mode relies on SSH-based public/private key authentication. In order to add an SSH public key for the appropriate user, navigate to `JENKINS_URL/me/configure` and paste an SSH public key into the appropriate text area.
SSH 模式下的身份验证依赖于基于 SSH 的公钥/私钥身份验证。要为相应用户添加 SSH 公钥，请导航至 `JENKINS_URL/me/configure` 并将 SSH 公钥粘贴到相应的文本区域。

![Adding public SSH keys for a user](https://www.jenkins.io/doc/book/resources/managing/cli-adding-ssh-public-keys.png)

### Common Commands 常用命令

Jenkins has a number of built-in CLI commands which can be found in every Jenkins environment, such as `build` or `list-jobs`. Plugins may also provide CLI commands; in order to determine the full list of commands available in a given Jenkins environment, execute the CLI `help` command:
Jenkins 有许多内置的 CLI 命令，可以在每个 Jenkins 环境中找到，例如 `build` 或 `list-jobs`。插件还可以提供 CLI 命令;要确定给定 Jenkins 环境中可用命令的完整列表，请执行 CLI `help` 命令：

```
% ssh -l kohsuke -p 53801 localhost help
```

The following list of commands is not comprehensive, but it is a useful starting point for Jenkins CLI usage.
以下命令列表并不全面，但它是使用 Jenkins CLI 的有用起点。

#### build 建

One of the most common and useful CLI commands is `build`, which allows the user to trigger any job or Pipeline for which they have permission.
最常见和最有用的 CLI 命令之一是 `build`，它允许用户触发他们拥有权限的任何作业或 Pipeline。

The most basic invocation will simply trigger the job or Pipeline and exit, but with the additional options a user may also pass parameters, poll SCM, or even follow the console output of the triggered build or Pipeline run.
最基本的调用将简单地触发作业或 Pipeline 并退出，但使用其他选项，用户还可以传递参数、轮询 SCM，甚至遵循触发的构建或 Pipeline 运行的控制台输出。

```
% ssh -l kohsuke -p 53801 localhost help build

java -jar jenkins-cli.jar build JOB [-c] [-f] [-p] [-r N] [-s] [-v] [-w]
Starts a build, and optionally waits for a completion.  Aside from general
scripting use, this command can be used to invoke another job from within a
build of one job.  With the -s option, this command changes the exit code based
on the outcome of the build (exit code 0 indicates a success) and interrupting
the command will interrupt the job.  With the -f option, this command changes
the exit code based on the outcome of the build (exit code 0 indicates a
success) however, unlike -s, interrupting the command will not interrupt the
job (exit code 125 indicates the command was interrupted).  With the -c option,
a build will only run if there has been an SCM change.
 JOB : Name of the job to build
 -c  : Check for SCM changes before starting the build, and if there's no
       change, exit without doing a build
 -f  : Follow the build progress. Like -s only interrupts are not passed
       through to the build.
 -p  : Specify the build parameters in the key=value format.
 -s  : Wait until the completion/abortion of the command. Interrupts are passed
       through to the build.
 -v  : Prints out the console output of the build. Use with -s
 -w  : Wait until the start of the command
% ssh -l kohsuke -p 53801 localhost build build-all-software -f -v
Started build-all-software #1
Started from command line by admin
Building in workspace /tmp/jenkins/workspace/build-all-software
[build-all-software] /bin/sh -xe /tmp/hudson1100603797526301795.sh
+ echo hello world
hello world
Finished: SUCCESS
Completed build-all-software #1 : SUCCESS
%
```

#### console 安慰

Similarly useful is the `console` command, which retrieves the console output for the specified build or Pipeline run. When no build number is provided, the `console` command will output the last completed build’s console output.
同样有用的是 `console` 命令，它检索指定 build 或 Pipeline 运行的控制台输出。如果未提供内部版本号，`则 console` 命令将输出上次完成的内部版本的控制台输出。

```
% ssh -l kohsuke -p 53801 localhost help console

java -jar jenkins-cli.jar console JOB [BUILD] [-f] [-n N]
Produces the console output of a specific build to stdout, as if you are doing 'cat build.log'
 JOB   : Name of the job
 BUILD : Build number or permalink to point to the build. Defaults to the last
         build
 -f    : If the build is in progress, stay around and append console output as
         it comes, like 'tail -f'
 -n N  : Display the last N lines
% ssh -l kohsuke -p 53801 localhost console build-all-software
Started from command line by kohsuke
Building in workspace /tmp/jenkins/workspace/build-all-software
[build-all-software] /bin/sh -xe /tmp/hudson1100603797526301795.sh
+ echo hello world
yes
Finished: SUCCESS
%
```

#### who-am-i 我是谁

The `who-am-i` command is helpful for listing the current user’s credentials and permissions available to the user. This can be useful when debugging the absence of CLI commands due to the lack of certain permissions.
`who-am-i` 命令有助于列出当前用户的凭证和用户可用的权限。在调试由于缺少某些权限而缺少 CLI 命令时，这可能很有用。

```
% ssh -l kohsuke -p 53801 localhost help who-am-i

java -jar jenkins-cli.jar who-am-i
Reports your credential and permissions.
% ssh -l kohsuke -p 53801 localhost who-am-i
Authenticated as: kohsuke
Authorities:
  authenticated
%
```

## Using the CLI client 使用 CLI 客户端

While the SSH-based CLI is fast and covers most needs, there may be situations where the CLI client distributed with Jenkins is a better fit. For example, the default transport for the CLI client is HTTP which means no additional ports need to be opened in a firewall for its use.
虽然基于 SSH 的 CLI 速度很快并且可以满足大多数需求，但在某些情况下，使用 Jenkins 分发的 CLI 客户端可能更合适。例如，CLI 客户端的默认传输方式是 HTTP，这意味着无需在防火墙中打开其他端口即可使用。

### Comparing SSH and CLI client 比较 SSH 和 CLI 客户端

Both SSH and jenkins-cli.jar provide access to a set of commands that lets  you interact with Jenkins from a command line, but they have a few  differences:
SSH 和 jenkins-cli.jar 都提供对一组命令的访问，这些命令允许您从命令行与 Jenkins 交互，但它们有一些区别：

- Jenkins SSH does not require any custom jar file on the client side, making it  easier to access Jenkins from a variety of sources
  Jenkins SSH 不需要在客户端使用任何自定义 jar 文件，因此可以更轻松地从各种来源访问 Jenkins
- SSH client was build to be a generic tool to serve several purposes. It doesn’t offer an easy way to do basic things that are common and specific to Jenkins environments. Using the `jenkins-cli.jar` instead of the ssh client may increase productivity and improve the development experience
  SSH 客户端被构建为一种通用工具，用于多种用途。它没有提供一种简单的方法来执行常见且特定于 Jenkins 环境的基本操作。使用 `jenkins-cli.jar` 而不是 ssh 客户端可以提高生产力并改善开发体验

### Downloading the client 下载客户端

The CLI client can be downloaded directly from a Jenkins controller at the URL `/jnlpJars/jenkins-cli.jar`, in effect  `JENKINS_URL/jnlpJars/jenkins-cli.jar`
CLI `JENKINS_URL/jnlpJars/jenkins-cli.jar` 客户端可以直接从 URL `为 /jnlpJars/jenkins-cli.jar` 的 Jenkins 控制器下载

While a CLI `.jar` can be used against different versions of Jenkins, should any compatibility issues arise during use, please re-download the latest `.jar` file from the Jenkins controller.
虽然 CLI `.jar` 可用于不同版本的 Jenkins，但如果在使用过程中出现任何兼容性问题，请从 Jenkins 控制器重新下载最新的 `.jar` 文件。

### Using the client 使用客户端

The general syntax for invoking the client is as follows:
调用 Client 端的一般语法如下：

```
java -jar jenkins-cli.jar [-s JENKINS_URL] [global options...] command [command options...] [arguments...]
```

The `JENKINS_URL` can be specified via the environment variable `$JENKINS_URL`. Summaries of other general options can be displayed by running the client with no arguments at all.
可以通过环境变量 `$JENKINS_URL` 指定`JENKINS_URL`。其他常规选项的摘要可以通过运行完全不带参数的客户端来显示。

### Client connection modes 客户端连接模式

There are three basic modes in which the client may be used, selectable by global option: `-webSocket`, `-http` and `-ssh`.
有三种基本模式可以使用客户端，可通过全局选项选择：`-webSocket`、`-http` 和 `-ssh`。

#### WebSocket connection mode WebSocket 连接方式

This is the default mode, though you may pass the `-webSocket` option explicitly for clarity. The advantage is that a more standard transport is used, avoiding  problems with many reverse proxies or the need for special proxy  configuration.
这是默认模式，但为清楚起见，您可以显式传递 `-webSocket` 选项。优点是使用了更标准的传输方式，避免了许多反向代理的问题或需要特殊的代理配置。

#### HTTP connection mode HTTP 连接模式

Starting from Jenkins 2.391, the default mode is `-webSocket`. To use the HTTP mode, you must explicitly pass the `-http` option.
从 Jenkins 2.391 开始，默认模式为 `-webSocket`。要使用 HTTP 模式，必须显式传递 `-http` 选项。

Authentication is preferably with an `-auth` option, which takes a `username:apitoken` argument. Get your API token from `/me/configure`:
身份验证最好使用 `-auth` 选项，该选项采用 `username：apitoken` 参数。从 `/me/configure` 获取 API 令牌：

```
java -jar jenkins-cli.jar [-s JENKINS_URL] -auth kohsuke:abc1234ffe4a command ...
```

(Actual passwords are also accepted, but this is discouraged.)
（实际密码也被接受，但不建议这样做。

You can also precede the argument with `@` to load the same content from a file:
您还可以在参数前面加上 `@` 以从文件中加载相同的内容：

```
java -jar jenkins-cli.jar [-s JENKINS_URL] -auth @/home/kohsuke/.jenkins-cli command ...
```

|      | For security reasons the use of a file to load the authentication credentials is the recommended authentication way. 出于安全原因，建议使用文件加载身份验证凭据。 |
| ---- | ------------------------------------------------------------ |
|      |                                                              |

An alternative authentication method is to configure environment variables in a similar way as the `$JENKINS_URL` is used. The `username` can be specified via the environment variable `$JENKINS_USER_ID` while the `apitoken` can be specified via the variable `$JENKINS_API_TOKEN`. Both variables have to be set all at once.
另一种身份验证方法是以与使用 `$JENKINS_URL` 类似的方式配置环境变量。`用户名`可以通过环境变量 `$JENKINS_USER_ID` 指定，而 `apitoken` 可以通过变量 `$JENKINS_API_TOKEN` 指定。这两个变量必须同时设置。

```
export JENKINS_USER_ID=kohsuke
export JENKINS_API_TOKEN=abc1234ffe4a
java -jar jenkins-cli.jar [-s JENKINS_URL] command ...
```

In case these environment variables are configured you could still override the authentication method using different credentials with the `-auth` option, which takes preference over them.
如果配置了这些环境变量，您仍然可以使用 `-auth` 选项使用不同的凭证覆盖身份验证方法，该选项优先于它们。

Generally no special system configuration need be done to enable HTTP-based CLI connections. If you are running Jenkins behind an HTTP(S) reverse proxy, ensure it does not buffer request or response bodies.
通常不需要进行特殊的系统配置即可启用基于 HTTP 的 CLI 连接。如果您在 HTTP（S） 反向代理后面运行 Jenkins，请确保它不缓冲请求或响应正文。

|      | This mode is known to not work reliably or at all when using certain reverse proxies. Prefer WebSocket mode. 众所周知，在使用某些反向代理时，此模式无法可靠工作或根本无法工作。首选 WebSocket 模式。 |
| ---- | ------------------------------------------------------------ |
|      |                                                              |

#### SSH connection mode SSH 连接方式

Authentication is via SSH keypair. You must select the Jenkins user ID as well:
身份验证通过 SSH 密钥对进行。您还必须选择 Jenkins 用户 ID：

```
java -jar jenkins-cli.jar [-s JENKINS_URL] -ssh -user kohsuke command ...
```

In this mode, the client acts essentially like a native `ssh` command.
在此模式下，客户端的行为本质上类似于本机 `ssh` 命令。

By default the client will try to connect to an SSH port on the same host as is used in the `JENKINS_URL`. If Jenkins is behind an HTTP reverse proxy, this will not generally work, so run Jenkins with the system property `-Dorg.jenkinsci.main.modules.sshd.SSHD.hostName=ACTUALHOST` to define a hostname or IP address for the SSH endpoint.
默认情况下，客户端将尝试连接到`JENKINS_URL`中使用的同一主机上的 SSH 端口。如果 Jenkins 位于 HTTP 反向代理后面，这通常不起作用，因此请使用 system 属性 `-Dorg.jenkinsci.main.modules.sshd.SSHD.hostName=ACTUALHOST` 运行 Jenkins 来定义 SSH 端点的主机名或 IP 地址。

### Common Problems with the CLI client CLI 客户端的常见问题

There are a number of common problems that may be experienced when running the CLI client.
运行 CLI 客户端时可能会遇到许多常见问题。

#### Server key did not validate 服务器密钥未验证

You may get the error below and find a log entry just below that concerning `mismatched keys`:
您可能会收到下面的错误，并在其下方找到一个有关`不匹配键的`日志条目：

```
org.apache.sshd.common.SshException: Server key did not validate
    at org.apache.sshd.client.session.AbstractClientSession.checkKeys(AbstractClientSession.java:523)
    at org.apache.sshd.common.session.helpers.AbstractSession.handleKexMessage(AbstractSession.java:616)
    ...
```

This means your SSH configuration does not recognize the public key presented by the server. It’s often the case when you run Jenkins in dev mode and multiple instances of the application are run under the same SSH port over time.
这意味着您的 SSH 配置无法识别服务器提供的公有密钥。当您在开发模式下运行 Jenkins 并且应用程序的多个实例随着时间的推移在同一个 SSH 端口下运行时，通常会出现这种情况。

In a development context, access your `~/.ssh/known_hosts` (or in `C:/Users/<your_name>/.ssh/known_hosts` for Windows) and remove the line corresponding to your current SSH port (e.g. `[localhost]:3485`). In a production context, check with the Jenkins administrator if the public key of the server changed recently. If so, ask the administrator to do the the steps described above.
在开发上下文中，访问你的 `~/.ssh/known_hosts` （或在 Windows 中 `C:/Users/<your_name>/.ssh/known_hosts` ） 并删除与当前 SSH 端口对应的行（例如 `[localhost]：3485`）。在生产上下文中，请与 Jenkins 管理员联系，检查服务器的公钥最近是否发生更改。如果是这样，请让管理员执行上述步骤。

#### UsernameNotFoundException UsernameNotFoundException 异常

If your client displays a stacktrace that looks like:
如果您的客户端显示如下所示的堆栈跟踪：

```
org.acegisecurity.userdetails.UsernameNotFoundException: <name_you_used>
    ...
```

This means your SSH keys were recognized and validated against the stored  users but the username is not valid for the security realm your  application is using at the moment. This could occur when you were using the Jenkins database initially,  configured your users, and then switched to another security realm (like LDAP, etc.) where the defined users do not exist yet.
这意味着您的 SSH 密钥已针对存储的用户进行识别和验证，但用户名对于您的应用程序当前使用的安全域无效。当您最初使用 Jenkins 数据库，配置用户，然后切换到另一个安全域（如 LDAP 等）时，可能会发生这种情况，其中定义的用户尚不存在。

To solve the problem, ensure your users exist in your configured security realm.
要解决此问题，请确保您的用户存在于您配置的安全域中。

#### Troubleshooting logs 日志故障排除

To get more information about the authentication process:
若要获取有关身份验证过程的详细信息，请执行以下操作：

1. Go into **Manage Jenkins** > **System Log** > **Add new log recorder**.
   进入**管理 Jenkins** >**系统日志**>**添加新的日志记录器**。
2. Enter any name you want and click on **Ok**.
   输入您想要的任何名称，然后单击 **Ok**。
3. Click on **Add** 单击 **Add**
4. Type `org.jenkinsci.main.modules.sshd.PublicKeyAuthenticatorImpl` (or type `PublicKeyAuth` and then select the full name)
   键入 `org.jenkinsci.main.modules.sshd.PublicKeyAuthenticatorImpl` （或键入 `PublicKeyAuth`，然后选择全名）
5. Set the level to **ALL**.
   将级别设置为 **ALL**。
6. Repeat the previous three steps for `hudson.model.User`
   对 `hudson.model.User` 重复上述三个步骤
7. Click on **Save** 单击 **Save**

When you try to authenticate, you can then refresh the page and see what happen internally.
当您尝试进行身份验证时，您可以刷新页面并查看内部发生的情况。

# Script Console 脚本控制台

Jenkins features a Groovy script console which allows one to run arbitrary Groovy scripts within the Jenkins controller runtime or in the runtime on agents.
Jenkins 具有一个 Groovy 脚本控制台，它允许在 Jenkins 控制器运行时或代理上的运行时中运行任意 Groovy 脚本。

|      | It is *very* **important** to understand all of the following points because it affects the integrity of your Jenkins installation. The Jenkins Script Console: 了解以下所有要点*非常重要*，因为它会影响 Jenkins 安装的完整性。Jenkins 脚本控制台：   Access is controlled by the `Administer` permission. 访问权限由 `Administer` 权限控制。  Is a web-based Groovy shell into the Jenkins runtime. Groovy is a very powerful language which offers the ability to do practically anything Java can do including: 是 Jenkins 运行时中基于 Web 的 Groovy shell。Groovy 是一种非常强大的语言，它几乎能够执行 Java 可以做的任何事情，包括：  Create sub-processes and execute arbitrary commands on the Jenkins controller and agents. 在 Jenkins 控制器和代理上创建子进程并执行任意命令。  It can even read files in which the Jenkins controller has access to on the host (like `/etc/passwd`) 它甚至可以读取 Jenkins 控制器在主机上有权访问的文件（如 `/etc/passwd`）  Decrypt credentials configured within Jenkins. 解密在 Jenkins 中配置的凭据。   Offers no administrative controls to stop a User (or Admin) once they are able to execute the Script Console from affecting all parts of the Jenkins infrastructure. Granting a normal Jenkins user Script Console Access is essentially the same as giving them Administrator rights within Jenkins. 在用户（或管理员）能够执行脚本控制台后，不提供任何管理控制来阻止其影响 Jenkins 基础架构的所有部分。授予普通 Jenkins 用户脚本控制台访问权限与在 Jenkins 中授予他们管理员权限基本相同。  Can configure any Jenkins setting. It can disable security, reconfigure security, even open a backdoor on the host operating system completely outside of the Jenkins process. Due to the mission critical importance many organizations place on Jenkins in their infrastructure this point is especially important because it would allow an attacker to move laterally within infrastructure with little effort. 可以配置任何 Jenkins 设置。它可以禁用安全性、重新配置安全性，甚至完全在 Jenkins 进程之外在主机操作系统上打开后门。由于许多组织在其基础设施中非常重视 Jenkins，这一点尤为重要，因为它允许攻击者不费吹灰之力在基础设施内横向移动。  Is so powerful because it was originally intended as a debugging interface for Jenkins developers but has since grown into an interface used by Jenkins Admins to configure Jenkins and debug Jenkins runtime issues. 之所以如此强大，是因为它最初是作为 Jenkins 开发人员的调试接口，但后来发展成为 Jenkins 管理员用来配置 Jenkins 和调试 Jenkins 运行时问题的接口。   Because of the power offered by the Jenkins Script Console, Jenkins and its agents should never be run as the `root` user (on Linux) or system administrator on any other flavor of OS. Videos linked in this page demonstrate and discuss security warnings. 由于 Jenkins Script Console 提供的强大功能，Jenkins 及其代理绝不应以 `root` 用户（在 Linux 上）或系统管理员身份在任何其他类型的操作系统上运行。本页链接的视频演示和讨论安全警告。  **Be sure to secure your Jenkins controller 请务必保护您的 Jenkins 控制器** |
| ---- | ------------------------------------------------------------ |
|      |                                                              |

Table of Contents 目录

- Multiple contexts 多个上下文
  - [Running Script Console on the controller
    在控制器上运行 Script Console](https://www.jenkins.io/doc/book/managing/script-console/#running-script-console-on-the-controller)
  - [Running Script Console on agents
    在代理上运行 Script Console](https://www.jenkins.io/doc/book/managing/script-console/#running-script-console-on-agents)
  - [Run scripts from controller Script Console on agents
    在代理上从控制器脚本控制台运行脚本](https://www.jenkins.io/doc/book/managing/script-console/#run-scripts-from-controller-script-console-on-agents)
  - [Reading and writing files
    读取和写入文件](https://www.jenkins.io/doc/book/managing/script-console/#reading-and-writing-files)
- [Remote access 远程访问](https://www.jenkins.io/doc/book/managing/script-console/#remote-access)
- [Shortcut key on script console to submit
  脚本控制台上的快捷键提交](https://www.jenkins.io/doc/book/managing/script-console/#shortcut-key-on-script-console-to-submit)
- [Video Tutorials and additional learning materials
  视频教程和其他学习材料](https://www.jenkins.io/doc/book/managing/script-console/#video-tutorials-and-additional-learning-materials)
- Example Groovy scripts Groovy 脚本示例
  - [Out of date scripts 过时的脚本](https://www.jenkins.io/doc/book/managing/script-console/#out-of-date-scripts)
- [Plugins enabling Groovy usage
  支持 Groovy 使用的插件](https://www.jenkins.io/doc/book/managing/script-console/#plugins-enabling-groovy-usage)

## Multiple contexts 多个上下文

The Jenkins Script Console can run either on the controller or any configured agents.
Jenkins 脚本控制台可以在控制器或任何已配置的代理上运行。

### Running Script Console on the controller 在控制器上运行 Script Console

This feature can be accessed from *"Manage Jenkins" > "Script Console"*. Or by visiting the sub-URL `/script` on your Jenkins controller.
此功能可以从 *“Manage Jenkins” > “Script Console”* 访问。 或者通过访问 Jenkins 控制器上的子 URL `/script` 来实现。

### Running Script Console on agents 在代理上运行 Script Console

Visit *"Manage Jenkins" > "Manage Nodes"*. Select any node to view the status page. In the menu on the left, a menu item is available to open a "Script Console" on that specific agent.
访问*“管理 Jenkins”> “管理节点”。* 选择任何节点以查看状态页面。 在左侧菜单中，有一个菜单项可用于在该特定代理上打开“Script Console”。

### Run scripts from controller Script Console on agents 在代理上从控制器脚本控制台运行脚本

It’s also possible to run scripts from the controller Script Console on individual agents. The following script is an example running a script on agents from the controller Script Console.
还可以从控制器 Script Console 在单个代理上运行脚本。以下脚本是从控制器 Script Console 在代理上运行脚本的示例。

**Script executes code on agent from Master Script Console
脚本从 Master Script 控制台在代理上执行代码**

```
import hudson.util.RemotingDiagnostics
import jenkins.model.Jenkins

String agentName = 'your agent name'
//groovy script you want executed on an agent
groovy_script = '''
println System.getenv("PATH")
println "uname -a".execute().text
'''.trim()

String result
Jenkins.instance.slaves.find { agent ->
    agent.name == agentName
}.with { agent ->
    result = RemotingDiagnostics.executeGroovy(groovy_script, agent.channel)
}
println result
```

### Reading and writing files 读取和写入文件

Files can be read and written directly on the controller or agents via the controller Script Console.
可以通过控制器 Script Console 直接在控制器或代理上读取和写入文件。

**Write a file to the Jenkins controller
将文件写入 Jenkins 控制器**

```
new File('/tmp/file.txt').withWriter('UTF-8') { writer ->
    try {
        writer << 'hello world\n'
    } finally {
        writer.close()
    }
}
```

**Reading a file from the Jenkins controller
从 Jenkins 控制器读取文件**

```
new File('/tmp/file.txt').text
```

**Write file to agent through agent channel
通过 agent 通道将文件写入 agent**

```
import hudson.FilePath
import hudson.remoting.Channel
import jenkins.model.Jenkins

String agentName = 'some-agent'
String filePath = '/tmp/file.txt'

Channel agentChannel = Jenkins.instance.slaves.find { agent ->
    agent.name == agentName
}.channel

new FilePath(agentChannel, filePath).write().with { os ->
    try {
        os << 'hello world\n'
    } finally {
        os.close()
    }
}
```

**Read file from agent through agent channel
通过 agent 通道从 agent 读取文件**

```
import hudson.FilePath
import hudson.remoting.Channel
import jenkins.model.Jenkins

import java.io.BufferedReader
import java.io.InputStreamReader
import java.nio.charset.StandardCharsets
import java.util.stream.Collectors

String agentName = 'some-agent'
String filePath = '/tmp/file.txt'

Channel agentChannel = Jenkins.instance.slaves.find { agent ->
    agent.name == agentName
}.channel

String fileContents = ''
new FilePath(agentChannel, filePath).read().with { is ->
    try {
        fileContents = new BufferedReader(
            new InputStreamReader(is, StandardCharsets.UTF_8))
                .lines()
                .collect(Collectors.joining("\n"))
    } finally {
        is.close()
    }
}

// print contents of the file from the agent
println '==='
println(fileContents)
println '==='
```

## Remote access 远程访问

A Jenkins Admin can execute groovy scripts remotely by sending an HTTP POST request to `/script/` url or `/scriptText/`.
Jenkins 管理员可以通过向 `/script/` url 或 `/scriptText/` 发送 HTTP POST 请求来远程执行 groovy 脚本。

**curl example via bash 通过 Bash 的 curl 示例**

```
curl -d "script=<your_script_here>" https://jenkins/script
# or to get output as a plain text result (no HTML)
curl -d "script=<your_script_here>" https://jenkins/scriptText
```

Also, [Jenkins CLI](https://www.jenkins.io/doc/book/managing/cli/) offers the possibility to execute groovy scripts remotely using `groovy` command or execute groovy interactively via `groovysh`. However, once again curl can be used to execute groovy scripts by making use of bash command substitution. In the following example `somescript.groovy` is a groovy script in the current working directory.
此外，[Jenkins CLI](https://www.jenkins.io/doc/book/managing/cli/) 提供了使用 `groovy` 命令远程执行 groovy 脚本或通过 `groovysh` 交互式执行 groovy 的可能性。但是，curl 可以再次通过使用 bash 命令替换来执行 groovy 脚本。在以下示例中，`somescript.groovy` 是当前工作目录中的 groovy 脚本。

**Curl submitting groovy file via bash
通过 bash 提交 Curl 的 groovy 文件**

```
curl --data-urlencode "script=$(< ./somescript.groovy)" https://jenkins/scriptText
```

If security is configured in Jenkins, then curl can be provided options to authenticate using the `curl --user` option.
如果在 Jenkins 中配置了安全性，则可以为 curl 提供使用 `curl --user` 选项进行身份验证的选项。

**Curl submitting groovy file providing username and api token via bash
curl 通过 bash 提交提供用户名和 api 令牌的 groovy 文件**

```
curl --user 'username:api-token' --data-urlencode \
  "script=$(< ./somescript.groovy)" https://jenkins/scriptText
```

Here is the equivalent command using python, not curl.
这是使用 python 而不是 curl 的等效命令。

**Python submitting groovy file providing username and api token
Python 提交 groovy 文件，提供用户名和 api 令牌**

```
with open('somescript.groovy', 'r') as fd:
    data = fd.read()
r = requests.post('https://jenkins/scriptText', auth=('username', 'api-token'), data={'script': data})
```

## Shortcut key on script console to submit 脚本控制台上的快捷键提交

You can submit a script without mouse. Jenkins has a shortcut key which enables to submit with keyboard.
您可以提交没有鼠标的脚本。Jenkins 有一个快捷键，可以使用键盘提交。

- Windows / Linux: Ctrl + Enter
  Windows / Linux：Ctrl + Enter
- Mac: Command + Enter Mac：Command + Enter

## Video Tutorials and additional learning materials 视频教程和其他学习材料

Here are some recorded videos on the Jenkins Script Console:
以下是 Jenkins Script Console 上录制的一些视频：

- [Jenkins World 2017: Mastering the Jenkins Script Console](https://www.youtube.com/watch?v=qaUPESDcsGg) - 44 minutes - sample usage and security discussion
  [Jenkins World 2017：掌握 Jenkins 脚本控制台](https://www.youtube.com/watch?v=qaUPESDcsGg) - 44 分钟 - 示例使用和安全性讨论
- [LA Jenkins Area Meetup 2016 - Hacking on Jenkins Internals - Jenkins Script Console](https://www.youtube.com/watch?v=T1x2kCGRY1w) - 39 minutes - sample usage
  [2016 年洛杉矶 Jenkins 地区聚会 - Jenkins 内部结构黑客攻击 - Jenkins 脚本控制台](https://www.youtube.com/watch?v=T1x2kCGRY1w) - 39 分钟 - 示例用法

To expand your ability to write scripts in the script console, the following references are recommended:
要扩展您在脚本控制台中编写脚本的能力，建议使用以下参考资料：

- [Learn Groovy](http://groovy-lang.org/learn.html) - Learning Groovy is useful for more than writing scripts for the Script Console. Groovy is also relevant for other features of Jenkins like [Pipelines and shared pipeline libraries](https://www.jenkins.io/doc/book/pipeline/), the [Groovy Plugin](https://plugins.jenkins.io/groovy), the [Job DSL plugin](https://plugins.jenkins.io/job-dsl), and many other plugins which utilize Groovy (see section [[Plugins-enabling-Groovy-usage\]](https://www.jenkins.io/doc/book/managing/script-console/#Plugins-enabling-Groovy-usage)).
  [学习 Groovy](http://groovy-lang.org/learn.html) - 学习 Groovy 的用途不仅仅是为 Script Console 编写脚本。 Groovy 还与 Jenkins 的其他功能相关，如[管道和共享管道库](https://www.jenkins.io/doc/book/pipeline/)、[Groovy 插件](https://plugins.jenkins.io/groovy)、[Job DSL 插件](https://plugins.jenkins.io/job-dsl)以及许多其他使用 Groovy 的插件（参见 [[Plugins-enabling-Groovy-usage\]](https://www.jenkins.io/doc/book/managing/script-console/#Plugins-enabling-Groovy-usage) 部分）。
- [Write Groovy scripts for Jenkins with Code completion](http://www.mdoninger.de/2011/11/07/write-groovy-scripts-for-jenkins-with-code-completion.html) - The gist of this is to create a Maven project within your IDE and to depend on org.jenkins-ci.main:jenkins-core (and any other plugins that you expect present). You can then write a Groovy script with code completion of Jenkins API objects and methods.
  [使用代码完成为 Jenkins 编写 Groovy 脚本](http://www.mdoninger.de/2011/11/07/write-groovy-scripts-for-jenkins-with-code-completion.html) - 其要点是在 IDE 中创建一个 Maven 项目，并依赖于  org.jenkins-ci.main：jenkins-core（以及您期望存在的任何其他插件）。然后，您可以编写一个 Groovy  脚本，其中包含 Jenkins API 对象和方法的代码完成。

## Example Groovy scripts Groovy 脚本示例

### Out of date scripts 过时的脚本

Due to the nature of Groovy scripts accessing Jenkins source code directly, Script Console scripts are easily out of date from the Jenkins source code. It is possible to run a script and get exceptions because public methods and interfaces in Jenkins core or Jenkins plugins have changed. Keep this in mind when trying out examples. Jenkins is easily started from a local development machine via the following command:
由于 Groovy 脚本直接访问 Jenkins 源代码的性质，Script Console 脚本很容易从 Jenkins  源代码中过时。运行脚本并获取异常是可能的，因为 Jenkins 核心或 Jenkins  插件中的公共方法和接口已更改。在尝试示例时，请记住这一点。通过以下命令，可以轻松地从本地开发计算机启动 Jenkins：

**Starting a local copy of Jenkins
启动 Jenkins 的本地副本**

```
export JENKINS_HOME="./my_jenkins_home"
java -jar jenkins.war
```

Use CTRL+C to stop Jenkins. It is not recommended to try Script Console examples in a production Jenkins controller.
使用 Ctrl+C 停止 Jenkins。不建议在生产 Jenkins 控制器中尝试 Script Console 示例。

The following repositories offer solid examples of Groovy scripts for Jenkins.
以下存储库提供了适用于 Jenkins 的 Groovy 脚本的可靠示例。

- [CloudBees jenkins-scripts repository](https://github.com/cloudbees/jenkins-scripts).
  [CloudBees jenkins-scripts 存储库](https://github.com/cloudbees/jenkins-scripts)。
- [Jenkins CI jenkins-scripts repository under the `scriptler/` directory](https://github.com/jenkinsci/jenkins-scripts) (scripts for the [Scriptler Plugin](https://plugins.jenkins.io/scriptler)).
  [Jenkins CI `scriptler/` 目录下的 jenkins-scripts 存储库](https://github.com/jenkinsci/jenkins-scripts)（[Scriptler 插件](https://plugins.jenkins.io/scriptler)的脚本）。
- [Sam Gleske’s jenkins-script-console-scripts repository](https://github.com/samrocketman/jenkins-script-console-scripts).
  [Sam Gleske 的 jenkins-script-console-scripts 存储库](https://github.com/samrocketman/jenkins-script-console-scripts)。
- [Sam Gleske’s jenkins-bootstrap-shared repository under the `scripts/` directory](https://github.com/samrocketman/jenkins-bootstrap-shared).
  [Sam Gleske 的 jenkins-bootstrap-shared 存储库位于 `scripts/` 目录下](https://github.com/samrocketman/jenkins-bootstrap-shared)。

Browse all [Scriptler Plugin](https://plugins.jenkins.io/scriptler) Groovy Scripts and **please share your scripts with the** **[Scriptler Plugin](https://plugins.jenkins.io/scriptler).**
浏览所有 [Scriptler 插件](https://plugins.jenkins.io/scriptler) Groovy 脚本，并与 **[Scriptler 插件](https://plugins.jenkins.io/scriptler)****共享您的脚本**。

- [Activate Chuck Norris Plugin](https://wiki.jenkins.io/display/JENKINS/Activate+Chuck+Norris+Plugin) — This script activates Chuck Norris plugin for all jobs in your Jenkins server
  [激活 Chuck Norris 插件](https://wiki.jenkins.io/display/JENKINS/Activate+Chuck+Norris+Plugin) — 此脚本为 Jenkins 服务器中的所有作业激活 Chuck Norris 插件
- [Add a Maven Installation, Tool Installation, Modify System Config
  添加 Maven 安装、工具安装、修改系统配置](https://wiki.jenkins.io/JENKINS/74416647.html)
- [Add a new label to agents meeting a condition](https://wiki.jenkins.io/display/JENKINS/Add-a-new-label-to-agents-meeting-a-condition.html) — This script shows how to alter the agent nodes' label membership. In this case we create a new label if the existing label contains a string. It has been tested from the Jenkins command window.
  [向满足条件的代理添加新标签](https://wiki.jenkins.io/display/JENKINS/Add-a-new-label-to-agents-meeting-a-condition.html) — 此脚本显示如何更改代理节点的标签成员资格。在这种情况下，如果现有标签包含字符串，我们将创建一个新标签。它已从 Jenkins 命令窗口进行了测试。
- [Add notification plugin to every job](https://wiki.jenkins.io/display/JENKINS/Add+notification+plugin+to+every+job) — This script will add the Notification Plugin to every job.
  [Add notification plugin to each job （将通知插件添加到每个作业](https://wiki.jenkins.io/display/JENKINS/Add+notification+plugin+to+every+job)） — 此脚本会将 Notification Plugin 添加到每个作业。
- [Allow broken build claiming on every jobs](https://wiki.jenkins.io/display/JENKINS/Allow+broken+build+claiming+on+every+jobs) — With the following simple script, you can activate the option on every jobs of your server in just one go.
  [允许对每个作业进行损坏的构建声明](https://wiki.jenkins.io/display/JENKINS/Allow+broken+build+claiming+on+every+jobs) — 使用以下简单的脚本，您可以一次性在服务器的每个作业上激活该选项。
- [Batch-Update Mercurial branch that is checked out](https://wiki.jenkins.io/display/JENKINS/Batch-Update+Mercurial+branch+that+is+checked+out) — Updates for multiple jobs which branch will be checked out from Hg
  [批量更新已签出的 Mercurial 分支](https://wiki.jenkins.io/display/JENKINS/Batch-Update+Mercurial+branch+that+is+checked+out) — 更新将从 Hg 中签出的分支的多个作业
- [Bulk rename projects 批量重命名项目](https://wiki.jenkins.io/display/JENKINS/Bulk+rename+projects)
- [Change JVM Options in all Maven tasks of Freestyle Jobs](https://wiki.jenkins.io/display/JENKINS/Change+JVM+Options+in+all+Maven+tasks+of+Freestyle+Jobs) — This script find all Maven Tasks registered in freestyle jobs and replace JVM Options by a new value.
  [更改 Freestyle 作业的所有 Maven 任务中的 JVM 选项](https://wiki.jenkins.io/display/JENKINS/Change+JVM+Options+in+all+Maven+tasks+of+Freestyle+Jobs) — 此脚本查找在 Freestyle 作业中注册的所有 Maven 任务，并将 JVM 选项替换为新值。
- [Change publish over SSH configuration
  更改通过 SSH 发布配置](https://wiki.jenkins.io/display/JENKINS/Change+publish+over+SSH+configuration)
- [Change SCMTrigger for each project to disable during the night and the week-end](https://wiki.jenkins.io/display/JENKINS/Change+SCMTrigger+for+each+project+to+disable+during+the+night+and+the+week-end) — This script lets you easily change all jobs running every minutes so that it gets disabled between 21:00 and 07:00 and on Saturday and Sunday.
  [将每个项目的 SCMTrigger 更改为在夜间和周末禁用](https://wiki.jenkins.io/display/JENKINS/Change+SCMTrigger+for+each+project+to+disable+during+the+night+and+the+week-end) — 此脚本可让您轻松更改每分钟运行一次的所有作业，以便在 21：00 到 07：00 之间以及周六和周日禁用。
- [Change Version-Number in SVN-path
  更改 SVN 路径中的版本号](https://wiki.jenkins.io/display/JENKINS/Change+Version-Number+in+SVN-path)
- [Clone all projects in a View](https://wiki.jenkins.io/display/JENKINS/Clone+all+projects+in+a+View) — This script enumerates all projects belonging to a specific view and clones them.
  [Clone all projects in a View （克隆视图中的所有项目](https://wiki.jenkins.io/display/JENKINS/Clone+all+projects+in+a+View)） – 此脚本枚举属于特定视图的所有项目并克隆它们。
- [Convert standard mail notifications to use the Mail-Ext Publisher plugin](https://wiki.jenkins.io/display/JENKINS/Convert+standard+mail+notifications+to+use+the+Mail-Ext+Publisher+plugin) — This script replace mail notifications in all projects by Mail-Ext publisher plugin and re-uses existing recipients.
  [将标准邮件通知转换为使用 Mail-Ext Publisher 插件](https://wiki.jenkins.io/display/JENKINS/Convert+standard+mail+notifications+to+use+the+Mail-Ext+Publisher+plugin) — 此脚本通过 Mail-Ext Publisher 插件替换所有项目中的邮件通知，并重复使用现有收件人。
- [Delete tmp files left in workspace-files](https://wiki.jenkins.io/display/JENKINS/Delete+.tmp+files+left+in+workspace-files) — This scripts deletes all the tmp files left in workspace-files directory after the build. On windows servers this seems pretty common.
  [删除 workspace-files 中保留的 tmp 文件](https://wiki.jenkins.io/display/JENKINS/Delete+.tmp+files+left+in+workspace-files) — 此脚本在构建后删除 workspace-files 目录中保留的所有 tmp 文件。在 Windows 服务器上，这似乎很常见。
- [Delete workspace for all disabled jobs](https://wiki.jenkins.io/display/JENKINS/Delete+workspace+for+all+disabled+jobs) — Deletes the workspace for all disabled jobs to save space
  [Delete workspace for all disabled jobs （删除所有已禁用作业的工作区](https://wiki.jenkins.io/display/JENKINS/Delete+workspace+for+all+disabled+jobs)） - 删除所有已禁用作业的工作区以节省空间
- [Disable all jobs](https://wiki.jenkins.io/display/JENKINS/Disable+all+jobs) — This script disables all jobs in your Jenkins server
  [Disable all jobs （禁用所有作业](https://wiki.jenkins.io/display/JENKINS/Disable+all+jobs)） – 此脚本禁用 Jenkins 服务器中的所有作业
- [Display Information About Nodes](https://wiki.jenkins.io/display/JENKINS/Display+Information+About+Nodes) — This scripts displays a bunch of information about all the agent nodes.
  [Display Information About Nodes （显示有关节点的信息](https://wiki.jenkins.io/display/JENKINS/Display+Information+About+Nodes)） – 此脚本显示有关所有代理节点的大量信息。
- [Display job parameters](https://wiki.jenkins.io/display/JENKINS/Display+job+parameters) — This scripts displays the parameters for all the jobs along with their default values (if applicable).
  [显示作业参数](https://wiki.jenkins.io/display/JENKINS/Display+job+parameters) – 此脚本显示所有作业的参数及其默认值（如果适用）。
- [Display jobs group by the build steps they use
  显示作业按它们使用的构建步骤分组](https://wiki.jenkins.io/display/JENKINS/Display+jobs+group+by+the+build+steps+they+use)
- [Display list of projects that were built more than 1 day ago.](https://wiki.jenkins.io/display/JENKINS/Display-list-of-projects-that-were-built-more-than-1-day-ago..html) — This script to display list of projects that were built more than 1 day ago.
  [显示 1 天前构建的项目列表。](https://wiki.jenkins.io/display/JENKINS/Display-list-of-projects-that-were-built-more-than-1-day-ago..html)— 此脚本用于显示 1 天前构建的项目列表。
- [Display mail notifications recipients](https://wiki.jenkins.io/display/JENKINS/Display+mail+notifications+recipients) — This script displays for all jobs the list of mail recipients used for notifications.
  [显示邮件通知收件人](https://wiki.jenkins.io/display/JENKINS/Display+mail+notifications+recipients) — 此脚本显示所有作业用于通知的邮件收件人列表。
- [Display monitors status](https://wiki.jenkins.io/display/JENKINS/Display+monitors+status) — Jenkins uses monitors to validate various behaviors. If you dismiss one, Jenkins will never propose you to reactivate it. This script allows you to check the status of all monitors and to reactivate them.
  [显示监视器状态](https://wiki.jenkins.io/display/JENKINS/Display+monitors+status) — Jenkins 使用监视器来验证各种行为。如果您关闭一个，Jenkins 绝不会建议您重新激活它。此脚本允许您检查所有监视器的状态并重新激活它们。
- [Display the number of jobs using SCM Polling from Freestyle, Pipeline and Maven
  显示使用 Freestyle、Pipeline 和 Maven 的 SCM 轮询的作业数量](https://wiki.jenkins.io/display/JENKINS/138454178.html)
- [Display timer triggers](https://wiki.jenkins.io/display/JENKINS/Display+timer+triggers) — This scripts displays the timer triggers for all the jobs in order to better arrange them.
  [显示计时器触发器](https://wiki.jenkins.io/display/JENKINS/Display+timer+triggers) — 此脚本显示所有作业的计时器触发器，以便更好地排列它们。
- [Display Tools Location on All Nodes](https://wiki.jenkins.io/display/JENKINS/Display+Tools+Location+on+All+Nodes) — This script can help to get Jenkins tools location on all your agents
  [在所有节点上显示工具位置](https://wiki.jenkins.io/display/JENKINS/Display+Tools+Location+on+All+Nodes) — 此脚本可以帮助获取所有代理上的 Jenkins 工具位置
- [Enable Timestamper plugin on all jobs](https://wiki.jenkins.io/display/JENKINS/Enable+Timestamper+plugin+on+all+jobs) — With the following simple script, you can activate the option on every jobs of your server in just one go.
  [在所有作业上启用 Timestamper 插件](https://wiki.jenkins.io/display/JENKINS/Enable+Timestamper+plugin+on+all+jobs) — 使用以下简单的脚本，您可以一次性在服务器的每个作业上激活该选项。
- [Failed Jobs](https://wiki.jenkins.io/display/JENKINS/Failed+Jobs) — This scripts displays a list of all failed jobs. Addon: restart them.
  [Failed Jobs （失败的作业](https://wiki.jenkins.io/display/JENKINS/Failed+Jobs)） – 此脚本显示所有失败作业的列表。Addon：重新启动它们。
- [Find builds currently running that has been executing for more than N seconds
  查找当前正在运行且已执行超过 N 秒的构建](https://wiki.jenkins.io/display/JENKINS/Find+builds+currently+running+that+has+been+executing+for+more+than+N+seconds)
- [Grant Cancel Permission for user and group that have Build permission](https://wiki.jenkins.io/display/JENKINS/Grant+Cancel+Permission+for+user+and+group+that+have+Build+permission) — This script will go through all groups and users in both Global security and per job security settings.
  [为具有 Build 权限的用户和组授予 Cancel 权限](https://wiki.jenkins.io/display/JENKINS/Grant+Cancel+Permission+for+user+and+group+that+have+Build+permission) — 此脚本将遍历全局安全性和每个作业安全设置中的所有组和用户。
- [Invalidate Jenkins HTTP sessions](https://wiki.jenkins.io/display/JENKINS/Invalidate+Jenkins+HTTP+sessions) — This script can monitor and invalidate HTTP sessions if there are many open ones on your server.
  [使 Jenkins HTTP 会话失效](https://wiki.jenkins.io/display/JENKINS/Invalidate+Jenkins+HTTP+sessions) — 如果您的服务器上有许多打开的 HTTP 会话，则此脚本可以监控 HTTP 会话并使该会话失效。
- [Manually run log rotation on all jobs](https://wiki.jenkins.io/display/JENKINS/Manually+run+log+rotation+on+all+jobs) — Runs log rotation on all jobs to free space
  [对所有作业手动运行日志轮换](https://wiki.jenkins.io/display/JENKINS/Manually+run+log+rotation+on+all+jobs) – 对所有作业运行日志轮换以释放空间
- [Monitor and Restart Offline Agents](https://wiki.jenkins.io/display/JENKINS/Monitor+and+Restart+Offline+Slaves) — This script can monitor and restart offline nodes if they are not disconnected manually.
  [Monitor and Restart Offline Agents （监控并重新启动离线代理](https://wiki.jenkins.io/display/JENKINS/Monitor+and+Restart+Offline+Slaves)） – 如果离线节点未手动断开连接，则此脚本可以监控并重新启动这些节点。
- [Monitoring Scripts](https://wiki.jenkins.io/display/JENKINS/Monitoring+Scripts) — Several scripts to display data about http sessions, threads, memory, JVM or MBeans, when using the Monitoring plugin.
  [监控脚本](https://wiki.jenkins.io/display/JENKINS/Monitoring+Scripts) — 使用监控插件时，用于显示有关 http 会话、线程、内存、JVM 或 MBean 的数据的几个脚本。
- [My Test Grovvy 我的测试 Grovvy](https://wiki.jenkins.io/display/JENKINS/My+Test+Grovvy)
- [Parameterized System Groovy script](https://wiki.jenkins.io/display/JENKINS/Parameterized+System+Groovy+script) — This script will demonstrate how to get parameters in a system groovy script.
  [参数化系统 Groovy 脚本](https://wiki.jenkins.io/display/JENKINS/Parameterized+System+Groovy+script) — 此脚本将演示如何在 System Groovy 脚本中获取参数。
- [Preselect username in Maven Release Build
  在 Maven Release Build 中预选用户名](https://wiki.jenkins.io/display/JENKINS/Preselect+username+in+Maven+Release+Build)
- [Printing a list of credentials and their IDs
  打印凭证及其 ID 的列表](https://wiki.jenkins.io/display/JENKINS/Printing+a+list+of+credentials+and+their+IDs)
- [Remove all disabled modules in Maven jobs](https://wiki.jenkins.io/display/JENKINS/Remove+all+disabled+modules+in+Maven+jobs) — To remove all disabled modules in Maven jobs
  [删除 Maven 作业中所有已禁用的模块](https://wiki.jenkins.io/display/JENKINS/Remove+all+disabled+modules+in+Maven+jobs) — 删除 Maven 作业中所有已禁用的模块
- [Remove Deployed Artifacts Actions](https://wiki.jenkins.io/display/JENKINS/Remove+Deployed+Artifacts+Actions) — This script is used to remove the Deployed Artifacts list that is uselessly stored for each build by the Artifact Deployer Plugin.
  [Remove Deployed Artifacts Actions （删除已部署的构件操作](https://wiki.jenkins.io/display/JENKINS/Remove+Deployed+Artifacts+Actions)） — 此脚本用于删除 Deployed Artifacts （已部署的构件） 列表，该列表由 Artifact Deployer 插件为每个构建无用地存储。
- [Remove Git Plugin BuildsByBranch BuildData](https://wiki.jenkins.io/display/JENKINS/Remove+Git+Plugin+BuildsByBranch+BuildData) — This script is used to remove the static list of BuildsByBranch that is uselessly stored for each build by the Git Plugin.
  [删除 Git 插件 BuildsByBranch BuildData](https://wiki.jenkins.io/display/JENKINS/Remove+Git+Plugin+BuildsByBranch+BuildData) — 此脚本用于删除 Git 插件为每个构建无用存储的 BuildsByBranch 静态列表。
- [Set GitBlitRepositoryBrowser with custom settings on all repos](https://wiki.jenkins.io/display/JENKINS/Set+GitBlitRepositoryBrowser+with+custum+settings+on+all+repos) — This scripts allows to update the repo browser. Can be adapted to any other browser, not only gitblit.
  [在所有存储库上使用自定义设置设置 GitBlitRepositoryBrowser](https://wiki.jenkins.io/display/JENKINS/Set+GitBlitRepositoryBrowser+with+custum+settings+on+all+repos) — 此脚本允许更新存储库浏览器。可以适配任何其他浏览器，而不仅仅是 gitblit。
- [Update maven jobs to use the post build task to deploy artifacts](https://wiki.jenkins.io/display/JENKINS/Update+maven+jobs+to+use+the+post+build+task+to+deploy+artifacts) — This script updates all maven jobs having a deploy goal by install and activate the post build step to deploy artifacts at the end of the build
  [更新 maven 作业以使用构建后任务部署构件](https://wiki.jenkins.io/display/JENKINS/Update+maven+jobs+to+use+the+post+build+task+to+deploy+artifacts) – 此脚本通过安装并激活构建后步骤来更新所有具有部署目标的 maven 作业，以便在构建结束时部署构件
- [Update SVN Browser 更新 SVN 浏览器](https://wiki.jenkins.io/display/JENKINS/Update+SVN+Browser)
- [Wipe out workspaces of all jobs](https://wiki.jenkins.io/display/JENKINS/Wipe+out+workspaces+of+all+jobs) — This script wipes out the workspaces of all jobs on your Jenkins server
  [清除所有作业的工作区](https://wiki.jenkins.io/display/JENKINS/Wipe+out+workspaces+of+all+jobs) — 此脚本清除 Jenkins 服务器上所有作业的工作区
- [Wipe workspaces for a set of jobs on all nodes](https://wiki.jenkins.io/display/JENKINS/Wipe+workspaces+for+a+set+of+jobs+on+all+nodes) — The script wipes workspaces of certain jobs on all nodes.
  [擦除所有节点上一组作业的工作区](https://wiki.jenkins.io/display/JENKINS/Wipe+workspaces+for+a+set+of+jobs+on+all+nodes) — 该脚本擦除所有节点上某些作业的工作区。

## Plugins enabling Groovy usage 支持 Groovy 使用的插件

- [Config File Provider Plugin](https://plugins.jenkins.io/config-file-provider) Adds the ability to provide configuration files (i.e., settings.xml for maven, XML, groovy, custom files, etc.) loaded through the Jenkins UI which will be copied to the job’s workspace.
  [配置文件提供程序插件](https://plugins.jenkins.io/config-file-provider)添加了提供通过 Jenkins UI 加载的配置文件（即 maven、XML、groovy、自定义文件等的 settings.xml）的功能，这些文件将被复制到作业的工作区。
- [Global Post Script Plugin](https://plugins.jenkins.io/global-post-script) — Execute a global configured groovy script after each build of each job managed by the Jenkins.  This is typical for cases when you need to do something based on a shared set of parameters, such as triggering downstream jobs managed by the same Jenkins or remote ones based on the parameters been passed to the parameterized jobs.
  [Global Post Script Plugin （全局后脚本插件）](https://plugins.jenkins.io/global-post-script) — 在 Jenkins 管理的每个作业的每次构建后执行全局配置的 groovy 脚本。当您需要根据一组共享参数执行某些操作时，这是典型的情况，例如根据已传递给参数化作业的参数触发由同一 Jenkins 或远程管理的下游作业。
- [Groovy plugin Groovy 插件](https://plugins.jenkins.io/groovy)
- [Groovy Postbuild Plugin](https://plugins.jenkins.io/groovy-postbuild) — This plugin executes a groovy script in the Jenkins JVM. Typically, the script checks some conditions and changes accordingly the build result, puts badges next to the build in the build history and/or displays information on the build summary page.
  [Groovy Postbuild 插件](https://plugins.jenkins.io/groovy-postbuild) — 此插件在 Jenkins JVM 中执行 groovy 脚本。通常，该脚本会检查某些条件并相应地更改构建结果，在构建历史记录中将徽章放在构建旁边和/或在构建摘要页面上显示信息。
- [Groovy Remote Control Plugin](https://plugins.jenkins.io/groovy-remote) — This plugin provides [Groovy Remote Control](http://groovy.codehaus.org/modules/remote/)'s receiver, and allows to control external application from Jenkins.
  [Groovy Remote Control Plugin](https://plugins.jenkins.io/groovy-remote) — 此插件提供 [Groovy Remote Control](http://groovy.codehaus.org/modules/remote/) 的接收器，并允许从 Jenkins 控制外部应用程序。
- [Matrix Groovy Execution Strategy Plugin](https://plugins.jenkins.io/matrix-groovy-execution-strategy) — A plugin to decide the execution order and valid combinations of matrix projects.
  [Matrix Groovy Execution Strategy Plugin](https://plugins.jenkins.io/matrix-groovy-execution-strategy) — 用于确定矩阵项目的执行顺序和有效组合的插件。
- [Scriptler Plugin](https://plugins.jenkins.io/scriptler) — Scriptler allows you to store/edit groovy scripts and execute it on any of the nodes… no need to copy/paste groovy code anymore.
  [Scriptler 插件](https://plugins.jenkins.io/scriptler) — Scriptler 允许您存储/编辑 groovy 脚本并在任何节点上执行它......不再需要复制 / 粘贴 Groovy 代码。

# Groovy Hook Scripts Groovy Hook 脚本

|      | This section is a work in progress. Want to help? Check out the [jenkinsci/docs gitter channel](https://app.gitter.im/#/room/#jenkins/docs:matrix.org). For other ways to contribute to the Jenkins project, see [this page about participating and contributing](https://www.jenkins.io/participate). 此部分正在进行中。想要提供帮助？查看 [jenkinsci/docs gitter 频道](https://app.gitter.im/#/room/#jenkins/docs:matrix.org)。有关为 Jenkins 项目做出贡献的其他方式，请参阅[此页关于参与和贡献](https://www.jenkins.io/participate)。 |
| ---- | ------------------------------------------------------------ |
|      |                                                              |

Table of Contents 目录

- [Post initialization script (init hook)
  初始化后脚本 （init hook）](https://www.jenkins.io/doc/book/managing/groovy-hook-scripts/#post-initialization-script-init-hook)
- [Boot failure hook 引导失败钩子](https://www.jenkins.io/doc/book/managing/groovy-hook-scripts/#boot-failure-hook)

In several places inside Jenkins, a series of "hook scripts" get executed  to allow some actions to take place in reaction to some key events.
在 Jenkins 中的多个地方，会执行一系列“钩子脚本”，以允许对某些关键事件执行一些操作。

These scripts are written in Groovy, and get executed inside the same JVM as  Jenkins, allowing full access to the domain model of Jenkins. For given hook *HOOK*, the following locations are searched:
这些脚本是用 Groovy 编写的，并在与 Jenkins 相同的 JVM 中执行，从而允许对 Jenkins 的域模型进行完全访问。对于给定的 hook *HOOK，*将搜索以下位置：

- `WEB-INF/HOOK.groovy` in `jenkins.war`
  `jenkins.war` 中的 `WEB-INF/HOOK.groovy`
- `WEB-INF/HOOK.groovy.d/*.groovy` in the lexical order in `jenkins.war`
   `WEB-INF/HOOK.groovy.d/*.groovy` 在 `jenkins.war` 中的词法顺序中
- `$JENKINS_HOME/HOOK.groovy`
- `$JENKINS_HOME/HOOK.groovy.d/*.groovy` in the lexical order
   `$JENKINS_HOME/HOOK.groovy.d/*.groovy` 按词法顺序

`HOOK.groovy.d` is suitable to avoid conflicts — multiple entities can insert stuff into the hook without worrying about overwriting each other’s code.
`HOOK.groovy.d` 适合避免冲突 — 多个实体可以将内容插入到 hook 中，而不必担心覆盖彼此的代码。

The following events use this mechanism by replacing `HOOK` in `HOOK.groovy.d` or `HOOK.groovy` by one of the below mentioned types:
以下事件通过将 `HOOK.groovy.d` 或 `HOOK.groovy` 中的 `HOOK` 替换为下面提到的类型之一来使用此机制：

- **init**: Post-initialization script
  **init**：初始化后脚本
- **boot-failure**: Boot failure hook
  **boot-failure**： 启动失败钩子

## Post initialization script (init hook) 初始化后脚本 （init hook）

You can create a Groovy script file `$JENKINS_HOME/init.groovy`, or any `.groovy` file in the directory `$JENKINS_HOME/init.groovy.d/`, to run some additional things right after Jenkins starts up. The groovy scripts are executed at the end of Jenkins initialization. This script can access classes in Jenkins and all the plugins. So for example, you can write something like:
您可以创建一个 Groovy 脚本文件 `$JENKINS_HOME/init.groovy`，或者 `$JENKINS_HOME/init.groovy.d/` 目录中的任何 `.groovy` 文件，以便在 Jenkins 启动后立即运行一些其他操作。groovy 脚本在 Jenkins 初始化结束时执行。此脚本可以访问 Jenkins 中的类和所有插件。例如，您可以编写如下内容：

```
import jenkins.model.Jenkins;

// start in the state that doesn't do any build.
Jenkins.instance.doQuietDown();
```

Output is logged to the Jenkins log file. For Debian based users, this is /var/log/jenkins/jenkins.log
输出将记录到 Jenkins 日志文件中。对于基于 Debian 的用户，这是 /var/log/jenkins/jenkins.log

## Boot failure hook 引导失败钩子

When Jenkins encounters a fatal problem during boot, it’ll invoke "boot-failure" hook script to allow automatic corrective actions to be taken (such as notifying somebody, raising alerts, restarting, and so on.)
当 Jenkins 在启动过程中遇到致命问题时，它将调用 “boot-failure” 钩子脚本以允许采取自动纠正措施（例如通知某人、发出警报、重新启动等）。

These scripts get the cause of the problem as the "exception" variable when run.
这些脚本在运行时将问题的原因作为 “exception” 变量获取。

# Managing Nodes 管理节点

Table of Contents 目录

- [Components of Distributed Builds
  分布式构建的组件](https://www.jenkins.io/doc/book/managing/nodes/#components-of-distributed-builds)
- [Creating Agents 创建代理](https://www.jenkins.io/doc/book/managing/nodes/#creating-agents)
- [Launch inbound agent via Windows Scheduler
  通过 Windows Scheduler 启动入站代理](https://www.jenkins.io/doc/book/managing/nodes/#launch-inbound-agent-via-windows-scheduler)
- [Installing a Jenkins agent on Windows
  在 Windows 上安装 Jenkins 代理](https://www.jenkins.io/doc/book/managing/nodes/#installing-a-jenkins-agent-on-windows)
- [Creating a macOS agent for Jenkins
  为 Jenkins 创建 macOS 代理](https://www.jenkins.io/doc/book/managing/nodes/#creating-a-macos-agent-for-jenkins)

## Components of Distributed Builds 分布式构建的组件

Builds in a [distributed builds architecture](https://www.jenkins.io/doc/book/scaling/architecting-for-scale/#distributed-builds-architecture) use nodes, agents, and executors, which are distinct from the Jenkins controller itself. Understanding what each of these components are is useful when managing nodes:
[分布式构建架构](https://www.jenkins.io/doc/book/scaling/architecting-for-scale/#distributed-builds-architecture)中的构建使用节点、代理和执行程序，它们与 Jenkins 控制器本身不同。在管理节点时，了解这些组件中的每一个都很有用：

- Jenkins controller Jenkins 控制器

  The Jenkins controller is the Jenkins service itself and where Jenkins is  installed. It is also a web server that also acts as a "brain" for deciding how,  when, and where to run tasks. Management tasks such as configuration, authorization, and  authentication are executed on the controller, which serves HTTP  requests. Files written when a Pipeline executes are written to the filesystem on  the controller, unless they are off-loaded to an artifact repository  such as Nexus or Artifactory. Jenkins 控制器是 Jenkins 服务本身，也是 Jenkins 的安装位置。它也是一个 Web  服务器，也充当决定如何、何时以及在何处运行任务的“大脑”。配置、授权和身份验证等管理任务在控制器上执行，该控制器为 HTTP  请求提供服务。Pipeline 执行时写入的文件将写入控制器上的文件系统，除非它们被卸载到 Nexus 或 Artifact 等构件存储库。

- Nodes 节点

  Nodes are the "machines" on which build agents run. Jenkins monitors each attached node for disk space, free temp space, free swap, clock time/sync, and response time. A node is taken offline if any of these values go outside the configured threshold. Jenkins supports two types of nodes: 节点是运行生成代理的 “计算机”。Jenkins 监控每个连接的节点的磁盘空间、空闲临时空间、空闲交换、时钟时间/同步和响应时间。如果这些值中的任何一个超出配置的阈值，则节点将脱机。Jenkins 支持两种类型的节点：  **agents** (described below) **代理**（如下所述）  **built-in node 内置节点**  The built-in node is a node that exists within the controller process. It is possible to use agents and the build-in node to run tasks. However, running tasks on the built-in node is discouraged for security, performance, and scalability reasons. The number of executors configured for the node determines the node’s ability to run tasks. Set the number of executors to 0 to disable running tasks on the built-in node. 内置节点是存在于控制器进程中的节点。可以使用代理和内置节点来运行任务。但是，出于安全性、性能和可扩展性的原因，不建议在内置节点上运行任务。为节点配置的执行程序数量决定了节点运行任务的能力。将 executor 数量设置为 0 以禁用内置节点上的运行任务。

- Agents 代理

  Agents manage the task execution on behalf of the Jenkins controller by using  executors. An agent is a small (170KB single jar) Java client process that connects to a Jenkins controller and is assumed to be unreliable. An agent can use any operating system that supports Java. Any tools required for building and testing get installed on the node  where the agent runs. Because these tools are a part of the node, they can be installed  directly or in a container, such as Docker or Kubernetes. Each agent is effectively a process with its own Process Identifier  (PID) on the host machine. In practice, nodes and agents are essentially the same but it is good to remember that they are conceptually distinct. 代理使用执行程序代表 Jenkins 控制器管理任务执行。代理是一个小型 （170KB 单个 jar） Java 客户端进程，它连接到 Jenkins  控制器，并被假定为不可靠。代理可以使用任何支持 Java  的操作系统。构建和测试所需的任何工具都安装在运行代理的节点上。由于这些工具是节点的一部分，因此它们可以直接安装，也可以安装在容器（如  Docker 或 Kubernetes）中。每个代理实际上都是一个进程，在主机上具有自己的进程标识符  （PID）。在实践中，节点和代理本质上是相同的，但最好记住它们在概念上是不同的。

- Executors 遗嘱 执行 人

  An executor is a slot for the execution of tasks. Effectively, it is a thread in the agent. The number of executors on a node defines the number of concurrent tasks that can run. In other words, this determines the number of concurrent Pipeline `stages` that can execute at the same time. Determine the correct number of executors per build node must be  determined based on the resources available on the node and the  resources required for the workload. When determining how many executors to run on a node, consider CPU and  memory requirements, as well as the amount of I/O and network activity: 执行程序是执行任务的槽。实际上，它是代理中的一个线程。节点上的执行程序数量定义可以运行的并发任务的数量。换句话说，这决定了可以同时执行的并发 Pipeline `阶段`的数量。必须根据节点上的可用资源和工作负载所需的资源来确定每个构建节点的正确执行程序数量。在确定要在节点上运行的执行程序数量时，请考虑 CPU 和内存要求，以及 I/O 和网络活动量：  One executor per node is the safest configuration. 每个节点一个执行程序是最安全的配置。  One executor per CPU core can work well, if the tasks running are small. 如果运行的任务较小，则每个 CPU 内核一个执行程序可以很好地工作。  Monitor I/O performance, CPU load, memory usage, and I/O throughput carefully when running multiple executors on a node. 在节点上运行多个执行程序时，请仔细监控 I/O 性能、CPU 负载、内存使用情况和 I/O 吞吐量。

## Creating Agents 创建代理

Jenkins agents are the "workers" that perform operations requested by the  Jenkins controller. The Jenkins controller administers the agents and can manage the tooling on the agents. Jenkins agents may be statically allocated or they can be dynamically  allocated through systems like Kubernetes, OpenShift, Amazon EC2, Azure, Google Cloud, IBM Cloud, Oracle Cloud, and other cloud providers.
Jenkins 代理是执行 Jenkins 控制器请求的操作的 “worker”。Jenkins 控制器管理代理，并可以管理代理上的工具。Jenkins  代理可以是静态分配的，也可以通过 Kubernetes、OpenShift、Amazon EC2、Azure、Google Cloud、IBM  Cloud、Oracle Cloud 和其他云提供商等系统动态分配。

This 30 minute tutorial from Darin Pope creates a Jenkins agent and connects it to a controller.
Darin Pope 的这个 30 分钟教程创建了一个 Jenkins 代理并将其连接到控制器。

How to create an agent node in Jenkins
如何在 Jenkins 中创建代理节点

<iframe width="640" height="360" src="https://www.youtube.com/embed/99DddJiH7lM?rel=0" frameborder="0" allowfullscreen=""></iframe>

## Launch inbound agent via Windows Scheduler 通过 Windows Scheduler 启动入站代理

If you are having trouble getting the inbound agent installed as a Windows service (i.e., you followed [the instructions on installing the agent as a service here](https://wiki.jenkins.io/display/JENKINS/Installing+Jenkins+as+a+Windows+service) but it didn’t work), an alternative method of starting the service  automatically when Windows starts is to use the Windows Scheduler. 
如果您在将入站代理安装为 Windows 服务时遇到问题（即，您按照[此处有关将代理安装为服务的说明](https://wiki.jenkins.io/display/JENKINS/Installing+Jenkins+as+a+Windows+service)进行操作，但它不起作用），则在 Windows 启动时自动启动服务的另一种方法是使用 Windows 计划程序。

We take advantage of the Windows Scheduler’s ability to run command at system startup
我们利用 Windows 计划程序在系统启动时运行命令的能力

1. Configure your node to use the "Launch agents by connecting it to the master" launch method
   将您的节点配置为使用“Launch agents by connected it to the master”（通过将节点连接到主节点来启动代理）启动方法
   - Click Save 单击 Save
2. Note the command required to launch the agent
   记下启动代理所需的命令
   - On the new agent node’s Jenkins page, note the agent command line shown. 
     在新代理节点的 Jenkins 页面上，记下显示的代理命令行。
     - It will be like: 它会是这样的：

```
java \
    -jar agent.jar \
    -url <Jenkins URL> \
    -secret <secret key> \
    -name <agent name>
```

1. Obtain the agent.jar file and copy it to your new Windows agent node
   获取 agent.jar 文件并将其复制到新的 Windows 代理节点
   - In the command line noted in the last step, the "agent.jar" is a hyperlink. Click it to download the agent.jar file.
     在上一步中记下的命令行中，“agent.jar”是一个超链接。单击它以下载 agent.jar 文件。
   - Copy the agent.jar file to a permanent location on your agent machine
     将 agent.jar 文件复制到代理计算机上的永久位置
2. Ensure that you have a java version available on your agent machine
   确保您的代理计算机上有可用的 java 版本
   - If not, obtain and install a [supported version](https://www.jenkins.io/doc/book/platform-information/support-policy-java/) of Java
     如果没有，请获取并安装[受支持的 Java 版本](https://www.jenkins.io/doc/book/platform-information/support-policy-java/)
3. Run the command manually from a CMD window on your agent to confirm that it works
   从代理上的 CMD 窗口手动运行该命令，以确认其正常工作
   - Open the CMD window 打开 CMD 窗口
   - Run the command the one like
     运行命令，例如

```
java \
    -jar agent.jar \
    -url <Jenkins URL> \
    -secret <secret key> \
    -name <agent name>
```

- Go back to the node’s web page in Jenkins. If everything works then page should say "Agent is connected"
  返回到 Jenkins 中节点的网页。如果一切正常，则页面应显示 “Agent is connected”
- Stop the command (control-c)
  停止命令 （control-c）
  1. Register a new scheduled job to run the same command
     注册新的计划作业以运行相同的命令
- Open "Task Scheduler" on your windows machine
  在 Windows 计算机上打开“Task Scheduler”
  - Start → Run: task Scheduler
- Create a basic task (Menu: Action → Create Basic Task)
  创建基本任务（菜单：创建基本任务→操作）
  - First page of the wizard:
    向导的第一页：
    - Name: Jenkins Agent 名称：Jenkins Agent
    - Description (optional) 描述 （可选）
    - Click Next 单击 Next
  - Next page of the wizard
    向导的下一页
    - When do you want the task to start: select "When the computer starts"
      您希望任务何时开始：选择“当计算机启动时”
    - Click Next 单击 Next
  - Next page of the wizard
    向导的下一页
    - What action do you want the task to perform: select "Start a program"
      您希望任务执行什么操作：选择 “Start a program”
    - Click Next 单击 Next
  - Next page of the wizard
    向导的下一页
    - Program/Script: enter "java.exe" (or the full path to your java.exe)
      程序/脚本：输入“java.exe”（或java.exe的完整路径）
    - Add arguments: enter the rest of the command, like
      添加参数：输入命令的其余部分，例如

```
java
    -jar agent.jar \
    -url <Jenkins URL> \
    -secret <secret key> \
    -name <agent name>
```

- eg: 例如：

```
java \
    -jar D:\Scripts\jenkins\agent.jar \
    -url http://jenkinshost.example.com \
    -secret d6a84df1fc4f45ddc9c6ab34b08f13391983ffffffffffb3488b7d5ac77fbc7 \
    -name buildNode1
```

- Click Next 单击 Next
  - Next page of the wizard
    向导的下一页
- Click the check box "Open the Properties dialog for this task when I click Finish
  单击复选框“当我单击 Finish 时打开此任务的 Properties 对话框
- Click Finish 单击 Finish
  - Update the task’s properties
    更新任务的属性
    - On the General tab 在 General （常规） 选项卡上
- Select the user to run the task as
  选择要作为其运行任务的用户
- Select "Run whether user is logged on or not"
  选择 “Run regardless user has logged / not logged on”
  - On the settings tab 在设置选项卡上
- Uncheck "Stop the task if it runs longer than"
  取消选中“如果任务运行时间超过以下时间，则停止任务”
- Check "Run the task as soon as possible after a scheduled start is missed"
  选中“在错过计划的启动后尽快运行任务”
- Check "If the task failed, restart every: 10 minutes", and "Attempt to restart up to: 3 times"
  选中“如果任务失败，则每 10 分钟重新启动一次”和“尝试重新启动最多：3 次”
  - Click OK 单击 OK
    1. Start the scheduled task and again check that the agent is connected
       启动计划任务，然后再次检查代理是否已连接
       - Go back to the node’s web page in Jenkins. If everything works then page should say "Agent is connected"
         返回到 Jenkins 中节点的网页。如果一切正常，则页面应显示 “Agent is connected”

## Installing a Jenkins agent on Windows 在 Windows 上安装 Jenkins 代理

You can install a Jenkins agent on Windows using the command line. In this video, Darin reviews setting up and installing the Jenkins agent, including how to create any necessary files.
您可以使用命令行在 Windows 上安装 Jenkins 代理。在此视频中，Darin 回顾了如何设置和安装 Jenkins 代理，包括如何创建任何必要的文件。

How to install a Jenkins agent on Windows
如何在 Windows 上安装 Jenkins 代理

<iframe width="800" height="420" src="https://www.youtube.com/embed/N8AQTlHoBKc?rel=0" frameborder="0" allowfullscreen=""></iframe>

## Creating a macOS agent for Jenkins 为 Jenkins 创建 macOS 代理

This video reviews the process of creating a macOS agent for Jenkins using Java 11.
此视频回顾了使用 Java 11 为 Jenkins 创建 macOS 代理的过程。

<iframe width="800" height="420" src="https://www.youtube.com/embed/DteE1Zf8CIw?rel=0" frameborder="0" allowfullscreen=""></iframe>

# In-process Script Approval  进程内脚本审批

Table of Contents 目录

- [Getting Started 开始](https://www.jenkins.io/doc/book/managing/script-approval/#getting-started)
- [Groovy Sandbox Groovy 沙盒](https://www.jenkins.io/doc/book/managing/script-approval/#groovy-sandbox)
- Script Approval 脚本审批
  - [Approve assuming permissions check
    批准假定权限检查](https://www.jenkins.io/doc/book/managing/script-approval/#approve-assuming-permissions-check)

Jenkins, and a number of plugins, allow users to execute Groovy scripts *in* Jenkins. These scripting capabilities are provided by:
Jenkins 和许多插件允许用户*在 Jenkins 中*执行 Groovy 脚本。这些脚本功能由以下方面提供：

- [Script Console](https://www.jenkins.io/doc/book/managing/script-console/). [脚本控制台](https://www.jenkins.io/doc/book/managing/script-console/)。
- [Jenkins Pipeline](https://www.jenkins.io/doc/book/pipeline/).
  [Jenkins 管道](https://www.jenkins.io/doc/book/pipeline/)。
- The [Extended Email plugin](https://plugins.jenkins.io/email-ext).
  [扩展电子邮件插件](https://plugins.jenkins.io/email-ext)。
- The [Groovy plugin](https://plugins.jenkins.io/groovy) - when using the "Execute system Groovy script" step.
  [Groovy 插件](https://plugins.jenkins.io/groovy) - 当使用“执行系统 Groovy 脚本”步骤时。
- The [JobDSL plugin](https://plugins.jenkins.io/job-dsl) as of version 1.60 and later.
  [JobDSL 插件](https://plugins.jenkins.io/job-dsl)，版本为 1.60 及更高版本。

To protect Jenkins from execution of malicious scripts, these plugins execute user-provided scripts in a [Groovy Sandbox](https://www.jenkins.io/doc/book/managing/script-approval/#groovy-sandbox) that limits the internal APIs that are accessible. This protection is provided by the [Script Security plugin](https://plugins.jenkins.io/script-security). As soon as an unsafe method is used in any of the scripts, the administrator can use the "In-process Script Approval" action appears in **Manage Jenkins** to allow the unsafe method. Unsafe methods should not be enabled without careful consideration of the impact.
为了保护 Jenkins 免受恶意脚本的执行，这些插件在 [Groovy Sandbox](https://www.jenkins.io/doc/book/managing/script-approval/#groovy-sandbox) 中执行用户提供的脚本，该沙箱限制了可访问的内部 API。此保护由 [Script Security 插件](https://plugins.jenkins.io/script-security)提供。一旦在任何脚本中使用了不安全的方法，管理员就可以使用 **Manage Jenkins** 中显示的 “In-process Script Approval” 操作来允许不安全的方法。如果不仔细考虑影响，就不应该启用不安全的方法。

![Entering the In-process Script Approval configuration](https://www.jenkins.io/doc/book/resources/managing/manage-inprocess-script-approval.png)

## Getting Started 开始

The [Script Security plugin](https://plugins.jenkins.io/script-security) is installed automatically by the [Post-install Setup Wizard](https://www.jenkins.io/doc/book/getting-started/installing#post-install-setup-wizard), although initially no additional scripts or operations are approved for use.
[Script Security 插件](https://plugins.jenkins.io/script-security)由 [Post-install Setup Wizard](https://www.jenkins.io/doc/book/getting-started/installing#post-install-setup-wizard) 自动安装，但最初未批准使用其他脚本或操作。

|      | Older versions of this plugin may not be safe to use. Please review the security warnings listed on [the Script Security plugin page](https://plugins.jenkins.io/script-security) in order to ensure that the [Script Security plugin](https://plugins.jenkins.io/script-security) is up to date. 此插件的旧版本可能无法安全使用。请查看 [Script Security 插件页面上](https://plugins.jenkins.io/script-security)列出的安全警告，以确保 [Script Security 插件](https://plugins.jenkins.io/script-security)是最新的。 |
| ---- | ------------------------------------------------------------ |
|      |                                                              |

Security for in-process scripting is provided by two different mechanisms: the [Groovy Sandbox](https://www.jenkins.io/doc/book/managing/script-approval/#groovy-sandbox) and [Script Approval](https://www.jenkins.io/doc/book/managing/script-approval/#script-approval). The first, the Groovy Sandbox, is enabled by default for [Jenkins Pipeline](https://www.jenkins.io/doc/book/pipeline) allowing user-supplied Scripted and Declarative Pipeline to execute without prior Administrator intervention. The second, Script Approval, allows Administrators to approve or deny unsandboxed scripts, or allow sandboxed scripts to execute additional methods.
进程内脚本的安全性由两种不同的机制提供：[Groovy Sandbox](https://www.jenkins.io/doc/book/managing/script-approval/#groovy-sandbox) 和 [Script Approval](https://www.jenkins.io/doc/book/managing/script-approval/#script-approval)。第一个是 Groovy Sandbox，默认情况下为 [Jenkins Pipeline](https://www.jenkins.io/doc/book/pipeline) 启用，允许用户提供的脚本化和声明式管道在没有事先管理员干预的情况下执行。第二种是 Script Approval，它允许管理员批准或拒绝未沙盒化的脚本，或允许沙盒化脚本执行其他方法。

For most systems, the combination of the Groovy Sandbox and the [Script Security’s built-in list](https://github.com/jenkinsci/script-security-plugin/tree/master/src/main/resources/org/jenkinsci/plugins/scriptsecurity/sandbox/whitelists) of approved method signatures, will be sufficient. It is strongly recommended that Administrators only deviate from these defaults if absolutely necessary.
对于大多数系统，Groovy Sandbox 和 [Script Security 的内置](https://github.com/jenkinsci/script-security-plugin/tree/master/src/main/resources/org/jenkinsci/plugins/scriptsecurity/sandbox/whitelists)已批准方法签名列表的组合就足够了。强烈建议管理员仅在绝对必要时才偏离这些默认值。

## Groovy Sandbox Groovy 沙盒

To reduce manual interventions by Administrators, most scripts will run in a Groovy Sandbox by default, including all [Jenkins Pipelines](https://www.jenkins.io/doc/book/pipeline). The sandbox only allows a subset of Groovy’s methods deemed sufficiently safe for "untrusted" access to be executed without prior approval. Scripts using the Groovy Sandbox are **all** subject to the same restrictions, therefore a Pipeline authored by an Administrator is subject to the restrictions as one authorized by a non-administrative user.
为了减少管理员的手动干预，默认情况下，大多数脚本将在 Groovy Sandbox 中运行，包括所有 [Jenkins Pipelines](https://www.jenkins.io/doc/book/pipeline)。沙箱只允许 Groovy 方法的子集被认为对 “不可信” 访问足够安全，无需事先批准即可执行。使用 Groovy Sandbox 的脚本**都**受到相同的限制，因此由 Administrator 编写的 Pipeline 与由非管理用户授权的 Pipeline 受限制。

When a script attempts to use features or methods unauthorized by the sandbox, a script is halted immediately, as shown below with Jenkins Pipeline
当脚本尝试使用沙盒未经授权的功能或方法时，脚本会立即停止，如下所示的 Jenkins Pipeline

![Sandbox method rejection](https://www.jenkins.io/doc/book/resources/managing/script-sandbox-rejection.png)

Figure 1. Unauthorized method signature rejected at runtime via Blue Ocean
图 1.未经授权的方法签名在运行时通过 Blue Ocean 被拒绝

The Pipeline above will not execute until an Administrator [approves the method signature](https://www.jenkins.io/doc/book/managing/script-approval/#approving-method-signature) via the **In-process Script Approval** page.
在管理员通过 **In-process Script Approval** 页面[批准方法签名](https://www.jenkins.io/doc/book/managing/script-approval/#approving-method-signature)之前，上述管道不会执行。

In addition to adding approved method signatures, users may also disable the Groovy Sandbox entirely as shown below. Disabling the Groovy Sandbox requires that the **entire** script must be reviewed and [manually approved](https://www.jenkins.io/doc/book/managing/script-approval/#approving-unsandboxed-pipeline) by an administrator.
除了添加已批准的方法签名外，用户还可以完全禁用 Groovy Sandbox，如下所示。禁用 Groovy Sandbox 要求管理员必须审查和[手动批准](https://www.jenkins.io/doc/book/managing/script-approval/#approving-unsandboxed-pipeline)**整个**脚本。

![Creating a Scripted Pipeline and unchecking 'Use Groovy Sandbox'](https://www.jenkins.io/doc/book/resources/managing/unchecked-groovy-sandbox-on-pipeline.png)

Figure 2. Disabling the Groovy Sandbox for a Pipeline
图 2.禁用管道的 Groovy 沙箱

## Script Approval 脚本审批

Manual approval of entire scripts, or method signatures, by an administrator provides Administrators with additional flexibility to support more advanced usages of in-process scripting. When the [Groovy Sandbox](https://www.jenkins.io/doc/book/managing/script-approval/#groovy-sandbox) is disabled, or a method outside of the built-in list is invoked, the Script Security plugin will check the Administrator-managed list of approved scripts and methods.
管理员手动批准整个脚本或方法签名为管理员提供了额外的灵活性，以支持更高级的进程内脚本使用。当 [Groovy Sandbox](https://www.jenkins.io/doc/book/managing/script-approval/#groovy-sandbox) 被禁用，或者调用了内置列表之外的方法时，Script Security 插件将检查 Administrator-managed 的已批准脚本和方法列表。

|      | When a script is approved, it is approved for use in any Jenkins feature or  plugin that integrates with script approval. Script approval is not tied to a specific job or to any other specific  use of the script. Due to this, care must be taken when approving a script to ensure that  any user supplied parameters can not be used to exploit the controller. 脚本获得批准后，即表示该脚本可用于与脚本审批集成的任何 Jenkins 功能或插件。脚本审批与特定作业或脚本的任何其他特定用途无关。因此，在批准脚本时必须小心，以确保用户提供的任何参数都不能用于利用控制器。 |
| ---- | ------------------------------------------------------------ |
|      |                                                              |

For scripts which wish to execute outside of the [Groovy Sandbox](https://www.jenkins.io/doc/book/managing/script-approval/#groovy-sandbox), the Administrator must approve the **entire** script in the **In-process Script Approval** page:
对于希望在 [Groovy 沙箱](https://www.jenkins.io/doc/book/managing/script-approval/#groovy-sandbox)之外执行的脚本，管理员必须在 **In-process Script Approval** 页面中批准**整个**脚本：

![Approving an unsandboxed Scripted Pipeline](https://www.jenkins.io/doc/book/resources/managing/inprocess-script-approval-pipeline.png)

Figure 3. Approving an unsandboxed Scripted Pipeline
图 3.批准未沙盒的脚本化管道

For scripts which use the [Groovy Sandbox](https://www.jenkins.io/doc/book/managing/script-approval/#groovy-sandbox), but wish to execute an currently unapproved method signature will also be halted by Jenkins, and require an Administrator to approve the specific method signature before the script is allowed to execute:
对于使用 [Groovy 沙箱](https://www.jenkins.io/doc/book/managing/script-approval/#groovy-sandbox)但希望执行当前未批准的方法签名的脚本，Jenkins 也将停止该脚本，并要求管理员在允许执行脚本之前批准特定的方法签名：

![Approving a new method signature](https://www.jenkins.io/doc/book/resources/managing/inprocess-script-approval-method.png)

Figure 4. Approving a new method signature
图 4.批准新的方法签名

### Approve assuming permissions check 批准假定权限检查

Script approval provides three options: Approve, Deny, and "Approve assuming permissions check." While the purpose of the first two are self-evident, the third requires some additional understanding of what internal data scripts are able to access and how permissions checks inside of Jenkins function.
脚本审批提供三个选项：批准、拒绝和“批准假设权限检查”。虽然前两个的目的不言而喻，但第三个需要对内部数据脚本能够访问的内容以及 Jenkins 内部的权限检查如何运作有额外的了解。

Consider a script which accesses the method `hudson.model.AbstractItem.getParent()`, which by itself is harmless and will return an object containing either the folder or root item which contains the currently executing Pipeline or Job. Following that method invocation, executing `hudson.model.ItemGroup.getItems()`, which will list items in the folder or root item, requires the `Job/Read` permission.
考虑一个访问 method `hudson.model.AbstractItem.getParent()` 的脚本，该方法本身是无害的，并将返回一个包含文件夹或根项的对象，该文件夹或根项包含当前正在执行的 Pipeline 或 Job。在该方法调用之后，执行 `hudson.model.ItemGroup.getItems()` 将列出文件夹或根项目中的项目，需要 `Job/Read` 权限。

This could mean that approving the `hudson.model.ItemGroup.getItems()` method signature would allow a script to bypass built-in permissions checks.
这可能意味着批准 `hudson.model.ItemGroup.getItems()` 方法签名将允许脚本绕过内置权限检查。

Instead, it is usually more desirable to click **Approve assuming permissions check** which will cause the Script Approval engine to allow the method signature assuming the user running the script has the permissions to execute the method, such as the `Job/Read` permission in this example.
相反，通常更可取的是单击 **Approve assuming permissions check**，这将导致 Script Approval 引擎允许方法签名（假设运行脚本的用户具有执行该方法的权限），例如本例中的 `Job/Read` 权限。

# Users 用户

# Themes for user interface  用户界面主题

Table of Contents 目录

- [Using built-in themes 使用内置主题](https://www.jenkins.io/doc/book/managing/ui-themes/#using-built-in-themes)
- Using custom themes 使用自定义主题
  - [Customizing the login screen
    自定义登录屏幕](https://www.jenkins.io/doc/book/managing/ui-themes/#customizing-the-login-screen)
- Themes support policy 主题支持策略
  - [Why? 为什么？](https://www.jenkins.io/doc/book/managing/ui-themes/#why)
- [Reporting and fixing issues
  报告和修复问题](https://www.jenkins.io/doc/book/managing/ui-themes/#reporting-and-fixing-issues)
- [Information for theme developers
  面向模板开发人员的信息](https://www.jenkins.io/doc/book/managing/ui-themes/#information-for-theme-developers)

It is possible to customize Jenkins' appearance with custom themes. This feature is not a part of the Jenkins core, but it is supported through plugins.
可以使用自定义主题自定义 Jenkins 的外观。此功能不是 Jenkins 核心的一部分，但通过插件提供支持。

## Using built-in themes 使用内置主题

There are several plugins that provide built-in themes, the most popular are
有几个插件提供内置主题，最受欢迎的是

- [Dark Theme Plugin](https://plugins.jenkins.io/dark-theme) - provides a dark theme for Jenkins. Supports configuration as code to select the theme configuration.
  [深色主题插件](https://plugins.jenkins.io/dark-theme) - 为 Jenkins 提供深色主题。支持配置即代码选择主题配置。
- [Material Theme Plugin](https://plugins.jenkins.io/material-theme) - port of Afonso F’s [Jenkins material theme](http://afonsof.com/jenkins-material-theme/) to use Theme Manager.
  [Material Theme Plugin](https://plugins.jenkins.io/material-theme) - Afonso F 的 [Jenkins Material Theme](http://afonsof.com/jenkins-material-theme/) 的端口，以使用 Theme Manager。
- [Solarized Theme Plugin](https://plugins.jenkins.io/solarized-theme) - provides Solarized (light and dark) themes.
  [Solarized Theme Plugin](https://plugins.jenkins.io/solarized-theme) - 提供 Solarized （浅色和深色） 主题。

Installing any of these will also install their common dependency: the [Theme Manager Plugin](https://plugins.jenkins.io/theme-manager). This plugin allows administrators to set the default theme for a Jenkins installation via *Manage Jenkins > System > Built-in Themes* and users can set their preferred theme in their personal settings. You can also configure this plugin using [Configuration-as-Code Plugin](https://plugins.jenkins.io/configuration-as-code). See the plugin documentation for more details.
安装其中任何一个也会安装它们的常见依赖项：[Theme Manager Plugin](https://plugins.jenkins.io/theme-manager)。此插件允许管理员通过*管理 Jenkins > 系统 > 内置主题*为 Jenkins 安装设置默认主题，用户可以在个人设置中设置他们喜欢的主题。您还可以使用 [Configuration-as-Code Plugin](https://plugins.jenkins.io/configuration-as-code) 配置此插件。有关更多详细信息，请参阅插件文档。

## Using custom themes 使用自定义主题

To be able to fully customize Jenkins appearance you can install the [Simple Theme Plugin](https://plugins.jenkins.io/simple-theme-plugin). It allows customizing the Jenkins UI by providing custom CSS and Javascript files. It also supports replacing the Favicon.
为了能够完全自定义 Jenkins 外观，您可以安装 [Simple Theme Plugin](https://plugins.jenkins.io/simple-theme-plugin)。它允许通过提供自定义 CSS 和 Javascript 文件来自定义 Jenkins UI。它还支持替换 Favicon。

To configure a theme, you can go to *Manage Jenkins > System > Theme* and enter the URL of your stylesheet and/or Javascript file. You can also configure this plugin using [Configuration-as-Code Plugin](https://plugins.jenkins.io/configuration-as-code). See the plugin documentation for the detailed usage guidelines and links to sample themes.
要配置主题，您可以转到*管理 Jenkins > 系统 > 主题*，然后输入样式表和/或 Javascript 文件的 URL。您还可以使用 [Configuration-as-Code Plugin](https://plugins.jenkins.io/configuration-as-code) 配置此插件。请参阅插件文档，了解详细的使用指南和示例主题的链接。

### Customizing the login screen 自定义登录屏幕

Since Jenkins 2.128 themes configured using Simple Theme Plugin do not allow you to customize the login screen ([announcement](https://www.jenkins.io/blog/2018/06/27/new-login-page/)). To customize the login screen you can install the [Login Theme Plugin](https://plugins.jenkins.io/login-theme).
从 Jenkins 2.128 开始，使用 Simple Theme Plugin 配置的主题不允许您自定义登录屏幕（[公告](https://www.jenkins.io/blog/2018/06/27/new-login-page/)）。要自定义登录屏幕，您可以安装 [Login Theme Plugin](https://plugins.jenkins.io/login-theme)。

## Themes support policy 主题支持策略

|      | Jenkins themes are provided “as is”, without warranty of any kind, implicit or explicit. The Jenkins core, plugins and other component updates may break theme compatibility without notice.  Jenkins 主题按“原样”提供，不提供任何形式的、暗示或明确的保证。Jenkins 核心、插件和其他组件更新可能会破坏主题兼容性，恕不另行通知。 |
| ---- | ------------------------------------------------------------ |
|      |                                                              |

At the moment, the Jenkins project does not provide specification for layouts/CSS, and we cannot guarantee backward or forward compatibility. We try to reflect major changes in changelogs (e.g. see the ‘developer’ changes in the [Jenkins changelog](https://www.jenkins.io/changelog/)), but minor changes may not be included there.
目前，Jenkins 项目没有提供 layouts/CSS 的规范，我们无法保证向后或向前兼容。我们尝试在变更日志中反映重大更改（例如，请参阅 [Jenkins 变更日志](https://www.jenkins.io/changelog/)中的“开发人员”更改），但细微更改可能不包含在那里。

### Why? 为什么？

There is an ongoing effort focused on improving Jenkins look-and-feel, accessibility, and user experience. This area is mission-critical to the project. There are multiple initiatives in the [Jenkins Roadmap](https://www.jenkins.io/project/roadmap/) being coordinated by the [Jenkins User Experience SIG](https://www.jenkins.io/sigs/ux/).
我们正在努力改进 Jenkins 的外观、可访问性和用户体验。此区域对项目至关重要。[Jenkins 路线图](https://www.jenkins.io/project/roadmap/)中有多个计划由 [Jenkins 用户体验 SIG](https://www.jenkins.io/sigs/ux/) 协调。

Major UI changes imply incompatible changes in layouts and the CSS structure  which is critical for theme plugins. Historically Jenkins had no explicit support policy for themes, and we do not want to provide compatibility requirements which would  create obstacles for reworking the main Jenkins interface. Later, once the Jenkins UI rework reaches its destination and the UI  becomes more stable, we could consider creating specifications for theme extensibility so that we could make themes more stable and maintain  compatibility.
主要的 UI 更改意味着布局和 CSS 结构的不兼容更改，这对于主题插件至关重要。从历史上看，Jenkins  没有明确的主题支持策略，我们不想提供兼容性要求，这会为重新设计 Jenkins 主界面造成障碍。稍后，一旦 Jenkins UI  返工到达目的地并且 UI 变得更加稳定，我们可以考虑创建主题扩展性规范，以便使主题更稳定并保持兼容性。

## Reporting and fixing issues 报告和修复问题

For built-in themes, users are welcome to report discovered compatibility issues to theme maintainers, and to submit patches there.
对于内置主题，欢迎用户向主题维护者报告发现的兼容性问题，并在其中提交补丁。

We will generally reject bug reports to the Jenkins core/plugins involving broken UI elements with a custom theme. We will consider pull requests which restore compatibility and do not block further Web UI evolvement.
我们通常会拒绝向 Jenkins 核心/插件报告涉及具有自定义主题的损坏 UI 元素的错误报告。我们将考虑恢复兼容性并且不会阻止 Web UI 进一步发展的拉取请求。

|      | If a theme outside the [jenkinsci](https://github.com/jenkinsci) GitHub organization is no longer maintained, it is fine to fork it and to create a new version. For themes hosted within the `jenkinsci` organization, we have an [adoption process](https://www.jenkins.io/doc/developer/plugin-governance/adopt-a-plugin/) which also applies to themes.  如果 [jenkinsci](https://github.com/jenkinsci) GitHub 组织之外的主题不再维护，可以对其进行 fork 并创建一个新版本。对于 `jenkinsci` 组织内托管的主题，我们有一个[也适用于主题的采用流程](https://www.jenkins.io/doc/developer/plugin-governance/adopt-a-plugin/)。 |
| ---- | ------------------------------------------------------------ |
|      |                                                              |

## Information for theme developers 面向模板开发人员的信息

We encourage Jenkins users to create themes and to share them. Such themes could be a great way to experiment with UI enhancements, and we would be happy to consider enhancements from them for a default Jenkins theme.
我们鼓励 Jenkins 用户创建主题并分享它们。此类主题可能是试验 UI 增强功能的好方法，我们很乐意考虑将它们增强功能用于默认 Jenkins 主题。

To improve the user experience, please consider the following recommendations:
为了改善用户体验，请考虑以下建议：

- Version themes with tags on Git and to maintain changelogs with explicit  references to changes in the supported versions (e.g. see our release  drafter documentation as one of the ways to automate changelogs).
  在 Git 上带有标签的版本主题，并维护带有对受支持版本中更改的明确引用的更改日志（例如，请参阅我们的发布起草者文档，作为自动化更改日志的方法之一）。
- Explicitly define an [OSI-approved open source license](https://opensource.org/licenses) so that users can freely modify and redistribute them.
  明确定义 [OSI 批准的开源许可证](https://opensource.org/licenses)，以便用户可以自由修改和重新分发它们。
  - This is also a prerequisite for hosting themes in Jenkins GitHub  organizations and, in the future, theme marketplaces or other similar  promotion engines.
    这也是在 Jenkins GitHub 组织中托管主题的先决条件，将来还可以在主题市场或其他类似的推广引擎中托管主题。

If you would like to share a story about Jenkins themes, please let the [Advocacy&Outreach SIG](https://www.jenkins.io/sigs/advocacy-and-outreach/) know!
如果您想分享有关 Jenkins 主题的故事，请告知 [Advocacy&Outreach SIG](https://www.jenkins.io/sigs/advocacy-and-outreach/)！

# User Content 用户内容

Jenkins has a mechanism known as "User Content", where administrators can place files inside  `$JENKINS_HOME/userContent`, and these files are served from http://yourhost/jenkins/userContent. This can be thought of as a mini HTTP server to serve images, stylesheets, and other static resources that you can use from various description fields inside Jenkins.
Jenkins 有一种称为“用户内容”的机制，管理员可以将文件放在 `$JENKINS_HOME/userContent` 中，这些文件由 http://yourhost/jenkins/userContent 提供。这可以看作是一个迷你 HTTP 服务器，用于提供图像、样式表和其他静态资源，您可以从 Jenkins 中的各种描述字段中使用这些资源。

- Note that these files are not subject to any access controls beyond requiring Overall/Read access.
  请注意，这些文件除了需要 Overall/Read 访问权限外，不受任何访问控制的约束。
- See [Git userContent plugin](https://plugins.jenkins.io/git-userContent/) for how to manage these files through a Git repository.
  请参阅 [Git userContent 插件](https://plugins.jenkins.io/git-userContent/)，了解如何通过 Git 存储库管理这些文件。

# Spawning Processes From Build  从 Build 生成进程

Table of Contents 目录

- [Why? 为什么？](https://www.jenkins.io/doc/book/managing/spawning-processes/#why)
- [Workarounds 解决方法](https://www.jenkins.io/doc/book/managing/spawning-processes/#workarounds)

It is possible to spawn a process from a build and have that process live longer than the build itself. For example, perhaps the build launches a new application server with the result of the build. In older releases, the build often did not terminate. Instead, the specific step (such as the shell script, Ant, or Maven) terminates but the build itself does not terminate.
可以从构建中生成一个进程，并使该进程的生命周期比构建本身长。例如，也许构建会使用构建结果启动一个新的应用程序服务器。在旧版本中，构建通常不会终止。相反，特定步骤（例如 shell 脚本、Ant 或 Maven）会终止，但构建本身不会终止。

Jenkins detects this situation and, instead of blocking indefinitely,  prints out a warning and terminates the build.
Jenkins 检测到这种情况，而不是无限期地阻止，而是打印出警告并终止构建。

## Why? 为什么？

This happens because of how file descriptors are used between processes in a build. Jenkins and the child process are connected by three pipes (`stdin`, `stdout`, and `stderr`.) This allows Jenkins to capture the output from the child process. The child process may write a lot of data to the pipe and quit  immediately after that, so Jenkins waits for end-of-file (EOF) to be  sure that it has drained the pipes before it terminates the build.
发生这种情况的原因是 build 中进程之间使用文件描述符的方式。Jenkins 和子进程通过三个管道（`stdin`、`stdout` 和 `stderr`）连接。这允许 Jenkins 捕获子进程的输出。子进程可能会向管道写入大量数据，并在此后立即退出，因此 Jenkins 会等待文件结束 （EOF） 以确保在终止构建之前已经耗尽管道。

Whenever a process terminates, the operating system closes all the file  descriptors it owned. So, even if the process did not close `stdout` and `stderr`, Jenkins gets end of file (EOF).
每当进程终止时，操作系统都会关闭它拥有的所有文件描述符。因此，即使进程没有关闭 `stdout` 和 `stderr，Jenkins` 也会获取文件结束 （EOF）。

The complication happens when those file descriptors are inherited by other processes. Let’s say the child process forks another process to the background. The background process (which is actually a daemon) inherits all the  file descriptors of the parent, including the writing side of the `stdout` ad `stderr` pipes that connect the child process and Jenkins. If the daemon forgets to close them, Jenkins does not get EOF for pipes  even when the child process exits, because the daemon still has those  descriptors open. This is how this problem happens.
当这些文件描述符被其他进程继承时，就会发生复杂性。假设子进程将另一个进程分叉到后台。后台进程（实际上是守护进程）继承父进程的所有文件描述符，包括连接子进程和 Jenkins 的 `stdout` 和 `stderr` 管道的写入端。如果守护进程忘记关闭它们，即使子进程退出，Jenkins 也不会获取管道的 EOF，因为守护进程仍然打开这些描述符。这就是这个问题的发生方式。

A daemon should close all file descriptors to avoid such issues but some daemons do not follow the rule. You can mitigate this problem with various workarounds.
守护程序应关闭所有文件描述符以避免此类问题，但某些守护程序不遵循该规则。您可以通过各种解决方法来缓解此问题。

## Workarounds 解决方法

On Unix, you can use a wrapper like [this](http://www.clapper.org/software/daemonize/) to make the daemon behave. For example:
在 Unix 上，您可以使用[这样的](http://www.clapper.org/software/daemonize/)包装器来使守护进程运行。例如：

```
daemonize -E BUILD_ID=dontKillMe /path/to/your/command
```

In a Jenkins Pipeline, use `JENKINS_NODE_COOKIE` instead of `BUILD_ID`.
在 Jenkins 管道中，使用 `JENKINS_NODE_COOKIE` 而不是 `BUILD_ID`。

Note that this will set the BUILD_ID environment variable for the process  being spawned to something other than the current BUILD_ID. Or you can start jenkins with `-Dhudson.util.ProcessTree.disable=true`.
请注意，这会将正在生成的进程的 BUILD_ID 环境变量设置为当前BUILD_ID以外的其他值。或者，您可以使用 `-Dhudson.util.ProcessTree.disable=true` .

On Windows, use the ['at' command](http://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/en-us/ntcmds.mspx?mfr=true) to launch a process in the background. For example:
在 Windows 上，使用 ['at' 命令](http://www.microsoft.com/resources/documentation/windows/xp/all/proddocs/en-us/ntcmds.mspx?mfr=true)在后台启动进程。例如：

```
<scriptdef name="get-next-minute" language="beanshell">
  <attribute name="property" />

  date = new java.text.SimpleDateFormat("HH:mm")
    .format(new Date(System.currentTimeMillis() + 60000));
  project.setProperty(attributes.get("property"), date);
</scriptdef>

<get-next-minute property="next-minute" />
<exec executable="at">
  <arg value="${next-minute}" />
  <arg value="/interactive" />
  <arg value="${jboss.home}\bin\run.bat" />
</exec>
```

Another similar workaround on Windows is to use a wrapper script and launch your program through it:
Windows 上的另一种类似解决方法是使用包装脚本并通过它启动程序：

```
// antRunAsync.js - Wrapper script to run an executable detached in the
// background from Ant's <exec> task.  This works by running the executable
// using the Windows Scripting Host WshShell.Run method which doesn't copy
// the standard filehandles stdin, stdout and stderr. Ant finds them closed
// and doesn't wait for the program to exit.
//
// requirements:
//   Windows Scripting Host 1.0 or better.  This is included with Windows
//   98/Me/2000/XP.  Users of Windows 95 or Windows NT 4.0 need to download
//   and install WSH support from
//   http://msdn.microsoft.com/scripting/.
//
// usage:
// <exec executable="cscript.exe">
//   <env key="ANTRUN_TITLE" value="Title for Window" />  <!-- optional -->
//   <env key="ANTRUN_OUTPUT" value="output.log" />  <!-- optional -->
//   <arg value="//NoLogo" />
//   <arg value="antRunAsync.js" />  <!-- this script -->
//   <arg value="real executable" />
// </exec>


var WshShell = WScript.CreateObject("WScript.Shell");
var exeStr = "%comspec% /c";
var arg = "";
var windowStyle = 1;
var WshProcessEnv = WshShell.Environment("PROCESS");
var windowTitle = WshProcessEnv("ANTRUN_TITLE");
var outputFile = WshProcessEnv("ANTRUN_OUTPUT");
var OS = WshProcessEnv("OS");
var isWindowsNT = (OS == "Windows_NT");

// On Windows NT/2000/XP, specify a title for the window.  If the environment
// variable ANTRUN_TITLE is specified, that will be used instead of a default.
if (isWindowsNT) {
  if (windowTitle == "")
     windowTitle = "Ant - " + WScript.Arguments(i);
  exeStr += "title " + windowTitle + " &&";
}

// Loop through arguments quoting ones with spaces
for (var i = 0; i < WScript.Arguments.count(); i++) {
  arg = WScript.Arguments(i);
  if (arg.indexOf(' ') > 0)
    exeStr += " \"" + arg + "\"";
  else
    exeStr += " " + arg;
}

// If the environment variable ANTRUN_OUTPUT was specified, redirect
// output to that file.
if (outputFile != "") {
  windowStyle = 7;  // new window is minimized
  exeStr += " > \"" + outputFile + "\"";
  if (isWindowsNT)
    exeStr += " 2>&1";
}

// WScript.Echo(exeStr);
// WshShell.Run(exeStr);
WshShell.Run(exeStr, windowStyle, false);
```



This self-provided wrapper script can be called from Ant for example:
这个自提供的包装脚本可以从 Ant 调用，例如：

```
<exec executable="cscript.exe">
   <env key="ANTRUN_TITLE" value="Title for Window" />  <!-- optional -->
   <env key="ANTRUN_OUTPUT" value="output.log" />  <!-- optional -->
   <arg value="//NoLogo" />
   <arg value="antRunAsync.js" />  <!-- this script -->
   <arg value="real executable" />
</exec>
```

Another workaround for Windows is to schedule a permanent task and force running it from the Ant script. For example, run the command:
Windows 的另一种解决方法是计划永久任务并从 Ant 脚本强制运行该任务。例如，运行以下命令：

```
C:\>SCHTASKS /Create /RU SYSTEM /SC ONSTART /TN Tomcat /TR
"C:\Program Files\Apache Software Foundation\Tomcat 6.0\bin\startup.bat"
```

Note, that `ONSTART` can be replaced with `ONCE` if you do not want to keep Tomcat running. Add the following code to your Ant script:
请注意，如果您不想让 Tomcat 保持运行，可以将 `ONSTART` 替换为 `ONCE`。将以下代码添加到您的 Ant 脚本中：

```
<exec executable="SCHTASKS">
    <arg value="/Run"/>
    <arg value="/TN"/>
    <arg value="Tomcat"/>
</exec>
```