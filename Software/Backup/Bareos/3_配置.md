# 配置

在Unix上，Bareos 配置文件通常位于 `/etc/bareos/` 目录中，并根据使用它的程序命名。从 Bareos Version>=16.2.4 ，默认配置以每个资源一个文件的形式存储在 `bareos-dir.d` 、`bareos-sd.d` 或 `bareos-fd.d` 下的子目录中。

### 测试配置文件

通过使用 `-t` 选项运行适当的守护程序来测试配置文件的语法是否正确。守护进程将处理配置文件并打印所有错误消息，然后终止。

由于 Bareos Director Daemon 和 Bareos Storage Daemon 以用户 Bareos 的身份运行，因此应该以 Bareos 的身份测试配置。

这在测试 Bareos Director 时尤其需要，因为它还连接到数据库并检查目录模式版本是否正确。根据您的数据库，只有 bareos 有权限访问它。

```bash
su bareos -s /bin/sh -c "/usr/sbin/bareos-dir -t"
su bareos -s /bin/sh -c "/usr/sbin/bareos-sd -t"
bareos-fd -t
bconsole -t
bareos-tray-monitor -t
```
