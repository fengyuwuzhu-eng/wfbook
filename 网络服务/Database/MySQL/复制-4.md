### 19.1.6 Replication and Binary Logging Options and Variables 19.1.6 复制和二进制日志记录选项和变量

- [19.1.6.1 Replication and Binary Logging Option and Variable Reference 19.1.6.1 复制和二进制日志记录选项和变量引用](https://dev.mysql.com/doc/refman/8.4/en/replication-options-reference.html)
- [19.1.6.2 Replication Source Options and Variables 19.1.6.2 复制源选项和变量](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html)
- [19.1.6.3 Replica Server Options and Variables 19.1.6.3 副本服务器选项和变量](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html)
- [19.1.6.4 Binary Logging Options and Variables 19.1.6.4 二进制日志记录选项和变量](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html)
- [19.1.6.5 Global Transaction ID System Variables 19.1.6.5 全局事务 ID 系统变量](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html)

​    The following sections contain information about    [**mysqld**](https://dev.mysql.com/doc/refman/8.4/en/mysqld.html) options and server variables that are used    in replication and for controlling the binary log. Options and    variables for use on sources and replicas are covered separately, as    are options and variables relating to binary logging and global    transaction identifiers (GTIDs). A set of quick-reference tables    providing basic information about these options and variables is    also included.  
以下部分包含有关复制和用于控制二进制日志的 [**mysqld**](https://dev.mysql.com/doc/refman/8.4/en/mysqld.html) 选项和服务器变量的信息。用于源和副本的选项和变量，以及与二进制日志记录和全局事务标识符 （GTID） 相关的选项和变量单独介绍。还包括一组快速参考表，提供有关这些选项和变量的基本信息。

​    Of particular importance is the    [`server_id`](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html#sysvar_server_id) system variable. 
特别重要的是 [`server_id`](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html#sysvar_server_id) 系统变量。



| Command-Line Format 命令行格式                               | `--server-id=#` |
| ------------------------------------------------------------ | --------------- |
| System Variable 系统变量                                     | `server_id`     |
| Scope 范围                                                   | Global 全球     |
| Dynamic 动态                                                 | Yes 是的        |
| [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不           |
| Type 类型                                                    | Integer 整数    |
| Default Value 默认值                                         | `1`             |
| Minimum Value 最小值                                         | `0`             |
| Maximum Value 最大值                                         | `4294967295`    |

​    This variable specifies the server ID.    [`server_id`](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html#sysvar_server_id) is set to 1 by default.    The server can be started with this default ID, but when binary    logging is enabled, an informational message is issued if you did    not set [`server_id`](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html#sysvar_server_id) explicitly to    specify a server ID.  
默认情况下，[`server_id`](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html#sysvar_server_id) 设置为 1。可以使用此默认 ID 启动服务器，但是在启用二进制日志记录时，如果未明确设置[`server_id`](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html#sysvar_server_id)以指定服务器 ID，则会发出一条信息性消息。

​    For servers that are used in a replication topology, you must    specify a unique server ID for each replication server, in the range    from 1 to 232 − 1.    “Unique” means that each ID must be different from    every other ID in use by any other source or replica in the    replication topology. For additional information, see    [Section 19.1.6.2, “Replication Source Options and Variables”](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html), and    [Section 19.1.6.3, “Replica Server Options and Variables”](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html).  
对于复制拓扑中使用的服务器，必须为每个复制服务器指定唯一的服务器 ID，范围为 1 到 232 − 1。“唯一”意味着每个 ID 必须与复制拓扑中任何其他源或副本使用的每个其他 ID 不同。有关更多信息，请参见[第 19.1.6.2 节 “复制源选项和变量”](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html)和[第 19.1.6.3 节 “副本服务器选项和变量”。](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html)

​    If the server ID is set to 0, binary logging takes place, but a    source with a server ID of 0 refuses any connections from replicas,    and a replica with a server ID of 0 refuses to connect to a source.    Note that although you can change the server ID dynamically to a    nonzero value, doing so does not enable replication to start    immediately. You must change the server ID and then restart the    server to initialize the replica.  
如果服务器 ID 设置为 0，则会进行二进制日志记录，但服务器 ID 为 0 的源会拒绝来自副本的任何连接，而服务器 ID 为 0  的副本会拒绝连接到源。请注意，尽管您可以将服务器 ID 动态更改为非零值，但这样做并不能使复制立即开始。您必须更改服务器  ID，然后重新启动服务器以初始化副本。

​    For more information, see    [Section 19.1.2.2, “Setting the Replica Configuration”](https://dev.mysql.com/doc/refman/8.4/en/replication-howto-slavebaseconfig.html).  
有关更多信息，请参见[第 19.1.2.2 节 “设置副本配置”。](https://dev.mysql.com/doc/refman/8.4/en/replication-howto-slavebaseconfig.html)

​    [`server_uuid`](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html#sysvar_server_uuid)  



​    The MySQL server generates a true UUID in addition to the default or    user-supplied server ID set in the `server_id`    system variable. This is available as the global, read-only variable    [`server_uuid`](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html#sysvar_server_uuid). 
除了在 `server_id` 系统变量中设置的默认或用户提供的服务器 ID 之外，MySQL 服务器还会生成一个真正的 UUID。这可用作全局只读变量 [`server_uuid`](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html#sysvar_server_uuid)。

Note 注意

​      The presence of the [`server_uuid`](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html#sysvar_server_uuid)      system variable does not change the requirement for setting a      unique [`server_id`](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html#sysvar_server_id) value for each      MySQL server as part of preparing and running MySQL replication,      as described earlier in this section. 
[`server_uuid`](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html#sysvar_server_uuid)系统变量的存在不会改变在准备和运行 MySQL 复制过程中为每个 MySQL 服务器设置唯一 [`server_id`](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html#sysvar_server_id) 值的要求，如本节前面所述。

| System Variable 系统变量                                     | `server_uuid` |
| ------------------------------------------------------------ | ------------- |
| Scope 范围                                                   | Global 全球   |
| Dynamic 动态                                                 | No 不         |
| [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不         |
| Type 类型                                                    | String 字符串 |

​    When starting, the MySQL server automatically obtains a UUID as    follows: 
启动时，MySQL 服务器会自动获取一个 UUID，如下所示：

1. ​                 Attempt to read and use the UUID written in the file        `*`data_dir`*/auto.cnf`        (where *`data_dir`* is the server's        data directory).      
   尝试读取并使用文件 `*`data_dir`*/auto.cnf` （其中 *`data_dir`* 是服务器的数据目录）中写入的 UUID。
2. ​        If        `*`data_dir`*/auto.cnf`        is not found, generate a new UUID and save it to this file,        creating the file if necessary. 
   如果未找到 `*`data_dir`*/auto.cnf`，请生成新的 UUID 并将其保存到此文件中，并在必要时创建该文件。

​    The `auto.cnf` file has a format similar to that    used for `my.cnf` or `my.ini`    files. `auto.cnf` has only a single    `[auto]` section containing a single    [`server_uuid`](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html#sysvar_server_uuid) setting and value; the    file's contents appear similar to what is shown here:  
`auto.cnf` 文件的格式类似于 `my.cnf` 或 `my.ini` 文件的格式。`auto.cnf` 只有一个 `[auto]` 部分，其中包含一个 [`server_uuid`](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html#sysvar_server_uuid) 设置和值;文件的内容类似于此处显示的内容：

```ini
[auto]
server_uuid=8a94f357-aab4-11df-86ab-c80aa9429562
```

Important 重要

​      The `auto.cnf` file is automatically generated;      do not attempt to write or modify this file. 
`auto.cnf` 文件是自动生成的;请勿尝试写入或修改此文件。

​    When using MySQL replication, sources and replicas know each    other's UUIDs. The value of a replica's UUID can be seen    in the output of [`SHOW REPLICAS`](https://dev.mysql.com/doc/refman/8.4/en/show-replicas.html). Once    [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) has been executed, the    value of the source's UUID is available on the replica in the    output of [`SHOW REPLICA STATUS`](https://dev.mysql.com/doc/refman/8.4/en/show-replica-status.html). 
使用 MySQL 复制时，源和副本知道彼此的 UUID。副本的 UUID 的值可以在 [`SHOW REPLICAS`](https://dev.mysql.com/doc/refman/8.4/en/show-replicas.html) 的输出中看到。执行 [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) 后，源的 UUID 的值将在 [`SHOW REPLICA STATUS`](https://dev.mysql.com/doc/refman/8.4/en/show-replica-status.html) 的输出中位于副本上。

Note 注意

​      Issuing a [`STOP REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/stop-replica.html) or      [`RESET REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/reset-replica.html) statement does      *not* reset the source's UUID as used on      the replica. 
发出 [`STOP REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/stop-replica.html) 或 [`RESET REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/reset-replica.html) 语句*不会*重置副本上使用的源的 UUID。

​    A server's `server_uuid` is also used in GTIDs    for transactions originating on that server. For more information,    see [Section 19.1.3, “Replication with Global Transaction Identifiers”](https://dev.mysql.com/doc/refman/8.4/en/replication-gtids.html).  
服务器的 `server_uuid` 也用于 GTID 中源自该服务器的事务。有关更多信息，请参见[第 19.1.3 节 “使用全局事务标识符进行复制”。](https://dev.mysql.com/doc/refman/8.4/en/replication-gtids.html)

​    When starting, the replication I/O (receiver) thread generates an    error and aborts if its source's UUID is equal to its own    unless the [`--replicate-same-server-id`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-same-server-id)    option has been set. In addition, the replication receiver thread    generates a warning if either of the following is true: 
启动时，复制 I/O（接收方）线程会生成错误，如果其源的 UUID 等于其自己的 UUID，则中止，除非已设置 [`--replicate-same-server-id`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-same-server-id) 选项。此外，如果满足以下任一条件，则复制接收器线程会生成警告：

- ​        No source having the expected        [`server_uuid`](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html#sysvar_server_uuid) exists.      
  不存在具有预期[`server_uuid`](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html#sysvar_server_uuid)的源。
- ​        The source's [`server_uuid`](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html#sysvar_server_uuid)        has changed, although no [`CHANGE REPLICATION         SOURCE TO`](https://dev.mysql.com/doc/refman/8.4/en/change-replication-source-to.html) statement has ever been executed. 
  源的 [`server_uuid`](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html#sysvar_server_uuid) 已更改，但从未[ `CHANGE REPLICATION         SOURCE TO` ](https://dev.mysql.com/doc/refman/8.4/en/change-replication-source-to.html)执行过任何语句。

#### 19.1.6.1 Replication and Binary Logging Option and Variable Reference 19.1.6.1 复制和二进制日志记录选项和变量引用

​      The following two sections provide basic information about the      MySQL command-line options and system variables applicable to      replication and the binary log. 
以下两节提供了有关适用于复制和二进制日志的 MySQL 命令行选项和系统变量的基本信息。

##### Replication Options and Variables 复制选项和变量

​    The command-line options and system variables in the following list    relate to replication source servers and replicas.    [Section 19.1.6.2, “Replication Source Options and Variables”](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html) provides more detailed    information about options and variables relating to replication    source servers. For more information about options and variables    relating to replicas, see    [Section 19.1.6.3, “Replica Server Options and Variables”](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html). 
以下列表中的命令行选项和系统变量与复制源服务器和副本相关。[第 19.1.6.2 节 “复制源选项和变量”](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html)提供了有关与复制源服务器相关的选项和变量的更多详细信息。有关与副本相关的选项和变量的更多信息，请参见[第 19.1.6.3 节 “副本服务器选项和变量”。](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html)



- ​        `auto_increment_increment`:        AUTO_INCREMENT columns are incremented by this value.      
  `auto_increment_increment`：AUTO_INCREMENT列按此值递增。
- ​        `auto_increment_offset`:        Offset added to AUTO_INCREMENT columns.      
  `auto_increment_offset`：已向 AUTO_INCREMENT 列添加偏移量。
- ​        `Com_change_replication_source`:        Count of CHANGE REPLICATION SOURCE TO and CHANGE MASTER TO        statements.      
  `Com_change_replication_source`：CHANGE REPLICATION SOURCE TO 和 CHANGE MASTER TO 语句的计数。
- ​        `Com_replica_start`:        Count of START REPLICA and START SLAVE statements.      
  `Com_replica_start`：START REPLICA 和 START SLAVE 语句的计数。
- ​        `Com_replica_stop`:        Count of STOP REPLICA and STOP SLAVE statements.      
  `Com_replica_stop`：STOP REPLICA 和 STOP SLAVE 语句的计数。
- ​        `Com_show_binary_log_status`:        Count of SHOW BINARY LOG STATUS statements; use instead of        Com_show_master_status.      
  `Com_show_binary_log_status`：SHOW BINARY LOG STATUS 语句的计数;使用而不是 Com_show_master_status。
- ​        `Com_show_replica_status`:        Count of SHOW REPLICA STATUS and SHOW SLAVE STATUS statements.      
  `Com_show_replica_status`：SHOW REPLICA STATUS 和 SHOW SLAVE STATUS 语句的计数。
- ​        `Com_show_replicas`:        Count of SHOW REPLICAS and SHOW SLAVE HOSTS statements.      
  `Com_show_replicas`：SHOW REPLICAS 和 SHOW SLAVE HOSTS 语句的计数。
- ​        `enforce_gtid_consistency`:        Prevents execution of statements that cannot be logged in        transactionally safe manner.      
  `enforce_gtid_consistency`：阻止执行无法以事务安全方式记录的语句。
- ​        `gtid_executed`:        Global: All GTIDs in binary log (global) or current transaction        (session). Read-only.      
  `gtid_executed`：Global：二进制日志（全局）或当前事务（会话）中的所有 GTID。只读。
- ​        `gtid_executed_compression_period`:        Compress gtid_executed table each time this many transactions        have occurred. 0 means never compress this table. Applies only        when binary logging is disabled.      
   `gtid_executed_compression_period` ：每次发生这么多事务时gtid_executed压缩表。0 表示从不压缩此表。仅在禁用二进制日志记录时适用。
- ​        `gtid_mode`:        Controls whether GTID based logging is enabled and what type of        transactions logs can contain.      
  `gtid_mode`：控制是否启用基于 GTID 的日志记录以及日志可以包含的事务类型。
- ​        `gtid_next`:        Specifies GTID for subsequent transaction or transactions; see        documentation for details.      
  `gtid_next`：指定后续事务或事务的 GTID;有关详细信息，请参阅文档。
- ​        `gtid_owned`:        Set of GTIDs owned by this client (session), or by all clients,        together with thread ID of owner (global). Read-only.      
  `gtid_owned`：此客户端（会话）或所有客户端拥有的 GTID 集，以及所有者（全局）的线程 ID。只读。
- ​        `gtid_purged`:        Set of all GTIDs that have been purged from binary log.      
  `gtid_purged`：已从二进制日志中清除的所有 GTID 的集合。
- ​        `immediate_server_version`:        MySQL Server release number of server which is immediate        replication source.      
  `immediate_server_version`：作为直接复制源的服务器的 MySQL Server 版本号。
- ​        `init_replica`:        Statements that are executed when replica connects to source.      
  `init_replica`：副本连接到源时执行的语句。
- ​        `init_slave`:        Statements that are executed when replica connects to source.      
  `init_slave`：当 replica 连接到 source 时执行的语句。
- ​        `log_bin_trust_function_creators`:        If equal to 0 (default), then when --log-bin is used, stored        function creation is allowed only to users having SUPER        privilege and only if function created does not break binary        logging.      
   `log_bin_trust_function_creators` ：如果等于 0（默认值），则当使用 --log-bin 时，仅允许具有 SUPER 权限的用户创建存储函数，并且仅当创建的函数不会破坏二进制日志记录时。
- ​        `log_statements_unsafe_for_binlog`:        Disables error 1592 warnings being written to error log.      
   `log_statements_unsafe_for_binlog` ：禁用将错误 1592 警告写入错误日志。
- ​        `master-retry-count`:        Number of tries replica makes to connect to source before giving        up.      
  `master-retry-count`：副本在放弃之前尝试连接到源的次数。
- ​        `max_relay_log_size`:        If nonzero, relay log is rotated automatically when its size        exceeds this value. If zero, size at which rotation occurs is        determined by value of max_binlog_size.      
  `max_relay_log_size`：如果为非零，则当中继日志的大小超过此值时，会自动轮换日志。如果为零，则旋转发生的大小由 max_binlog_size 的值确定。
- ​        `original_commit_timestamp`:        Time when transaction was committed on original source.      
  `original_commit_timestamp`：在原始源上提交事务的时间。
- ​        `original_server_version`:        MySQL Server release number of server on which transaction was        originally committed.      
  `original_server_version`：最初提交事务的服务器的 MySQL Server 版本号。
- ​        `relay_log`:        Location and base name to use for relay logs.      
  `relay_log`：用于中继日志的位置和基本名称。
- ​        `relay_log_basename`:        Complete path to relay log, including file name.      
  `relay_log_basename`：中继日志的完整路径，包括文件名。
- ​        `relay_log_index`:        Location and name to use for file that keeps list of last relay        logs.      
  `relay_log_index`：用于保存上次中继日志列表的文件的位置和名称。
- ​        `relay_log_purge`:        Determines whether relay logs are purged.      
  `relay_log_purge`：确定是否清除中继日志。
- ​        `relay_log_recovery`:        Whether automatic recovery of relay log files from source at        startup is enabled; must be enabled for crash-safe replica.      
  `relay_log_recovery`：是否启用启动时从源自动恢复中继日志文件;必须为崩溃安全副本启用。
- ​        `relay_log_space_limit`:        Maximum space to use for all relay logs.      
  `relay_log_space_limit`：用于所有中继日志的最大空间。
- ​        `replica_checkpoint_group`:        Maximum number of transactions processed by multithreaded        replica before checkpoint operation is called to update progress        status. Not supported by NDB Cluster.      
  `replica_checkpoint_group`：在调用 checkpoint 操作以更新进度状态之前，多线程副本处理的最大事务数。NDB 群集不支持。
- ​        `replica_checkpoint_period`:        Update progress status of multithreaded replica and flush relay        log info to disk after this number of milliseconds. Not        supported by NDB Cluster.      
  `replica_checkpoint_period`：更新多线程副本的进度状态，并在此毫秒数后将中继日志信息刷新到磁盘。NDB 群集不支持。
- ​        `replica_compressed_protocol`:        Use compression of source/replica protocol.      
  `replica_compressed_protocol`：使用源/副本协议的压缩。
- ​        `replica_exec_mode`:        Allows for switching replication thread between IDEMPOTENT mode        (key and some other errors suppressed) and STRICT mode; STRICT        mode is default, except for NDB Cluster, where IDEMPOTENT is        always used.      
  `replica_exec_mode`：允许在 IDEMPOTENT 模式（抑制键和其他一些错误）和 STRICT 模式之间切换复制线程;STRICT 模式是默认的，但 NDB 群集除外，其中始终使用 IDEMPOTENT 。
- ​        `replica_load_tmpdir`:        Location where replica should put its temporary files when        replicating LOAD DATA statements.      
  `replica_load_tmpdir`：复制 LOAD DATA 语句时，副本应放置其临时文件的位置。
- ​        `replica_max_allowed_packet`:        Maximum size, in bytes, of packet that can be sent from        replication source server to replica; overrides        max_allowed_packet.      
  `replica_max_allowed_packet`：可从复制源服务器发送到副本的数据包的最大大小（以字节为单位）;覆盖 max_allowed_packet。
- ​        `replica_net_timeout`:        Number of seconds to wait for more data from source/replica        connection before aborting read.      
  `replica_net_timeout`：在中止读取之前等待来自源/副本连接的更多数据的秒数。
- ​        `Replica_open_temp_tables`:        Number of temporary tables that replication SQL thread currently        has open.      
  `Replica_open_temp_tables`：复制 SQL 线程当前打开的临时表数。
- ​        `replica_parallel_type`:        Tells replica to use timestamp information (LOGICAL_CLOCK) or        database partitioning (DATABASE) to parallelize transactions.      
  `replica_parallel_type`：告知副本使用时间戳信息 （LOGICAL_CLOCK） 或数据库分区 （DATABASE） 来并行化事务。
- ​        `replica_parallel_workers`:        Number of applier threads for executing replication        transactions; when this is 0 or 1, there is only one applier        thread. NDB Cluster: see documentation.      
  `replica_parallel_workers`：用于执行复制事务的 applier 线程数;当值为 0 或 1 时，只有一个 Applier 线程。NDB 群集：请参阅文档。
- ​        `replica_pending_jobs_size_max`:        Maximum size of replica worker queues holding events not yet        applied.      
  `replica_pending_jobs_size_max`：保存尚未应用的事件的副本工作线程队列的最大大小。
- ​        `replica_preserve_commit_order`:        Ensures that all commits by replica workers happen in same order        as on source to maintain consistency when using parallel applier        threads.      
  `replica_preserve_commit_order`：确保副本工作程序的所有提交都按照与源上相同的顺序发生，以便在使用并行应用程序线程时保持一致性。
- ​        `replica_skip_errors`:        Tells replication thread to continue replication when query        returns error from provided list.      
  `replica_skip_errors`：当 query 从提供的列表中返回错误时，通知复制线程继续复制。
- ​        `replica_transaction_retries`:        Number of times replication SQL thread retries transaction in        case it failed with deadlock or elapsed lock wait timeout,        before giving up and stopping.      
  `replica_transaction_retries`：复制 SQL 线程在放弃和停止之前重试事务的次数，以防事务失败并出现死锁或已用锁等待超时。
- ​        `replica_type_conversions`:        Controls type conversion mode on replica. Value is list of zero        or more elements from this list: ALL_LOSSY, ALL_NON_LOSSY. Set        to empty string to disallow type conversions between source and        replica.      
  `replica_type_conversions`：控制副本上的类型转换模式。value 是此列表中零个或多个元素的列表：ALL_LOSSY、ALL_NON_LOSSY。设置为空字符串以禁止源和副本之间的类型转换。
- ​        `replicate-do-db`:        Tells replication SQL thread to restrict replication to        specified database.      
  `replicate-do-db`：告知复制 SQL 线程将复制限制为指定数据库。
- ​        `replicate-do-table`:        Tells replication SQL thread to restrict replication to        specified table.      
  `replicate-do-table`：告知复制 SQL 线程将复制限制为指定的表。
- ​        `replicate-ignore-db`:        Tells replication SQL thread not to replicate to specified        database.      
  `replicate-ignore-db`：告知复制 SQL 线程不要复制到指定的数据库。
- ​        `replicate-ignore-table`:        Tells replication SQL thread not to replicate to specified        table.      
  `replicate-ignore-table`：告知复制 SQL 线程不要复制到指定表。
- ​        `replicate-rewrite-db`:        Updates to database with different name from original.      
  `replicate-rewrite-db`：更新与原始名称不同的数据库。
- ​        `replicate-same-server-id`:        In replication, if enabled, do not skip events having our server        id.      
  `replicate-same-server-id`：在复制中，如果启用，请勿跳过具有我们的服务器 ID 的事件。
- ​        `replicate-wild-do-table`:        Tells replication SQL thread to restrict replication to tables        that match specified wildcard pattern.      
  `replicate-wild-do-table`：告知复制 SQL 线程将复制限制为与指定通配符模式匹配的表。
- ​        `replicate-wild-ignore-table`:        Tells replication SQL thread not to replicate to tables that        match given wildcard pattern.      
  `replicate-wild-ignore-table`：告知复制 SQL 线程不要复制到与给定通配符模式匹配的表。
- ​        `replication_optimize_for_static_plugin_config`:        Shared locks for semisynchronous replication.      
   `replication_optimize_for_static_plugin_config` ：用于半同步复制的共享锁。
- ​        `replication_sender_observe_commit_only`:        Limited callbacks for semisynchronous replication.      
   `replication_sender_observe_commit_only` ：半同步复制的有限回调。
- ​        `report_host`:        Host name or IP of replica to be reported to source during        replica registration.      
  `report_host`：在副本注册期间要报告给源的副本的主机名或 IP。
- ​        `report_password`:        Arbitrary password which replica server should report to source;        not same as password for replication user account.      
  `report_password`：副本服务器应向源报告的任意密码;与复制用户帐户的密码不同。
- ​        `report_port`:        Port for connecting to replica reported to source during replica        registration.      
  `report_port`：用于连接到副本注册期间报告给源的副本的端口。
- ​        `report_user`:        Arbitrary user name which replica server should report to        source; not same as name used for replication user account.      
  `report_user`：副本服务器应向源报告的任意用户名;与用于复制用户帐户的名称不同。
- ​        `rpl_read_size`:        Set minimum amount of data in bytes which is read from binary        log files and relay log files.      
  `rpl_read_size`：设置从二进制日志文件和中继日志文件中读取的最小数据量（以字节为单位）。
- ​        `Rpl_semi_sync_master_clients`:        Number of semisynchronous replicas.      
  `Rpl_semi_sync_master_clients`：半同步副本数。
- ​        `rpl_semi_sync_master_enabled`:        Whether semisynchronous replication is enabled on source.      
  `rpl_semi_sync_master_enabled`：是否在源上启用半同步复制。
- ​        `Rpl_semi_sync_master_net_avg_wait_time`:        Average time source has waited for replies from replica.      
   `Rpl_semi_sync_master_net_avg_wait_time` ：源等待副本回复的平均时间。
- ​        `Rpl_semi_sync_master_net_wait_time`:        Total time source has waited for replies from replica.      
   `Rpl_semi_sync_master_net_wait_time` ：源等待副本回复的总时间。
- ​        `Rpl_semi_sync_master_net_waits`:        Total number of times source waited for replies from replica.      
   `Rpl_semi_sync_master_net_waits` ：源等待副本回复的总次数。
- ​        `Rpl_semi_sync_master_no_times`:        Number of times source turned off semisynchronous replication.      
  `Rpl_semi_sync_master_no_times`：源关闭半同步复制的次数。
- ​        `Rpl_semi_sync_master_no_tx`:        Number of commits not acknowledged successfully.      
  `Rpl_semi_sync_master_no_tx`：未成功确认的提交数。
- ​        `Rpl_semi_sync_master_status`:        Whether semisynchronous replication is operational on source.      
  `Rpl_semi_sync_master_status`：半同步复制是否在源上运行。
- ​        `Rpl_semi_sync_master_timefunc_failures`:        Number of times source failed when calling time functions.      
   `Rpl_semi_sync_master_timefunc_failures` ：调用时间函数时源失败的次数。
- ​        `rpl_semi_sync_master_timeout`:        Number of milliseconds to wait for replica acknowledgment.      
  `rpl_semi_sync_master_timeout`：等待副本确认的毫秒数。
- ​        `rpl_semi_sync_master_trace_level`:        Semisynchronous replication debug trace level on source.      
   `rpl_semi_sync_master_trace_level` ：源上的半同步复制调试跟踪级别。
- ​        `Rpl_semi_sync_master_tx_avg_wait_time`:        Average time source waited for each transaction.      
   `Rpl_semi_sync_master_tx_avg_wait_time` ：源等待每个事务的平均时间。
- ​        `Rpl_semi_sync_master_tx_wait_time`:        Total time source waited for transactions.      
   `Rpl_semi_sync_master_tx_wait_time` ：源等待事务的总时间。
- ​        `Rpl_semi_sync_master_tx_waits`:        Total number of times source waited for transactions.      
  `Rpl_semi_sync_master_tx_waits`：源等待事务的总次数。
- ​        `rpl_semi_sync_master_wait_for_slave_count`:        Number of replica acknowledgments source must receive per        transaction before proceeding.      
   `rpl_semi_sync_master_wait_for_slave_count` ：在继续之前，源必须为每个事务接收的副本确认数。
- ​        `rpl_semi_sync_master_wait_no_slave`:        Whether source waits for timeout even with no replicas.      
   `rpl_semi_sync_master_wait_no_slave` ：即使没有副本，源是否等待超时。
- ​        `rpl_semi_sync_master_wait_point`:        Wait point for replica transaction receipt acknowledgment.      
   `rpl_semi_sync_master_wait_point` ：副本事务收据确认的等待点。
- ​        `Rpl_semi_sync_master_wait_pos_backtraverse`:        Total number of times source has waited for event with binary        coordinates lower than events waited for previously.      
   `Rpl_semi_sync_master_wait_pos_backtraverse` ：源等待二进制坐标小于之前等待的事件的事件的总次数。
- ​        `Rpl_semi_sync_master_wait_sessions`:        Number of sessions currently waiting for replica replies.      
   `Rpl_semi_sync_master_wait_sessions` ：当前等待副本回复的会话数。
- ​        `Rpl_semi_sync_master_yes_tx`:        Number of commits acknowledged successfully.      
  `Rpl_semi_sync_master_yes_tx`：成功确认的提交数。
- ​        `rpl_semi_sync_replica_enabled`:        Whether semisynchronous replication is enabled on replica.      
  `rpl_semi_sync_replica_enabled`：是否在副本上启用半同步复制。
- ​        `Rpl_semi_sync_replica_status`:        Whether semisynchronous replication is operational on replica.      
  `Rpl_semi_sync_replica_status`：半同步复制是否在副本上运行。
- ​        `rpl_semi_sync_replica_trace_level`:        Semisynchronous replication debug trace level on replica.      
   `rpl_semi_sync_replica_trace_level` ：副本上的半同步复制调试跟踪级别。
- ​        `rpl_semi_sync_slave_enabled`:        Whether semisynchronous replication is enabled on replica.      
  `rpl_semi_sync_slave_enabled`：是否在 replica 上启用了半同步复制。
- ​        `Rpl_semi_sync_slave_status`:        Whether semisynchronous replication is operational on replica.      
  `Rpl_semi_sync_slave_status`：半同步复制是否在副本上运行。
- ​        `rpl_semi_sync_slave_trace_level`:        Semisynchronous replication debug trace level on replica.      
   `rpl_semi_sync_slave_trace_level` ：副本上的半同步复制调试跟踪级别。
- ​        `Rpl_semi_sync_source_clients`:        Number of semisynchronous replicas.      
  `Rpl_semi_sync_source_clients`：半同步副本数。
- ​        `rpl_semi_sync_source_enabled`:        Whether semisynchronous replication is enabled on source.      
  `rpl_semi_sync_source_enabled`：是否在源上启用半同步复制。
- ​        `Rpl_semi_sync_source_net_avg_wait_time`:        Average time source has waited for replies from replica.      
   `Rpl_semi_sync_source_net_avg_wait_time` ：源等待副本回复的平均时间。
- ​        `Rpl_semi_sync_source_net_wait_time`:        Total time source has waited for replies from replica.      
   `Rpl_semi_sync_source_net_wait_time` ：源等待副本回复的总时间。
- ​        `Rpl_semi_sync_source_net_waits`:        Total number of times source waited for replies from replica.      
   `Rpl_semi_sync_source_net_waits` ：源等待副本回复的总次数。
- ​        `Rpl_semi_sync_source_no_times`:        Number of times source turned off semisynchronous replication.      
  `Rpl_semi_sync_source_no_times`：源关闭半同步复制的次数。
- ​        `Rpl_semi_sync_source_no_tx`:        Number of commits not acknowledged successfully.      
  `Rpl_semi_sync_source_no_tx`：未成功确认的提交数。
- ​        `Rpl_semi_sync_source_status`:        Whether semisynchronous replication is operational on source.      
  `Rpl_semi_sync_source_status`：半同步复制是否在源上运行。
- ​        `Rpl_semi_sync_source_timefunc_failures`:        Number of times source failed when calling time functions.      
   `Rpl_semi_sync_source_timefunc_failures` ：调用时间函数时源失败的次数。
- ​        `rpl_semi_sync_source_timeout`:        Number of milliseconds to wait for replica acknowledgment.      
  `rpl_semi_sync_source_timeout`：等待副本确认的毫秒数。
- ​        `rpl_semi_sync_source_trace_level`:        Semisynchronous replication debug trace level on source.      
   `rpl_semi_sync_source_trace_level` ：源上的半同步复制调试跟踪级别。
- ​        `Rpl_semi_sync_source_tx_avg_wait_time`:        Average time source waited for each transaction.      
   `Rpl_semi_sync_source_tx_avg_wait_time` ：源等待每个事务的平均时间。
- ​        `Rpl_semi_sync_source_tx_wait_time`:        Total time source waited for transactions.      
   `Rpl_semi_sync_source_tx_wait_time` ：源等待事务的总时间。
- ​        `Rpl_semi_sync_source_tx_waits`:        Total number of times source waited for transactions.      
  `Rpl_semi_sync_source_tx_waits`：源等待事务的总次数。
- ​        `rpl_semi_sync_source_wait_for_replica_count`:        Number of replica acknowledgments source must receive per        transaction before proceeding.      
   `rpl_semi_sync_source_wait_for_replica_count` ：在继续之前，源必须为每个事务接收的副本确认数。
- ​        `rpl_semi_sync_source_wait_no_replica`:        Whether source waits for timeout even with no replicas.      
   `rpl_semi_sync_source_wait_no_replica` ：即使没有副本，源是否等待超时。
- ​        `rpl_semi_sync_source_wait_point`:        Wait point for replica transaction receipt acknowledgment.      
   `rpl_semi_sync_source_wait_point` ：副本事务收据确认的等待点。
- ​        `Rpl_semi_sync_source_wait_pos_backtraverse`:        Total number of times source has waited for event with binary        coordinates lower than events waited for previously.      
   `Rpl_semi_sync_source_wait_pos_backtraverse` ：源等待二进制坐标小于之前等待的事件的事件的总次数。
- ​        `Rpl_semi_sync_source_wait_sessions`:        Number of sessions currently waiting for replica replies.      
   `Rpl_semi_sync_source_wait_sessions` ：当前等待副本回复的会话数。
- ​        `Rpl_semi_sync_source_yes_tx`:        Number of commits acknowledged successfully.      
  `Rpl_semi_sync_source_yes_tx`：成功确认的提交数。
- ​        `rpl_stop_replica_timeout`:        Number of seconds that STOP REPLICA waits before timing out.      
  `rpl_stop_replica_timeout`：STOP REPLICA 在超时前等待的秒数。
- ​        `rpl_stop_slave_timeout`:        Number of seconds that STOP REPLICA or STOP SLAVE waits before        timing out.      
  `rpl_stop_slave_timeout`：STOP REPLICA 或 STOP SLAVE 在超时前等待的秒数。
- ​        `server_uuid`:        Server's globally unique ID, automatically (re)generated at        server start.      
  `server_uuid`：服务器的全局唯一 ID，在服务器启动时自动（重新）生成。
- ​        `show-replica-auth-info`:        Show user name and password in SHOW REPLICAS on this source.      
  `show-replica-auth-info`：在此源上的 SHOW REPLICAS 中显示用户名和密码。
- ​        `show-slave-auth-info`:        Show user name and password in SHOW REPLICAS and SHOW SLAVE        HOSTS on this source.      
  `show-slave-auth-info`：在此源的 SHOW REPLICAS 和 SHOW SLAVE HOSTS 中显示用户名和密码。
- ​        `skip-replica-start`:        If set, replication is not autostarted when replica server        starts.      
  `skip-replica-start`：如果设置，则副本服务器启动时不会自动启动复制。
- ​        `skip-slave-start`:        If set, replication is not autostarted when replica server        starts.      
  `skip-slave-start`：如果设置，则当副本服务器启动时不会自动启动复制。
- ​        `slave-skip-errors`:        Tells replication thread to continue replication when query        returns error from provided list.      
  `slave-skip-errors`：当 query 从提供的列表中返回错误时，告诉复制线程继续复制。
- ​        `slave_checkpoint_group`:        Maximum number of transactions processed by multithreaded        replica before checkpoint operation is called to update progress        status. Not supported by NDB Cluster.      
  `slave_checkpoint_group`：在调用检查点操作以更新进度状态之前，多线程副本处理的最大事务数。NDB 群集不支持。
- ​        `slave_checkpoint_period`:        Update progress status of multithreaded replica and flush relay        log info to disk after this number of milliseconds. Not        supported by NDB Cluster.      
  `slave_checkpoint_period`：更新多线程副本的进度状态，并在此毫秒数后将中继日志信息刷新到磁盘。NDB 群集不支持。
- ​        `slave_compressed_protocol`:        Use compression of source/replica protocol.      
  `slave_compressed_protocol`：使用源/副本协议的压缩。
- ​        `slave_exec_mode`:        Allows for switching replication thread between IDEMPOTENT mode        (key and some other errors suppressed) and STRICT mode; STRICT        mode is default, except for NDB Cluster, where IDEMPOTENT is        always used.      
  `slave_exec_mode`：允许在 IDEMPOTENT 模式（抑制 key 和其他一些错误）和 STRICT 模式之间切换复制线程;STRICT 模式是默认的，但 NDB 群集除外，其中始终使用 IDEMPOTENT 。
- ​        `slave_load_tmpdir`:        Location where replica should put its temporary files when        replicating LOAD DATA statements.      
  `slave_load_tmpdir`：复制 LOAD DATA 语句时，副本应放置其临时文件的位置。
- ​        `slave_max_allowed_packet`:        Maximum size, in bytes, of packet that can be sent from        replication source server to replica; overrides        max_allowed_packet.      
  `slave_max_allowed_packet`：可从复制源服务器发送到副本的数据包的最大大小（以字节为单位）;覆盖 max_allowed_packet。
- ​        `slave_net_timeout`:        Number of seconds to wait for more data from source/replica        connection before aborting read.      
  `slave_net_timeout`：在中止读取之前等待来自源/副本连接的更多数据的秒数。
- ​        `Slave_open_temp_tables`:        Number of temporary tables that replication SQL thread currently        has open.      
  `Slave_open_temp_tables`：复制 SQL 线程当前打开的临时表数。
- ​        `slave_parallel_type`:        Tells replica to use timestamp information (LOGICAL_CLOCK) or        database partioning (DATABASE) to parallelize transactions.      
  `slave_parallel_type`：告诉副本使用时间戳信息 （LOGICAL_CLOCK） 或数据库分区 （DATABASE） 来并行化事务。
- ​        `slave_parallel_workers`:        Number of applier threads for executing replication transactions        in parallel; 0 or 1 disables replica multithreading. NDB        Cluster: see documentation.      
  `slave_parallel_workers`：用于并行执行复制事务的 applier 线程数;0 或 1 禁用副本多线程处理。NDB 群集：请参阅文档。
- ​        `slave_pending_jobs_size_max`:        Maximum size of replica worker queues holding events not yet        applied.      
  `slave_pending_jobs_size_max`：保存尚未应用的事件的副本工作线程队列的最大大小。
- ​        `slave_preserve_commit_order`:        Ensures that all commits by replica workers happen in same order        as on source to maintain consistency when using parallel applier        threads.      
  `slave_preserve_commit_order`：确保副本工作程序的所有提交都按照与源上相同的顺序发生，以便在使用并行应用程序线程时保持一致性。
- ​        `Slave_rows_last_search_algorithm_used`:        Search algorithm most recently used by this replica to locate        rows for row-based replication (index, table, or hash scan).      
   `Slave_rows_last_search_algorithm_used` ：此副本最近使用的搜索算法，用于查找基于行的复制（索引、表或哈希扫描）的行。
- ​        `slave_transaction_retries`:        Number of times replication SQL thread retries transaction in        case it failed with deadlock or elapsed lock wait timeout,        before giving up and stopping.      
  `slave_transaction_retries`：复制 SQL 线程在事务失败并出现死锁或超时锁等待超时的情况下重试事务的次数。
- ​        `slave_type_conversions`:        Controls type conversion mode on replica. Value is list of zero        or more elements from this list: ALL_LOSSY, ALL_NON_LOSSY. Set        to empty string to disallow type conversions between source and        replica.      
  `slave_type_conversions`：控制副本上的类型转换模式。value 是此列表中零个或多个元素的列表：ALL_LOSSY、ALL_NON_LOSSY。设置为空字符串以禁止源和副本之间的类型转换。
- ​        `sql_log_bin`:        Controls binary logging for current session.      
  `sql_log_bin`：控制当前会话的二进制日志记录。
- ​        `sql_replica_skip_counter`:        Number of events from source that replica should skip. Not        compatible with GTID replication.      
  `sql_replica_skip_counter`：副本应跳过的源中的事件数。与 GTID 复制不兼容。
- ​        `sql_slave_skip_counter`:        Number of events from source that replica should skip. Not        compatible with GTID replication.      
  `sql_slave_skip_counter`：副本应跳过的源中的事件数。与 GTID 复制不兼容。
- ​        `sync_master_info`:        Synchronize source information after every #th event.      
  `sync_master_info`：在每次 #th 事件后同步源信息。
- ​        `sync_relay_log`:        Synchronize relay log to disk after every #th event.      
  `sync_relay_log`：在每次 #th 事件后将中继日志同步到磁盘。
- ​        `sync_relay_log_info`:        Synchronize relay.info file to disk after every #th event.      
  `sync_relay_log_info`：在每次 #th 事件后 relay.info 文件同步到磁盘。
- ​        `sync_source_info`:        Synchronize source information after every #th event.      
  `sync_source_info`：在每次 #th 事件后同步源信息。
- ​        `terminology_use_previous`:        Use terminology from before specified version where changes are        incompatible. 
  `terminology_use_previous`：在更改不兼容的情况下，使用指定版本之前的术语。

​    For a listing of all command-line options, system variables, and    status variables used with [**mysqld**](https://dev.mysql.com/doc/refman/8.4/en/mysqld.html), see    [Section 7.1.4, “Server Option, System Variable, and Status Variable Reference”](https://dev.mysql.com/doc/refman/8.4/en/server-option-variable-reference.html). 
有关与 [**mysqld**](https://dev.mysql.com/doc/refman/8.4/en/mysqld.html) 一起使用的所有命令行选项、系统变量和状态变量的列表，请参见[第 7.1.4 节 “服务器选项、系统变量和状态变量参考”。](https://dev.mysql.com/doc/refman/8.4/en/server-option-variable-reference.html)

##### Binary Logging Options and Variables 二进制日志记录选项和变量

​    The command-line options and system variables in the following list    relate to the binary log.    [Section 19.1.6.4, “Binary Logging Options and Variables”](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html), provides more    detailed information about options and variables relating to binary    logging. For additional general information about the binary log,    see [Section 7.4.4, “The Binary Log”](https://dev.mysql.com/doc/refman/8.4/en/binary-log.html). 
以下列表中的命令行选项和系统变量与二进制日志相关。[第 19.1.6.4 节 “二进制日志记录选项和变量”](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html)提供了有关与二进制日志记录相关的选项和变量的更多详细信息。有关二进制日志的其他常规信息，请参见[第 7.4.4 节 “二进制日志”。](https://dev.mysql.com/doc/refman/8.4/en/binary-log.html)



- ​        `binlog-checksum`:        Enable or disable binary log checksums.      
  `binlog-checksum`：启用或禁用二进制日志校验和。
- ​        `binlog-do-db`:        Limits binary logging to specific databases.      
  `binlog-do-db`：将二进制日志记录限制为特定数据库。
- ​        `binlog-ignore-db`:        Tells source that updates to given database should not be        written to binary log.      
  `binlog-ignore-db`：告诉 source 给定数据库的更新不应该写入二进制日志。
- ​        `binlog-row-event-max-size`:        Binary log max event size.      
  `binlog-row-event-max-size`：二进制对数最大事件大小。
- ​        `Binlog_cache_disk_use`:        Number of transactions which used temporary file instead of        binary log cache.      
  `Binlog_cache_disk_use`：使用临时文件而不是二进制日志缓存的事务数。
- ​        `binlog_cache_size`:        Size of cache to hold SQL statements for binary log during        transaction.      
  `binlog_cache_size`：在事务期间保存二进制日志的 SQL 语句的缓存大小。
- ​        `Binlog_cache_use`:        Number of transactions that used temporary binary log cache.      
  `Binlog_cache_use`：使用临时二进制日志缓存的事务数。
- ​        `binlog_checksum`:        Enable or disable binary log checksums.      
  `binlog_checksum`：启用或禁用二进制日志校验和。
- ​        `binlog_direct_non_transactional_updates`:        Causes updates using statement format to nontransactional        engines to be written directly to binary log. See documentation        before using.      
   `binlog_direct_non_transactional_updates` ：导致使用语句格式对非事务性引擎的更新直接写入二进制日志。使用前请参阅文档。
- ​        `binlog_encryption`:        Enable encryption for binary log files and relay log files on        this server.      
  `binlog_encryption`：在此服务器上为二进制日志文件和中继日志文件启用加密。
- ​        `binlog_error_action`:        Controls what happens when server cannot write to binary log.      
  `binlog_error_action`：控制当服务器无法写入二进制日志时会发生什么。
- ​        `binlog_expire_logs_auto_purge`:        Controls automatic purging of binary log files; can be        overridden when enabled, by setting both        binlog_expire_logs_seconds and expire_logs_days to 0.      
  `binlog_expire_logs_auto_purge`：控制二进制日志文件的自动清除;启用后，可以通过将 binlog_expire_logs_seconds 和 expire_logs_days 设置为 0 来覆盖。
- ​        `binlog_expire_logs_seconds`:        Purge binary logs after this many seconds.      
  `binlog_expire_logs_seconds`：在此秒数后清除二进制日志。
- ​        `binlog_format`:        Specifies format of binary log.      
  `binlog_format`：指定二进制日志的格式。
- ​        `binlog_group_commit_sync_delay`:        Sets number of microseconds to wait before synchronizing        transactions to disk.      
   `binlog_group_commit_sync_delay` ：设置在将事务同步到磁盘之前要等待的微秒数。
- ​        `binlog_group_commit_sync_no_delay_count`:        Sets maximum number of transactions to wait for before aborting        current delay specified by binlog_group_commit_sync_delay.      
   `binlog_group_commit_sync_no_delay_count` ：设置在中止 binlog_group_commit_sync_delay 指定的当前延迟之前要等待的最大事务数。
- ​        `binlog_gtid_simple_recovery`:        Controls how binary logs are iterated during GTID recovery.      
  `binlog_gtid_simple_recovery`：控制在 GTID 恢复期间如何迭代二进制日志。
- ​        `binlog_max_flush_queue_time`:        How long to read transactions before flushing to binary log.      
  `binlog_max_flush_queue_time`：在刷新到二进制日志之前读取事务的时间。
- ​        `binlog_order_commits`:        Whether to commit in same order as writes to binary log.      
  `binlog_order_commits`：是否按照写入二进制日志的顺序提交。
- ​        `binlog_rotate_encryption_master_key_at_startup`:        Rotate binary log master key at server startup.      
   `binlog_rotate_encryption_master_key_at_startup` ：在服务器启动时轮换二进制日志主密钥。
- ​        `binlog_row_image`:        Use full or minimal images when logging row changes.      
  `binlog_row_image`：在记录行更改时使用完整或最小图像。
- ​        `binlog_row_metadata`:        Whether to record all or only minimal table related metadata to        binary log when using row-based logging.      
  `binlog_row_metadata`：使用基于行的日志记录时，是将所有表相关元数据记录到二进制日志中，还是仅将最少的表相关元数据记录到二进制日志中。
- ​        `binlog_row_value_options`:        Enables binary logging of partial JSON updates for row-based        replication.      
  `binlog_row_value_options`：为基于行的复制启用部分 JSON 更新的二进制日志记录。
- ​        `binlog_rows_query_log_events`:        When enabled, enables logging of rows query log events when        using row-based logging. Disabled by default..      
  `binlog_rows_query_log_events`：启用后，在使用基于行的日志记录时启用行查询日志事件的日志记录。默认禁用..
- ​        `Binlog_stmt_cache_disk_use`:        Number of nontransactional statements that used temporary file        instead of binary log statement cache.      
  `Binlog_stmt_cache_disk_use`：使用临时文件而不是二进制日志语句缓存的非事务性语句数。
- ​        `binlog_stmt_cache_size`:        Size of cache to hold nontransactional statements for binary log        during transaction.      
  `binlog_stmt_cache_size`：在事务期间保存二进制日志的非事务性语句的缓存大小。
- ​        `Binlog_stmt_cache_use`:        Number of statements that used temporary binary log statement        cache.      
  `Binlog_stmt_cache_use`：使用临时二进制日志语句缓存的语句数。
- ​        `binlog_transaction_compression`:        Enable compression for transaction payloads in binary log files.      
   `binlog_transaction_compression` ：为二进制日志文件中的事务负载启用压缩。
- ​        `binlog_transaction_compression_level_zstd`:        Compression level for transaction payloads in binary log files.      
   `binlog_transaction_compression_level_zstd` ：二进制日志文件中事务负载的压缩级别。
- ​        `binlog_transaction_dependency_history_size`:        Number of row hashes kept for looking up transaction that last        updated some row.      
   `binlog_transaction_dependency_history_size` ：为查找上次更新某行的交易而保留的行哈希数。
- ​        `Com_show_binlog_events`:        Count of SHOW BINLOG EVENTS statements.      
  `Com_show_binlog_events`：SHOW BINLOG EVENTS 语句的计数。
- ​        `Com_show_binlogs`:        Count of SHOW BINLOGS statements.      
  `Com_show_binlogs`：SHOW BINLOGS 语句的计数。
- ​        `log-bin`:        Base name for binary log files.      
  `log-bin`：二进制日志文件的基本名称。
- ​        `log-bin-index`:        Name of binary log index file.      
  `log-bin-index`：二进制日志索引文件的名称。
- ​        `log_bin`:        Whether binary log is enabled.      
  `log_bin`：是否开启二进制日志。
- ​        `log_bin_basename`:        Path and base name for binary log files.      
  `log_bin_basename`：二进制日志文件的路径和基名称。
- ​        `log_replica_updates`:        Whether replica should log updates performed by its replication        SQL thread to its own binary log.      
  `log_replica_updates`：副本是否应将其复制 SQL 线程执行的更新记录到其自己的二进制日志中。
- ​        `log_slave_updates`:        Whether replica should log updates performed by its replication        SQL thread to its own binary log.      
  `log_slave_updates`：副本是否应将其复制 SQL 线程执行的更新记录到其自己的二进制日志中。
- ​        `master_verify_checksum`:        Cause source to examine checksums when reading from binary log.      
  `master_verify_checksum`：导致源在从二进制日志读取时检查校验和。
- ​        `max-binlog-dump-events`:        Option used by mysql-test for debugging and testing of        replication.      
  `max-binlog-dump-events`：mysql-test 用于调试和测试复制的选项。
- ​        `max_binlog_cache_size`:        Can be used to restrict total size in bytes used to cache        multi-statement transactions.      
  `max_binlog_cache_size`：可用于限制用于缓存多语句事务的总大小（以字节为单位）。
- ​        `max_binlog_size`:        Binary log is rotated automatically when size exceeds this        value.      
  `max_binlog_size`：当大小超过此值时，会自动轮换二进制日志。
- ​        `max_binlog_stmt_cache_size`:        Can be used to restrict total size used to cache all        nontransactional statements during transaction.      
  `max_binlog_stmt_cache_size`：可用于限制在事务期间用于缓存所有非事务性语句的总大小。
- ​        `replica_sql_verify_checksum`:        Cause replica to examine checksums when reading from relay log.      
  `replica_sql_verify_checksum`：导致副本在从中继日志读取时检查校验和。
- ​        `slave-sql-verify-checksum`:        Cause replica to examine checksums when reading from relay log.      
  `slave-sql-verify-checksum`：导致副本在从中继日志读取时检查校验和。
- ​        `slave_sql_verify_checksum`:        Cause replica to examine checksums when reading from relay log.      
  `slave_sql_verify_checksum`：导致副本在从中继日志读取时检查校验和。
- ​        `source_verify_checksum`:        Cause source to examine checksums when reading from binary log.      
  `source_verify_checksum`：导致 source 在从二进制日志读取时检查校验和。
- ​        `sporadic-binlog-dump-fail`:        Option used by mysql-test for debugging and testing of        replication.      
  `sporadic-binlog-dump-fail`：mysql-test 用于调试和测试复制的选项。
- ​        `sync_binlog`:        Synchronously flush binary log to disk after every #th event. 
  `sync_binlog`：在每次 #th 事件后同步将二进制日志刷新到磁盘。

​    For a listing of all command-line options, system and status    variables used with [**mysqld**](https://dev.mysql.com/doc/refman/8.4/en/mysqld.html), see    [Section 7.1.4, “Server Option, System Variable, and Status Variable Reference”](https://dev.mysql.com/doc/refman/8.4/en/server-option-variable-reference.html). 
有关[**mysqld**](https://dev.mysql.com/doc/refman/8.4/en/mysqld.html)使用的所有命令行选项，系统和状态变量的列表，请参见[第 7.1.4 节 “服务器选项、系统变量和状态变量参考”。](https://dev.mysql.com/doc/refman/8.4/en/server-option-variable-reference.html)

#### 19.1.6.2 复制源选项和变量

​      This section describes the server options and system variables      that you can use on replication source servers. You can specify      the options either on the      [command line](https://dev.mysql.com/doc/refman/8.4/en/command-line-options.html) or in an      [option file](https://dev.mysql.com/doc/refman/8.4/en/option-files.html). You can specify      system variable values using      [`SET`](https://dev.mysql.com/doc/refman/8.4/en/set-variable.html).    
本节介绍可在复制源服务器上使用的服务器选项和系统变量。您可以在[命令行](https://dev.mysql.com/doc/refman/8.4/en/command-line-options.html)或[选项文件中](https://dev.mysql.com/doc/refman/8.4/en/option-files.html)指定选项。您可以使用 [`SET`](https://dev.mysql.com/doc/refman/8.4/en/set-variable.html) 指定系统变量值。

​      On the source and each replica, you must set the      [`server_id`](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html#sysvar_server_id) system variable to      establish a unique replication ID. For each server, you should      pick a unique positive integer in the range from 1 to      232 − 1, and each ID must be      different from every other ID in use by any other source or      replica in the replication topology. Example:      `server-id=3`.    
在源和每个副本上，您必须设置 [`server_id`](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html#sysvar_server_id) 系统变量以建立唯一的复制 ID。对于每个服务器，您应该选择一个 1 到 232 − 1 范围内的唯一正整数，并且每个 ID 必须与复制拓扑中任何其他源或副本使用的每个其他 ID 不同。示例：`server-id=3`。

​      For options used on the source for controlling binary logging, see      [Section 19.1.6.4, “Binary Logging Options and Variables”](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html). 
有关源上用于控制二进制日志记录的选项，请参见[第 19.1.6.4 节 “二进制日志记录选项和变量”。](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html)

##### Startup Options for Replication Source Servers 复制源服务器的启动选项

​        The following list describes startup options for controlling        replication source servers. Replication-related system variables        are discussed later in this section. 
以下列表描述了用于控制复制源服务器的启动选项。本节稍后将讨论与复制相关的系统变量。

- ​            [`--show-replica-auth-info`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#option_mysqld_show-replica-auth-info)

  

  

  | Command-Line Format 命令行格式 | `--show-replica-auth-info[={OFF|ON}]` |
  | ------------------------------ | ------------------------------------- |
  | Type 类型                      | Boolean 布尔                          |
  | Default Value 默认值           | `OFF`                                 |

  ​            Use [`--show-replica-auth-info`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#option_mysqld_show-replica-auth-info),            which displays replication user names and passwords in the            output of [`SHOW REPLICAS`](https://dev.mysql.com/doc/refman/8.4/en/show-replicas.html) on            the source for replicas started with the            [`--report-user`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_report_user) and            [`--report-password`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_report_password) options.          
  使用 [`--show-replica-auth-info`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#option_mysqld_show-replica-auth-info)，对于使用 [`--report-user`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_report_user) 和 [`--report-password`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_report_password) 选项启动的副本，它会在源上的 [`SHOW REPLICAS`](https://dev.mysql.com/doc/refman/8.4/en/show-replicas.html) 输出中显示复制用户名和密码。

- ​            [`--show-slave-auth-info`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#option_mysqld_show-slave-auth-info)

  

  

  | Command-Line Format 命令行格式 | `--show-slave-auth-info[={OFF|ON}]` |
  | ------------------------------ | ----------------------------------- |
  | Deprecated 荒废的              | Yes 是的                            |
  | Type 类型                      | Boolean 布尔                        |
  | Default Value 默认值           | `OFF`                               |

  ​            Deprecated alias for            [`--show-replica-auth-info`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#option_mysqld_show-replica-auth-info). 
  -[`-show-replica-auth-info`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#option_mysqld_show-replica-auth-info) 的已弃用别名。

##### System Variables Used on Replication Source Servers 复制源服务器上使用的系统变量

​        The following system variables are used for or by replication        source servers: 
以下系统变量用于复制源服务器或由复制源服务器使用：

- ​            [`auto_increment_increment`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_increment)

  

  

  | Command-Line Format 命令行格式                               | `--auto-increment-increment=#` |
  | ------------------------------------------------------------ | ------------------------------ |
  | System Variable 系统变量                                     | `auto_increment_increment`     |
  | Scope 范围                                                   | Global, Session 全局， 会话    |
  | Dynamic 动态                                                 | Yes 是的                       |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | Yes 是的                       |
  | Type 类型                                                    | Integer 整数                   |
  | Default Value 默认值                                         | `1`                            |
  | Minimum Value 最小值                                         | `1`                            |
  | Maximum Value 最大值                                         | `65535`                        |

  ​            [`auto_increment_increment`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_increment)            and [`auto_increment_offset`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_offset)            are intended for use with circular (source-to-source)            replication, and can be used to control the operation of            `AUTO_INCREMENT` columns. Both variables            have global and session values, and each can assume an            integer value between 1 and 65,535 inclusive. Setting the            value of either of these two variables to 0 causes its value            to be set to 1 instead. Attempting to set the value of            either of these two variables to an integer greater than            65,535 or less than 0 causes its value to be set to 65,535            instead. Attempting to set the value of            [`auto_increment_increment`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_increment) or            [`auto_increment_offset`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_offset) to a            noninteger value produces an error, and the actual value of            the variable remains unchanged. 
  [`auto_increment_increment`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_increment) 和 [`auto_increment_offset`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_offset) 旨在用于循环 （源到源） 复制，并可用于控制`AUTO_INCREMENT`列的操作。这两个变量都有 global 和 session 值，并且每个变量都可以采用介于 1 和 65,535 之间（包括 1 和  65,535）的整数值。将这两个变量中的任何一个的值设置为 0 都会将其值设置为 1。尝试将这两个变量的值设置为大于 65,535 或小于 0  的整数会导致其值设置为 65,535。尝试将 [`auto_increment_increment`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_increment) 或 [`auto_increment_offset`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_offset) 的值设置为非整数值会产生错误，并且变量的实际值保持不变。

  Note 注意

  ​              [`auto_increment_increment`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_increment)              is also supported for use with              [`NDB`](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster.html) tables. 
  [`auto_increment_increment`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_increment)也支持与 [`NDB`](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster.html) table 一起使用。

  ​            When Group Replication is started on a server, the value of            [`auto_increment_increment`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_increment) is            changed to the value of            [`group_replication_auto_increment_increment`](https://dev.mysql.com/doc/refman/8.4/en/group-replication-system-variables.html#sysvar_group_replication_auto_increment_increment),            which defaults to 7, and the value of            [`auto_increment_offset`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_offset) is            changed to the server ID. The changes are reverted when            Group Replication is stopped. These changes are only made            and reverted if            [`auto_increment_increment`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_increment)            and [`auto_increment_offset`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_offset)            each have their default value of 1. If their values have            already been modified from the default, Group Replication            does not alter them. These system variables are also not            modified when Group Replication is in single-primary mode,            where only one server writes.          
  在服务器上启动组复制时，[`auto_increment_increment`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_increment) 的值将更改为 [ `group_replication_auto_increment_increment` ](https://dev.mysql.com/doc/refman/8.4/en/group-replication-system-variables.html#sysvar_group_replication_auto_increment_increment)的值，默认值为 [`7，auto_increment_offset`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_offset)的值将更改为服务器 ID。当 Group Replication 停止时，将还原更改。仅当 [`auto_increment_increment`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_increment) 和 [`auto_increment_offset`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_offset) 的默认值均为 1 时，才会进行和还原这些更改。如果已从默认值修改了它们的值，则 Group Replication 不会更改它们。当 Group Replication 处于单主模式（只有一个服务器写入）时，也不会修改这些系统变量。

  ​            [`auto_increment_increment`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_increment)            and [`auto_increment_offset`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_offset)            affect `AUTO_INCREMENT` column behavior as            follows: 
  [`auto_increment_increment`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_increment) 和 [`auto_increment_offset`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_offset) 影响`AUTO_INCREMENT`列行为，如下所示：

  - ​                [`auto_increment_increment`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_increment)                controls the interval between successive column values.                For example:              
    [`auto_increment_increment`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_increment) 控制连续列值之间的间隔。例如：

    ```sql
    mysql> SHOW VARIABLES LIKE 'auto_inc%';
    +--------------------------+-------+
    | Variable_name            | Value |
    +--------------------------+-------+
    | auto_increment_increment | 1     |
    | auto_increment_offset    | 1     |
    +--------------------------+-------+
    2 rows in set (0.00 sec)
    
    mysql> CREATE TABLE autoinc1
        -> (col INT NOT NULL AUTO_INCREMENT PRIMARY KEY);
      Query OK, 0 rows affected (0.04 sec)
    
    mysql> SET @@auto_increment_increment=10;
    Query OK, 0 rows affected (0.00 sec)
    
    mysql> SHOW VARIABLES LIKE 'auto_inc%';
    +--------------------------+-------+
    | Variable_name            | Value |
    +--------------------------+-------+
    | auto_increment_increment | 10    |
    | auto_increment_offset    | 1     |
    +--------------------------+-------+
    2 rows in set (0.01 sec)
    
    mysql> INSERT INTO autoinc1 VALUES (NULL), (NULL), (NULL), (NULL);
    Query OK, 4 rows affected (0.00 sec)
    Records: 4  Duplicates: 0  Warnings: 0
    
    mysql> SELECT col FROM autoinc1;
    +-----+
    | col |
    +-----+
    |   1 |
    |  11 |
    |  21 |
    |  31 |
    +-----+
    4 rows in set (0.00 sec)
    ```

  - ​                [`auto_increment_offset`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_offset)                determines the starting point for the                `AUTO_INCREMENT` column value. Consider                the following, assuming that these statements are                executed during the same session as the example given in                the description for                [`auto_increment_increment`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_increment):              
    [`auto_increment_offset`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_offset) 确定 `AUTO_INCREMENT` 列值的起点。请考虑以下情况，假设这些语句在与 [`auto_increment_increment`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_increment) 的描述中给出的示例相同的会话期间执行：

    ```sql
    mysql> SET @@auto_increment_offset=5;
    Query OK, 0 rows affected (0.00 sec)
    
    mysql> SHOW VARIABLES LIKE 'auto_inc%';
    +--------------------------+-------+
    | Variable_name            | Value |
    +--------------------------+-------+
    | auto_increment_increment | 10    |
    | auto_increment_offset    | 5     |
    +--------------------------+-------+
    2 rows in set (0.00 sec)
    
    mysql> CREATE TABLE autoinc2
        -> (col INT NOT NULL AUTO_INCREMENT PRIMARY KEY);
    Query OK, 0 rows affected (0.06 sec)
    
    mysql> INSERT INTO autoinc2 VALUES (NULL), (NULL), (NULL), (NULL);
    Query OK, 4 rows affected (0.00 sec)
    Records: 4  Duplicates: 0  Warnings: 0
    
    mysql> SELECT col FROM autoinc2;
    +-----+
    | col |
    +-----+
    |   5 |
    |  15 |
    |  25 |
    |  35 |
    +-----+
    4 rows in set (0.02 sec)
    ```

    ​                When the value of                [`auto_increment_offset`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_offset)                is greater than that of                [`auto_increment_increment`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_increment),                the value of                [`auto_increment_offset`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_offset)                is ignored. 
    当 [`auto_increment_offset`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_offset) 的值大于 [`auto_increment_increment`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_increment) 的值时，[`auto_increment_offset`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_offset) 的值将被忽略。

  ​            If either of these variables is changed, and then new rows            inserted into a table containing an            `AUTO_INCREMENT` column, the results may            seem counterintuitive because the series of            `AUTO_INCREMENT` values is calculated            without regard to any values already present in the column,            and the next value inserted is the least value in the series            that is greater than the maximum existing value in the            `AUTO_INCREMENT` column. The series is            calculated like this:          
  如果更改了这些变量中的任何一个，然后将新行插入到包含 `AUTO_INCREMENT` 列的表中，则结果可能看起来有悖常理，因为计算 `AUTO_INCREMENT` 值序列时不考虑列中已存在的任何值，并且插入的下一个值是序列中大于 `AUTO_INCREMENT` 列中最大现有值的最小值。序列的计算方式如下：

  ​            `auto_increment_offset` +            *`N`* ×            `auto_increment_increment`          

  ​            where *`N`* is a positive integer            value in the series [1, 2, 3, ...]. For example:          
  其中 *`N`* 是序列 [1， 2， 3， ...] 中的正整数值。例如：

  ```sql
  mysql> SHOW VARIABLES LIKE 'auto_inc%';
  +--------------------------+-------+
  | Variable_name            | Value |
  +--------------------------+-------+
  | auto_increment_increment | 10    |
  | auto_increment_offset    | 5     |
  +--------------------------+-------+
  2 rows in set (0.00 sec)
  
  mysql> SELECT col FROM autoinc1;
  +-----+
  | col |
  +-----+
  |   1 |
  |  11 |
  |  21 |
  |  31 |
  +-----+
  4 rows in set (0.00 sec)
  
  mysql> INSERT INTO autoinc1 VALUES (NULL), (NULL), (NULL), (NULL);
  Query OK, 4 rows affected (0.00 sec)
  Records: 4  Duplicates: 0  Warnings: 0
  
  mysql> SELECT col FROM autoinc1;
  +-----+
  | col |
  +-----+
  |   1 |
  |  11 |
  |  21 |
  |  31 |
  |  35 |
  |  45 |
  |  55 |
  |  65 |
  +-----+
  8 rows in set (0.00 sec)
  ```

  ​            The values shown for            [`auto_increment_increment`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_increment)            and [`auto_increment_offset`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_offset)            generate the series 5 + *`N`* ×            10, that is, [5, 15, 25, 35, 45, ...]. The highest value            present in the `col` column prior to the            [`INSERT`](https://dev.mysql.com/doc/refman/8.4/en/insert.html) is 31, and the next            available value in the `AUTO_INCREMENT`            series is 35, so the inserted values for            `col` begin at that point and the results            are as shown for the [`SELECT`](https://dev.mysql.com/doc/refman/8.4/en/select.html)            query.          
  为 [`auto_increment_increment`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_increment) 和 [`auto_increment_offset`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_offset) 显示的值生成序列 5 + *`N`* × 10，即 [5， 15， 25， 35， 45， ...]。[`在 INSERT`](https://dev.mysql.com/doc/refman/8.4/en/insert.html) 之前的 `col` 列中存在的最大值是 31，AUTO_INCREMENT 系列中的下一个可用值是 35，因此 `col` 的插入``值从该点开始，结果如 [`SELECT`](https://dev.mysql.com/doc/refman/8.4/en/select.html) 查询所示。

  ​            It is not possible to restrict the effects of these two            variables to a single table; these variables control the            behavior of all `AUTO_INCREMENT` columns in            *all* tables on the MySQL server. If the            global value of either variable is set, its effects persist            until the global value is changed or overridden by setting            the session value, or until [**mysqld**](https://dev.mysql.com/doc/refman/8.4/en/mysqld.html) is            restarted. If the local value is set, the new value affects            `AUTO_INCREMENT` columns for all tables            into which new rows are inserted by the current user for the            duration of the session, unless the values are changed            during that session.          
  无法将这两个变量的效果限制为单个表;这些变量控制 MySQL 服务器上*所有* `AUTO_INCREMENT` 列中所有列的行为。如果设置了任一变量的全局值，则其效果将一直存在，直到通过设置会话值更改或覆盖全局值，或者直到重新启动 [**mysqld**](https://dev.mysql.com/doc/refman/8.4/en/mysqld.html) 为止。如果设置了 local 值，则新值将影响当前用户在会话期间插入新行的所有表的`AUTO_INCREMENT`列，除非在该会话期间更改了这些值。

  ​            The default value of            [`auto_increment_increment`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_increment) is            1. See            [Section 19.5.1.1, “Replication and AUTO_INCREMENT”](https://dev.mysql.com/doc/refman/8.4/en/replication-features-auto-increment.html).          
  [`auto_increment_increment`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_increment) 的默认值为 1。参见[第 19.5.1.1 节 “复制和AUTO_INCREMENT”。](https://dev.mysql.com/doc/refman/8.4/en/replication-features-auto-increment.html)

- ​            [`auto_increment_offset`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_offset)

  

  

  | Command-Line Format 命令行格式                               | `--auto-increment-offset=#` |
  | ------------------------------------------------------------ | --------------------------- |
  | System Variable 系统变量                                     | `auto_increment_offset`     |
  | Scope 范围                                                   | Global, Session 全局， 会话 |
  | Dynamic 动态                                                 | Yes 是的                    |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | Yes 是的                    |
  | Type 类型                                                    | Integer 整数                |
  | Default Value 默认值                                         | `1`                         |
  | Minimum Value 最小值                                         | `1`                         |
  | Maximum Value 最大值                                         | `65535`                     |

  ​            This variable has a default value of 1. If it is left with            its default value, and Group Replication is started on the            server in multi-primary mode, it is changed to the server            ID. For more information, see the description for            [`auto_increment_increment`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_increment). 
  此变量的默认值为 1。如果保留其默认值，并且以多主模式在服务器上启动组复制，则它将更改为服务器 ID。有关更多信息，请参阅 [`auto_increment_increment`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_auto_increment_increment) 的说明。

  Note 注意

  ​              `auto_increment_offset` is also supported              for use with [`NDB`](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster.html) tables. 
  `auto_increment_offset`也支持与 [`NDB`](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster.html) table 一起使用。

- ​            [`immediate_server_version`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_immediate_server_version)

  

  

  | System Variable 系统变量                                     | `immediate_server_version` |
  | ------------------------------------------------------------ | -------------------------- |
  | Scope 范围                                                   | Session 会期               |
  | Dynamic 动态                                                 | Yes 是的                   |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                      |
  | Type 类型                                                    | Integer 整数               |
  | Default Value 默认值                                         | `999999`                   |
  | Minimum Value 最小值                                         | `0`                        |
  | Maximum Value 最大值                                         | `999999`                   |

  ​            For internal use by replication. This session system            variable holds the MySQL Server release number of the server            that is the immediate source in a replication topology (for            example, `80403` for a            MySQL 8.4.4 server instance). If this            immediate server is at a release that does not support the            session system variable, the value of the variable is set to            0 (`UNKNOWN_SERVER_VERSION`).          
  供复制内部使用。此会话系统变量保存作为复制拓扑中直接源的服务器的 MySQL 服务器版本号（例如，MySQL 8.4.4 服务器实例的 `80403`）。如果此 immediate server 的发行版不支持 session 系统变量，则该变量的值将设置为 0 （`UNKNOWN_SERVER_VERSION`）。

  ​            The value of the variable is replicated from a source to a            replica. With this information the replica can correctly            process data originating from a source at an older release,            by recognizing where syntax changes or semantic changes have            occurred between the releases involved and handling these            appropriately. The information can also be used in a Group            Replication environment where one or more members of the            replication group is at a newer release than the others. The            value of the variable can be viewed in the binary log for            each transaction (as part of the            `Gtid_log_event`, or            `Anonymous_gtid_log_event` if GTIDs are not            in use on the server), and could be helpful in debugging            cross-version replication issues.          
  变量的值将从源复制到副本。借助此信息，副本可以通过识别所涉及的版本之间发生的语法更改或语义更改的位置并适当处理这些更改，从而正确处理来自旧版本中源的数据。该信息还可用于组复制环境，其中复制组的一个或多个成员的版本比其他成员的版本新。可以在每个事务的二进制日志中查看变量的值（作为`Gtid_log_event`的一部分，如果服务器上未使用 GTID，`则Anonymous_gtid_log_event`），并且可能有助于调试跨版本复制问题。

  ​            Setting the session value of this system variable is a            restricted operation. The session user must have either the            [`REPLICATION_APPLIER`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_replication-applier) privilege            (see [Section 19.3.3, “Replication Privilege Checks”](https://dev.mysql.com/doc/refman/8.4/en/replication-privilege-checks.html)), or            privileges sufficient to set restricted session variables            (see [Section 7.1.9.1, “System Variable Privileges”](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html)). However,            note that the variable is not intended for users to set; it            is set automatically by the replication infrastructure.          
  设置此系统变量的 session 值是一个受限操作。会话用户必须具有 [`REPLICATION_APPLIER`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_replication-applier) 权限（请参见[第 19.3.3 节 “复制权限检查”）](https://dev.mysql.com/doc/refman/8.4/en/replication-privilege-checks.html)或足以设置受限制的会话变量的权限（请参见[第 7.1.9.1 节 “系统变量权限”）。](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html)但是，请注意，该变量并非供用户设置;它由复制基础结构自动设置。

- ​            [`original_server_version`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_original_server_version)

  

  

  | System Variable 系统变量                                     | `original_server_version` |
  | ------------------------------------------------------------ | ------------------------- |
  | Scope 范围                                                   | Session 会期              |
  | Dynamic 动态                                                 | Yes 是的                  |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                     |
  | Type 类型                                                    | Integer 整数              |
  | Default Value 默认值                                         | `999999`                  |
  | Minimum Value 最小值                                         | `0`                       |
  | Maximum Value 最大值                                         | `999999`                  |

  ​            For internal use by replication. This session system            variable holds the MySQL Server release number of the server            where a transaction was originally committed (for example,            `80403` for a MySQL            8.4.3 server instance). If this original server            is at a release that does not support the session system            variable, the value of the variable is set to 0            (`UNKNOWN_SERVER_VERSION`). Note that when            a release number is set by the original server, the value of            the variable is reset to 0 if the immediate server or any            other intervening server in the replication topology does            not support the session system variable, and so does not            replicate its value.          
  供复制内部使用。此会话系统变量保存最初提交事务的服务器的 MySQL 服务器版本号（例如，MySQL 8.4.3 服务器实例的 `80403`）。如果此原始服务器处于不支持 session 系统变量的发行版中，则该变量的值将设置为 0 （`UNKNOWN_SERVER_VERSION`）。请注意，当原始服务器设置版本号时，如果直接服务器或复制拓扑中的任何其他干预服务器不支持会话系统变量，因此不复制其值，则该变量的值将重置为 0。

  ​            The value of the variable is set and used in the same ways            as for the            [`immediate_server_version`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_immediate_server_version)            system variable. If the value of the variable is the same as            that for the            [`immediate_server_version`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_immediate_server_version)            system variable, only the latter is recorded in the binary            log, with an indicator that the original server version is            the same.          
  变量值的设置和使用方式与 [`immediate_server_version`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_immediate_server_version) 系统变量相同。如果变量的值与 [`immediate_server_version`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_immediate_server_version) 系统变量的值相同，则二进制日志中仅记录后者，并指示原始服务器版本相同。

  ​            In a Group Replication environment, view change log events,            which are special transactions queued by each group member            when a new member joins the group, are tagged with the            server version of the group member queuing the transaction.            This ensures that the server version of the original donor            is known to the joining member. Because the view change log            events queued for a particular view change have the same            GTID on all members, for this case only, instances of the            same GTID might have a different original server version.          
  在组复制环境中，查看更改日志事件（当新成员加入组时每个组成员排队的特殊事务）使用对事务进行排队的组成员的服务器版本进行标记。这可确保加入成员知道原始捐赠者的服务器版本。由于为特定视图更改排队的视图更改日志事件在所有成员上具有相同的 GTID，因此仅在这种情况下，同一 GTID 的实例可能具有不同的原始服务器版本。

  ​            Setting the session value of this system variable is a            restricted operation. The session user must have either the            [`REPLICATION_APPLIER`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_replication-applier) privilege            (see [Section 19.3.3, “Replication Privilege Checks”](https://dev.mysql.com/doc/refman/8.4/en/replication-privilege-checks.html)), or            privileges sufficient to set restricted session variables            (see [Section 7.1.9.1, “System Variable Privileges”](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html)). However,            note that the variable is not intended for users to set; it            is set automatically by the replication infrastructure.          
  设置此系统变量的 session 值是一个受限操作。会话用户必须具有 [`REPLICATION_APPLIER`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_replication-applier) 权限（请参见[第 19.3.3 节 “复制权限检查”）](https://dev.mysql.com/doc/refman/8.4/en/replication-privilege-checks.html)或足以设置受限制的会话变量的权限（请参见[第 7.1.9.1 节 “系统变量权限”）。](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html)但是，请注意，该变量并非供用户设置;它由复制基础结构自动设置。

- ​            [`rpl_semi_sync_master_enabled`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_master_enabled)

  

  

  | Command-Line Format 命令行格式                               | `--rpl-semi-sync-master-enabled[={OFF|ON}]` |
  | ------------------------------------------------------------ | ------------------------------------------- |
  | System Variable 系统变量                                     | `rpl_semi_sync_master_enabled`              |
  | Scope 范围                                                   | Global 全球                                 |
  | Dynamic 动态                                                 | Yes 是的                                    |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                       |
  | Type 类型                                                    | Boolean 布尔                                |
  | Default Value 默认值                                         | `OFF`                                       |

  ​            Deprecated synonym for            [`rpl_semi_sync_source_enabled`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_enabled).          
  已弃用的 [`rpl_semi_sync_source_enabled`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_enabled) 同义词。

- ​            [`rpl_semi_sync_master_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_master_timeout)

  

  

  | Command-Line Format 命令行格式                               | `--rpl-semi-sync-master-timeout=#` |
  | ------------------------------------------------------------ | ---------------------------------- |
  | System Variable 系统变量                                     | `rpl_semi_sync_master_timeout`     |
  | Scope 范围                                                   | Global 全球                        |
  | Dynamic 动态                                                 | Yes 是的                           |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                              |
  | Type 类型                                                    | Integer 整数                       |
  | Default Value 默认值                                         | `10000`                            |
  | Minimum Value 最小值                                         | `0`                                |
  | Maximum Value 最大值                                         | `4294967295`                       |
  | Unit 单位                                                    | milliseconds 毫秒                  |

  ​            Deprecated synonym for            [`rpl_semi_sync_source_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_timeout).          
  已弃用的 [`rpl_semi_sync_source_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_timeout) 同义词。

- ​            [`rpl_semi_sync_master_trace_level`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_master_trace_level)

  

  

  | Command-Line Format 命令行格式                               | `--rpl-semi-sync-master-trace-level=#` |
  | ------------------------------------------------------------ | -------------------------------------- |
  | System Variable 系统变量                                     | `rpl_semi_sync_master_trace_level`     |
  | Scope 范围                                                   | Global 全球                            |
  | Dynamic 动态                                                 | Yes 是的                               |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                  |
  | Type 类型                                                    | Integer 整数                           |
  | Default Value 默认值                                         | `32`                                   |
  | Minimum Value 最小值                                         | `0`                                    |
  | Maximum Value 最大值                                         | `4294967295`                           |

  ​            Deprecated synonym for            [`rpl_semi_sync_source_trace_level`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_trace_level).          
  已弃用的同义词 [ `rpl_semi_sync_source_trace_level` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_trace_level)。

- ​            [`rpl_semi_sync_master_wait_for_slave_count`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_master_wait_for_slave_count)

  

  

  | Command-Line Format 命令行格式                               | `--rpl-semi-sync-master-wait-for-slave-count=#` |
  | ------------------------------------------------------------ | ----------------------------------------------- |
  | System Variable 系统变量                                     | `rpl_semi_sync_master_wait_for_slave_count`     |
  | Scope 范围                                                   | Global 全球                                     |
  | Dynamic 动态                                                 | Yes 是的                                        |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                           |
  | Type 类型                                                    | Integer 整数                                    |
  | Default Value 默认值                                         | `1`                                             |
  | Minimum Value 最小值                                         | `1`                                             |
  | Maximum Value 最大值                                         | `65535`                                         |

  ​            Deprecated synonym for            [`rpl_semi_sync_source_wait_for_replica_count`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_for_replica_count).          
  已弃用的同义词 [ `rpl_semi_sync_source_wait_for_replica_count` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_for_replica_count)。

- ​            [`rpl_semi_sync_master_wait_no_slave`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_master_wait_no_slave)

  

  

  | Command-Line Format 命令行格式                               | `--rpl-semi-sync-master-wait-no-slave[={OFF|ON}]` |
  | ------------------------------------------------------------ | ------------------------------------------------- |
  | System Variable 系统变量                                     | `rpl_semi_sync_master_wait_no_slave`              |
  | Scope 范围                                                   | Global 全球                                       |
  | Dynamic 动态                                                 | Yes 是的                                          |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                             |
  | Type 类型                                                    | Boolean 布尔                                      |
  | Default Value 默认值                                         | `ON`                                              |

  ​            Deprecated synonym for            [`rpl_semi_sync_source_wait_no_replica`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_no_replica).          
  已弃用的同义词 [ `rpl_semi_sync_source_wait_no_replica` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_no_replica)。

- ​            [`rpl_semi_sync_master_wait_point`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_master_wait_point)

  

  

  | Command-Line Format 命令行格式                               | `--rpl-semi-sync-master-wait-point=value` |
  | ------------------------------------------------------------ | ----------------------------------------- |
  | System Variable 系统变量                                     | `rpl_semi_sync_master_wait_point`         |
  | Scope 范围                                                   | Global 全球                               |
  | Dynamic 动态                                                 | Yes 是的                                  |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                     |
  | Type 类型                                                    | Enumeration 列举                          |
  | Default Value 默认值                                         | `AFTER_SYNC`                              |
  | Valid Values 有效值                                          | `AFTER_SYNC``AFTER_COMMIT`                |

  ​            Deprecated synonym for            [`rpl_semi_sync_source_wait_point`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_point).          
  已弃用的同义词 [ `rpl_semi_sync_source_wait_point` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_point)。

- ​            [`rpl_semi_sync_source_enabled`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_enabled)

  

  

  | Command-Line Format 命令行格式                               | `--rpl-semi-sync-source-enabled[={OFF|ON}]` |
  | ------------------------------------------------------------ | ------------------------------------------- |
  | System Variable 系统变量                                     | `rpl_semi_sync_source_enabled`              |
  | Scope 范围                                                   | Global 全球                                 |
  | Dynamic 动态                                                 | Yes 是的                                    |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                       |
  | Type 类型                                                    | Boolean 布尔                                |
  | Default Value 默认值                                         | `OFF`                                       |

  ​            [`rpl_semi_sync_source_enabled`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_enabled)            is available when the            `rpl_semi_sync_source`            (`semisync_source.so` library) plugin was            installed on the replica to set up semisynchronous            replication.          
  当在副本上安装 `rpl_semi_sync_source`（`semisync_source.so` 库）插件以设置半同步复制时，[`rpl_semi_sync_source_enabled`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_enabled)可用。

  ​            [`rpl_semi_sync_source_enabled`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_enabled)            controls whether semisynchronous replication is enabled on            the source server. To enable or disable the plugin, set this            variable to `ON` or `OFF`            (or 1 or 0), respectively. The default is            `OFF`.          
  [`rpl_semi_sync_source_enabled`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_enabled) 控制是否在源服务器上启用半同步复制。要启用或禁用插件，请将此变量分别设置为 `ON` 或 `OFF`（或 1 或 0）。默认值为 `OFF。`

- ​            [`rpl_semi_sync_source_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_timeout)

  

  

  | Command-Line Format 命令行格式                               | `--rpl-semi-sync-source-timeout=#` |
  | ------------------------------------------------------------ | ---------------------------------- |
  | System Variable 系统变量                                     | `rpl_semi_sync_source_timeout`     |
  | Scope 范围                                                   | Global 全球                        |
  | Dynamic 动态                                                 | Yes 是的                           |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                              |
  | Type 类型                                                    | Integer 整数                       |
  | Default Value 默认值                                         | `10000`                            |
  | Minimum Value 最小值                                         | `0`                                |
  | Maximum Value 最大值                                         | `4294967295`                       |
  | Unit 单位                                                    | milliseconds 毫秒                  |

  ​            [`rpl_semi_sync_source_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_timeout)            is available when the            `rpl_semi_sync_source`            (`semisync_source.so` library) plugin is            installed on the replica.          
  [`rpl_semi_sync_source_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_timeout) 在副本上安装 `rpl_semi_sync_source`（`semisync_source.so` 库）插件时可用。

  ​            [`rpl_semi_sync_source_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_timeout)            controls how long the source waits on a commit for            acknowledgment from a replica before timing out and            reverting to asynchronous replication. The value is            specified in milliseconds, and the default value is 10000            (10 seconds).          
  [`rpl_semi_sync_source_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_timeout)控制源在超时并恢复到异步复制之前等待副本确认提交的时间。该值以毫秒为单位指定，默认值为 10000（10 秒）。

- ​            [`rpl_semi_sync_source_trace_level`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_trace_level)

  

  

  | Command-Line Format 命令行格式                               | `--rpl-semi-sync-source-trace-level=#` |
  | ------------------------------------------------------------ | -------------------------------------- |
  | System Variable 系统变量                                     | `rpl_semi_sync_source_trace_level`     |
  | Scope 范围                                                   | Global 全球                            |
  | Dynamic 动态                                                 | Yes 是的                               |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                  |
  | Type 类型                                                    | Integer 整数                           |
  | Default Value 默认值                                         | `32`                                   |
  | Minimum Value 最小值                                         | `0`                                    |
  | Maximum Value 最大值                                         | `4294967295`                           |

  ​            [`rpl_semi_sync_source_trace_level`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_trace_level)            is available when the            `rpl_semi_sync_source`            (`semisync_source.so` library) plugin is            installed on the replica.          
  [ `rpl_semi_sync_source_trace_level` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_trace_level)在副本上安装 `rpl_semi_sync_source`（`semisync_source.so` 库）插件时可用。

  ​            [`rpl_semi_sync_source_trace_level`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_trace_level)            specifies the semisynchronous replication debug trace level            on the source server. Four levels are defined: 
  [ `rpl_semi_sync_source_trace_level` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_trace_level)指定源服务器上的半同步复制调试跟踪级别。定义了四个级别：

  - ​                1 = general level (for example, time function failures)              
    1 = 一般级别（例如，时间函数故障）
  - ​                16 = detail level (more verbose information)              
    16 = 详细级别（更详细的信息）
  - ​                32 = net wait level (more information about network                waits)              
    32 = 净等待级别（有关网络等待的更多信息）
  - ​                64 = function level (information about function entry                and exit) 
    64 = 函数级别（有关函数进入和退出的信息）

- ​            [`rpl_semi_sync_source_wait_for_replica_count`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_for_replica_count)

  

  

  | Command-Line Format 命令行格式                               | `--rpl-semi-sync-source-wait-for-replica-count=#` |
  | ------------------------------------------------------------ | ------------------------------------------------- |
  | System Variable 系统变量                                     | `rpl_semi_sync_source_wait_for_replica_count`     |
  | Scope 范围                                                   | Global 全球                                       |
  | Dynamic 动态                                                 | Yes 是的                                          |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                             |
  | Type 类型                                                    | Integer 整数                                      |
  | Default Value 默认值                                         | `1`                                               |
  | Minimum Value 最小值                                         | `1`                                               |
  | Maximum Value 最大值                                         | `65535`                                           |

  ​            [`rpl_semi_sync_source_wait_for_replica_count`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_for_replica_count)            is available when the            `rpl_semi_sync_source`            (`semisync_source.so` library) plugin is            installed on the replica to set up semisynchronous            replication.          
  [ `rpl_semi_sync_source_wait_for_replica_count` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_for_replica_count)在副本上安装 `rpl_semi_sync_source`（`semisync_source.so` 库）插件以设置半同步复制时可用。

  ​            [`rpl_semi_sync_source_wait_for_replica_count`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_for_replica_count)            specifies the number of replica acknowledgments the source            must receive per transaction before proceeding. By default            `rpl_semi_sync_source_wait_for_replica_count`            is `1`, meaning that semisynchronous            replication proceeds after receiving a single replica            acknowledgment. Performance is best for small values of this            variable.          
  [ `rpl_semi_sync_source_wait_for_replica_count` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_for_replica_count)指定 Source 在继续之前必须接收每个事务的副本确认数。默认情况下 `rpl_semi_sync_source_wait_for_replica_count` 为 `1`，这意味着在收到单个副本确认后继续进行半同步复制。性能 最适合此变量的较小值。

  ​            For example, if            `rpl_semi_sync_source_wait_for_replica_count`            is `2`, then 2 replicas must acknowledge            receipt of the transaction before the timeout period            configured by            [`rpl_semi_sync_source_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_timeout)            for semisynchronous replication to proceed. If fewer            replicas acknowledge receipt of the transaction during the            timeout period, the source reverts to normal replication. 
  例如，如果 `rpl_semi_sync_source_wait_for_replica_count` 为 `2`，则 2 个副本必须在 [`rpl_semi_sync_source_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_timeout) 配置的超时期限之前确认收到事务，以便半同步复制继续进行。如果在超时期间确认收到事务的副本较少，则源将恢复为正常复制。

  Note 注意

  ​              This behavior also depends on              [`rpl_semi_sync_source_wait_no_replica`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_no_replica). 
  此行为还取决于 [ `rpl_semi_sync_source_wait_no_replica` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_no_replica)。

- ​            [`rpl_semi_sync_source_wait_no_replica`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_no_replica)

  

  

  | Command-Line Format 命令行格式                               | `--rpl-semi-sync-source-wait-no-replica[={OFF|ON}]` |
  | ------------------------------------------------------------ | --------------------------------------------------- |
  | System Variable 系统变量                                     | `rpl_semi_sync_source_wait_no_replica`              |
  | Scope 范围                                                   | Global 全球                                         |
  | Dynamic 动态                                                 | Yes 是的                                            |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                               |
  | Type 类型                                                    | Boolean 布尔                                        |
  | Default Value 默认值                                         | `ON`                                                |

  ​            [`rpl_semi_sync_source_wait_no_replica`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_no_replica)            is available when the            `rpl_semi_sync_source`            (`semisync_source.so` library) plugin is            installed on the replica.          
  [ `rpl_semi_sync_source_wait_no_replica` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_no_replica)在副本上安装 `rpl_semi_sync_source`（`semisync_source.so` 库）插件时可用。

  ​            [`rpl_semi_sync_source_wait_no_replica`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_no_replica)            controls whether the source waits for the timeout period            configured by            [`rpl_semi_sync_source_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_timeout)            to expire, even if the replica count drops to less than the            number of replicas configured by            [`rpl_semi_sync_source_wait_for_replica_count`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_for_replica_count)            during the timeout period.          
  [ `rpl_semi_sync_source_wait_no_replica` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_no_replica)控制源是否等待 [`rpl_semi_sync_source_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_timeout) 配置的超时期限到期，即使副本计数下降到小于超时期限内配置[ `rpl_semi_sync_source_wait_for_replica_count` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_for_replica_count)的副本数。

  ​            When the value of            `rpl_semi_sync_source_wait_no_replica` is            `ON` (the default), it is permissible for            the replica count to drop to less than            [`rpl_semi_sync_source_wait_for_replica_count`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_for_replica_count)            during the timeout period. As long as enough replicas            acknowledge the transaction before the timeout period            expires, semisynchronous replication continues.          
  当 的值为 `rpl_semi_sync_source_wait_no_replica` `ON`（默认值）时，允许副本计数下降到小于[ `rpl_semi_sync_source_wait_for_replica_count` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_for_replica_count)超时期间的计数。只要在超时期限到期之前有足够多的副本确认事务，半同步复制就会继续。

  ​            When the value of            `rpl_semi_sync_source_wait_no_replica` is            `OFF`, if the replica count drops to less            than the number configured in            [`rpl_semi_sync_source_wait_for_replica_count`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_for_replica_count)            at any time during the timeout period configured by            [`rpl_semi_sync_source_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_timeout),            the source reverts to normal replication.          
  当 的 `rpl_semi_sync_source_wait_no_replica` 值为 `OFF` 时，如果在 [`rpl_semi_sync_source_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_timeout) 配置的超时期限内，副本计数下降到小于配置[ `rpl_semi_sync_source_wait_for_replica_count` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_for_replica_count)的数量，则源将恢复为正常复制。

- ​            [`rpl_semi_sync_source_wait_point`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_point)

  

  

  | Command-Line Format 命令行格式                               | `--rpl-semi-sync-source-wait-point=value` |
  | ------------------------------------------------------------ | ----------------------------------------- |
  | System Variable 系统变量                                     | `rpl_semi_sync_source_wait_point`         |
  | Scope 范围                                                   | Global 全球                               |
  | Dynamic 动态                                                 | Yes 是的                                  |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                     |
  | Type 类型                                                    | Enumeration 列举                          |
  | Default Value 默认值                                         | `AFTER_SYNC`                              |
  | Valid Values 有效值                                          | `AFTER_SYNC``AFTER_COMMIT`                |

  ​            [`rpl_semi_sync_source_wait_point`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_point)            is available when the            `rpl_semi_sync_source`            (`semisync_source.so` library) plugin is            installed on the replica.          
  [ `rpl_semi_sync_source_wait_point` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_point)在副本上安装 `rpl_semi_sync_source`（`semisync_source.so` 库）插件时可用。

  ​            [`rpl_semi_sync_source_wait_point`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_point)            controls the point at which a semisynchronous replication            source server waits for replica acknowledgment of            transaction receipt before returning a status to the client            that committed the transaction. These values are permitted: 
  [ `rpl_semi_sync_source_wait_point` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_source_wait_point)控制半同步复制源服务器在将状态返回给提交事务的客户端之前等待事务接收的副本确认的点。允许使用以下值：

  - ​                `AFTER_SYNC` (the default): The source                writes each transaction to its binary log and the                replica, and syncs the binary log to disk. The source                waits for replica acknowledgment of transaction receipt                after the sync. Upon receiving acknowledgment, the                source commits the transaction to the storage engine and                returns a result to the client, which then can proceed.              
    `AFTER_SYNC`（默认值）：源将每个事务写入其二进制日志和副本，并将二进制日志同步到磁盘。源在同步后等待事务接收的副本确认。收到确认后，源将事务提交到存储引擎，并将结果返回给客户端，然后客户端可以继续。
  - ​                `AFTER_COMMIT`: The source writes each                transaction to its binary log and the replica, syncs the                binary log, and commits the transaction to the storage                engine. The source waits for replica acknowledgment of                transaction receipt after the commit. Upon receiving                acknowledgment, the source returns a result to the                client, which then can proceed. 
    `AFTER_COMMIT`：源将每个事务写入其二进制日志和副本，同步二进制日志，并将事务提交到存储引擎。源在提交后等待事务接收的副本确认。收到确认后，源将结果返回给客户端，然后客户端可以继续。

  ​            The replication characteristics of these settings differ as            follows: 
  这些设置的复制特征有所不同，如下所示：

  - ​                With `AFTER_SYNC`, all clients see the                committed transaction at the same time: After it has                been acknowledged by the replica and committed to the                storage engine on the source. Thus, all clients see the                same data on the source.              
    使用 `AFTER_SYNC`，所有客户端都会同时看到提交的事务：在副本确认该事务并将其提交到源上的存储引擎之后。因此，所有客户端在源上看到相同的数据。

    ​                In the event of source failure, all transactions                committed on the source have been replicated to the                replica (saved to its relay log). An unexpected exit of                the source server and failover to the replica is                lossless because the replica is up to date. Note,                however, that the source cannot be restarted in this                scenario and must be discarded, because its binary log                might contain uncommitted transactions that would cause                a conflict with the replica when externalized after                binary log recovery.              
    如果源发生故障，则源上提交的所有事务都已复制到副本（保存到其中继日志中）。源服务器的意外退出并故障转移到副本是无损的，因为副本是最新的。但是请注意，在这种情况下，源无法重新启动，必须丢弃，因为其二进制日志可能包含未提交的事务，这些事务在二进制日志恢复后外部化时会导致与副本发生冲突。

  - ​                With `AFTER_COMMIT`, the client issuing                the transaction gets a return status only after the                server commits to the storage engine and receives                replica acknowledgment. After the commit and before                replica acknowledgment, other clients can see the                committed transaction before the committing client.              
    使用 `AFTER_COMMIT`，发出事务的 Client 端仅在服务器提交到存储引擎并收到副本确认后才会获得返回状态。在提交之后和副本确认之前，其他客户端可以在提交客户端之前看到已提交的事务。

    ​                If something goes wrong such that the replica does not                process the transaction, then in the event of an                unexpected source server exit and failover to the                replica, it is possible for such clients to see a loss                of data relative to what they saw on the source. 
    如果出现问题，导致副本不处理事务，那么在意外的源服务器退出并故障转移到副本的情况下，此类客户端可能会看到相对于它们在源上看到的数据丢失。

#### 19.1.6.3 Replica Server Options and Variables 19.1.6.3 副本服务器选项和变量

​      This section explains the server options and system variables that      apply to replica servers and contains the following: 
本节介绍适用于副本服务器的服务器选项和系统变量，并包含以下内容：

- [Startup Options for Replica Servers
  副本服务器的启动选项](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#replication-optvars-slaves)
- [System Variables Used on Replica Servers
  副本服务器上使用的系统变量](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#replication-sysvars-slaves)

​      Specify the options either on the      [command line](https://dev.mysql.com/doc/refman/8.4/en/command-line-options.html) or in an      [option file](https://dev.mysql.com/doc/refman/8.4/en/option-files.html). Many of the      options can be set while the server is running by using the      [`CHANGE REPLICATION SOURCE TO`](https://dev.mysql.com/doc/refman/8.4/en/change-replication-source-to.html)      statement. Specify system variable values using      [`SET`](https://dev.mysql.com/doc/refman/8.4/en/set-variable.html).    
在[命令行](https://dev.mysql.com/doc/refman/8.4/en/command-line-options.html)或[选项文件中](https://dev.mysql.com/doc/refman/8.4/en/option-files.html)指定选项。许多选项都可以在服务器运行时使用 [`CHANGE REPLICATION SOURCE TO`](https://dev.mysql.com/doc/refman/8.4/en/change-replication-source-to.html) 语句进行设置。使用 [`SET`](https://dev.mysql.com/doc/refman/8.4/en/set-variable.html) 指定系统变量值。

**Server ID.**         On the source and each replica, you must set the        [`server_id`](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html#sysvar_server_id) system variable to        establish a unique replication ID in the range from 1 to        232 − 1. “Unique”        means that each ID must be different from every other ID in use        by any other source or replica in the replication topology.        Example `my.cnf` file:      
**服务器 ID。** 在源和每个副本上，必须设置 [`server_id`](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html#sysvar_server_id) 系统变量，以在 1 到 232 − 1 的范围内建立唯一的复制 ID。“唯一”意味着每个 ID 必须与复制拓扑中任何其他源或副本使用的每个其他 ID 不同。`示例 my.cnf` 文件：

```ini
[mysqld]
server-id=3
```

##### Startup Options for Replica Servers 副本服务器的启动选项

​        This section explains startup options for controlling replica        servers. Many of these options can be set while the server is        running by using the [`CHANGE REPLICATION         SOURCE TO`](https://dev.mysql.com/doc/refman/8.4/en/change-replication-source-to.html) statement. Others, such as the        `--replicate-*` options, can be set only when the        replica server starts. Replication-related system variables are        discussed later in this section. 
本节介绍用于控制副本服务器的启动选项。其中许多选项都可以在服务器运行时使用 语句[ `CHANGE REPLICATION         SOURCE TO` ](https://dev.mysql.com/doc/refman/8.4/en/change-replication-source-to.html)进行设置。其他选项（例如 `--replicate-*` 选项）只能在副本服务器启动时设置。本节稍后将讨论与复制相关的系统变量。

- ​            [`--master-retry-count=*`count`*`
  `--master-retry-count=*`计数`*`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_master-retry-count)

  

  

  | Command-Line Format 命令行格式                       | `--master-retry-count=#` |
  | ---------------------------------------------------- | ------------------------ |
  | Deprecated 荒废的                                    | Yes 是的                 |
  | Type 类型                                            | Integer 整数             |
  | Default Value 默认值                                 | `10`                     |
  | Minimum Value 最小值                                 | `0`                      |
  | Maximum Value (64-bit platforms) 最大值（64 位平台） | `18446744073709551615`   |
  | Maximum Value (32-bit platforms) 最大值（32 位平台） | `4294967295`             |

  ​            This option is deprecated; expect it to be removed in a            future MySQL release. Use the            `SOURCE_RETRY_COUNT` option of the            [`CHANGE REPLICATION SOURCE TO`](https://dev.mysql.com/doc/refman/8.4/en/change-replication-source-to.html)            statement, instead.          
  此选项已弃用;预计它会在未来的 MySQL 版本中删除。请改用 [`CHANGE REPLICATION SOURCE TO`](https://dev.mysql.com/doc/refman/8.4/en/change-replication-source-to.html) 语句的 `SOURCE_RETRY_COUNT` 选项。

- ​            [`--max-relay-log-size=*`size`*`
  `--max-relay-log-size=*`大小`*`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_max-relay-log-size)

  

  

  | Command-Line Format 命令行格式                               | `--max-relay-log-size=#` |
  | ------------------------------------------------------------ | ------------------------ |
  | System Variable 系统变量                                     | `max_relay_log_size`     |
  | Scope 范围                                                   | Global 全球              |
  | Dynamic 动态                                                 | Yes 是的                 |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                    |
  | Type 类型                                                    | Integer 整数             |
  | Default Value 默认值                                         | `0`                      |
  | Minimum Value 最小值                                         | `0`                      |
  | Maximum Value 最大值                                         | `1073741824`             |
  | Unit 单位                                                    | bytes 字节               |
  | [Block Size 区块大小](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#system-variables-block-size) | `4096`                   |

  ​            The size at which the server rotates relay log files            automatically. If this value is nonzero, the relay log is            rotated automatically when its size exceeds this value. If            this value is zero (the default), the size at which relay            log rotation occurs is determined by the value of            [`max_binlog_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size). For more            information, see [Section 19.2.4.1, “The Relay Log”](https://dev.mysql.com/doc/refman/8.4/en/replica-logs-relaylog.html).          
  服务器自动轮换中继日志文件的大小。如果此值为非零，则当中继日志的大小超过此值时，将自动轮换中继日志。如果此值为零（默认值），则中继日志轮换的大小由 [`max_binlog_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size) 的值决定。有关更多信息，请参见[第 19.2.4.1 节 “中继日志”。](https://dev.mysql.com/doc/refman/8.4/en/replica-logs-relaylog.html)

- ​            [`--relay-log-purge={0|1}`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_relay-log-purge)

  

  

  | Command-Line Format 命令行格式                               | `--relay-log-purge[={OFF|ON}]` |
  | ------------------------------------------------------------ | ------------------------------ |
  | System Variable 系统变量                                     | `relay_log_purge`              |
  | Scope 范围                                                   | Global 全球                    |
  | Dynamic 动态                                                 | Yes 是的                       |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                          |
  | Type 类型                                                    | Boolean 布尔                   |
  | Default Value 默认值                                         | `ON`                           |

  ​            Disable or enable automatic purging of relay logs as soon as            they are no longer needed. The default value is 1 (enabled).            This is a global variable that can be changed dynamically            with `SET GLOBAL relay_log_purge =            *`N`*`. Disabling purging of            relay logs when enabling the            [`--relay-log-recovery`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log_recovery) option            risks data consistency and is therefore not crash-safe.          
  一旦不再需要中继日志，请立即禁用或启用自动清除中继日志。默认值为 1 （启用）。这是一个全局变量，可以使用 `SET GLOBAL relay_log_purge =            *`N`*` 动态更改。在启用 [`--relay-log-recovery`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log_recovery) 选项时禁用中继日志清除会带来数据一致性风险，因此不会发生崩溃。

- ​            [`--relay-log-space-limit=*`size`*`
  `--relay-log-space-limit=*`大小`*`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_relay-log-space-limit)

  

  

  | Command-Line Format 命令行格式                               | `--relay-log-space-limit=#` |
  | ------------------------------------------------------------ | --------------------------- |
  | System Variable 系统变量                                     | `relay_log_space_limit`     |
  | Scope 范围                                                   | Global 全球                 |
  | Dynamic 动态                                                 | No 不                       |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                       |
  | Type 类型                                                    | Integer 整数                |
  | Default Value 默认值                                         | `0`                         |
  | Minimum Value 最小值                                         | `0`                         |
  | Maximum Value 最大值                                         | `18446744073709551615`      |
  | Unit 单位                                                    | bytes 字节                  |

  ​            This option places an upper limit on the total size in bytes            of all relay logs on the replica. A value of 0 means            “no limit”. This is useful for a replica server            host that has limited disk space. When the limit is reached,            the I/O (receiver) thread stops reading binary log events            from the source server until the SQL thread has caught up            and deleted some unused relay logs. Note that this limit is            not absolute: There are cases where the SQL (applier) thread            needs more events before it can delete relay logs. In that            case, the receiver thread exceeds the limit until it becomes            possible for the applier thread to delete some relay logs            because not doing so would cause a deadlock. You should not            set [`--relay-log-space-limit`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_relay-log-space-limit)            to less than twice the value of            [`--max-relay-log-size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_max-relay-log-size) (or            [`--max-binlog-size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size) if            [`--max-relay-log-size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_max-relay-log-size) is 0).            In that case, there is a chance that the receiver thread            waits for free space because            [`--relay-log-space-limit`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_relay-log-space-limit) is            exceeded, but the applier thread has no relay log to purge            and is unable to satisfy the receiver thread. This forces            the receiver thread to ignore            [`--relay-log-space-limit`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_relay-log-space-limit)            temporarily.          
  此选项对副本上所有中继日志的总大小（以字节为单位）设置上限。值 0 表示 “无限制”。这对于磁盘空间有限的副本服务器主机非常有用。当达到限制时，I/O（接收方）线程将停止从源服务器读取二进制日志事件，直到 SQL  线程赶上并删除一些未使用的中继日志。请注意，此限制不是绝对的：在某些情况下，SQL（应用程序）线程需要更多事件才能删除中继日志。在这种情况下，接收方线程会超出限制，直到应用程序线程可以删除一些中继日志，因为不这样做会导致死锁。您不应将 [`--relay-log-space-limit`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_relay-log-space-limit) 设置为小于 [`--max-relay-log-size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_max-relay-log-size) 值的两倍（如果 [`--max-relay-log-size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_max-relay-log-size) 为 0，则为 [`--max-binlog-size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size)）。在这种情况下，接收方线程可能会等待可用空间，因为超出了 [`--relay-log-space-limit`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_relay-log-space-limit)，但应用线程没有要清除的中继日志，因此无法满足接收方线程。这会强制接收方线程暂时忽略 [`--relay-log-space-limit`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_relay-log-space-limit)。

- ​            [`--replicate-do-db=*`db_name`*`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db)

  

  

  | Command-Line Format 命令行格式 | `--replicate-do-db=name` `--replicate-do-db=名称` |
  | ------------------------------ | ------------------------------------------------- |
  | Type 类型                      | String 字符串                                     |

  ​            Creates a replication filter using the name of a database.            Such filters can also be created using            [`CHANGE             REPLICATION FILTER REPLICATE_DO_DB`](https://dev.mysql.com/doc/refman/8.4/en/change-replication-filter.html).          
  使用数据库名称创建复制筛选器。也可以使用 创建此类过滤器[ `CHANGE             REPLICATION FILTER REPLICATE_DO_DB` ](https://dev.mysql.com/doc/refman/8.4/en/change-replication-filter.html)。

  ​            This option supports channel specific replication filters,            enabling multi-source replicas to use specific filters for            different sources. To configure a channel specific            replication filter on a channel named            *`channel_1`* use            `--replicate-do-db:*`channel_1`*:*`db_name`*`.            In this case, the first colon is interpreted as a separator            and subsequent colons are literal colons. See            [Section 19.2.5.4, “Replication Channel Based Filters”](https://dev.mysql.com/doc/refman/8.4/en/replication-rules-channel-based-filters.html)            for more information.          
  此选项支持特定于通道的复制筛选器，使多源副本能够对不同的源使用特定的筛选器。要在名为 *`channel_1`* 的通道上配置特定于通道的复制过滤器，请使用 `--replicate-do-db:*`channel_1`*:*`db_name`*` 。在这种情况下，第一个冒号被解释为分隔符，后续冒号是文本冒号。有关更多信息，请参见[第 19.2.5.4 节 “基于复制通道的过滤器”。](https://dev.mysql.com/doc/refman/8.4/en/replication-rules-channel-based-filters.html)

  

  Note 注意

  ​                Global replication filters cannot be used on a MySQL                server instance that is configured for Group                Replication, because filtering transactions on some                servers would make the group unable to reach agreement                on a consistent state. Channel specific replication                filters can be used on replication channels that are not                directly involved with Group Replication, such as where                a group member also acts as a replica to a source that                is outside the group. They cannot be used on the                `group_replication_applier` or                `group_replication_recovery` channels. 
  全局复制筛选器不能在配置为组复制的 MySQL 服务器实例上使用，因为在某些服务器上筛选事务会使组无法就一致状态达成协议。特定于通道的复制过滤器可用于不直接参与 Group Replication 的复制通道，例如，组成员还充当组外源的副本。它们不能在 `group_replication_applier` 或 `group_replication_recovery` 频道上使用。

  ​          

  ​            The precise effect of this replication filter depends on            whether statement-based or row-based replication is in use.          
  此复制筛选器的确切效果取决于使用的是基于语句的复制还是基于行的复制。

  **Statement-based replication.**               Tell the replication SQL thread to restrict replication to              statements where the default database (that is, the one              selected by [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html)) is              *`db_name`*. To specify more than              one database, use this option multiple times, once for              each database; however, doing so does              *not* replicate cross-database              statements such as `UPDATE              *`some_db.some_table`* SET              foo='bar'` while a different database (or no              database) is selected. 
  **基于语句的复制。** 指示复制 SQL 线程将复制限制为*`db_name`*默认数据库（即 [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) 选择的数据库）的语句。要指定多个数据库，请多次使用此选项，每个数据库使用一次;但是，这样做*不会*复制跨数据库语句，例如 `UPDATE              *`some_db.some_table`* SET              foo='bar'` 在选择其他数据库（或没有数据库）时。

  Warning 警告

  ​              To specify multiple databases you              *must* use multiple instances of this              option. Because database names can contain commas, if you              supply a comma separated list then the list is treated as              the name of a single database. 
  要指定多个数据库，*您必须*使用此选项的多个实例。由于数据库名称可以包含逗号，因此，如果提供逗号分隔的列表，则该列表将被视为单个数据库的名称。

  ​            An example of what does not work as you might expect when            using statement-based replication: If the replica is started            with [`--replicate-do-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db)            and you issue the following statements on the source, the            [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) statement is            *not* replicated:          
  使用基于语句的复制时，无法正常工作的示例：如果副本以 [`--replicate-do-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db) 启动，并且您在源上发出以下语句，则不会复制 [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 语句：

  ```sql
  USE prices;
  UPDATE sales.january SET amount=amount+1000;
  ```

  ​            The main reason for this “check just the default            database” behavior is that it is difficult from the            statement alone to know whether it should be replicated (for            example, if you are using multiple-table            [`DELETE`](https://dev.mysql.com/doc/refman/8.4/en/delete.html) statements or            multiple-table [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html)            statements that act across multiple databases). It is also            faster to check only the default database rather than all            databases if there is no need.          
  这种“仅检查默认数据库”行为的主要原因是，仅从语句中很难知道是否应该复制它（例如，如果您使用跨多个数据库的多表 [`DELETE`](https://dev.mysql.com/doc/refman/8.4/en/delete.html) 语句或多表 [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 语句）。如果没有必要，只检查默认数据库而不是所有数据库也会更快。

  **Row-based replication.**               Tells the replication SQL thread to restrict replication              to database *`db_name`*. Only              tables belonging to *`db_name`* are              changed; the current database has no effect on this.              Suppose that the replica is started with              [`--replicate-do-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db) and              row-based replication is in effect, and then the following              statements are run on the source:            
  **基于行的复制。** 通知复制 SQL 线程将复制限制为数据库*`db_name`*。仅更改属于 *`db_name`* 的表;当前数据库对此没有影响。假设副本以 [`--replicate-do-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db) 启动，并且基于行的复制有效，然后在源上运行以下语句：

  ```sql
  USE prices;
  UPDATE sales.february SET amount=amount+100;
  ```

  ​            The `february` table in the            `sales` database on the replica is changed            in accordance with the [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html)            statement; this occurs whether or not the            [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) statement was issued.            However, issuing the following statements on the source has            no effect on the replica when using row-based replication            and [`--replicate-do-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db):          
  副本上 `sales` 数据库中的 `february` 表根据 [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 语句进行更改;无论是否发出 [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) 语句，都会发生这种情况。但是，在使用基于行的复制和 [`--replicate-do-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db) 时，对源发出以下语句对副本没有影响：

  ```sql
  USE prices;
  UPDATE prices.march SET amount=amount-25;
  ```

  ​            Even if the statement `USE prices` were            changed to `USE sales`, the            [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) statement's            effects would still not be replicated.          
  即使将语句 `USE prices` 更改为 `USE sales，UPDATE` 语句的效果仍然不会复制[``](https://dev.mysql.com/doc/refman/8.4/en/update.html)。

  ​            Another important difference in how            [`--replicate-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db) is handled            in statement-based replication as opposed to row-based            replication occurs with regard to statements that refer to            multiple databases. Suppose that the replica is started with            [`--replicate-do-db=db1`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db), and            the following statements are executed on the source:          
  与基于行的复制相比，在基于语句的复制中处理 [`--replicate-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db) 的另一个重要区别是关于引用多个数据库的语句。假设副本以 [`--replicate-do-db=db1`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db) 启动，并在源上执行以下语句：

  ```sql
  USE db1;
  UPDATE db1.table1, db2.table2 SET db1.table1.col1 = 10, db2.table2.col2 = 20;
  ```

  ​            If you are using statement-based replication, then both            tables are updated on the replica. However, when using            row-based replication, only `table1` is            affected on the replica; since `table2` is            in a different database, `table2` on the            replica is not changed by the            [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html). Now suppose that,            instead of the `USE db1` statement, a            `USE db4` statement had been used:          
  如果您使用的是基于语句的复制，则两个表都会在副本上更新。但是，当使用基于行的复制时，只有 `table1` 在副本上受到影响;由于 `table2` 位于不同的数据库中，因此 [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 不会更改副本上的 `table2`。现在假设使用了 `USE db4` 语句，而不是 `USE db1` 语句：

  ```sql
  USE db4;
  UPDATE db1.table1, db2.table2 SET db1.table1.col1 = 10, db2.table2.col2 = 20;
  ```

  ​            In this case, the [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html)            statement would have no effect on the replica when using            statement-based replication. However, if you are using            row-based replication, the            [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) would change            `table1` on the replica, but not            `table2`—in other words, only tables            in the database named by            [`--replicate-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db) are            changed, and the choice of default database has no effect on            this behavior.          
  在这种情况下，使用基于语句的复制时，[`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 语句对副本没有影响。但是，如果您使用的是基于行的复制，[`则 UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 将更改副本上的 `table1`，但不会更改 `table2`，换句话说，仅更改由 [`--replicate-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db) 命名的数据库中的表，并且默认数据库的选择对此行为没有影响。

  ​            If you need cross-database updates to work, use            [`--replicate-wild-do-table=*`db_name`*.%`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-wild-do-table)            instead. See [Section 19.2.5, “How Servers Evaluate Replication Filtering Rules”](https://dev.mysql.com/doc/refman/8.4/en/replication-rules.html). 
  如果需要跨数据库更新才能正常工作，请[ `--replicate-wild-do-table=*`db_name`*.%` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-wild-do-table)改用。参见[第 19.2.5 节 “服务器如何评估复制过滤规则”。](https://dev.mysql.com/doc/refman/8.4/en/replication-rules.html)

  Note 注意

  ​              This option affects replication in the same manner that              [`--binlog-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db) affects              binary logging, and the effects of the replication format              on how [`--replicate-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db)              affects replication behavior are the same as those of the              logging format on the behavior of              [`--binlog-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db).            
  此选项影响复制的方式与 [`--binlog-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db) 影响二进制日志记录的方式相同，并且复制格式对 [`--replicate-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db) 如何影响复制行为的影响与日志记录格式对 [`--binlog-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db) 行为的影响相同。

  ​              This option has no effect on              [`BEGIN`](https://dev.mysql.com/doc/refman/8.4/en/commit.html),              [`COMMIT`](https://dev.mysql.com/doc/refman/8.4/en/commit.html), or              [`ROLLBACK`](https://dev.mysql.com/doc/refman/8.4/en/commit.html)              statements. 
  此选项对 [`BEGIN、`](https://dev.mysql.com/doc/refman/8.4/en/commit.html)[`COMMIT`](https://dev.mysql.com/doc/refman/8.4/en/commit.html) 或 [`ROLLBACK`](https://dev.mysql.com/doc/refman/8.4/en/commit.html) 语句没有影响。

- ​            [`--replicate-ignore-db=*`db_name`*`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-ignore-db)

  

  

  | Command-Line Format 命令行格式 | `--replicate-ignore-db=name` `--replicate-ignore-db=名称` |
  | ------------------------------ | --------------------------------------------------------- |
  | Type 类型                      | String 字符串                                             |

  ​            Creates a replication filter using the name of a database.            Such filters can also be created using            [`CHANGE             REPLICATION FILTER REPLICATE_IGNORE_DB`](https://dev.mysql.com/doc/refman/8.4/en/change-replication-filter.html).          
  使用数据库名称创建复制筛选器。也可以使用 创建此类过滤器[ `CHANGE             REPLICATION FILTER REPLICATE_IGNORE_DB` ](https://dev.mysql.com/doc/refman/8.4/en/change-replication-filter.html)。

  ​            This option supports channel specific replication filters,            enabling multi-source replicas to use specific filters for            different sources. To configure a channel specific            replication filter on a channel named            *`channel_1`* use            `--replicate-ignore-db:*`channel_1`*:*`db_name`*`.            In this case, the first colon is interpreted as a separator            and subsequent colons are literal colons. See            [Section 19.2.5.4, “Replication Channel Based Filters”](https://dev.mysql.com/doc/refman/8.4/en/replication-rules-channel-based-filters.html)            for more information.          
  此选项支持特定于通道的复制筛选器，使多源副本能够对不同的源使用特定的筛选器。要在名为 *`channel_1`* 的通道上配置特定于通道的复制过滤器，请使用 `--replicate-ignore-db:*`channel_1`*:*`db_name`*` 。在这种情况下，第一个冒号被解释为分隔符，后续冒号是文本冒号。有关更多信息，请参见[第 19.2.5.4 节 “基于复制通道的过滤器”。](https://dev.mysql.com/doc/refman/8.4/en/replication-rules-channel-based-filters.html)

  

  Note 注意

  ​                Global replication filters cannot be used on a MySQL                server instance that is configured for Group                Replication, because filtering transactions on some                servers would make the group unable to reach agreement                on a consistent state. Channel specific replication                filters can be used on replication channels that are not                directly involved with Group Replication, such as where                a group member also acts as a replica to a source that                is outside the group. They cannot be used on the                `group_replication_applier` or                `group_replication_recovery` channels. 
  全局复制筛选器不能在配置为组复制的 MySQL 服务器实例上使用，因为在某些服务器上筛选事务会使组无法就一致状态达成协议。特定于通道的复制过滤器可用于不直接参与 Group Replication 的复制通道，例如，组成员还充当组外源的副本。它们不能在 `group_replication_applier` 或 `group_replication_recovery` 频道上使用。

  ​          

  ​            To specify more than one database to ignore, use this option            multiple times, once for each database. Because database            names can contain commas, if you supply a comma-separated            list, it is treated as the name of a single database.          
  要指定要忽略的多个数据库，请多次使用此选项，每个数据库使用一次。由于数据库名称可以包含逗号，因此，如果提供逗号分隔的列表，则会将其视为单个数据库的名称。

  ​            As with [`--replicate-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db),            the precise effect of this filtering depends on whether            statement-based or row-based replication is in use, and are            described in the next several paragraphs.          
  与 [`--replicate-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db) 一样，此过滤的确切效果取决于使用的是基于语句的复制还是基于行的复制，这将在接下来的几段中介绍。

  **Statement-based replication.**               Tells the replication SQL thread not to replicate any              statement where the default database (that is, the one              selected by [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html)) is              *`db_name`*.            
  **基于语句的复制。** 通知复制 SQL 线程不要复制*`db_name`*默认数据库（即 [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) 选择的数据库）的任何语句。

  **Row-based replication.**               Tells the replication SQL thread not to update any tables              in the database *`db_name`*. The              default database has no effect.            
  **基于行的复制。** 告知复制 SQL 线程不要更新数据库 *`db_name`* 中的任何表。默认数据库不起作用。

  ​            When using statement-based replication, the following            example does not work as you might expect. Suppose that the            replica is started with            [`--replicate-ignore-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-ignore-db)            and you issue the following statements on the source:          
  使用基于语句的复制时，以下示例无法按预期工作。假设副本以 [`--replicate-ignore-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-ignore-db) 启动，并且您对源发出以下语句：

  ```sql
  USE prices;
  UPDATE sales.january SET amount=amount+1000;
  ```

  ​            The [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) statement            *is* replicated in such a case because            [`--replicate-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-ignore-db) applies            only to the default database (determined by the            [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) statement). Because the            `sales` database was specified explicitly            in the statement, the statement has not been filtered.            However, when using row-based replication, the            [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) statement's            effects are *not* propagated to the            replica, and the replica's copy of the            `sales.january` table is unchanged; in this            instance,            [`--replicate-ignore-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-ignore-db)            causes *all* changes made to tables in            the source's copy of the `sales`            database to be ignored by the replica.          
  在这种情况下，*将*复制 [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 语句，因为 [`--replicate-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-ignore-db) 仅适用于默认数据库（由 [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) 语句确定）。由于在语句中显式指定了 `sales` 数据库，因此尚未筛选该语句。但是，当使用基于行的复制时，[`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 语句的效果*不会*传播到副本，并且 `sales.january` 表的副本副本保持不变;在这种情况下，[`--replicate-ignore-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-ignore-db) 会导致副本忽略对 `Sales` 数据库的源副本中的表所做的*所有*更改。

  ​            You should not use this option if you are using            cross-database updates and you do not want these updates to            be replicated. See [Section 19.2.5, “How Servers Evaluate Replication Filtering Rules”](https://dev.mysql.com/doc/refman/8.4/en/replication-rules.html).          
  如果您使用的是跨数据库更新，并且不希望复制这些更新，则不应使用此选项。参见[第 19.2.5 节 “服务器如何评估复制过滤规则”。](https://dev.mysql.com/doc/refman/8.4/en/replication-rules.html)

  ​            If you need cross-database updates to work, use            [`--replicate-wild-ignore-table=*`db_name`*.%`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-wild-ignore-table)            instead. See [Section 19.2.5, “How Servers Evaluate Replication Filtering Rules”](https://dev.mysql.com/doc/refman/8.4/en/replication-rules.html). 
  如果需要跨数据库更新才能正常工作，请[ `--replicate-wild-ignore-table=*`db_name`*.%` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-wild-ignore-table)改用。参见[第 19.2.5 节 “服务器如何评估复制过滤规则”。](https://dev.mysql.com/doc/refman/8.4/en/replication-rules.html)

  Note 注意

  ​              This option affects replication in the same manner that              [`--binlog-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-ignore-db) affects              binary logging, and the effects of the replication format              on how              [`--replicate-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-ignore-db)              affects replication behavior are the same as those of the              logging format on the behavior of              [`--binlog-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-ignore-db).            
  此选项影响复制的方式与 [`--binlog-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-ignore-db) 影响二进制日志记录的方式相同，并且复制格式对 [`--replicate-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-ignore-db) 如何影响复制行为的影响与日志记录格式对 [`--binlog-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-ignore-db) 行为的影响相同。

  ​              This option has no effect on              [`BEGIN`](https://dev.mysql.com/doc/refman/8.4/en/commit.html),              [`COMMIT`](https://dev.mysql.com/doc/refman/8.4/en/commit.html), or              [`ROLLBACK`](https://dev.mysql.com/doc/refman/8.4/en/commit.html)              statements. 
  此选项对 [`BEGIN、`](https://dev.mysql.com/doc/refman/8.4/en/commit.html)[`COMMIT`](https://dev.mysql.com/doc/refman/8.4/en/commit.html) 或 [`ROLLBACK`](https://dev.mysql.com/doc/refman/8.4/en/commit.html) 语句没有影响。

- ​            [`--replicate-do-table=*`db_name.tbl_name`*`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-table)

  

  

  | Command-Line Format 命令行格式 | `--replicate-do-table=name` `--replicate-do-table=名称` |
  | ------------------------------ | ------------------------------------------------------- |
  | Type 类型                      | String 字符串                                           |

  ​            Creates a replication filter by telling the replication SQL            thread to restrict replication to a given table. To specify            more than one table, use this option multiple times, once            for each table. This works for both cross-database updates            and default database updates, in contrast to            [`--replicate-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db). See            [Section 19.2.5, “How Servers Evaluate Replication Filtering Rules”](https://dev.mysql.com/doc/refman/8.4/en/replication-rules.html). You can also create            such a filter by issuing a            [`CHANGE             REPLICATION FILTER REPLICATE_DO_TABLE`](https://dev.mysql.com/doc/refman/8.4/en/change-replication-filter.html) statement.          
  通过告知复制 SQL 线程将复制限制为给定表来创建复制筛选器。要指定多个表，请多次使用此选项，每个表使用一次。这与 [`--replicate-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db) 相反，这适用于跨数据库更新和默认数据库更新。参见[第 19.2.5 节 “服务器如何评估复制过滤规则”。](https://dev.mysql.com/doc/refman/8.4/en/replication-rules.html)您还可以通过发出 [ `CHANGE             REPLICATION FILTER REPLICATE_DO_TABLE` ](https://dev.mysql.com/doc/refman/8.4/en/change-replication-filter.html) statement 来创建此类过滤器。

  ​            This option supports channel specific replication filters,            enabling multi-source replicas to use specific filters for            different sources. To configure a channel specific            replication filter on a channel named            *`channel_1`* use            `--replicate-do-table:*`channel_1`*:*`db_name.tbl_name`*`.            In this case, the first colon is interpreted as a separator            and subsequent colons are literal colons. See            [Section 19.2.5.4, “Replication Channel Based Filters”](https://dev.mysql.com/doc/refman/8.4/en/replication-rules-channel-based-filters.html)            for more information.          
  此选项支持特定于通道的复制筛选器，使多源副本能够对不同的源使用特定的筛选器。要在名为 *`channel_1`* 的通道上配置特定于通道的复制过滤器，请使用 `--replicate-do-table:*`channel_1`*:*`db_name.tbl_name`*` 。在这种情况下，第一个冒号被解释为分隔符，后续冒号是文本冒号。有关更多信息，请参见[第 19.2.5.4 节 “基于复制通道的过滤器”。](https://dev.mysql.com/doc/refman/8.4/en/replication-rules-channel-based-filters.html)

  

  Note 注意

  ​                Global replication filters cannot be used on a MySQL                server instance that is configured for Group                Replication, because filtering transactions on some                servers would make the group unable to reach agreement                on a consistent state. Channel specific replication                filters can be used on replication channels that are not                directly involved with Group Replication, such as where                a group member also acts as a replica to a source that                is outside the group. They cannot be used on the                `group_replication_applier` or                `group_replication_recovery` channels. 
  全局复制筛选器不能在配置为组复制的 MySQL 服务器实例上使用，因为在某些服务器上筛选事务会使组无法就一致状态达成协议。特定于通道的复制过滤器可用于不直接参与 Group Replication 的复制通道，例如，组成员还充当组外源的副本。它们不能在 `group_replication_applier` 或 `group_replication_recovery` 频道上使用。

  ​          

  ​            This option affects only statements that apply to tables. It            does not affect statements that apply only to other database            objects, such as stored routines. To filter statements            operating on stored routines, use one or more of the            `--replicate-*-db` options.          
  此选项仅影响应用于 table 的语句。它不会影响仅适用于其他数据库对象（如存储例程）的语句。要筛选对存储例程进行操作的语句，请使用一个或多个 `--replicate-*-db` 选项。

- ​            [`--replicate-ignore-table=*`db_name.tbl_name`*`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-ignore-table)

  

  

  | Command-Line Format 命令行格式 | `--replicate-ignore-table=name` `--replicate-ignore-table=名称` |
  | ------------------------------ | ------------------------------------------------------------ |
  | Type 类型                      | String 字符串                                                |

  ​            Creates a replication filter by telling the replication SQL            thread not to replicate any statement that updates the            specified table, even if any other tables might be updated            by the same statement. To specify more than one table to            ignore, use this option multiple times, once for each table.            This works for cross-database updates, in contrast to            [`--replicate-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-ignore-db). See            [Section 19.2.5, “How Servers Evaluate Replication Filtering Rules”](https://dev.mysql.com/doc/refman/8.4/en/replication-rules.html). You can also create            such a filter by issuing a            [`CHANGE             REPLICATION FILTER REPLICATE_IGNORE_TABLE`](https://dev.mysql.com/doc/refman/8.4/en/change-replication-filter.html)            statement.          
  通过告诉复制 SQL 线程不要复制更新指定表的任何语句来创建复制过滤器，即使同一语句可能更新任何其他表。要指定要忽略的多个表，请多次使用此选项，每个表使用一次。这适用于跨数据库更新，而不是 [`--replicate-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-ignore-db)。参见[第 19.2.5 节 “服务器如何评估复制过滤规则”。](https://dev.mysql.com/doc/refman/8.4/en/replication-rules.html)您还可以通过发出 [ `CHANGE             REPLICATION FILTER REPLICATE_IGNORE_TABLE` ](https://dev.mysql.com/doc/refman/8.4/en/change-replication-filter.html) statement 来创建此类过滤器。

  ​            This option supports channel specific replication filters,            enabling multi-source replicas to use specific filters for            different sources. To configure a channel specific            replication filter on a channel named            *`channel_1`* use            `--replicate-ignore-table:*`channel_1`*:*`db_name.tbl_name`*`.            In this case, the first colon is interpreted as a separator            and subsequent colons are literal colons. See            [Section 19.2.5.4, “Replication Channel Based Filters”](https://dev.mysql.com/doc/refman/8.4/en/replication-rules-channel-based-filters.html)            for more information.          
  此选项支持特定于通道的复制筛选器，使多源副本能够对不同的源使用特定的筛选器。要在名为 *`channel_1`* 的通道上配置特定于通道的复制过滤器，请使用 `--replicate-ignore-table:*`channel_1`*:*`db_name.tbl_name`*` 。在这种情况下，第一个冒号被解释为分隔符，后续冒号是文本冒号。有关更多信息，请参见[第 19.2.5.4 节 “基于复制通道的过滤器”。](https://dev.mysql.com/doc/refman/8.4/en/replication-rules-channel-based-filters.html)

  

  Note 注意

  ​                Global replication filters cannot be used on a MySQL                server instance that is configured for Group                Replication, because filtering transactions on some                servers would make the group unable to reach agreement                on a consistent state. Channel specific replication                filters can be used on replication channels that are not                directly involved with Group Replication, such as where                a group member also acts as a replica to a source that                is outside the group. They cannot be used on the                `group_replication_applier` or                `group_replication_recovery` channels. 
  全局复制筛选器不能在配置为组复制的 MySQL 服务器实例上使用，因为在某些服务器上筛选事务会使组无法就一致状态达成协议。特定于通道的复制过滤器可用于不直接参与 Group Replication 的复制通道，例如，组成员还充当组外源的副本。它们不能在 `group_replication_applier` 或 `group_replication_recovery` 频道上使用。

  ​          

  ​            This option affects only statements that apply to tables. It            does not affect statements that apply only to other database            objects, such as stored routines. To filter statements            operating on stored routines, use one or more of the            `--replicate-*-db` options.          
  此选项仅影响应用于 table 的语句。它不会影响仅适用于其他数据库对象（如存储例程）的语句。要筛选对存储例程进行操作的语句，请使用一个或多个 `--replicate-*-db` 选项。

- ​            [`--replicate-rewrite-db=*`from_name`*->*`to_name`*`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-rewrite-db)

  

  

  | Command-Line Format 命令行格式 | `--replicate-rewrite-db=old_name->new_name` |
  | ------------------------------ | ------------------------------------------- |
  | Type 类型                      | String 字符串                               |

  ​            Tells the replica to create a replication filter that            translates the specified database to            *`to_name`* if it was            *`from_name`* on the source. Only            statements involving tables are affected, not statements            such as [`CREATE DATABASE`](https://dev.mysql.com/doc/refman/8.4/en/create-database.html),            [`DROP DATABASE`](https://dev.mysql.com/doc/refman/8.4/en/drop-database.html), and            [`ALTER DATABASE`](https://dev.mysql.com/doc/refman/8.4/en/alter-database.html).          
  指示副本创建一个复制筛选器，如果该数据库from_name源上*`，`*则将其转换为 *`to_name`*。只有涉及表的语句会受到影响，而 [`CREATE DATABASE、`](https://dev.mysql.com/doc/refman/8.4/en/create-database.html)[`DROP DATABASE`](https://dev.mysql.com/doc/refman/8.4/en/drop-database.html) 和 [`ALTER DATABASE`](https://dev.mysql.com/doc/refman/8.4/en/alter-database.html) 等语句则不受影响。

  ​            To specify multiple rewrites, use this option multiple            times. The server uses the first one with a            *`from_name`* value that matches. The            database name translation is done            *before* the            `--replicate-*` rules are tested. You can            also create such a filter by issuing a            [`CHANGE             REPLICATION FILTER REPLICATE_REWRITE_DB`](https://dev.mysql.com/doc/refman/8.4/en/change-replication-filter.html) statement.          
  要指定多个重写，请多次使用此选项。服务器使用第一个具有 *`from_name`* 匹配的值。数据库名称转换在测试 `--replicate-*` 规则*之前*完成。您还可以通过发出 [ `CHANGE             REPLICATION FILTER REPLICATE_REWRITE_DB` ](https://dev.mysql.com/doc/refman/8.4/en/change-replication-filter.html) statement 来创建此类过滤器。

  ​            If you use the            [`--replicate-rewrite-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-rewrite-db) option            on the command line and the `>`            character is special to your command interpreter, quote the            option value. For example:          
  如果您在命令行上使用 [`--replicate-rewrite-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-rewrite-db) 选项，并且 `>` 字符对于您的命令解释器是特殊的，请引用选项值。例如：

  ```terminal
  $> mysqld --replicate-rewrite-db="olddb->newdb"
  ```

  ​            The effect of the            [`--replicate-rewrite-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-rewrite-db) option            differs depending on whether statement-based or row-based            binary logging format is used for the query. With            statement-based format, DML statements are translated based            on the current database, as specified by the            [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) statement. With row-based            format, DML statements are translated based on the database            where the modified table exists. DDL statements are always            filtered based on the current database, as specified by the            [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) statement, regardless of            the binary logging format.          
  [`--replicate-rewrite-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-rewrite-db) 选项的效果因查询使用的是基于语句还是基于行的二进制日志记录格式而异。使用基于语句的格式，DML 语句将基于当前数据库进行转换，如 [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) 语句所指定。使用基于行的格式，DML 语句将根据修改后的表所在的数据库进行转换。DDL 语句始终根据 [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) 语句指定的当前数据库进行筛选，而不管二进制日志记录格式如何。

  ​            To ensure that rewriting produces the expected results,            particularly in combination with other replication filtering            options, follow these recommendations when you use the            [`--replicate-rewrite-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-rewrite-db)            option: 
  要确保重写产生预期的结果，特别是与其他复制筛选选项结合使用时，请在使用 [`--replicate-rewrite-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-rewrite-db) 选项时遵循以下建议：

  - ​                Create the *`from_name`* and                *`to_name`* databases manually on                the source and the replica with different names.              
    在源数据库和副本上手动创建 *`from_name`* 和 *`to_name`* 具有不同名称的数据库。
  - ​                If you use statement-based or mixed binary logging                format, do not use cross-database queries, and do not                specify database names in queries. For both DDL and DML                statements, rely on the                [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) statement to specify                the current database, and use only the table name in                queries.              
    如果使用基于语句或混合二进制日志记录格式，请不要使用跨数据库查询，也不要在查询中指定数据库名称。对于 DDL 和 DML 语句，请依赖 [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) 语句指定当前数据库，并在查询中仅使用表名。
  - ​                If you use row-based binary logging format exclusively,                for DDL statements, rely on the                [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) statement to specify                the current database, and use only the table name in                queries. For DML statements, you can use a fully                qualified table name                (*`db`*.*`table`*)                if you want. 
    如果您只使用基于行的二进制日志记录格式，则对于 DDL 语句，请依赖 [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) 语句指定当前数据库，并在查询中仅使用表名。对于 DML 语句，您可以使用完全限定的表名 （*`db`*.*`表`*）如果需要帮助，。

  ​            If these recommendations are followed, it is safe to use the            [`--replicate-rewrite-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-rewrite-db) option            in combination with table-level replication filtering            options such as            [`--replicate-do-table`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-table).          
  如果遵循这些建议，则可以安全地将 [`--replicate-rewrite-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-rewrite-db) 选项与表级复制筛选选项（如 [`--replicate-do-table`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-table)）结合使用。

  ​            This option supports channel specific replication filters,            enabling multi-source replicas to use specific filters for            different sources. Specify the channel name followed by a            colon, followed by the filter specification. The first colon            is interpreted as a separator, and any subsequent colons are            interpreted as literal colons. For example, to configure a            channel specific replication filter on a channel named            *`channel_1`*, use:          
  此选项支持特定于通道的复制筛选器，使多源副本能够对不同的源使用特定的筛选器。指定通道名称，后跟冒号，后跟筛选条件规范。第一个冒号被解释为分隔符，任何后续冒号都被解释为文本冒号。例如，要在名为 *`channel_1`* 的通道上配置特定于通道的复制过滤器，请使用：

  ```terminal
  $> mysqld --replicate-rewrite-db=channel_1:db_name1->db_name2
  ```

  ​            If you use a colon but do not specify a channel name, the            option configures the replication filter for the default            replication channel. See            [Section 19.2.5.4, “Replication Channel Based Filters”](https://dev.mysql.com/doc/refman/8.4/en/replication-rules-channel-based-filters.html)            for more information.          
  如果使用冒号但未指定通道名称，则该选项将为默认复制通道配置复制过滤器。有关更多信息，请参见[第 19.2.5.4 节 “基于复制通道的过滤器”。](https://dev.mysql.com/doc/refman/8.4/en/replication-rules-channel-based-filters.html)

  

  Note 注意

  ​                Global replication filters cannot be used on a MySQL                server instance that is configured for Group                Replication, because filtering transactions on some                servers would make the group unable to reach agreement                on a consistent state. Channel specific replication                filters can be used on replication channels that are not                directly involved with Group Replication, such as where                a group member also acts as a replica to a source that                is outside the group. They cannot be used on the                `group_replication_applier` or                `group_replication_recovery` channels. 
  全局复制筛选器不能在配置为组复制的 MySQL 服务器实例上使用，因为在某些服务器上筛选事务会使组无法就一致状态达成协议。特定于通道的复制过滤器可用于不直接参与 Group Replication 的复制通道，例如，组成员还充当组外源的副本。它们不能在 `group_replication_applier` 或 `group_replication_recovery` 频道上使用。

  ​          

- ​            [`--replicate-same-server-id`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-same-server-id)

  

  

  | Command-Line Format 命令行格式 | `--replicate-same-server-id[={OFF|ON}]` |
  | ------------------------------ | --------------------------------------- |
  | Type 类型                      | Boolean 布尔                            |
  | Default Value 默认值           | `OFF`                                   |

  ​            This option is for use on replicas. The default is 0            (`FALSE`). With this option set to 1            (`TRUE`), the replica does not skip events            that have its own server ID. This setting is normally useful            only in rare configurations.          
  此选项用于副本。默认值为 0 （`FALSE）。`将此选项设置为 1 （`TRUE）` 时，副本不会跳过具有自己的服务器 ID 的事件。此设置通常仅在极少数配置中有用。

  ​            When binary logging is enabled on a replica, the combination            of the            [`--replicate-same-server-id`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-same-server-id)            and [`--log-replica-updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates)            options on the replica can cause infinite loops in            replication if the server is part of a circular replication            topology. (In MySQL 8.4, binary logging is            enabled by default, and replica update logging is the            default when binary logging is enabled.) However, the use of            global transaction identifiers (GTIDs) prevents this            situation by skipping the execution of transactions that            have already been applied. If            [`gtid_mode=ON`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode) is set on the            replica, you can start the server with this combination of            options, but you cannot change to any other GTID mode while            the server is running. If any other GTID mode is set, the            server does not start with this combination of options.          
  在副本上启用二进制日志记录后，如果服务器是循环复制拓扑的一部分，则副本上的 [`--replicate-same-server-id`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-same-server-id) 和 [`--log-replica-updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates) 选项的组合可能会导致复制中出现无限循环。（在 MySQL 8.4  中，默认情况下启用二进制日志记录，启用二进制日志记录时，副本更新日志记录是默认启用的。但是，使用全局事务标识符 （GTID）  可以通过跳过已应用的事务的执行来防止这种情况。如果在副本上设置了 [`gtid_mode=ON`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode)，则可以使用此选项组合启动服务器，但在服务器运行时无法更改为任何其他 GTID 模式。如果设置了任何其他 GTID 模式，则服务器不会使用此选项组合启动。

  ​            By default, the replication I/O (receiver) thread does not            write binary log events to the relay log if they have the            replica's server ID (this optimization helps save disk            usage). If you want to use            [`--replicate-same-server-id`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-same-server-id),            be sure to start the replica with this option before you            make the replica read its own events that you want the            replication SQL (applier) thread to execute.          
  默认情况下，如果复制 I/O（接收方）线程具有副本的服务器 ID，则它们不会将二进制日志事件写入中继日志（此优化有助于节省磁盘使用量）。如果要使用 [`--replicate-same-server-id`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-same-server-id)，请确保在使副本读取您希望复制 SQL（应用程序）线程执行的自己的事件之前，使用此选项启动副本。

- ​            [`--replicate-wild-do-table=*`db_name.tbl_name`*`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-wild-do-table)

  

  

  | Command-Line Format 命令行格式 | `--replicate-wild-do-table=name` |
  | ------------------------------ | -------------------------------- |
  | Type 类型                      | String 字符串                    |

  ​            Creates a replication filter by telling the replication SQL            (applier) thread to restrict replication to statements where            any of the updated tables match the specified database and            table name patterns. Patterns can contain the            `%` and `_` wildcard            characters, which have the same meaning as for the            [`LIKE`](https://dev.mysql.com/doc/refman/8.4/en/string-comparison-functions.html#operator_like) pattern-matching operator.            To specify more than one table, use this option multiple            times, once for each table. This works for cross-database            updates. See [Section 19.2.5, “How Servers Evaluate Replication Filtering Rules”](https://dev.mysql.com/doc/refman/8.4/en/replication-rules.html). You can            also create such a filter by issuing a            [`CHANGE             REPLICATION FILTER REPLICATE_WILD_DO_TABLE`](https://dev.mysql.com/doc/refman/8.4/en/change-replication-filter.html)            statement.          
  通过告知复制 SQL （applier） 线程将复制限制为任何更新的表与指定的数据库和表名模式匹配的语句来创建复制筛选器。模式可以包含 `%` 和 `_` 通配符，这些通配符的含义与 [`LIKE`](https://dev.mysql.com/doc/refman/8.4/en/string-comparison-functions.html#operator_like) 模式匹配运算符的含义相同。要指定多个表，请多次使用此选项，每个表使用一次。这适用于跨数据库更新。参见[第 19.2.5 节 “服务器如何评估复制过滤规则”。](https://dev.mysql.com/doc/refman/8.4/en/replication-rules.html)您还可以通过发出 [ `CHANGE             REPLICATION FILTER REPLICATE_WILD_DO_TABLE` ](https://dev.mysql.com/doc/refman/8.4/en/change-replication-filter.html) statement 来创建此类过滤器。

  ​            This option supports channel specific replication filters,            enabling multi-source replicas to use specific filters for            different sources. To configure a channel specific            replication filter on a channel named            *`channel_1`* use            `--replicate-wild-do-table:*`channel_1`*:*`db_name.tbl_name`*`.            In this case, the first colon is interpreted as a separator            and subsequent colons are literal colons. See            [Section 19.2.5.4, “Replication Channel Based Filters”](https://dev.mysql.com/doc/refman/8.4/en/replication-rules-channel-based-filters.html)            for more information. 
  此选项支持特定于通道的复制筛选器，使多源副本能够对不同的源使用特定的筛选器。要在名为 *`channel_1`* 的通道上配置特定于通道的复制过滤器，请使用 `--replicate-wild-do-table:*`channel_1`*:*`db_name.tbl_name`*` 。在这种情况下，第一个冒号被解释为分隔符，后续冒号是文本冒号。有关更多信息，请参见[第 19.2.5.4 节 “基于复制通道的过滤器”。](https://dev.mysql.com/doc/refman/8.4/en/replication-rules-channel-based-filters.html)

  Important 重要

  ​              Global replication filters cannot be used on a MySQL              server instance that is configured for Group Replication,              because filtering transactions on some servers would make              the group unable to reach agreement on a consistent state.              Channel specific replication filters can be used on              replication channels that are not directly involved with              Group Replication, such as where a group member also acts              as a replica to a source that is outside the group. They              cannot be used on the              `group_replication_applier` or              `group_replication_recovery` channels. 
  全局复制筛选器不能在配置为组复制的 MySQL 服务器实例上使用，因为在某些服务器上筛选事务会使组无法就一致状态达成协议。特定于通道的复制过滤器可用于不直接参与 Group Replication 的复制通道，例如，组成员还充当组外源的副本。它们不能在 `group_replication_applier` 或 `group_replication_recovery` 频道上使用。

  ​            The replication filter specified by the            [`--replicate-wild-do-table`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-wild-do-table)            option applies to tables, views, and triggers. It does not            apply to stored procedures and functions, or events. To            filter statements operating on the latter objects, use one            or more of the `--replicate-*-db` options.          
  由 [`--replicate-wild-do-table`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-wild-do-table) 选项指定的复制筛选条件适用于表、视图和触发器。它不适用于存储过程和函数或事件。要筛选对后一个对象进行操作的语句，请使用一个或多个 `--replicate-*-db` 选项。

  ​            As an example,            [`--replicate-wild-do-table=foo%.bar%`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-wild-do-table)            replicates only updates that use a table where the database            name starts with `foo` and the table name            starts with `bar`.          
  例如，[ `--replicate-wild-do-table=foo%.bar%` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-wild-do-table)仅复制使用数据库名称以 `foo` 开头且表名称以 `bar` 开头的表的更新。

  ​            If the table name pattern is `%`, it            matches any table name and the option also applies to            database-level statements ([`CREATE             DATABASE`](https://dev.mysql.com/doc/refman/8.4/en/create-database.html), [`DROP             DATABASE`](https://dev.mysql.com/doc/refman/8.4/en/drop-database.html), and [`ALTER             DATABASE`](https://dev.mysql.com/doc/refman/8.4/en/alter-database.html)). For example, if you use            [`--replicate-wild-do-table=foo%.%`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-wild-do-table),            database-level statements are replicated if the database            name matches the pattern `foo%`. 
  如果表名模式为 `%，`则它与任何表名匹配，并且该选项也适用于数据库级语句（[`CREATE DATABASE、`](https://dev.mysql.com/doc/refman/8.4/en/create-database.html)[`DROP DATABASE`](https://dev.mysql.com/doc/refman/8.4/en/drop-database.html) 和 [`ALTER DATABASE`](https://dev.mysql.com/doc/refman/8.4/en/alter-database.html)）。例如，如果使用 [ `--replicate-wild-do-table=foo%.%` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-wild-do-table)，则当数据库名称与模式 `foo%` 匹配时，将复制数据库级语句。

  Important 重要

  ​              Table-level replication filters are only applied to tables              that are explicitly mentioned and operated on in the              query. They do not apply to tables that are implicitly              updated by the query. For example, a              [`GRANT`](https://dev.mysql.com/doc/refman/8.4/en/grant.html) statement, which              updates the `mysql.user` system table but              does not mention that table, is not affected by a filter              that specifies `mysql.%` as the wildcard              pattern. 
  表级复制筛选条件仅适用于查询中明确提及和操作的表。它们不适用于查询隐式更新的表。例如，更新 `mysql.user` 系统表但未提及该表的 [`GRANT`](https://dev.mysql.com/doc/refman/8.4/en/grant.html) 语句不受指定 `mysql.%` 作为通配符模式的筛选器的影响。

  ​            To include literal wildcard characters in the database or            table name patterns, escape them with a backslash. For            example, to replicate all tables of a database that is named            `my_own%db`, but not replicate tables from            the `my1ownAABCdb` database, you should            escape the `_` and `%`            characters like this:            [`--replicate-wild-do-table=my\_own\%db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-wild-do-table).            If you use the option on the command line, you might need to            double the backslashes or quote the option value, depending            on your command interpreter. For example, with the            **bash** shell, you would need to type            [`--replicate-wild-do-table=my\\_own\\%db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-wild-do-table).          
  要在数据库或表名模式中包含文本通配符，请使用反斜杠对它们进行转义。例如，要复制名为 `my_own%db` 的数据库的所有表，但不从 `my1ownAABCdb` 数据库复制表，则应像这样转义 `_` 和 `%` 字符：[ `--replicate-wild-do-table=my\_own\%db` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-wild-do-table)。如果在命令行上使用 option，则可能需要将反斜杠加倍或引用 option 值，具体取决于您的命令解释器。例如，使用 **bash** shell，您需要键入 [ `--replicate-wild-do-table=my\\_own\\%db` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-wild-do-table).

- ​            [`--replicate-wild-ignore-table=*`db_name.tbl_name`*`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-wild-ignore-table)

  

  

  | Command-Line Format 命令行格式 | `--replicate-wild-ignore-table=name` |
  | ------------------------------ | ------------------------------------ |
  | Type 类型                      | String 字符串                        |

  ​            Creates a replication filter which keeps the replication SQL            thread from replicating a statement in which any table            matches the given wildcard pattern. To specify more than one            table to ignore, use this option multiple times, once for            each table. This works for cross-database updates. See            [Section 19.2.5, “How Servers Evaluate Replication Filtering Rules”](https://dev.mysql.com/doc/refman/8.4/en/replication-rules.html). You can also create            such a filter by issuing a            [`CHANGE             REPLICATION FILTER REPLICATE_WILD_IGNORE_TABLE`](https://dev.mysql.com/doc/refman/8.4/en/change-replication-filter.html)            statement.          
  创建一个复制过滤器，以防止复制 SQL 线程复制任何表都与给定通配符模式匹配的语句。要指定要忽略的多个表，请多次使用此选项，每个表使用一次。这适用于跨数据库更新。参见[第 19.2.5 节 “服务器如何评估复制过滤规则”。](https://dev.mysql.com/doc/refman/8.4/en/replication-rules.html)您还可以通过发出 [ `CHANGE             REPLICATION FILTER REPLICATE_WILD_IGNORE_TABLE` ](https://dev.mysql.com/doc/refman/8.4/en/change-replication-filter.html) statement 来创建此类过滤器。

  ​            This option supports channel specific replication filters,            enabling multi-source replicas to use specific filters for            different sources. To configure a channel specific            replication filter on a channel named            *`channel_1`* use            `--replicate-wild-ignore:*`channel_1`*:*`db_name.tbl_name`*`.            In this case, the first colon is interpreted as a separator            and subsequent colons are literal colons. See            [Section 19.2.5.4, “Replication Channel Based Filters”](https://dev.mysql.com/doc/refman/8.4/en/replication-rules-channel-based-filters.html)            for more information. 
  此选项支持特定于通道的复制筛选器，使多源副本能够对不同的源使用特定的筛选器。要在名为 *`channel_1`* 的通道上配置特定于通道的复制过滤器，请使用 `--replicate-wild-ignore:*`channel_1`*:*`db_name.tbl_name`*` 。在这种情况下，第一个冒号被解释为分隔符，后续冒号是文本冒号。有关更多信息，请参见[第 19.2.5.4 节 “基于复制通道的过滤器”。](https://dev.mysql.com/doc/refman/8.4/en/replication-rules-channel-based-filters.html)

  Important 重要

  ​              Global replication filters cannot be used on a MySQL              server instance that is configured for Group Replication,              because filtering transactions on some servers would make              the group unable to reach agreement on a consistent state.              Channel specific replication filters can be used on              replication channels that are not directly involved with              Group Replication, such as where a group member also acts              as a replica to a source that is outside the group. They              cannot be used on the              `group_replication_applier` or              `group_replication_recovery` channels. 
  全局复制筛选器不能在配置为组复制的 MySQL 服务器实例上使用，因为在某些服务器上筛选事务会使组无法就一致状态达成协议。特定于通道的复制过滤器可用于不直接参与 Group Replication 的复制通道，例如，组成员还充当组外源的副本。它们不能在 `group_replication_applier` 或 `group_replication_recovery` 频道上使用。

  ​            As an example,            [`--replicate-wild-ignore-table=foo%.bar%`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-wild-ignore-table)            does not replicate updates that use a table where the            database name starts with `foo` and the            table name starts with `bar`. For            information about how matching works, see the description of            the [`--replicate-wild-do-table`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-wild-do-table)            option. The rules for including literal wildcard characters            in the option value are the same as for            [`--replicate-wild-ignore-table`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-wild-ignore-table)            as well. 
  例如，[ `--replicate-wild-ignore-table=foo%.bar%` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-wild-ignore-table)不复制使用数据库名称以 `foo` 开头且表名称以 `bar` 开头的表的更新。有关匹配工作原理的信息，请参阅 [`--replicate-wild-do-table`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-wild-do-table) 选项的说明。在选项值中包含文字通配符的规则也与 [`--replicate-wild-ignore-table`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-wild-ignore-table) 相同。

  Important 重要

  ​              Table-level replication filters are only applied to tables              that are explicitly mentioned and operated on in the              query. They do not apply to tables that are implicitly              updated by the query. For example, a              [`GRANT`](https://dev.mysql.com/doc/refman/8.4/en/grant.html) statement, which              updates the `mysql.user` system table but              does not mention that table, is not affected by a filter              that specifies `mysql.%` as the wildcard              pattern. 
  表级复制筛选条件仅适用于查询中明确提及和操作的表。它们不适用于查询隐式更新的表。例如，更新 `mysql.user` 系统表但未提及该表的 [`GRANT`](https://dev.mysql.com/doc/refman/8.4/en/grant.html) 语句不受指定 `mysql.%` 作为通配符模式的筛选器的影响。

  ​            If you need to filter out            [`GRANT`](https://dev.mysql.com/doc/refman/8.4/en/grant.html) statements or other            administrative statements, a possible workaround is to use            the [`--replicate-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-ignore-db)            filter. This filter operates on the default database that is            currently in effect, as determined by the            [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) statement. You can            therefore create a filter to ignore statements for a            database that is not replicated, then issue the            [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) statement            to switch the default database to that one immediately            before issuing any administrative statements that you want            to ignore. In the administrative statement, name the actual            database where the statement is applied.          
  如果需要筛选出 [`GRANT`](https://dev.mysql.com/doc/refman/8.4/en/grant.html) 语句或其他管理语句，可能的解决方法是使用 [`--replicate-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-ignore-db) 筛选条件。此过滤器对当前有效的默认数据库进行操作，由 [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) 语句确定。因此，您可以创建一个过滤器来忽略未复制的数据库的语句，然后发出 [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) 语句以在发出要忽略的任何管理语句之前立即将默认数据库切换到该数据库。在 administrative 语句中，命名应用该语句的实际数据库。

  ​            For example, if            [`--replicate-ignore-db=nonreplicated`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-ignore-db)            is configured on the replica server, the following sequence            of statements causes the            [`GRANT`](https://dev.mysql.com/doc/refman/8.4/en/grant.html) statement to be            ignored, because the default database            `nonreplicated` is in effect:          
  例如，如果在[ `--replicate-ignore-db=nonreplicated` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-ignore-db)副本服务器上配置了 ，则以下语句序列会导致忽略 [`GRANT`](https://dev.mysql.com/doc/refman/8.4/en/grant.html) 语句，因为默认数据库 `nonreplicated` 有效：

  ```sql
  USE nonreplicated;
  GRANT SELECT, INSERT ON replicated.t1 TO 'someuser'@'somehost';
  ```

- ​            [`--skip-replica-start`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_skip-replica-start)

  

  

  | Command-Line Format 命令行格式                               | `--skip-replica-start[={OFF|ON}]` |
  | ------------------------------------------------------------ | --------------------------------- |
  | System Variable 系统变量                                     | `skip_replica_start`              |
  | Scope 范围                                                   | Global 全球                       |
  | Dynamic 动态                                                 | No 不                             |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                             |
  | Type 类型                                                    | Boolean 布尔                      |
  | Default Value 默认值                                         | `OFF`                             |

  ​            [`--skip-replica-start`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_skip-replica-start) tells            the replica server not to start the replication I/O            (receiver) and SQL (applier) threads when the server starts.            To start the threads later, use a [`START             REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) statement.          
  [`--skip-replica-start`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_skip-replica-start) 告诉副本服务器在服务器启动时不要启动复制 I/O（接收方）和 SQL（应用程序）线程。要稍后启动线程，请使用 [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) 语句。

  ​            You can use the            [`skip_replica_start`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_skip_replica_start) system            variable in place of the command line option to allow access            to this feature using MySQL Server’s privilege structure,            so that database administrators do not need any privileged            access to the operating system.          
  您可以使用 [`skip_replica_start`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_skip_replica_start) 系统变量代替命令行选项，以允许使用 MySQL Server 的权限结构访问此功能，以便数据库管理员不需要对操作系统的任何特权访问。

- ​            [`--skip-slave-start`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_skip-slave-start)

  

  

  | Command-Line Format 命令行格式                               | `--skip-slave-start[={OFF|ON}]` |
  | ------------------------------------------------------------ | ------------------------------- |
  | Deprecated 荒废的                                            | Yes 是的                        |
  | System Variable 系统变量                                     | `skip_slave_start`              |
  | Scope 范围                                                   | Global 全球                     |
  | Dynamic 动态                                                 | No 不                           |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                           |
  | Type 类型                                                    | Boolean 布尔                    |
  | Default Value 默认值                                         | `OFF`                           |

  ​            Deprecated alias for            [`--skip-replica-start`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_skip-replica-start).          
  -[`-skip-replica-start`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_skip-replica-start) 的已弃用别名。

- ​            [`--slave-skip-errors=[*`err_code1`*,*`err_code2`*,...|all|ddl_exist_errors\]`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_slave-skip-errors)

  

  

  | Command-Line Format 命令行格式                               | `--slave-skip-errors=name` `--slave-skip-errors=名称`        |
  | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | Deprecated 荒废的                                            | Yes 是的                                                     |
  | System Variable 系统变量                                     | `slave_skip_errors`                                          |
  | Scope 范围                                                   | Global 全球                                                  |
  | Dynamic 动态                                                 | No 不                                                        |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                                        |
  | Type 类型                                                    | String 字符串                                                |
  | Default Value 默认值                                         | `OFF`                                                        |
  | Valid Values 有效值                                          | `OFF` `离``[list of error codes]` `[错误代码列表]``all` `都``ddl_exist_errors` |

  ​            Deprecated synonym for            [`--replica-skip-errors`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_skip_errors).          
  -[`-replica-skip-errors`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_skip_errors) 的已弃用同义词。

- ​            [`--slave-sql-verify-checksum={0|1}`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_slave-sql-verify-checksum)

  

  

  | Command-Line Format 命令行格式 | `--slave-sql-verify-checksum[={OFF|ON}]` |
  | ------------------------------ | ---------------------------------------- |
  | Type 类型                      | Boolean 布尔                             |
  | Default Value 默认值           | `ON`                                     |

  ​            Deprecated synonym for            [`--replica-sql-verify-checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_sql_verify_checksum)
  -[`-replica-sql-verify-checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_sql_verify_checksum) 的已弃用同义词

##### System Variables Used on Replica Servers 副本服务器上使用的系统变量

​        The following list describes system variables for controlling        replica servers. They can be set at server startup and some of        them can be changed at runtime using        [`SET`](https://dev.mysql.com/doc/refman/8.4/en/set-variable.html).        Server options used with replicas are listed earlier in this        section. 
以下列表描述了用于控制副本服务器的系统变量。它们可以在服务器启动时设置，其中一些可以在运行时使用 [`SET`](https://dev.mysql.com/doc/refman/8.4/en/set-variable.html) 进行更改。用于副本的服务器选项在本节前面列出。

- ​            [`init_replica`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_init_replica)

  

  

  | Command-Line Format 命令行格式                               | `--init-replica=name` `--init-replica=名称` |
  | ------------------------------------------------------------ | ------------------------------------------- |
  | System Variable 系统变量                                     | `init_replica`                              |
  | Scope 范围                                                   | Global 全球                                 |
  | Dynamic 动态                                                 | Yes 是的                                    |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                       |
  | Type 类型                                                    | String 字符串                               |

  ​            [`init_replica`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_init_replica) is similar to            [`init_connect`](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#sysvar_init_connect), but is a            string to be executed by a replica server each time the            replication SQL thread starts. The format of the string is            the same as for the            [`init_connect`](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#sysvar_init_connect) variable. The            setting of this variable takes effect for subsequent            [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) statements. 
  [`init_replica`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_init_replica) 类似于 [`init_connect`](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#sysvar_init_connect)，但它是每次启动复制 SQL 线程时由副本服务器执行的字符串。字符串的格式与 [`init_connect`](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#sysvar_init_connect) 变量的格式相同。该变量的设置对后续的 [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) 语句生效。

  Note 注意

  ​              The replication SQL thread sends an acknowledgment to the              client before it executes              [`init_replica`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_init_replica). Therefore,              it is not guaranteed that              [`init_replica`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_init_replica) has been              executed when [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html)              returns. See [Section 15.4.2.4, “START REPLICA Statement”](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) for more              information. 
  复制 SQL 线程在执行 [`init_replica`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_init_replica) 之前向客户端发送确认。因此，不能保证在 [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) 返回时[`init_replica`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_init_replica)已执行。有关更多信息，请参见[第 15.4.2.4 节 “ START REPLICA 语句”。](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html)

- ​            [`init_slave`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_init_slave)

  

  

  | Command-Line Format 命令行格式                               | `--init-slave=name` `--init-slave=名称` |
  | ------------------------------------------------------------ | --------------------------------------- |
  | Deprecated 荒废的                                            | Yes 是的                                |
  | System Variable 系统变量                                     | `init_slave`                            |
  | Scope 范围                                                   | Global 全球                             |
  | Dynamic 动态                                                 | Yes 是的                                |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                   |
  | Type 类型                                                    | String 字符串                           |

  ​            Deprecated alias for            [`init_replica`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_init_replica).          
  已弃用的 [`init_replica`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_init_replica) 别名。

- ​            [`log_slow_replica_statements`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_log_slow_replica_statements)

  

  

  | Command-Line Format 命令行格式                               | `--log-slow-replica-statements[={OFF|ON}]` |
  | ------------------------------------------------------------ | ------------------------------------------ |
  | System Variable 系统变量                                     | `log_slow_replica_statements`              |
  | Scope 范围                                                   | Global 全球                                |
  | Dynamic 动态                                                 | Yes 是的                                   |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                      |
  | Type 类型                                                    | Boolean 布尔                               |
  | Default Value 默认值                                         | `OFF`                                      |

  ​            When the slow query log is enabled,            [`log_slow_replica_statements`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_log_slow_replica_statements)            enables logging for queries that have taken more than            [`long_query_time`](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#sysvar_long_query_time) seconds to            execute on the replica. Note that if row-based replication            is in use            ([`binlog_format=ROW`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format)),            [`log_slow_replica_statements`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_log_slow_replica_statements)            has no effect. Queries are only added to the replica's slow            query log when they are logged in statement format in the            binary log, that is, when            [`binlog_format=STATEMENT`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) is            set, or when            [`binlog_format=MIXED`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) is set            and the statement is logged in statement format. Slow            queries that are logged in row format when            [`binlog_format=MIXED`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) is set,            or that are logged when            [`binlog_format=ROW`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) is set,            are not added to the replica's slow query log, even if            [`log_slow_replica_statements`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_log_slow_replica_statements)            is enabled.          
  启用慢速查询日志后，[`log_slow_replica_statements`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_log_slow_replica_statements) 会为在副本上执行时间超过 [`long_query_time`](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#sysvar_long_query_time) 秒的查询启用日志记录。请注意，如果正在使用基于行的复制 （[`binlog_format=ROW`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format)），[`则log_slow_replica_statements`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_log_slow_replica_statements)不起作用。仅当查询以语句格式记录在二进制日志中时，即设置 [`binlog_format=STATEMENT`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format)，或者设置 [`binlog_format=MIXED`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) 并且语句以语句格式记录时，查询才会添加到副本的慢速查询日志中。设置 [`binlog_format=MIXED`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) 时以行格式记录的慢速查询，或在设置 [`binlog_format=ROW`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) 时记录的慢速查询，即使启用了 [`log_slow_replica_statements`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_log_slow_replica_statements) 也不会添加到副本的慢速查询日志中。

  ​            Setting            [`log_slow_replica_statements`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_log_slow_replica_statements)            has no immediate effect. The state of the variable applies            on all subsequent [`START             REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) statements. Also note that the global            setting for [`long_query_time`](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#sysvar_long_query_time)            applies for the lifetime of the SQL thread. If you change            that setting, you must stop and restart the replication SQL            thread to implement the change there (for example, by            issuing [`STOP REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/stop-replica.html) and            [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) statements with            the `SQL_THREAD` option).          
  设置 [`log_slow_replica_statements`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_log_slow_replica_statements) 不会立即生效。变量的状态适用于所有后续的 [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) 语句。另请注意，[`long_query_time`](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#sysvar_long_query_time) 的全局设置适用于 SQL 线程的生命周期。如果更改该设置，则必须停止并重新启动复制 SQL 线程才能在该线程中实施更改（例如，通过使用 `SQL_THREAD` 选项发出 [`STOP REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/stop-replica.html) 和 [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) 语句）。

- ​            [`log_slow_slave_statements`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_log_slow_slave_statements)

  

  

  | Command-Line Format 命令行格式                               | `--log-slow-slave-statements[={OFF|ON}]` |
  | ------------------------------------------------------------ | ---------------------------------------- |
  | Deprecated 荒废的                                            | Yes 是的                                 |
  | System Variable 系统变量                                     | `log_slow_slave_statements`              |
  | Scope 范围                                                   | Global 全球                              |
  | Dynamic 动态                                                 | Yes 是的                                 |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                    |
  | Type 类型                                                    | Boolean 布尔                             |
  | Default Value 默认值                                         | `OFF`                                    |

  ​            Deprecated alias for            [`log_slow_replica_statements`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_log_slow_replica_statements).          
  已弃用 [`log_slow_replica_statements`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_log_slow_replica_statements) 的别名。

- ​            [`max_relay_log_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_max_relay_log_size)

  

  

  | Command-Line Format 命令行格式                               | `--max-relay-log-size=#` |
  | ------------------------------------------------------------ | ------------------------ |
  | System Variable 系统变量                                     | `max_relay_log_size`     |
  | Scope 范围                                                   | Global 全球              |
  | Dynamic 动态                                                 | Yes 是的                 |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                    |
  | Type 类型                                                    | Integer 整数             |
  | Default Value 默认值                                         | `0`                      |
  | Minimum Value 最小值                                         | `0`                      |
  | Maximum Value 最大值                                         | `1073741824`             |
  | Unit 单位                                                    | bytes 字节               |
  | [Block Size 区块大小](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#system-variables-block-size) | `4096`                   |

  ​            If a write by a replica to its relay log causes the current            log file size to exceed the value of this variable, the            replica rotates the relay logs (closes the current file and            opens the next one). If            [`max_relay_log_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_max_relay_log_size) is 0,            the server uses            [`max_binlog_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size) for both            the binary log and the relay log. If            [`max_relay_log_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_max_relay_log_size) is            greater than 0, it constrains the size of the relay log,            which enables you to have different sizes for the two logs.            You must set            [`max_relay_log_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_max_relay_log_size) to            between 4096 bytes and 1GB (inclusive), or to 0. The default            value is 0. See [Section 19.2.3, “Replication Threads”](https://dev.mysql.com/doc/refman/8.4/en/replication-threads.html).          
  如果副本对其中继日志的写入导致当前日志文件大小超过此变量的值，则副本将轮换中继日志（关闭当前文件并打开下一个文件）。如果 [`max_relay_log_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_max_relay_log_size) 为 0，则服务器将 [`max_binlog_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size) 用于二进制日志和中继日志。如果 [`max_relay_log_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_max_relay_log_size) 大于 0，则会限制中继日志的大小，从而使您能够为两个日志提供不同的大小。您必须将 [`max_relay_log_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_max_relay_log_size) 设置为 4096 字节到 1GB（含）之间，或者设置为 0。默认值为 0。参见[第 19.2.3 节 “复制线程”。](https://dev.mysql.com/doc/refman/8.4/en/replication-threads.html)

- ​            [`relay_log`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log)

  

  

  | Command-Line Format 命令行格式                               | `--relay-log=file_name` |
  | ------------------------------------------------------------ | ----------------------- |
  | System Variable 系统变量                                     | `relay_log`             |
  | Scope 范围                                                   | Global 全球             |
  | Dynamic 动态                                                 | No 不                   |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                   |
  | Type 类型                                                    | File name 文件名        |

  ​            The base name for relay log files. For the default            replication channel, the default base name for relay logs is            `*`host_name`*-relay-bin`.            For non-default replication channels, the default base name            for relay logs is            `*`host_name`*-relay-bin-*`channel`*`,            where *`channel`* is the name of the            replication channel recorded in this relay log.          
  中继日志文件的基本名称。对于默认复制通道，中继日志的默认基本名称为 `*``host_name-relay-bin*`。对于非默认复制通道，中继日志的默认基本名称为 *``* `*``*host_name-relay-bin-channel*``*`，其中 channel 是此中继日志中记录的复制通道的名称。

  ​            The server writes the file in the data directory unless the            base name is given with a leading absolute path name to            specify a different directory. The server creates relay log            files in sequence by adding a numeric suffix to the base            name.          
  服务器将文件写入数据目录中，除非为基本名称提供前导绝对路径名以指定其他目录。服务器通过向基本名称添加数字后缀来按顺序创建中继日志文件。

  ​            The relay log and relay log index on a replication server            cannot be given the same names as the binary log and binary            log index, whose names are specified by the            [`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) and            [`--log-bin-index`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin-index) options. The            server issues an error message and does not start if the            binary log and relay log file base names would be the same.          
  复制服务器上的中继日志和中继日志索引不能与二进制日志和二进制日志索引的名称相同，其名称由 [`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) 和 [`--log-bin-index`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin-index) 选项指定。如果二进制日志和中继日志文件基本名称相同，则服务器会发出错误消息并且不会启动。

  ​            Due to the manner in which MySQL parses server options, if            you specify this variable at server startup, you must supply            a value; *the default base name is used only if the            option is not actually specified*. If you specify            the [`relay_log`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log) system            variable at server startup without specifying a value,            unexpected behavior is likely to result; this behavior            depends on the other options used, the order in which they            are specified, and whether they are specified on the command            line or in an option file. For more information about how            MySQL handles server options, see            [Section 6.2.2, “Specifying Program Options”](https://dev.mysql.com/doc/refman/8.4/en/program-options.html).          
  由于 MySQL 解析服务器选项的方式，如果在服务器启动时指定此变量，则必须提供一个值;*仅当实际未指定选项时，才使用默认基本名称*。如果在服务器启动时指定 [`relay_log`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log) 系统变量而不指定值，则可能会导致意外行为;此行为取决于使用的其他选项、指定它们的顺序以及它们是在命令行上还是在选项文件中指定。有关 MySQL 如何处理服务器选项的更多信息，请参见[第 6.2.2 节 “指定程序选项”。](https://dev.mysql.com/doc/refman/8.4/en/program-options.html)

  ​            If you specify this variable, the value specified is also            used as the base name for the relay log index file. You can            override this behavior by specifying a different relay log            index file base name using the            [`relay_log_index`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log_index) system            variable.          
  如果指定此变量，则指定的值也将用作中继日志索引文件的基本名称。您可以通过使用 [`relay_log_index`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log_index) 系统变量指定不同的中继日志索引文件基本名称来覆盖此行为。

  ​            When the server reads an entry from the index file, it            checks whether the entry contains a relative path. If it            does, the relative part of the path is replaced with the            absolute path set using the            [`relay_log`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log) system variable.            An absolute path remains unchanged; in such a case, the            index must be edited manually to enable the new path or            paths to be used.          
  当服务器从索引文件中读取条目时，它会检查该条目是否包含相对路径。如果是这样，则 path 的相对部分将替换为使用 [`relay_log`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log) 系统变量设置的绝对 path 。绝对路径保持不变;在这种情况下，必须手动编辑索引才能使用新路径或路径。

  ​            You may find the [`relay_log`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log)            system variable useful in performing the following tasks: 
  您可能会发现 [`relay_log`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log) 系统变量在执行以下任务时很有用：

  - ​                Creating relay logs whose names are independent of host                names.              
    创建名称独立于主机名的中继日志。
  - ​                If you need to put the relay logs in some area other                than the data directory because your relay logs tend to                be very large and you do not want to decrease                [`max_relay_log_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_max_relay_log_size).              
    如果您需要将中继日志放在数据目录以外的某个区域，因为您的中继日志往往非常大，并且您不想减少[`max_relay_log_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_max_relay_log_size)。
  - ​                To increase speed by using load-balancing between disks. 
    通过在磁盘之间使用负载平衡来提高速度。

  ​            You can obtain the relay log file name (and path) from the            [`relay_log_basename`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log_basename) system            variable.          
  您可以从 [`relay_log_basename`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log_basename) 系统变量获取中继日志文件名（和路径）。

- ​            [`relay_log_basename`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log_basename)

  

  

  | System Variable 系统变量                                     | `relay_log_basename`                      |
  | ------------------------------------------------------------ | ----------------------------------------- |
  | Scope 范围                                                   | Global 全球                               |
  | Dynamic 动态                                                 | No 不                                     |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                     |
  | Type 类型                                                    | File name 文件名                          |
  | Default Value 默认值                                         | `datadir + '/' + hostname + '-relay-bin'` |

  ​            Holds the base name and complete path to the relay log file.            The maximum variable length is 256. This variable is set by            the server and is read only.          
  保存中继日志文件的基本名称和完整路径。最大可变长度为 256。此变量由服务器设置，并且是只读的。

- ​            [`relay_log_index`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log_index)

  

  

  | Command-Line Format 命令行格式                               | `--relay-log-index=file_name` |
  | ------------------------------------------------------------ | ----------------------------- |
  | System Variable 系统变量                                     | `relay_log_index`             |
  | Scope 范围                                                   | Global 全球                   |
  | Dynamic 动态                                                 | No 不                         |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                         |
  | Type 类型                                                    | File name 文件名              |
  | Default Value 默认值                                         | `*host_name*-relay-bin.index` |

  ​            The name for the relay log index file. The maximum variable            length is 256. If you do not specify this variable, but the            [`relay_log`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log) system variable            is specified, its value is used as the default base name for            the relay log index file. If            [`relay_log`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log) is also not            specified, then for the default replication channel, the            default name is            `*`host_name`*-relay-bin.index`,            using the name of the host machine. For non-default            replication channels, the default name is            `*`host_name`*-relay-bin-*`channel`*.index`,            where *`channel`* is the name of the            replication channel recorded in this relay log index.          
  中继日志索引文件的名称。最大可变长度为 256。如果未指定此变量，但指定了 [`relay_log`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log) 系统变量，则其值将用作中继日志索引文件的默认基本名称。如果未指定 [`relay_log`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log)，则对于默认复制通道，默认名称为 `*host_name-relay-bin.index``*`，使用主机的名称。对于非默认复制通道，默认名称为 `*`host_name`*-relay-bin-*`channel`*.index` ，其中 *`channel`* 是此中继日志索引中记录的复制通道的名称。

  ​            The default location for relay log files is the data            directory, or any other location that was specified using            the [`relay_log`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log) system            variable. You can use the            [`relay_log_index`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log_index) system            variable to specify an alternative location, by adding a            leading absolute path name to the base name to specify a            different directory.          
  中继日志文件的默认位置是数据目录，或使用 [`relay_log`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log) 系统变量指定的任何其他位置。您可以使用 [`relay_log_index`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log_index) 系统变量来指定备用位置，方法是在基本名称中添加前导绝对路径名以指定其他目录。

  ​            The relay log and relay log index on a replication server            cannot be given the same names as the binary log and binary            log index, whose names are specified by the            [`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) and            [`--log-bin-index`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin-index) options. The            server issues an error message and does not start if the            binary log and relay log file base names would be the same.          
  复制服务器上的中继日志和中继日志索引不能与二进制日志和二进制日志索引的名称相同，其名称由 [`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) 和 [`--log-bin-index`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin-index) 选项指定。如果二进制日志和中继日志文件基本名称相同，则服务器会发出错误消息并且不会启动。

  ​            Due to the manner in which MySQL parses server options, if            you specify this variable at server startup, you must supply            a value; *the default base name is used only if the            option is not actually specified*. If you specify            the [`relay_log_index`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log_index) system            variable at server startup without specifying a value,            unexpected behavior is likely to result; this behavior            depends on the other options used, the order in which they            are specified, and whether they are specified on the command            line or in an option file. For more information about how            MySQL handles server options, see            [Section 6.2.2, “Specifying Program Options”](https://dev.mysql.com/doc/refman/8.4/en/program-options.html).          
  由于 MySQL 解析服务器选项的方式，如果在服务器启动时指定此变量，则必须提供一个值;*仅当实际未指定选项时，才使用默认基本名称*。如果在服务器启动时指定 [`relay_log_index`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log_index) 系统变量而未指定值，则可能会导致意外行为;此行为取决于使用的其他选项、指定它们的顺序以及它们是在命令行上还是在选项文件中指定。有关 MySQL 如何处理服务器选项的更多信息，请参见[第 6.2.2 节 “指定程序选项”。](https://dev.mysql.com/doc/refman/8.4/en/program-options.html)

- ​            [`relay_log_purge`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log_purge)

  

  

  | Command-Line Format 命令行格式                               | `--relay-log-purge[={OFF|ON}]` |
  | ------------------------------------------------------------ | ------------------------------ |
  | System Variable 系统变量                                     | `relay_log_purge`              |
  | Scope 范围                                                   | Global 全球                    |
  | Dynamic 动态                                                 | Yes 是的                       |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                          |
  | Type 类型                                                    | Boolean 布尔                   |
  | Default Value 默认值                                         | `ON`                           |

  ​            Disables or enables automatic purging of relay log files as            soon as they are not needed any more. The default value is 1            (`ON`).          
  一旦不再需要中继日志文件，立即禁用或启用自动清除它们。默认值为 1 （`ON）。`

- ​            [`relay_log_recovery`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log_recovery)

  

  

  

  

  | Command-Line Format 命令行格式                               | `--relay-log-recovery[={OFF|ON}]` |
  | ------------------------------------------------------------ | --------------------------------- |
  | System Variable 系统变量                                     | `relay_log_recovery`              |
  | Scope                                                        | Global                            |
  | Dynamic 动态                                                 | No 不                             |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                             |
  | Type 类型                                                    | Boolean 布尔                      |
  | Default Value 默认值                                         | `OFF`                             |

  ​            If enabled, this variable enables automatic relay log            recovery immediately following server startup. The recovery            process creates a new relay log file, initializes the SQL            (applier) thread position to this new relay log, and            initializes the I/O (receiver) thread to the applier thread            position. Reading of the relay log from the source then            continues. If `SOURCE_AUTO_POSITION=1` was            set for the replication channel using a            [`CHANGE REPLICATION SOURCE TO`](https://dev.mysql.com/doc/refman/8.4/en/change-replication-source-to.html)            statement, the source position used to start replication            might be the one received in the connection and not the ones            assigned in this process.          
  如果启用，则此变量将在服务器启动后立即启用自动中继日志恢复。恢复过程将创建一个新的中继日志文件，将 SQL（应用程序）线程位置初始化为这个新的中继日志，并将 I/O（接收器）线程初始化为应用程序线程位置。然后继续从源读取中继日志。如果使用 [`CHANGE REPLICATION SOURCE TO`](https://dev.mysql.com/doc/refman/8.4/en/change-replication-source-to.html) 语句为复制通道设置了 `SOURCE_AUTO_POSITION=1`，则用于启动复制的源位置可能是连接中接收的源位置，而不是在此过程中分配的源位置。

  ​            When `relay_log_recovery` is disabled, the            server sanitizes the relay log on startup, by performing the            following actions: 
  禁用 `relay_log_recovery` 后，服务器会通过执行以下操作在启动时清理中继日志：

  - ​                Removing any transactions that remain uncompleted at the                end of the log              
    删除日志末尾仍未完成的任何事务
  - ​                Removing any relay log file which contains only parts of                unfinished transactions              
    删除任何仅包含部分未完成事务的中继日志文件
  - ​                Removing any reference from the relay log index file to                any relay log file that has been removed              
    从中继日志索引文件中删除对已删除的任何中继日志文件的任何引用
  - ​                When a valid source position and source filename are                obtained from the relay log, updating the position of                the receiver thread to match this file and position;                otherwise, updating the position of the receiver thread                to match the the position of the applier 
    当从中继日志中获取有效的源位置和源文件名时，更新接收器线程的位置以匹配此文件和位置;否则，更新接收方线程的位置以匹配 Applier 的位置

  ​            This global variable is read-only at runtime. Its value can            be set with the            [`--relay-log-recovery`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log_recovery) option            at replica server startup, which should be used following an            unexpected halt of a replica to ensure that no possibly            corrupted relay logs are processed, and must be used in            order to guarantee a crash-safe replica. The default value            is 0 (disabled). For information on the combination of            settings on a replica that is most resilient to unexpected            halts, see            [Section 19.4.2, “Handling an Unexpected Halt of a Replica”](https://dev.mysql.com/doc/refman/8.4/en/replication-solutions-unexpected-replica-halt.html).          
  此全局变量在运行时是只读的。可以在副本服务器启动时使用 [`--relay-log-recovery`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log_recovery) 选项设置其值，该选项应在副本意外停止后使用，以确保不会处理可能损坏的中继日志，并且必须使用此选项以保证崩溃安全的副本。默认值为 0 （禁用）。有关对意外停止最有弹性的副本上的设置组合的信息，请参见[第 19.4.2 节 “处理副本的意外停止”。](https://dev.mysql.com/doc/refman/8.4/en/replication-solutions-unexpected-replica-halt.html)

  ​            For a multithreaded replica (where            [`replica_parallel_workers`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_workers) is            greater than 0), setting            [`--relay-log-recovery`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log_recovery) at            startup automatically handles any inconsistencies and gaps            in the sequence of transactions that have been executed from            the relay log. These gaps can occur when file position based            replication is in use. (For more details, see            [Section 19.5.1.34, “Replication and Transaction Inconsistencies”](https://dev.mysql.com/doc/refman/8.4/en/replication-features-transaction-inconsistencies.html).)            The relay log recovery process deals with gaps using the            same method as the            [`START REPLICA             UNTIL SQL_AFTER_MTS_GAPS`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) statement would. When the            replica reaches a consistent gap-free state, the relay log            recovery process goes on to fetch further transactions from            the source beginning at the SQL (applier) thread position.            When GTID-based replication is in use, a multithreaded            replica checks first whether            `SOURCE_AUTO_POSITION` is set to            `ON`, and if it is, omits the step of            calculating the transactions that should be skipped or not            skipped, so that the old relay logs are not required for the            recovery process. 
  对于多线程副本（[`replica_parallel_workers`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_workers)大于 0），在启动时设置 [`--relay-log-recovery`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log_recovery) 会自动处理从中继日志执行的事务序列中的任何不一致和间隙。当使用基于文件位置的复制时，可能会出现这些间隙。（有关更多详细信息，请参见[第 19.5.1.34 节 “复制和事务不一致”。](https://dev.mysql.com/doc/refman/8.4/en/replication-features-transaction-inconsistencies.html)中继日志恢复过程使用与 [ `START REPLICA             UNTIL SQL_AFTER_MTS_GAPS` ](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) statement 相同的方法处理间隙。当副本达到一致的无间隙状态时，中继日志恢复过程将继续从 SQL（应用程序）线程位置开始从源获取更多事务。当使用基于 GTID 的复制时，多线程副本首先检查 `SOURCE_AUTO_POSITION` 是否设置为 `ON，`如果是，则省略计算应跳过或不跳过的事务的步骤，以便恢复过程不需要旧的中继日志。

  Note 注意

  ​              This variable does not affect the following Group              Replication channels: 
  此变量不会影响以下 Group Replication 通道：

  - ​                  `group_replication_applier`                
  - ​                  `group_replication_recovery`

  ​              Any other channels running on a group are affected, such              as a channel which is replicating from an outside source              or another group. 
  在组上运行的任何其他通道都会受到影响，例如从外部源或其他组复制的通道。

- ​            [`relay_log_space_limit`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log_space_limit)

  

  

  | Command-Line Format 命令行格式                               | `--relay-log-space-limit=#` |
  | ------------------------------------------------------------ | --------------------------- |
  | System Variable 系统变量                                     | `relay_log_space_limit`     |
  | Scope 范围                                                   | Global 全球                 |
  | Dynamic 动态                                                 | No 不                       |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                       |
  | Type 类型                                                    | Integer 整数                |
  | Default Value 默认值                                         | `0`                         |
  | Minimum Value 最小值                                         | `0`                         |
  | Maximum Value 最大值                                         | `18446744073709551615`      |
  | Unit 单位                                                    | bytes 字节                  |

  ​            The maximum amount of space to use for all relay logs.          
  用于所有中继日志的最大空间量。

- ​            [`replica_checkpoint_group`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_checkpoint_group)

  

  

  | Command-Line Format 命令行格式                               | `--replica-checkpoint-group=#` |
  | ------------------------------------------------------------ | ------------------------------ |
  | System Variable 系统变量                                     | `replica_checkpoint_group`     |
  | Scope 范围                                                   | Global 全球                    |
  | Dynamic 动态                                                 | Yes 是的                       |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                          |
  | Type 类型                                                    | Integer 整数                   |
  | Default Value 默认值                                         | `512`                          |
  | Minimum Value 最小值                                         | `32`                           |
  | Maximum Value 最大值                                         | `524280`                       |
  | [Block Size 区块大小](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#system-variables-block-size) | `8`                            |

  ​            [`replica_checkpoint_group`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_checkpoint_group)            sets the maximum number of transactions that can be            processed by a multithreaded replica before a checkpoint            operation is called to update its status as shown by            [`SHOW REPLICA STATUS`](https://dev.mysql.com/doc/refman/8.4/en/show-replica-status.html). Setting            this variable has no effect on replicas for which            multithreading is not enabled. Setting this variable has no            immediate effect. The state of the variable applies to all            subsequent [`START REPLICA `](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html)            statements.          
  [`replica_checkpoint_group`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_checkpoint_group) 设置在调用检查点操作以更新其状态之前，多线程副本可以处理的最大事务数，如 [`SHOW REPLICA STATUS`](https://dev.mysql.com/doc/refman/8.4/en/show-replica-status.html) 所示。设置此变量对未启用多线程的副本没有影响。设置此变量不会立即产生效果。变量的状态适用于所有后续的 [`START REPLICA `](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) 语句。

  ​            This variable works in combination with the            [`replica_checkpoint_period`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_checkpoint_period)            system variable in such a way that, when either limit is            exceeded, the checkpoint is executed and the counters            tracking both the number of transactions and the time            elapsed since the last checkpoint are reset.          
  此变量与 [`replica_checkpoint_period`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_checkpoint_period) 系统变量结合使用，当超过任一限制时，将执行检查点，并重置跟踪事务数和自上一个检查点以来经过的时间的计数器。

  ​            The minimum allowed value for this variable is 32, unless            the server was built using            [`-DWITH_DEBUG`](https://dev.mysql.com/doc/refman/8.4/en/source-configuration-options.html#option_cmake_with_debug), in which case            the minimum value is 1. The effective value is always a            multiple of 8; you can set it to a value that is not such a            multiple, but the server rounds it down to the next lower            multiple of 8 before storing the value.            (*Exception*: No such rounding is            performed by the debug server.) Regardless of how the server            was built, the default value is 512, and the maximum allowed            value is 524280.          
  此变量允许的最小值为 32，除非服务器是使用 [`-DWITH_DEBUG`](https://dev.mysql.com/doc/refman/8.4/en/source-configuration-options.html#option_cmake_with_debug) 构建的，在这种情况下，最小值为 1。有效值始终是 8 的倍数;您可以将其设置为不是此类倍数的值，但服务器会在存储该值之前将其四舍五入到下一个较低的倍数 8。（*例外*：调试服务器不执行此类舍入。无论服务器是如何构建的，默认值都是 512，允许的最大值为 524280。

- ​            [`replica_checkpoint_period`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_checkpoint_period)

  

  

  | Command-Line Format 命令行格式                               | `--replica-checkpoint-period=#` |
  | ------------------------------------------------------------ | ------------------------------- |
  | System Variable 系统变量                                     | `replica_checkpoint_period`     |
  | Scope 范围                                                   | Global 全球                     |
  | Dynamic 动态                                                 | Yes 是的                        |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                           |
  | Type 类型                                                    | Integer 整数                    |
  | Default Value 默认值                                         | `300`                           |
  | Minimum Value 最小值                                         | `1`                             |
  | Maximum Value 最大值                                         | `4294967295`                    |
  | Unit 单位                                                    | milliseconds 毫秒               |

  ​            `replica_checkpoint_period` sets the            maximum time (in milliseconds) that is allowed to pass            before a checkpoint operation is called to update the status            of a multithreaded replica as shown by            [`SHOW REPLICA STATUS`](https://dev.mysql.com/doc/refman/8.4/en/show-replica-status.html). Setting            this variable has no effect on replicas for which            multithreading is not enabled. Setting this variable takes            effect for all replication channels immediately, including            running channels.          
  `replica_checkpoint_period` 设置在调用检查点操作以更新多线程副本的状态之前允许经过的最长时间（以毫秒为单位），如 [`SHOW REPLICA STATUS`](https://dev.mysql.com/doc/refman/8.4/en/show-replica-status.html) 所示。设置此变量对未启用多线程的副本没有影响。设置此变量会立即对所有复制通道生效，包括正在运行的通道。

  ​            This variable works in combination with the            [`replica_checkpoint_group`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_checkpoint_group)            system variable in such a way that, when either limit is            exceeded, the checkpoint is executed and the counters            tracking both the number of transactions and the time            elapsed since the last checkpoint are reset.          
  此变量与 [`replica_checkpoint_group`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_checkpoint_group) 系统变量结合使用，当超过任一限制时，将执行检查点，并重置跟踪事务数和自上一个检查点以来经过的时间的计数器。

  ​            The minimum allowed value for this variable is 1, unless the            server was built using            [`-DWITH_DEBUG`](https://dev.mysql.com/doc/refman/8.4/en/source-configuration-options.html#option_cmake_with_debug), in which case            the minimum value is 0. Regardless of how the server was            built, the default value is 300 milliseconds, and the            maximum possible value is 4294967295 milliseconds            (approximately 49.7 days).          
  此变量允许的最小值为 1，除非服务器是使用 [`-DWITH_DEBUG`](https://dev.mysql.com/doc/refman/8.4/en/source-configuration-options.html#option_cmake_with_debug) 构建的，在这种情况下，最小值为 0。无论服务器是如何构建的，默认值都是 300 毫秒，最大可能值为 4294967295 毫秒（大约 49.7 天）。

- ​            [`replica_compressed_protocol`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_compressed_protocol)

  

  

  | Command-Line Format 命令行格式                               | `--replica-compressed-protocol[={OFF|ON}]` |
  | ------------------------------------------------------------ | ------------------------------------------ |
  | System Variable 系统变量                                     | `replica_compressed_protocol`              |
  | Scope 范围                                                   | Global 全球                                |
  | Dynamic 动态                                                 | Yes 是的                                   |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                      |
  | Type 类型                                                    | Boolean 布尔                               |
  | Default Value 默认值                                         | `OFF`                                      |

  ​            [`replica_compressed_protocol`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_compressed_protocol)            specifies whether to use compression of the source/replica            connection protocol if both source and replica support it.            If this variable is disabled (the default), connections are            uncompressed. Changes to this variable take effect on            subsequent connection attempts; this includes after issuing            a [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) statement, as            well as reconnections made by a running replication I/O            (receiver) thread.          
  [`replica_compressed_protocol`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_compressed_protocol) 指定如果源和副本都支持，是否使用源/副本连接协议的压缩。如果禁用此变量（默认值），则取消压缩连接。对此变量的更改将在后续连接尝试中生效;这包括在发出 [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) 语句之后，以及由正在运行的复制 I/O（接收方）线程进行的重新连接。

  ​            Binary log transaction compression, enabled by the            [`binlog_transaction_compression`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression)            system variable, can also be used to save bandwidth. If you            use binary log transaction compression in combination with            protocol compression, protocol compression has less            opportunity to act on the data, but can still compress            headers and those events and transaction payloads that are            uncompressed. For more information on binary log transaction            compression, see            [Section 7.4.4.5, “Binary Log Transaction Compression”](https://dev.mysql.com/doc/refman/8.4/en/binary-log-transaction-compression.html).          
  由[ `binlog_transaction_compression` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression)系统变量启用的二进制日志事务压缩也可用于节省带宽。如果将二进制日志事务压缩与协议压缩结合使用，则协议压缩对数据执行操作的机会较少，但仍可以压缩标头以及未压缩的事件和事务负载。有关二进制日志事务压缩的更多信息，请参见[第 7.4.4.5 节 “二进制日志事务压缩”。](https://dev.mysql.com/doc/refman/8.4/en/binary-log-transaction-compression.html)

  ​            If            [`replica_compressed_protocol`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_compressed_protocol)            is enabled, it takes precedence over any            `SOURCE_COMPRESSION_ALGORITHMS` option            specified for the [`CHANGE REPLICATION             SOURCE TO`](https://dev.mysql.com/doc/refman/8.4/en/change-replication-source-to.html) statement. In this case, connections to            the source use `zlib` compression if both            the source and replica support that algorithm. If            [`replica_compressed_protocol`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_compressed_protocol)            is disabled, the value of            `SOURCE_COMPRESSION_ALGORITHMS` applies.            For more information, see            [Section 6.2.8, “Connection Compression Control”](https://dev.mysql.com/doc/refman/8.4/en/connection-compression-control.html).          
  如果启用了 [`replica_compressed_protocol`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_compressed_protocol)，则它优先于为[ `CHANGE REPLICATION             SOURCE TO` ](https://dev.mysql.com/doc/refman/8.4/en/change-replication-source-to.html)语句指定的任何 `SOURCE_COMPRESSION_ALGORITHMS` 选项。在这种情况下，如果源和副本都支持 zlib 压缩算法，则与源的连接将使用 `zlib` 压缩。如果禁用 [`replica_compressed_protocol`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_compressed_protocol)，则 `SOURCE_COMPRESSION_ALGORITHMS` 的值适用。有关详细信息，请参见[第 6.2.8 节 “连接压缩控制”。](https://dev.mysql.com/doc/refman/8.4/en/connection-compression-control.html)

- ​            [`replica_exec_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_exec_mode)

  

  

  | Command-Line Format 命令行格式                               | `--replica-exec-mode=mode` `--replica-exec-mode=模式`        |
  | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | System Variable 系统变量                                     | `replica_exec_mode`                                          |
  | Scope 范围                                                   | Global 全球                                                  |
  | Dynamic 动态                                                 | Yes 是的                                                     |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                                        |
  | Type 类型                                                    | Enumeration 列举                                             |
  | Default Value 默认值                                         | `IDEMPOTENT` (NDB) `幂等` （NDB）`STRICT` (Other) `STRICT` （其他） |
  | Valid Values 有效值                                          | `STRICT``IDEMPOTENT`                                         |

  ​            [`replica_exec_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_exec_mode) controls            how a replication thread resolves conflicts and errors            during replication. `IDEMPOTENT` mode            causes suppression of duplicate-key and no-key-found errors;            `STRICT` means no such suppression takes            place.          
  [`replica_exec_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_exec_mode) 控制复制线程在复制过程中如何解决冲突和错误。`IDEMPOTENT` 模式会导致抑制 duplicate-key 和 no-key-found 错误;`STRICT` 表示不会发生此类抑制。

  ​            `IDEMPOTENT` mode is intended for use in            multi-source replication, circular replication, and some            other special replication scenarios for NDB Cluster            Replication. (See            [Section 25.7.10, “NDB Cluster Replication: Bidirectional and Circular Replication”](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster-replication-multi-source.html),            and            [Section 25.7.12, “NDB Cluster Replication Conflict Resolution”](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster-replication-conflict-resolution.html),            for more information.) NDB Cluster ignores any value            explicitly set for            [`replica_exec_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_exec_mode), and            always treats it as `IDEMPOTENT`.          
  `幂等`模式旨在用于多源复制、循环复制以及 NDB 群集复制的其他一些特殊复制方案。（有关更多信息[，请参见第 25.7.10 节 “ NDB 群集复制：双向和循环复制”](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster-replication-multi-source.html)和[第 25.7.12 节 “ NDB 群集复制冲突解决](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster-replication-conflict-resolution.html)”。NDB Cluster 忽略为 [`replica_exec_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_exec_mode) 显式设置的任何值，并始终将其视为 `IDEMPOTENT`。

  ​            In MySQL Server 8.4, `STRICT`            mode is the default value.          
  在 MySQL Server 8.4 中，`STRICT` 模式是默认值。

  ​            Setting this variable takes immediate effect for all            replication channels, including running channels.          
  设置此变量将立即对所有复制通道生效，包括正在运行的通道。

  ​            For storage engines other than            [`NDB`](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster.html),            *`IDEMPOTENT` mode should be used            only when you are absolutely sure that duplicate-key errors            and key-not-found errors can safely be ignored*.            It is meant to be used in fail-over scenarios for NDB            Cluster where multi-source replication or circular            replication is employed, and is not recommended for use in            other cases.          
  对于 [`NDB`](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster.html) 以外的存储引擎，*只有在您绝对确定可以安全地忽略 duplicate-key 错误和 key-not-found 错误时，才应使用 `IDEMPOTENT` 模式*。它旨在用于采用多源复制或循环复制的 NDB Cluster 的故障转移场景，不建议在其他情况下使用。

- ​            [`replica_load_tmpdir`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_load_tmpdir)

  

  

  | Command-Line Format 命令行格式                               | `--replica-load-tmpdir=dir_name`    |
  | ------------------------------------------------------------ | ----------------------------------- |
  | System Variable 系统变量                                     | `replica_load_tmpdir`               |
  | Scope 范围                                                   | Global 全球                         |
  | Dynamic 动态                                                 | No 不                               |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                               |
  | Type 类型                                                    | Directory name 目录名称             |
  | Default Value 默认值                                         | `Value of --tmpdir` `--tmpdir 的值` |

  ​            [`replica_load_tmpdir`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_load_tmpdir)            specifies the name of the directory where the replica            creates temporary files. Setting this variable takes effect            for all replication channels immediately, including running            channels. The variable value is by default equal to the            value of the [`tmpdir`](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#sysvar_tmpdir) system            variable, or the default that applies when that system            variable is not specified.          
  [`replica_load_tmpdir`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_load_tmpdir) 指定副本创建临时文件的目录的名称。设置此变量会立即对所有复制通道生效，包括正在运行的通道。默认情况下，变量值等于 [`tmpdir`](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#sysvar_tmpdir) 系统变量的值，或者等于未指定该系统变量时应用的默认值。

  ​            When the replication SQL thread replicates a            [`LOAD DATA`](https://dev.mysql.com/doc/refman/8.4/en/load-data.html) statement, it            extracts the file to be loaded from the relay log into            temporary files, and then loads these into the table. If the            file loaded on the source is huge, the temporary files on            the replica are huge, too. Therefore, it might be advisable            to use this option to tell the replica to put temporary            files in a directory located in some file system that has a            lot of available space. In that case, the relay logs are            huge as well, so you might also want to set the            [`relay_log`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log) system variable            to place the relay logs in that file system.          
  当复制 SQL 线程复制 [`LOAD DATA`](https://dev.mysql.com/doc/refman/8.4/en/load-data.html)  语句时，它会将要从中继日志中加载的文件提取到临时文件中，然后将这些文件加载到表中。如果源上加载的文件很大，则副本上的临时文件也很大。因此，建议使用此选项来告诉副本将临时文件放在位于具有大量可用空间的某个文件系统中的目录中。在这种情况下，中继日志也很大，因此您可能还需要设置 [`relay_log`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_relay_log) 系统变量以将中继日志放置在该文件系统中。

  ​            The directory specified by this option should be located in            a disk-based file system (not a memory-based file system) so            that the temporary files used to replicate            [`LOAD DATA`](https://dev.mysql.com/doc/refman/8.4/en/load-data.html) statements can            survive machine restarts. The directory also should not be            one that is cleared by the operating system during the            system startup process. However, replication can now            continue after a restart if the temporary files have been            removed.          
  此选项指定的目录应位于基于磁盘的文件系统（而不是基于内存的文件系统）中，以便用于复制 [`LOAD DATA`](https://dev.mysql.com/doc/refman/8.4/en/load-data.html) 语句的临时文件可以在计算机重新启动后继续存在。该目录也不应是操作系统在系统启动过程中清除的目录。但是，如果已删除临时文件，则现在可以在重新启动后继续复制。

- ​            [`replica_max_allowed_packet`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_max_allowed_packet)

  

  

  | Command-Line Format 命令行格式                               | `--replica-max-allowed-packet=#` |
  | ------------------------------------------------------------ | -------------------------------- |
  | System Variable 系统变量                                     | `replica_max_allowed_packet`     |
  | Scope 范围                                                   | Global 全球                      |
  | Dynamic 动态                                                 | Yes 是的                         |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                            |
  | Type 类型                                                    | Integer 整数                     |
  | Default Value 默认值                                         | `1073741824`                     |
  | Minimum Value 最小值                                         | `1024`                           |
  | Maximum Value 最大值                                         | `1073741824`                     |
  | Unit 单位                                                    | bytes 字节                       |
  | [Block Size 区块大小](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#system-variables-block-size) | `1024`                           |

  ​            [`replica_max_allowed_packet`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_max_allowed_packet)            sets the maximum packet size in bytes that the replication            SQL (applier)and I/O (receiver) threads can handle. Setting            this variable takes effect for all replication channels            immediately, including running channels. It is possible for            a source to write binary log events longer than its            [`max_allowed_packet`](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#sysvar_max_allowed_packet) setting            once the event header is added. The setting for            [`replica_max_allowed_packet`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_max_allowed_packet)            must be larger than the            [`max_allowed_packet`](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#sysvar_max_allowed_packet) setting            on the source, so that large updates using row-based            replication do not cause replication to fail.          
  [`replica_max_allowed_packet`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_max_allowed_packet) 设置复制 SQL（应用程序）和 I/O（接收方）线程可以处理的最大数据包大小（以字节为单位）。设置此变量会立即对所有复制通道生效，包括正在运行的通道。添加事件标头后，源写入二进制日志事件的时间可能会超过其 [`max_allowed_packet`](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#sysvar_max_allowed_packet) 设置。[`replica_max_allowed_packet`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_max_allowed_packet) 的设置必须大于源上的 [`max_allowed_packet`](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#sysvar_max_allowed_packet) 设置，以便使用基于行的复制的大型更新不会导致复制失败。

  ​            This global variable always has a value that is a positive            integer multiple of 1024; if you set it to some value that            is not, the value is rounded down to the next highest            multiple of 1024 for it is stored or used; setting            `replica_max_allowed_packet` to 0 causes            1024 to be used. (A truncation warning is issued in all such            cases.) The default and maximum value is 1073741824 (1 GB);            the minimum is 1024.          
  此全局变量的值始终为 1024 的正整数倍;如果将其设置为非某个值，则该值将向下舍入到存储或使用该值的下一个最高倍数 1024;将 `replica_max_allowed_packet` 设置为 0 会导致使用 1024。（在所有这些情况下都会发出截断警告。默认值和最大值为 1073741824 （1 GB）;最小值为 1024。

- ​            [`replica_net_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_net_timeout)

  

  

  | Command-Line Format 命令行格式                               | `--replica-net-timeout=#` |
  | ------------------------------------------------------------ | ------------------------- |
  | System Variable 系统变量                                     | `replica_net_timeout`     |
  | Scope 范围                                                   | Global 全球               |
  | Dynamic 动态                                                 | Yes 是的                  |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                     |
  | Type 类型                                                    | Integer 整数              |
  | Default Value 默认值                                         | `60`                      |
  | Minimum Value 最小值                                         | `1`                       |
  | Maximum Value 最大值                                         | `31536000`                |
  | Unit 单位                                                    | seconds 秒                |

  ​            [`replica_net_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_net_timeout)            specifies the number of seconds to wait for more data or a            heartbeat signal from the source before the replica            considers the connection broken, aborts the read, and tries            to reconnect. Setting this variable has no immediate effect.            The state of the variable applies on all subsequent            [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) commands.          
  [`replica_net_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_net_timeout) 指定在副本认为连接已断开、中止读取并尝试重新连接之前，等待来自源的更多数据或检测信号的秒数。设置此变量不会立即产生效果。变量的状态适用于所有后续的 [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) 命令。

  ​            The default value is 60 seconds (one minute). The first            retry occurs immediately after the timeout. The interval            between retries is controlled by the            `SOURCE_CONNECT_RETRY` option for the            [`CHANGE REPLICATION SOURCE TO`](https://dev.mysql.com/doc/refman/8.4/en/change-replication-source-to.html)            statement, and the number of reconnection attempts is            limited by the `SOURCE_RETRY_COUNT` option.          
  默认值为 60 秒（1 分钟）。第一次重试在超时后立即发生。重试之间的间隔由 [`CHANGE REPLICATION SOURCE TO`](https://dev.mysql.com/doc/refman/8.4/en/change-replication-source-to.html) 语句的 `SOURCE_CONNECT_RETRY` 选项控制，重新连接尝试的次数由 `SOURCE_RETRY_COUNT` 选项限制。

  ​            The heartbeat interval, which stops the connection timeout            occurring in the absence of data if the connection is still            good, is controlled by the            `SOURCE_HEARTBEAT_PERIOD` option for the            [`CHANGE REPLICATION SOURCE TO`](https://dev.mysql.com/doc/refman/8.4/en/change-replication-source-to.html)            statement. The heartbeat interval defaults to half the value            of [`replica_net_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_net_timeout), and            it is recorded in the replica's connection metadata            repository and shown in the            [`replication_connection_configuration`](https://dev.mysql.com/doc/refman/8.4/en/performance-schema-replication-connection-configuration-table.html)            Performance Schema table. Note that a change to the value or            default setting of            [`replica_net_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_net_timeout) does            not automatically change the heartbeat interval, whether            that has been set explicitly or is using a previously            calculated default. If the connection timeout is changed,            you must also issue [`CHANGE REPLICATION             SOURCE TO`](https://dev.mysql.com/doc/refman/8.4/en/change-replication-source-to.html) to adjust the heartbeat interval to an            appropriate value so that it occurs before the connection            timeout.          
  脉动信号间隔（如果连接仍然良好，则停止在缺少数据的情况下发生的连接超时）由[ `CHANGE REPLICATION             SOURCE TO` ](https://dev.mysql.com/doc/refman/8.4/en/change-replication-source-to.html)语句的 `SOURCE_HEARTBEAT_PERIOD` 选项控制。检测信号间隔默认为 [`replica_net_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_net_timeout) 值的一半，它记录在副本的连接元数据存储库中，并显示在 [ `replication_connection_configuration` ](https://dev.mysql.com/doc/refman/8.4/en/performance-schema-replication-connection-configuration-table.html) Performance Schema 表中。请注意，更改 [`replica_net_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_net_timeout) 的值或默认设置不会自动更改检测信号间隔，无论该间隔是已明确设置的还是使用以前计算的默认值。如果更改了连接超时，则还必须发出 [`CHANGE REPLICATION SOURCE TO`](https://dev.mysql.com/doc/refman/8.4/en/change-replication-source-to.html) 以将检测信号间隔调整为适当的值，以便在连接超时之前发生。

- ​            [`replica_parallel_type`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_type)

  

  

  | Command-Line Format 命令行格式                               | `--replica-parallel-type=value` `--replica-parallel-type=值` |
  | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | Deprecated 荒废的                                            | Yes 是的                                                     |
  | System Variable 系统变量                                     | `replica_parallel_type`                                      |
  | Scope 范围                                                   | Global 全球                                                  |
  | Dynamic 动态                                                 | Yes 是的                                                     |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                                        |
  | Type 类型                                                    | Enumeration 列举                                             |
  | Default Value 默认值                                         | `LOGICAL_CLOCK`                                              |
  | Valid Values 有效值                                          | `DATABASE``LOGICAL_CLOCK`                                    |

  ​            For multithreaded replicas (replicas on which            [`replica_parallel_workers`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_workers) is            set to a value greater than 0),            [`replica_parallel_type`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_type)            specifies the policy used to decide which transactions are            allowed to execute in parallel on the replica. The variable            has no effect on replicas for which multithreading is not            enabled. The possible values are: 
  对于多线程副本（[`replica_parallel_workers`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_workers)设置为大于 0 的值的副本），[`replica_parallel_type`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_type)指定用于决定允许在副本上并行执行哪些事务的策略。该变量对未启用多线程处理的副本没有影响。可能的值为：

  - ​                `LOGICAL_CLOCK`: Transactions are                applied in parallel on the replica, based on timestamps                which the replication source writes to the binary log.                Dependencies between transactions are tracked based on                their timestamps to provide additional parallelization                where possible.              
    `LOGICAL_CLOCK`：根据复制源写入二进制日志的时间戳，事务在副本上并行应用。根据事务的时间戳跟踪事务之间的依赖关系，以尽可能提供额外的并行化。
  - ​                `DATABASE`: Transactions that update                different databases are applied in parallel. This value                is only appropriate if data is partitioned into multiple                databases which are being updated independently and                concurrently on the source. There must be no                cross-database constraints, as such constraints may be                violated on the replica. 
    `DATABASE：`更新不同数据库的事务将并行应用。仅当数据分区到多个数据库中时，此值才适用，这些数据库在源上独立并发更新。不得有跨数据库约束，因为副本上可能会违反此类约束。

  ​            When            [`replica_preserve_commit_order`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)            is enabled, you must use `LOGICAL_CLOCK`.            Multithreading is enabled by default for replica servers            ([`replica_parallel_workers=4`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_workers)            by default), and `LOGICAL_CLOCK` is the            default.            ([`replica_preserve_commit_order`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)            is also enabled by default.)          
  启用 [`replica_preserve_commit_order`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order) 后，您必须使用 `LOGICAL_CLOCK`。默认情况下，副本服务器启用多线程处理（默认为 [`replica_parallel_workers=4`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_workers)），`LOGICAL_CLOCK` 是默认值。（[`默认情况下，replica_preserve_commit_order`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)也处于启用状态。

  ​            When the replication topology uses multiple levels of            replicas, `LOGICAL_CLOCK` may achieve less            parallelization for each level the replica is away from the            source.          
  当复制拓扑使用多个级别的副本时，`LOGICAL_CLOCK`副本远离源的每个级别可能会实现较少的并行化。

  ​            When binary log transaction compression is enabled using the            [`binlog_transaction_compression`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression)            system variable, if            [`replica_parallel_type`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_type) is            set to `DATABASE`, all the databases            affected by the transaction are mapped before the            transaction is scheduled. The use of binary log transaction            compression with the `DATABASE` policy can            reduce parallelism compared to uncompressed transactions,            which are mapped and scheduled for each event.          
  当使用[ `binlog_transaction_compression` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression)系统变量启用二进制日志事务压缩时，如果 [`replica_parallel_type`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_type) 设置为 `DATABASE，`则在计划事务之前映射受事务影响的所有数据库。与未压缩的事务相比，将二进制日志事务压缩与 `DATABASE` 策略结合使用可以降低并行度，而未压缩的事务是针对每个事件进行映射和调度的。

  ​            `replica_parallel_type` is deprecated, as            is support for parallelization of transactions using            database partitioning. Expect support for these to be            removed in a future release, and for            `LOGICAL_CLOCK` to be used exclusively            thereafter.          
  `replica_parallel_type` 已弃用，对使用 Database Partitioning 的事务并行化的支持也是如此。预计在未来发行版中将删除对这些 API 的支持，并在此后专门使用 `LOGICAL_CLOCK`。

- ​            [`replica_parallel_workers`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_workers)

  

  

  | Command-Line Format 命令行格式                               | `--replica-parallel-workers=#` |
  | ------------------------------------------------------------ | ------------------------------ |
  | System Variable 系统变量                                     | `replica_parallel_workers`     |
  | Scope 范围                                                   | Global 全球                    |
  | Dynamic 动态                                                 | Yes 是的                       |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                          |
  | Type 类型                                                    | Integer 整数                   |
  | Default Value 默认值                                         | `4`                            |
  | Minimum Value 最小值                                         | `0`                            |
  | Maximum Value 最大值                                         | `1024`                         |

  ​            `replica_parallel_workers` enables            multithreading on the replica and sets the number of applier            threads for executing replication transactions in parallel.            When the value is greater than or equal to 1, the replica            uses the specified number of worker threads to execute            transactions, plus a coordinator thread that reads            transactions from the relay log and schedules them to            workers. When the value is 0, there is only one thread that            reads and applies transactions sequentially. If you are            using multiple replication channels, the value of this            variable applies to the threads used by each channel.          
  `replica_parallel_workers` 在副本上启用多线程，并设置用于并行执行复制事务的应用程序线程数。当该值大于或等于 1 时，副本使用指定数量的 worker  线程来执行事务，并使用一个协调器线程从中继日志中读取事务并将其调度到 worker。当值为 0  时，只有一个线程按顺序读取和应用事务。如果您使用的是多个复制通道，则此变量的值将应用于每个通道使用的线程。

  ​            The default value is 4, which means that replicas are            multithreaded by default.          
  默认值为 4，这意味着默认情况下副本是多线程的。

  ​            Setting this variable to 0 is deprecated, raises a warning,            and is subject to removal in a future MySQL release. For a            single worker, set            `replica_parallel_workers` to 1 instead.          
  将此变量设置为 0 已弃用，会引发警告，并且可能会在未来的 MySQL 版本中删除。对于单个工作程序，请将 `replica_parallel_workers` 改为 1。

  ​            When            [`replica_preserve_commit_order`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)            is `ON` (the default), transactions on a            replica are externalized on the replica in the same order as            they appear in the replica's relay log. The way in            which transactions are distributed among applier threads is            determined by            [`replica_parallel_type`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_type).            These system variables also have appropriate defaults for            multithreading.          
  当 [`replica_preserve_commit_order`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order) 为 `ON`（默认值）时，副本上的事务将按照它们在副本中继日志中出现的顺序在副本上外部化。事务在 applier 线程之间分配的方式由 [`replica_parallel_type`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_type) 决定。这些系统变量也具有适合多线程处理的默认值。

  ​            To disable parallel execution, set            `replica_parallel_workers` to 1, in which            case the replica uses one coordinator thread which reads            transactions, and one worker thread which applies them,            which means that transactions are applied sequentially. When            `replica_parallel_workers` is equal to 1,            the [`replica_parallel_type`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_type)            and            [`replica_preserve_commit_order`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)            system variables have no effect and are ignored. If            `replica_parallel_workers` is equal to 0            while the [`CHANGE REPLICATION SOURCE             TO`](https://dev.mysql.com/doc/refman/8.4/en/change-replication-source-to.html) option            [`GTID_ONLY`](https://dev.mysql.com/doc/refman/8.4/en/change-replication-source-to.html#crs-opt-gtid_only) is enabled, the            replica has one coordinator thread and one worker thread,            exactly as if `replica_parallel_workers`            had been set to 1. With one parallel worker, the            [`replica_preserve_commit_order`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)            system variable also has no effect.          
  要禁用并行执行，请将 `replica_parallel_workers` 设置为 1，在这种情况下，副本使用一个读取事务的协调线程和一个应用事务的工作线程，这意味着事务是按顺序应用的。当 `replica_parallel_workers` 等于 1 时，[`replica_parallel_type`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_type) 和 [`replica_preserve_commit_order`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order) 系统变量无效，将被忽略。如果 `replica_parallel_workers` 等于 0 并且启用了[ `CHANGE REPLICATION SOURCE             TO` ](https://dev.mysql.com/doc/refman/8.4/en/change-replication-source-to.html)选项 [`GTID_ONLY`](https://dev.mysql.com/doc/refman/8.4/en/change-replication-source-to.html#crs-opt-gtid_only) ，则副本具有一个协调器线程和一个工作线程，就像 `replica_parallel_workers` 设置为 1 一样。对于一个并行 [`worker，replica_preserve_commit_order`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order) 系统变量也不起作用。

  ​            Setting            [`replica_parallel_workers`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_workers)            has no immediate effect but rather applies to all subsequent            [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) statements.          
  设置 [`replica_parallel_workers`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_workers) 不会立即生效，而是适用于所有后续的 [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) 语句。

  ​            Multithreaded replicas are also supported by NDB Cluster            8.4. See            [Section 25.7.11, “NDB Cluster Replication Using the Multithreaded Applier”](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster-replication-mta.html), for more            information.          
  NDB Cluster 8.4 也支持多线程副本。有关更多信息，请参见[第 25.7.11 节 “使用多线程应用程序进行 NDB 群集复制”。](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster-replication-mta.html)

  ​            Increasing the number of workers improves the potential for            parallelism. Typically, this improves performance up to a            certain point, beyond which increasing the number of workers            reduces performance due to concurrency effects such as lock            contention. The ideal number depends on both hardware and            workload; it can be difficult to predict and typically has            to be found by testing. Tables without primary keys, which            always harm performance, may have even greater negative            performance impact on replicas having            `replica_parallel_workers` > 1; so make            sure that all tables have primary keys before enabling this            option.          
  增加 worker  的数量可以提高并行性的可能性。通常，这会将性能提高到一定程度，超过该点后，由于并发效应（如锁争用），增加工作线程数量会降低性能。理想的数字取决于硬件和工作负载;它可能很难预测，通常必须通过测试来发现。没有主键的表总是会损害性能，对具有 > 1 的副本可能会产生更大的负面性能影响`replica_parallel_workers`;因此，在启用此选项之前，请确保所有表都有主键。

- ​            [`replica_pending_jobs_size_max`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_pending_jobs_size_max)

  

  

  | Command-Line Format 命令行格式                               | `--replica-pending-jobs-size-max=#` |
  | ------------------------------------------------------------ | ----------------------------------- |
  | System Variable 系统变量                                     | `replica_pending_jobs_size_max`     |
  | Scope 范围                                                   | Global 全球                         |
  | Dynamic 动态                                                 | Yes 是的                            |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                               |
  | Type 类型                                                    | Integer 整数                        |
  | Default Value 默认值                                         | `128M`                              |
  | Minimum Value 最小值                                         | `1024`                              |
  | Maximum Value 最大值                                         | `16EiB`                             |
  | Unit 单位                                                    | bytes 字节                          |
  | [Block Size 区块大小](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#system-variables-block-size) | `1024`                              |

  ​            For multithreaded replicas, this variable sets the maximum            amount of memory (in bytes) available to applier queues            holding events not yet applied. Setting this variable has no            effect on replicas for which multithreading is not enabled.            Setting this variable has no immediate effect. The state of            the variable applies on all subsequent            [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) commands.          
  对于多线程副本，此变量设置保存尚未应用的事件的应用程序队列可用的最大内存量 （以字节为单位）。设置此变量对未启用多线程的副本没有影响。设置此变量不会立即产生效果。变量的状态适用于所有后续的 [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) 命令。

  ​            The minimum possible value for this variable is 1024 bytes;            the default is 128MB. The maximum possible value is            18446744073709551615 (16 exbibytes). Values that are not            exact multiples of 1024 bytes are rounded down to the next            lower multiple of 1024 bytes prior to being stored.          
  此变量的最小可能值为 1024 字节;默认值为 128MB。最大可能值为 18446744073709551615 （16 EB）。不是 1024 字节的精确倍数的值在存储之前将向下舍入到下一个较低的倍数 1024 字节。

  ​            The value of this variable is a soft limit and can be set to            match the normal workload. If an unusually large event            exceeds this size, the transaction is held until all the            worker threads have empty queues, and then processed. All            subsequent transactions are held until the large transaction            has been completed.          
  此变量的值是软限制，可以设置为与正常工作负载匹配。如果异常大的事件超过此大小，则事务将保留，直到所有工作线程都有空队列，然后进行处理。所有后续事务都将保留，直到大事务完成。

- ​            [`replica_preserve_commit_order`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)

  

  

  | Command-Line Format 命令行格式                               | `--replica-preserve-commit-order[={OFF|ON}]` |
  | ------------------------------------------------------------ | -------------------------------------------- |
  | System Variable 系统变量                                     | `replica_preserve_commit_order`              |
  | Scope 范围                                                   | Global 全球                                  |
  | Dynamic 动态                                                 | Yes 是的                                     |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                        |
  | Type 类型                                                    | Boolean 布尔                                 |
  | Default Value 默认值                                         | `ON`                                         |

  ​            For multithreaded replicas (replicas on which            [`replica_parallel_workers`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_workers) is            set to a value greater than 0), setting            [`replica_preserve_commit_order=ON`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)            ensures that transactions are executed and committed on the            replica in the same order as they appear in the            replica's relay log. This prevents gaps in the sequence            of transactions that have been executed from the replica's            relay log, and preserves the same transaction history on the            replica as on the source (with the limitations listed            below). This variable has no effect on replicas for which            multithreading is not enabled.          
  对于多线程副本（[`replica_parallel_workers`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_workers)设置为大于 0 的值的副本），设置[ `replica_preserve_commit_order=ON` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)可确保事务按照它们在副本中继日志中出现的顺序在副本上执行和提交。这可以防止从副本的中继日志执行的事务序列中出现间隙，并在副本上保留与源上相同的事务历史记录（下面列出了限制）。此变量对未启用多线程的副本没有影响。

  ​            Multithreading is enabled by default in MySQL            8.4 for replica servers            ([`replica_parallel_workers=4`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_workers)            by default), so            [`replica_preserve_commit_order=ON`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)            is the default, and the setting            [`replica_parallel_type=LOGICAL_CLOCK`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_type)            is also the default. In addition, the setting for            [`replica_preserve_commit_order`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)            is ignored if            [`replica_parallel_workers`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_workers) is            set to 1, because in that situation the order of            transactions is preserved anyway.          
  在 MySQL 8.4 中，副本服务器默认启用多线程处理（默认为 [`replica_parallel_workers=4`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_workers)），这是[ `replica_preserve_commit_order=ON` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)默认值，该设置[ `replica_parallel_type=LOGICAL_CLOCK` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_type)也是默认值。此外，如果 [`replica_parallel_workers`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_workers) 设置为 1，则忽略 [`replica_preserve_commit_order`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order) 的设置，因为在这种情况下，无论如何都会保留事务的顺序。

  ​            Binary logging and replica update logging are not required            on the replica to set            [`replica_preserve_commit_order=ON`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order),            and can be disabled if wanted. Setting            [`replica_preserve_commit_order=ON`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)            requires that            [`replica_parallel_type`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_type) is            set to `LOGICAL_CLOCK`, the default in            MySQL 8.4. Before changing the value of            [`replica_preserve_commit_order`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)            and [`replica_parallel_type`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_type),            the replication SQL thread (for all replication channels if            you are using multiple replication channels) must be            stopped.          
  副本上不需要二进制日志记录和副本更新日志记录来设置 [ `replica_preserve_commit_order=ON` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)，如果需要，可以禁用它们。设置[ `replica_preserve_commit_order=ON` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)要求将 [`replica_parallel_type`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_type) 设置为 `LOGICAL_CLOCK`，这是 MySQL 8.4 中的默认值。在更改 [`replica_preserve_commit_order`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order) 和 [`replica_parallel_type`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_type) 的值之前，必须停止复制 SQL 线程（如果使用多个复制通道，则适用于所有复制通道）。

  ​            When            [`replica_preserve_commit_order=OFF`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)            is set, the transactions that a multithreaded replica            applies in parallel may commit out of order. Therefore,            checking for the most recently executed transaction does not            guarantee that all previous transactions from the source            have been executed on the replica. There is a chance of gaps            in the sequence of transactions that have been executed from            the replica's relay log. This has implications for logging            and recovery when using a multithreaded replica. See            [Section 19.5.1.34, “Replication and Transaction Inconsistencies”](https://dev.mysql.com/doc/refman/8.4/en/replication-features-transaction-inconsistencies.html)            for more information.          
  设置后[ `replica_preserve_commit_order=OFF` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)，多线程副本并行应用的事务可能会不按顺序提交。因此，检查最近执行的事务并不能保证源中所有先前的事务都已在副本上执行。从副本的中继日志执行的事务序列中可能存在间隙。这对使用多线程副本时的日志记录和恢复有影响。有关更多信息，请参见[第 19.5.1.34 节 “复制和事务不一致”。](https://dev.mysql.com/doc/refman/8.4/en/replication-features-transaction-inconsistencies.html)

  ​            When            [`replica_preserve_commit_order=ON`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)            is set, the executing worker thread waits until all previous            transactions are committed before committing. While a given            thread is waiting for other worker threads to commit their            transactions, it reports its status as `Waiting for            preceding transaction to commit`. With this mode, a            multithreaded replica never enters a state that the source            was not in. This supports the use of replication for read            scale-out. See            [Section 19.4.5, “Using Replication for Scale-Out”](https://dev.mysql.com/doc/refman/8.4/en/replication-solutions-scaleout.html). 
  设置后[ `replica_preserve_commit_order=ON` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)，执行工作线程会等待，直到所有以前的事务都提交完毕，然后再提交。当给定线程等待其他工作线程提交其事务时，它会将其状态报告为 `Waiting for            preceding transaction to commit` 。使用此模式，多线程副本永远不会进入源未处于的状态。这支持使用复制进行读取扩展。参见[第 19.4.5 节 “使用复制进行横向扩展”。](https://dev.mysql.com/doc/refman/8.4/en/replication-solutions-scaleout.html)

  Note 注意

  - ​                  [`replica_preserve_commit_order=ON`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)                  does not prevent source binary log position lag, where                  `Exec_master_log_pos` is behind the                  position up to which transactions have been executed.                  See                  [Section 19.5.1.34, “Replication and Transaction Inconsistencies”](https://dev.mysql.com/doc/refman/8.4/en/replication-features-transaction-inconsistencies.html).                
    [ `replica_preserve_commit_order=ON` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)不会阻止 Source binary log position 滞后，其中 `Exec_master_log_pos` 落后于事务已执行的位置。参见[第 19.5.1.34 节 “复制和事务不一致”。](https://dev.mysql.com/doc/refman/8.4/en/replication-features-transaction-inconsistencies.html)
  - ​                  [`replica_preserve_commit_order=ON`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)                  does not preserve the commit order and transaction                  history if the replica uses filters on its binary log,                  such as [`--binlog-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db).                
    [ `replica_preserve_commit_order=ON` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)如果副本在其二进制日志上使用过滤器，例如 [`--binlog-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db)，则不会保留提交顺序和事务历史记录。
  - ​                  [`replica_preserve_commit_order=ON`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)                  does not preserve the order of non-transactional DML                  updates. These might commit before transactions that                  precede them in the relay log, which might result in                  gaps in the sequence of transactions that have been                  executed from the replica's relay log.                
    [ `replica_preserve_commit_order=ON` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)不保留非事务性 DML 更新的顺序。这些事务可能会在中继日志中位于它们之前的事务之前提交，这可能会导致从副本的中继日志执行的事务序列出现间隙。
  - ​                  A limitation to preserving the commit order on the                  replica can occur if statement-based replication is in                  use, and both transactional and non-transactional                  storage engines participate in a non-XA transaction                  that is rolled back on the source. Normally, non-XA                  transactions that are rolled back on the source are                  not replicated to the replica, but in this particular                  situation, the transaction might be replicated to the                  replica. If this does happen, a multithreaded replica                  without binary logging does not handle the transaction                  rollback, so the commit order on the replica diverges                  from the relay log order of the transactions in that                  case. 
    如果正在使用基于语句的复制，并且事务性和非事务性存储引擎都参与了在源上回滚的非 XA 事务，则可能会限制在副本上保留提交顺序。通常，在源上回滚的非 XA  事务不会复制到副本，但在这种特定情况下，事务可能会复制到副本。如果发生这种情况，则没有二进制日志记录的多线程副本不会处理事务回滚，因此在这种情况下，副本上的提交 Sequences 与事务的中继日志 Sequences 不同。

- ​            [`replica_sql_verify_checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_sql_verify_checksum)

  

  

  | Command-Line Format 命令行格式                               | `--replica-sql-verify-checksum[={OFF|ON}]` |
  | ------------------------------------------------------------ | ------------------------------------------ |
  | System Variable 系统变量                                     | `replica_sql_verify_checksum`              |
  | Scope 范围                                                   | Global 全球                                |
  | Dynamic 动态                                                 | Yes 是的                                   |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                      |
  | Type 类型                                                    | Boolean 布尔                               |
  | Default Value 默认值                                         | `ON`                                       |

  ​            [`replica_sql_verify_checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_sql_verify_checksum)            causes the replication SQL (applier) thread to verify data            using the checksums read from the relay log. In the event of            a mismatch, the replica stops with an error. Setting this            variable takes effect for all replication channels            immediately, including running channels. 
  [`replica_sql_verify_checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_sql_verify_checksum)会导致复制 SQL（应用程序）线程使用从中继日志中读取的校验和来验证数据。如果不匹配，副本将停止并显示错误。设置此变量会立即对所有复制通道生效，包括正在运行的通道。

  Note 注意

  ​              The replication I/O (receiver)thread always reads              checksums if possible when accepting events from over the              network. 
  复制 I/O （接收方）线程在接受来自网络的事件时，如果可能，始终读取校验和。

- ​            [`replica_transaction_retries`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_transaction_retries)

  

  

  | Command-Line Format 命令行格式                               | `--replica-transaction-retries=#` |
  | ------------------------------------------------------------ | --------------------------------- |
  | System Variable 系统变量                                     | `replica_transaction_retries`     |
  | Scope 范围                                                   | Global 全球                       |
  | Dynamic 动态                                                 | Yes 是的                          |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                             |
  | Type 类型                                                    | Integer 整数                      |
  | Default Value 默认值                                         | `10`                              |
  | Minimum Value 最小值                                         | `0`                               |
  | Maximum Value 最大值                                         | `18446744073709551615`            |

  ​            [`replica_transaction_retries`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_transaction_retries)            sets the maximum number of times for replication SQL threads            on a single-threaded or multithreaded replica to            automatically retry failed transactions before stopping.            Setting this variable takes effect for all replication            channels immediately, including running channels. The            default value is 10. Setting the variable to 0 disables            automatic retrying of transactions.          
  [`replica_transaction_retries`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_transaction_retries) 设置单线程或多线程副本上的复制 SQL 线程在停止之前自动重试失败的事务的最大次数。设置此变量会立即对所有复制通道生效，包括正在运行的通道。默认值为 10。将变量设置为 0 将禁用事务的自动重试。

  ​            If a replication SQL thread fails to execute a transaction            because of an [`InnoDB`](https://dev.mysql.com/doc/refman/8.4/en/innodb-storage-engine.html) deadlock            or because the transaction's execution time exceeded            [`InnoDB`](https://dev.mysql.com/doc/refman/8.4/en/innodb-storage-engine.html)'s            [`innodb_lock_wait_timeout`](https://dev.mysql.com/doc/refman/8.4/en/innodb-parameters.html#sysvar_innodb_lock_wait_timeout) or            [`NDB`](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster.html)'s            [`TransactionDeadlockDetectionTimeout`](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster-ndbd-definition.html#ndbparam-ndbd-transactiondeadlockdetectiontimeout)            or            [`TransactionInactiveTimeout`](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster-ndbd-definition.html#ndbparam-ndbd-transactioninactivetimeout),            it automatically retries            [`replica_transaction_retries`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_transaction_retries)            times before stopping with an error. Transactions with a            non-temporary error are not retried.          
  如果复制 SQL 线程由于 [`InnoDB`](https://dev.mysql.com/doc/refman/8.4/en/innodb-storage-engine.html) 死锁或事务的执行时间超过[`InnoDB`](https://dev.mysql.com/doc/refman/8.4/en/innodb-storage-engine.html)的[`innodb_lock_wait_timeout`](https://dev.mysql.com/doc/refman/8.4/en/innodb-parameters.html#sysvar_innodb_lock_wait_timeout)或 [`NDB`](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster.html)[ `TransactionDeadlockDetectionTimeout` ](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster-ndbd-definition.html#ndbparam-ndbd-transactiondeadlockdetectiontimeout) 或[`TransactionInactiveTimeout`](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster-ndbd-definition.html#ndbparam-ndbd-transactioninactivetimeout)而无法执行事务，则它会自动重试[`replica_transaction_retries`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_transaction_retries)次，然后停止并显示错误。不会重试具有非临时错误的事务。

  ​            The Performance Schema table            [`replication_applier_status`](https://dev.mysql.com/doc/refman/8.4/en/performance-schema-replication-applier-status-table.html)            shows the number of retries that took place on each            replication channel, in the            `COUNT_TRANSACTIONS_RETRIES` column. The            Performance Schema table            [`replication_applier_status_by_worker`](https://dev.mysql.com/doc/refman/8.4/en/performance-schema-replication-applier-status-by-worker-table.html)            shows detailed information on transaction retries by            individual applier threads on a single-threaded or            multithreaded replica, and identifies the errors that caused            the last transaction and the transaction currently in            progress to be reattempted.          
  Performance Schema 表[`replication_applier_status 在`](https://dev.mysql.com/doc/refman/8.4/en/performance-schema-replication-applier-status-table.html) `COUNT_TRANSACTIONS_RETRIES` 列中显示每个复制通道上发生的重试次数。Performance Schema 表[ `replication_applier_status_by_worker` ](https://dev.mysql.com/doc/refman/8.4/en/performance-schema-replication-applier-status-by-worker-table.html)显示了有关单线程或多线程副本上各个应用线程重试事务的详细信息，并标识导致重新尝试最后一个事务和当前正在进行的事务的错误。

- ​            [`replica_type_conversions`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_type_conversions)

  

  

  | Command-Line Format 命令行格式                               | `--replica-type-conversions=set`                     |
  | ------------------------------------------------------------ | ---------------------------------------------------- |
  | System Variable 系统变量                                     | `replica_type_conversions`                           |
  | Scope 范围                                                   | Global 全球                                          |
  | Dynamic 动态                                                 | Yes 是的                                             |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                                |
  | Type 类型                                                    | Set 设置                                             |
  | Default Value 默认值                                         | ``                                                   |
  | Valid Values 有效值                                          | `ALL_LOSSY``ALL_NON_LOSSY``ALL_SIGNED``ALL_UNSIGNED` |

  ​            [`replica_type_conversions`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_type_conversions)            controls the type conversion mode in effect on the replica            when using row-based replication. Its value is a            comma-delimited set of zero or more elements from the list:            `ALL_LOSSY`,            `ALL_NON_LOSSY`,            `ALL_SIGNED`,            `ALL_UNSIGNED`. Set this variable to an            empty string to disallow type conversions between the source            and the replica. Setting this variable takes effect for all            replication channels immediately, including running            channels.          
  [`replica_type_conversions`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_type_conversions) 控制使用基于行的复制时对副本有效的类型转换模式。它的值是列表中零个或多个元素的逗号分隔集：`ALL_LOSSY`、`ALL_NON_LOSSY`、`ALL_SIGNED` `ALL_UNSIGNED`。将此变量设置为空字符串，以禁止源和副本之间的类型转换。设置此变量会立即对所有复制通道生效，包括正在运行的通道。

  ​            For additional information on type conversion modes            applicable to attribute promotion and demotion in row-based            replication, see            [Row-based replication: attribute promotion and demotion](https://dev.mysql.com/doc/refman/8.4/en/replication-features-differing-tables.html#replication-features-attribute-promotion).          
  有关适用于基于行的复制中的属性提升和降级的类型转换模式的其他信息，请参阅[基于行的复制：属性提升和降级](https://dev.mysql.com/doc/refman/8.4/en/replication-features-differing-tables.html#replication-features-attribute-promotion)。

- ​            [`replication_optimize_for_static_plugin_config`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replication_optimize_for_static_plugin_config)

  

  

  | Command-Line Format 命令行格式                               | `--replication-optimize-for-static-plugin-config[={OFF|ON}]` |
  | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | System Variable 系统变量                                     | `replication_optimize_for_static_plugin_config`              |
  | Scope 范围                                                   | Global 全球                                                  |
  | Dynamic 动态                                                 | Yes 是的                                                     |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                                        |
  | Type 类型                                                    | Boolean 布尔                                                 |
  | Default Value 默认值                                         | `OFF`                                                        |

  ​            Use shared locks, and avoid unnecessary lock acquisitions,            to improve performance for semisynchronous replication. This            setting and            [`replication_sender_observe_commit_only`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replication_sender_observe_commit_only)            help as the number of replicas increases, because contention            for locks can slow down performance. While this system            variable is enabled, the semisynchronous replication plugin            cannot be uninstalled, so you must disable the system            variable before the uninstall can complete.          
  使用共享锁，并避免不必要的锁获取，以提高半同步复制的性能。此设置会[ `replication_sender_observe_commit_only` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replication_sender_observe_commit_only)随着副本数的增加而提供帮助，因为锁的争用会降低性能。启用此系统变量后，无法卸载半同步复制插件，因此必须先禁用该系统变量，然后才能完成卸载。

  ​            This system variable can be enabled before or after            installing the semisynchronous replication plugin, and can            be enabled while replication is running. Semisynchronous            replication source servers can also get performance benefits            from enabling this system variable, because they use the            same locking mechanisms as the replicas.          
  此系统变量可以在安装半同步复制插件之前或之后启用，并且可以在复制运行时启用。半同步复制源服务器还可以通过启用此系统变量来获得性能优势，因为它们使用与副本相同的锁定机制。

  ​            [`replication_optimize_for_static_plugin_config`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replication_optimize_for_static_plugin_config)            can be enabled when Group Replication is in use on a server.            In that scenario, it might benefit performance when there is            contention for locks due to high workloads.          
  [ `replication_optimize_for_static_plugin_config` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replication_optimize_for_static_plugin_config)当服务器上正在使用组复制时，可以启用。在这种情况下，当由于高工作负载而争用锁时，它可能会提高性能。

- ​            [`replication_sender_observe_commit_only`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replication_sender_observe_commit_only)

  

  

  | Command-Line Format 命令行格式                               | `--replication-sender-observe-commit-only[={OFF|ON}]` |
  | ------------------------------------------------------------ | ----------------------------------------------------- |
  | System Variable 系统变量                                     | `replication_sender_observe_commit_only`              |
  | Scope 范围                                                   | Global 全球                                           |
  | Dynamic 动态                                                 | Yes 是的                                              |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                                 |
  | Type 类型                                                    | Boolean 布尔                                          |
  | Default Value 默认值                                         | `OFF`                                                 |

  ​            Limit callbacks to improve performance for semisynchronous            replication. This setting and            [`replication_optimize_for_static_plugin_config`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replication_optimize_for_static_plugin_config)            help as the number of replicas increases, because contention            for locks can slow down performance.          
  限制回调以提高半同步复制的性能。此设置会[ `replication_optimize_for_static_plugin_config` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replication_optimize_for_static_plugin_config)随着副本数的增加而提供帮助，因为锁的争用会降低性能。

  ​            This system variable can be enabled before or after            installing the semisynchronous replication plugin, and can            be enabled while replication is running. Semisynchronous            replication source servers can also get performance benefits            from enabling this system variable, because they use the            same locking mechanisms as the replicas.          
  此系统变量可以在安装半同步复制插件之前或之后启用，并且可以在复制运行时启用。半同步复制源服务器还可以通过启用此系统变量来获得性能优势，因为它们使用与副本相同的锁定机制。

- ​            [`report_host`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_report_host)

  

  

  | Command-Line Format 命令行格式                               | `--report-host=host_name` |
  | ------------------------------------------------------------ | ------------------------- |
  | System Variable 系统变量                                     | `report_host`             |
  | Scope 范围                                                   | Global 全球               |
  | Dynamic 动态                                                 | No 不                     |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                     |
  | Type 类型                                                    | String 字符串             |

  ​            The host name or IP address of the replica to be reported to            the source during replica registration. This value appears            in the output of [`SHOW             REPLICAS`](https://dev.mysql.com/doc/refman/8.4/en/show-replicas.html) on the source server. Leave the value            unset if you do not want the replica to register itself with            the source. 
  在副本注册期间要报告给源的副本的主机名或 IP 地址。此值显示在源服务器上的 [`SHOW REPLICAS`](https://dev.mysql.com/doc/refman/8.4/en/show-replicas.html) 输出中。如果您不希望副本向源注册自身，请保留该值未设置。

  Note 注意

  ​              It is not sufficient for the source to simply read the IP              address of the replica server from the TCP/IP socket after              the replica connects. Due to NAT and other routing issues,              that IP may not be valid for connecting to the replica              from the source or other hosts. 
  在副本连接后，源仅从 TCP/IP 套接字读取副本服务器的 IP 地址是不够的。由于 NAT 和其他路由问题，该 IP 可能无法从源或其他主机连接到副本。

- ​            [`report_password`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_report_password)

  

  

  | Command-Line Format 命令行格式                               | `--report-password=name` `--report-password=名称` |
  | ------------------------------------------------------------ | ------------------------------------------------- |
  | System Variable 系统变量                                     | `report_password`                                 |
  | Scope 范围                                                   | Global 全球                                       |
  | Dynamic 动态                                                 | No 不                                             |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                             |
  | Type 类型                                                    | String 字符串                                     |

  ​            The account password of the replica to be reported to the            source during replica registration. This value appears in            the output of [`SHOW REPLICAS`](https://dev.mysql.com/doc/refman/8.4/en/show-replicas.html)            on the source server if the source was started with            [`--show-replica-auth-info`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#option_mysqld_show-replica-auth-info).          
  副本注册时要上报给源的副本的账号密码。如果源是使用 [`--show-replica-auth-info`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#option_mysqld_show-replica-auth-info) 启动的，则此值将显示在源服务器上的 [`SHOW REPLICAS`](https://dev.mysql.com/doc/refman/8.4/en/show-replicas.html) 输出中。

  ​            Although the name of this variable might imply otherwise,            [`report_password`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_report_password) is not            connected to the MySQL user privilege system and so is not            necessarily (or even likely to be) the same as the password            for the MySQL replication user account.          
  尽管此变量的名称可能另有含义，[`但report_password`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_report_password)未连接到 MySQL 用户权限系统，因此不一定（甚至可能）与 MySQL 复制用户帐户的密码相同。

- ​            [`report_port`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_report_port)

  

  

  | Command-Line Format 命令行格式                               | `--report-port=port_num` |
  | ------------------------------------------------------------ | ------------------------ |
  | System Variable 系统变量                                     | `report_port`            |
  | Scope 范围                                                   | Global 全球              |
  | Dynamic 动态                                                 | No 不                    |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                    |
  | Type 类型                                                    | Integer 整数             |
  | Default Value 默认值                                         | `[slave_port]`           |
  | Minimum Value 最小值                                         | `0`                      |
  | Maximum Value 最大值                                         | `65535`                  |

  ​            The TCP/IP port number for connecting to the replica, to be            reported to the source during replica registration. Set this            only if the replica is listening on a nondefault port or if            you have a special tunnel from the source or other clients            to the replica. If you are not sure, do not use this option.          
  用于连接到副本的 TCP/IP 端口号，在副本注册期间报告给源。仅当副本正在侦听非默认端口，或者您有从源或其他客户端到副本的特殊隧道时，才设置此项。如果您不确定，请不要使用此选项。

  ​            The default value for this option is the port number            actually used by the replica. This is also the default value            displayed by [`SHOW REPLICAS`](https://dev.mysql.com/doc/refman/8.4/en/show-replicas.html).          
  此选项的默认值是副本实际使用的端口号。这也是 [`SHOW REPLICAS`](https://dev.mysql.com/doc/refman/8.4/en/show-replicas.html) 显示的默认值。

- ​            [`report_user`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_report_user)

  

  

  | Command-Line Format 命令行格式                               | `--report-user=name` `--report-user=名称` |
  | ------------------------------------------------------------ | ----------------------------------------- |
  | System Variable 系统变量                                     | `report_user`                             |
  | Scope 范围                                                   | Global 全球                               |
  | Dynamic 动态                                                 | No 不                                     |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                     |
  | Type 类型                                                    | String 字符串                             |

  ​            The account user name of the replica to be reported to the            source during replica registration. This value appears in            the output of [`SHOW REPLICAS`](https://dev.mysql.com/doc/refman/8.4/en/show-replicas.html)            on the source server if the source was started with            [`--show-replica-auth-info`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#option_mysqld_show-replica-auth-info).          
  在副本注册期间要报告给源的副本的账户用户名。如果源是使用 [`--show-replica-auth-info`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#option_mysqld_show-replica-auth-info) 启动的，则此值将显示在源服务器上的 [`SHOW REPLICAS`](https://dev.mysql.com/doc/refman/8.4/en/show-replicas.html) 输出中。

  ​            Although the name of this variable might imply otherwise,            [`report_user`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_report_user) is not            connected to the MySQL user privilege system and so is not            necessarily (or even likely to be) the same as the name of            the MySQL replication user account.          
  尽管此变量的名称可能另有含义，[`但report_user`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_report_user)未连接到 MySQL 用户权限系统，因此不一定（甚至可能）与 MySQL 复制用户帐户的名称相同。

- ​            [`rpl_read_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_rpl_read_size)

  

  

  | Command-Line Format 命令行格式                               | `--rpl-read-size=#` |
  | ------------------------------------------------------------ | ------------------- |
  | System Variable 系统变量                                     | `rpl_read_size`     |
  | Scope 范围                                                   | Global 全球         |
  | Dynamic 动态                                                 | Yes 是的            |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不               |
  | Type 类型                                                    | Integer 整数        |
  | Default Value 默认值                                         | `8192`              |
  | Minimum Value 最小值                                         | `8192`              |
  | Maximum Value 最大值                                         | `4294959104`        |
  | Unit 单位                                                    | bytes 字节          |
  | [Block Size 区块大小](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#system-variables-block-size) | `8192`              |

  ​            The [`rpl_read_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_rpl_read_size) system            variable controls the minimum amount of data in bytes that            is read from the binary log files and relay log files. If            heavy disk I/O activity for these files is impeding            performance for the database, increasing the read size might            reduce file reads and I/O stalls when the file data is not            currently cached by the operating system.          
  [`rpl_read_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_rpl_read_size) 系统变量控制从二进制日志文件和中继日志文件中读取的最小数据量（以字节为单位）。如果这些文件的大量磁盘 I/O 活动影响了数据库的性能，则增加读取大小可能会减少文件读取，并且当操作系统当前未缓存文件数据时，I/O 会停止。

  ​            The minimum and default value for            [`rpl_read_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_rpl_read_size) is 8192            bytes. The value must be a multiple of 4KB. Note that a            buffer the size of this value is allocated for each thread            that reads from the binary log and relay log files,            including dump threads on sources and coordinator threads on            replicas. Setting a large value might therefore have an            impact on memory consumption for servers.          
  [`rpl_read_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_rpl_read_size) 的最小值和默认值为 8192 字节。该值必须是 4KB 的倍数。请注意，将为从二进制日志和中继日志文件中读取的每个线程分配一个缓冲区，包括源上的转储线程和副本上的协调器线程。因此，设置较大的值可能会影响服务器的内存消耗。

- ​            [`rpl_semi_sync_replica_enabled`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_rpl_semi_sync_replica_enabled)

  

  

  | Command-Line Format 命令行格式                               | `--rpl-semi-sync-replica-enabled[={OFF|ON}]` |
  | ------------------------------------------------------------ | -------------------------------------------- |
  | System Variable 系统变量                                     | `rpl_semi_sync_replica_enabled`              |
  | Scope 范围                                                   | Global 全球                                  |
  | Dynamic 动态                                                 | Yes 是的                                     |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                        |
  | Type 类型                                                    | Boolean 布尔                                 |
  | Default Value 默认值                                         | `OFF`                                        |

  ​            [`rpl_semi_sync_replica_enabled`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_rpl_semi_sync_replica_enabled)            controls whether semisynchronous replication is enabled on            the replica server. To enable or disable the plugin, set            this variable to `ON` or            `OFF` (or 1 or 0), respectively. The            default is `OFF`.          
  [`rpl_semi_sync_replica_enabled`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_rpl_semi_sync_replica_enabled) 控制是否在副本服务器上启用半同步复制。要启用或禁用插件，请将此变量分别设置为 `ON` 或 `OFF`（或 1 或 0）。默认值为 `OFF。`

  ​            This variable is available only if the replica-side            semisynchronous replication plugin is installed.          
  仅当安装了副本端半同步复制插件时，此变量才可用。

- ​            [`rpl_semi_sync_replica_trace_level`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_rpl_semi_sync_replica_trace_level)

  

  

  | Command-Line Format 命令行格式                               | `--rpl-semi-sync-replica-trace-level=#` |
  | ------------------------------------------------------------ | --------------------------------------- |
  | System Variable 系统变量                                     | `rpl_semi_sync_replica_trace_level`     |
  | Scope 范围                                                   | Global 全球                             |
  | Dynamic 动态                                                 | Yes 是的                                |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                   |
  | Type 类型                                                    | Integer 整数                            |
  | Default Value 默认值                                         | `32`                                    |
  | Minimum Value 最小值                                         | `0`                                     |
  | Maximum Value 最大值                                         | `4294967295`                            |

  ​            [`rpl_semi_sync_replica_trace_level`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_rpl_semi_sync_replica_trace_level)            controls the semisynchronous replication debug trace level            on the replica server. See            [`rpl_semi_sync_master_trace_level`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_master_trace_level)            for the permissible values.          
  [ `rpl_semi_sync_replica_trace_level` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_rpl_semi_sync_replica_trace_level)控制副本服务器上的半同步复制调试跟踪级别。请参阅 [ `rpl_semi_sync_master_trace_level` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html#sysvar_rpl_semi_sync_master_trace_level) 允许的值。

  ​            This variable is available only if the replica-side            semisynchronous replication plugin is installed.          
  仅当安装了副本端半同步复制插件时，此变量才可用。

- ​            [`rpl_semi_sync_slave_enabled`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_rpl_semi_sync_slave_enabled)

  

  

  | Command-Line Format 命令行格式                               | `--rpl-semi-sync-slave-enabled[={OFF|ON}]` |
  | ------------------------------------------------------------ | ------------------------------------------ |
  | System Variable 系统变量                                     | `rpl_semi_sync_slave_enabled`              |
  | Scope 范围                                                   | Global 全球                                |
  | Dynamic 动态                                                 | Yes 是的                                   |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                      |
  | Type 类型                                                    | Boolean 布尔                               |
  | Default Value 默认值                                         | `OFF`                                      |

  ​            Deprecated synonym for            [`rpl_semi_sync_replica_enabled`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_rpl_semi_sync_replica_enabled).          
  已弃用的 [`rpl_semi_sync_replica_enabled`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_rpl_semi_sync_replica_enabled) 同义词。

- ​            [`rpl_semi_sync_slave_trace_level`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_rpl_semi_sync_slave_trace_level)

  

  

  | Command-Line Format 命令行格式                               | `--rpl-semi-sync-slave-trace-level=#` |
  | ------------------------------------------------------------ | ------------------------------------- |
  | System Variable 系统变量                                     | `rpl_semi_sync_slave_trace_level`     |
  | Scope 范围                                                   | Global 全球                           |
  | Dynamic 动态                                                 | Yes 是的                              |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                 |
  | Type 类型                                                    | Integer 整数                          |
  | Default Value 默认值                                         | `32`                                  |
  | Minimum Value 最小值                                         | `0`                                   |
  | Maximum Value 最大值                                         | `4294967295`                          |

  ​            Deprecated synonym for            [`rpl_semi_sync_replica_trace_level`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_rpl_semi_sync_replica_trace_level).          
  已弃用的同义词 [ `rpl_semi_sync_replica_trace_level` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_rpl_semi_sync_replica_trace_level)。

- ​            [`rpl_stop_replica_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_rpl_stop_replica_timeout)

  

  

  | Command-Line Format 命令行格式                               | `--rpl-stop-replica-timeout=#` |
  | ------------------------------------------------------------ | ------------------------------ |
  | System Variable 系统变量                                     | `rpl_stop_replica_timeout`     |
  | Scope 范围                                                   | Global 全球                    |
  | Dynamic 动态                                                 | Yes 是的                       |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                          |
  | Type 类型                                                    | Integer 整数                   |
  | Default Value 默认值                                         | `31536000`                     |
  | Minimum Value 最小值                                         | `2`                            |
  | Maximum Value 最大值                                         | `31536000`                     |
  | Unit 单位                                                    | seconds 秒                     |

  ​            You can control the length of time (in seconds) that            [`STOP REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/stop-replica.html) waits before            timing out by setting this variable. This can be used to            avoid deadlocks between [`STOP             REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/stop-replica.html) and other SQL statements using different            client connections to the replica.          
  您可以通过设置此变量来控制 [`STOP REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/stop-replica.html) 在超时之前等待的时间长度（以秒为单位）。这可用于避免 [`STOP REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/stop-replica.html) 和其他 SQL 语句之间使用与副本的不同客户端连接出现死锁。

  ​            The maximum and default value of            `rpl_stop_replica_timeout` is 31536000            seconds (1 year). The minimum is 2 seconds. Changes to this            variable take effect for subsequent            [`STOP REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/stop-replica.html) statements.          
  `rpl_stop_replica_timeout` 的最大值和默认值为 31536000 秒（1 年）。最小值为 2 秒。对此变量的更改将对后续的 [`STOP REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/stop-replica.html) 语句生效。

  ​            This variable affects only the client that issues a            [`STOP REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/stop-replica.html) statement. When            the timeout is reached, the issuing client returns an error            message stating that the command execution is incomplete.            The client then stops waiting for the replication I/O            (receiver)and SQL (applier) threads to stop, but the            replication threads continue to try to stop, and the            [`STOP REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/stop-replica.html) statement            remains in effect. Once the replication threads are no            longer busy, the [`STOP REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/stop-replica.html)            statement is executed and the replica stops.          
  此变量仅影响发出 [`STOP REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/stop-replica.html) 语句的客户端。当达到超时时，发出客户端将返回一条错误消息，指出命令执行未完成。然后，客户端停止等待复制 I/O（接收方）和 SQL（应用程序）线程停止，但复制线程继续尝试停止，并且 [`STOP REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/stop-replica.html) 语句仍然有效。一旦复制线程不再繁忙，将执行 [`STOP REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/stop-replica.html) 语句并停止副本。

- ​            [`rpl_stop_slave_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_rpl_stop_slave_timeout)

  

  

  | Command-Line Format 命令行格式                               | `--rpl-stop-slave-timeout=#` |
  | ------------------------------------------------------------ | ---------------------------- |
  | Deprecated 荒废的                                            | Yes 是的                     |
  | System Variable 系统变量                                     | `rpl_stop_slave_timeout`     |
  | Scope 范围                                                   | Global 全球                  |
  | Dynamic 动态                                                 | Yes 是的                     |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                        |
  | Type 类型                                                    | Integer 整数                 |
  | Default Value 默认值                                         | `31536000`                   |
  | Minimum Value 最小值                                         | `2`                          |
  | Maximum Value 最大值                                         | `31536000`                   |
  | Unit 单位                                                    | seconds 秒                   |

  ​            Deprecated synonym for            [`rpl_stop_replica_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_rpl_stop_replica_timeout).          
  已弃用的 [`rpl_stop_replica_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_rpl_stop_replica_timeout) 同义词。

- ​            [`skip_replica_start`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_skip_replica_start)

  

  

  | Command-Line Format 命令行格式                               | `--skip-replica-start[={OFF|ON}]` |
  | ------------------------------------------------------------ | --------------------------------- |
  | System Variable 系统变量                                     | `skip_replica_start`              |
  | Scope 范围                                                   | Global 全球                       |
  | Dynamic 动态                                                 | No 不                             |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                             |
  | Type 类型                                                    | Boolean 布尔                      |
  | Default Value 默认值                                         | `OFF`                             |

  ​            [`skip_replica_start`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_skip_replica_start) tells            the replica server not to start the replication I/O            (receiver) and SQL (applier) threads when the server starts.            To start the threads later, use a [`START             REPLICA `](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) statement.          
  [`skip_replica_start`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_skip_replica_start) 告诉副本服务器在服务器启动时不要启动复制 I/O（接收方）和 SQL（应用程序）线程。要稍后启动线程，请使用 [`START REPLICA `](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) 语句。

  ​            This system variable is read-only and can be set by using            the `PERSIST_ONLY` keyword or the            `@@persist_only` qualifier with the            [`SET`](https://dev.mysql.com/doc/refman/8.4/en/set.html) statement. The            [`--skip-replica-start`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_skip-replica-start) command            line option also sets this system variable. You can use the            system variable in place of the command line option to allow            access to this feature using MySQL Server’s privilege            structure, so that database administrators do not need any            privileged access to the operating system.          
  此系统变量是只读的，可以通过使用 `PERSIST_ONLY` 关键字或带有 [`SET`](https://dev.mysql.com/doc/refman/8.4/en/set.html) 语句的 `@@persist_only` 限定符来设置。[`--skip-replica-start`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_skip-replica-start) 命令行选项也会设置此系统变量。您可以使用 system 变量代替命令行选项，以允许使用 MySQL Server 的权限结构访问此功能，以便数据库管理员不需要对操作系统的任何特权访问。

- ​            [`skip_slave_start`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_skip_slave_start)

  

  

  | Command-Line Format 命令行格式                               | `--skip-slave-start[={OFF|ON}]` |
  | ------------------------------------------------------------ | ------------------------------- |
  | Deprecated 荒废的                                            | Yes 是的                        |
  | System Variable 系统变量                                     | `skip_slave_start`              |
  | Scope 范围                                                   | Global 全球                     |
  | Dynamic 动态                                                 | No 不                           |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                           |
  | Type 类型                                                    | Boolean 布尔                    |
  | Default Value 默认值                                         | `OFF`                           |

  ​            Deprecated synonym for            [`--skip-replica-start`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_skip-replica-start).          
  已弃用 [`--skip-replica-start`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_skip-replica-start) 的同义词。

- ​            [`slave_checkpoint_group`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_slave_checkpoint_group)

  

  

  | Command-Line Format 命令行格式                               | `--slave-checkpoint-group=#` |
  | ------------------------------------------------------------ | ---------------------------- |
  | Deprecated 荒废的                                            | Yes 是的                     |
  | System Variable 系统变量                                     | `slave_checkpoint_group`     |
  | Scope 范围                                                   | Global 全球                  |
  | Dynamic 动态                                                 | Yes 是的                     |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                        |
  | Type 类型                                                    | Integer 整数                 |
  | Default Value 默认值                                         | `512`                        |
  | Minimum Value 最小值                                         | `32`                         |
  | Maximum Value 最大值                                         | `524280`                     |
  | [Block Size 区块大小](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#system-variables-block-size) | `8`                          |

  ​            Deprecated synonym for            [`replica_checkpoint_group`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_checkpoint_group).          
  已弃用的 [`replica_checkpoint_group`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_checkpoint_group) 同义词。

- ​            [`slave_checkpoint_period`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_slave_checkpoint_period)

  

  

  | Command-Line Format 命令行格式                               | `--slave-checkpoint-period=#` |
  | ------------------------------------------------------------ | ----------------------------- |
  | Deprecated 荒废的                                            | Yes 是的                      |
  | System Variable 系统变量                                     | `slave_checkpoint_period`     |
  | Scope 范围                                                   | Global 全球                   |
  | Dynamic 动态                                                 | Yes 是的                      |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                         |
  | Type 类型                                                    | Integer 整数                  |
  | Default Value 默认值                                         | `300`                         |
  | Minimum Value 最小值                                         | `1`                           |
  | Maximum Value 最大值                                         | `4294967295`                  |
  | Unit 单位                                                    | milliseconds 毫秒             |

  ​            Deprecated synonym for            [`replica_checkpoint_period`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_checkpoint_period).          
  已弃用 [`replica_checkpoint_period`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_checkpoint_period) 的同义词。

- ​            [`slave_compressed_protocol`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_slave_compressed_protocol)

  

  

  | Command-Line Format 命令行格式                               | `--slave-compressed-protocol[={OFF|ON}]` |
  | ------------------------------------------------------------ | ---------------------------------------- |
  | Deprecated 荒废的                                            | Yes 是的                                 |
  | System Variable 系统变量                                     | `slave_compressed_protocol`              |
  | Scope 范围                                                   | Global 全球                              |
  | Dynamic 动态                                                 | Yes 是的                                 |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                    |
  | Type 类型                                                    | Boolean 布尔                             |
  | Default Value 默认值                                         | `OFF`                                    |

  ​            Deprecated alias for            [`replica_compressed_protocol`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_compressed_protocol).          
  已弃用 [`replica_compressed_protocol`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_compressed_protocol) 的别名。

- ​            [`slave_exec_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_slave_exec_mode)

  

  

  | Command-Line Format 命令行格式                               | `--slave-exec-mode=mode` `--slave-exec-mode=模式`            |
  | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | System Variable 系统变量                                     | `slave_exec_mode`                                            |
  | Scope 范围                                                   | Global 全球                                                  |
  | Dynamic 动态                                                 | Yes 是的                                                     |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                                        |
  | Type 类型                                                    | Enumeration 列举                                             |
  | Default Value 默认值                                         | `IDEMPOTENT` (NDB) `幂等` （NDB）`STRICT` (Other) `STRICT` （其他） |
  | Valid Values 有效值                                          | `STRICT``IDEMPOTENT`                                         |

  ​            Deprecated alias for            [`replica_exec_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_exec_mode).          
  已弃用的 [`replica_exec_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_exec_mode) 别名。

- ​            [`slave_load_tmpdir`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_slave_load_tmpdir)

  

  

  | Command-Line Format 命令行格式                               | `--slave-load-tmpdir=dir_name`      |
  | ------------------------------------------------------------ | ----------------------------------- |
  | Deprecated 荒废的                                            | Yes 是的                            |
  | System Variable 系统变量                                     | `slave_load_tmpdir`                 |
  | Scope 范围                                                   | Global 全球                         |
  | Dynamic 动态                                                 | No 不                               |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                               |
  | Type 类型                                                    | Directory name 目录名称             |
  | Default Value 默认值                                         | `Value of --tmpdir` `--tmpdir 的值` |

  ​            Deprecated alias for            [`replica_load_tmpdir`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_load_tmpdir).          
  已弃用的 [`replica_load_tmpdir`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_load_tmpdir) 别名。

- ​            [`slave_max_allowed_packet`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_slave_max_allowed_packet)

  

  

  | Command-Line Format 命令行格式                               | `--slave-max-allowed-packet=#` |
  | ------------------------------------------------------------ | ------------------------------ |
  | Deprecated 荒废的                                            | Yes 是的                       |
  | System Variable 系统变量                                     | `slave_max_allowed_packet`     |
  | Scope 范围                                                   | Global 全球                    |
  | Dynamic 动态                                                 | Yes 是的                       |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                          |
  | Type 类型                                                    | Integer 整数                   |
  | Default Value 默认值                                         | `1073741824`                   |
  | Minimum Value 最小值                                         | `1024`                         |
  | Maximum Value 最大值                                         | `1073741824`                   |
  | Unit 单位                                                    | bytes 字节                     |
  | [Block Size 区块大小](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#system-variables-block-size) | `1024`                         |

  ​            Deprecated alias for            [`replica_max_allowed_packet`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_max_allowed_packet).          
  已弃用的 [`replica_max_allowed_packet`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_max_allowed_packet) 别名。

- ​            [`slave_net_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_slave_net_timeout)

  

  

  | Command-Line Format 命令行格式                               | `--slave-net-timeout=#` |
  | ------------------------------------------------------------ | ----------------------- |
  | Deprecated 荒废的                                            | Yes 是的                |
  | System Variable 系统变量                                     | `slave_net_timeout`     |
  | Scope 范围                                                   | Global 全球             |
  | Dynamic 动态                                                 | Yes 是的                |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                   |
  | Type 类型                                                    | Integer 整数            |
  | Default Value 默认值                                         | `60`                    |
  | Minimum Value 最小值                                         | `1`                     |
  | Maximum Value 最大值                                         | `31536000`              |
  | Unit 单位                                                    | seconds 秒              |

  ​            Deprecated alias for            [`replica_net_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_net_timeout).          
  已弃用的 [`replica_net_timeout`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_net_timeout) 别名。

- ​            [`slave_parallel_type`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_slave_parallel_type)

  

  

  | Command-Line Format 命令行格式                               | `--slave-parallel-type=value` `--slave-parallel-type=值` |
  | ------------------------------------------------------------ | -------------------------------------------------------- |
  | Deprecated 荒废的                                            | Yes 是的                                                 |
  | System Variable 系统变量                                     | `slave_parallel_type`                                    |
  | Scope 范围                                                   | Global 全球                                              |
  | Dynamic 动态                                                 | Yes 是的                                                 |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                                    |
  | Type 类型                                                    | Enumeration 列举                                         |
  | Default Value 默认值                                         | `LOGICAL_CLOCK`                                          |
  | Valid Values 有效值                                          | `DATABASE``LOGICAL_CLOCK`                                |

  ​            Deprecated alias for            [`replica_parallel_type`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_type).          
  已弃用的 [`replica_parallel_type`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_type) 别名。

- ​            [`slave_parallel_workers`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_slave_parallel_workers)

  

  

  | Command-Line Format 命令行格式                               | `--slave-parallel-workers=#` |
  | ------------------------------------------------------------ | ---------------------------- |
  | Deprecated 荒废的                                            | Yes 是的                     |
  | System Variable 系统变量                                     | `slave_parallel_workers`     |
  | Scope 范围                                                   | Global 全球                  |
  | Dynamic 动态                                                 | Yes 是的                     |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                        |
  | Type 类型                                                    | Integer 整数                 |
  | Default Value 默认值                                         | `4`                          |
  | Minimum Value 最小值                                         | `0`                          |
  | Maximum Value 最大值                                         | `1024`                       |

  ​            Deprecated alias for            [`replica_parallel_workers`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_workers).          
  已弃用 [`replica_parallel_workers`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_workers) 的别名。

- ​            [`slave_pending_jobs_size_max`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_slave_pending_jobs_size_max)

  

  

  | Command-Line Format 命令行格式                               | `--slave-pending-jobs-size-max=#` |
  | ------------------------------------------------------------ | --------------------------------- |
  | Deprecated 荒废的                                            | Yes 是的                          |
  | System Variable 系统变量                                     | `slave_pending_jobs_size_max`     |
  | Scope 范围                                                   | Global 全球                       |
  | Dynamic 动态                                                 | Yes 是的                          |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                             |
  | Type 类型                                                    | Integer 整数                      |
  | Default Value 默认值                                         | `128M`                            |
  | Minimum Value 最小值                                         | `1024`                            |
  | Maximum Value 最大值                                         | `16EiB`                           |
  | Unit 单位                                                    | bytes 字节                        |
  | [Block Size 区块大小](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#system-variables-block-size) | `1024`                            |

  ​            Deprecated alias for            [`replica_pending_jobs_size_max`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_pending_jobs_size_max).          
  已弃用 [`replica_pending_jobs_size_max`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_pending_jobs_size_max) 的别名。

- ​            [`slave_preserve_commit_order`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_slave_preserve_commit_order)

  

  

  | Command-Line Format 命令行格式                               | `--slave-preserve-commit-order[={OFF|ON}]` |
  | ------------------------------------------------------------ | ------------------------------------------ |
  | Deprecated 荒废的                                            | Yes 是的                                   |
  | System Variable 系统变量                                     | `slave_preserve_commit_order`              |
  | Scope 范围                                                   | Global 全球                                |
  | Dynamic 动态                                                 | Yes 是的                                   |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                      |
  | Type 类型                                                    | Boolean 布尔                               |
  | Default Value 默认值                                         | `ON`                                       |

  ​            Deprecated alias for            [`replica_preserve_commit_order`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order).          
  已弃用的 [`replica_preserve_commit_order`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order) 别名。

- ​            [`slave_skip_errors`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_slave_skip_errors)

  

  

  | Command-Line Format 命令行格式                               | `--slave-skip-errors=name` `--slave-skip-errors=名称`        |
  | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | Deprecated 荒废的                                            | Yes 是的                                                     |
  | System Variable 系统变量                                     | `slave_skip_errors`                                          |
  | Scope 范围                                                   | Global 全球                                                  |
  | Dynamic 动态                                                 | No 不                                                        |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                                        |
  | Type 类型                                                    | String 字符串                                                |
  | Default Value 默认值                                         | `OFF`                                                        |
  | Valid Values 有效值                                          | `OFF` `离``[list of error codes]` `[错误代码列表]``all` `都``ddl_exist_errors` |

  ​            Deprecated alias for            [`replica_skip_errors`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_skip_errors).          
  已弃用的 [`replica_skip_errors`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_skip_errors) 别名。

- ​            [`replica_skip_errors`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_skip_errors)

  

  

  | Command-Line Format 命令行格式                               | `--replica-skip-errors=name` `--replica-skip-errors=名称`    |
  | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | System Variable 系统变量                                     | `replica_skip_errors`                                        |
  | Scope 范围                                                   | Global 全球                                                  |
  | Dynamic 动态                                                 | No 不                                                        |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                                        |
  | Type 类型                                                    | String 字符串                                                |
  | Default Value 默认值                                         | `OFF`                                                        |
  | Valid Values 有效值                                          | `OFF` `离``[list of error codes]` `[错误代码列表]``all` `都``ddl_exist_errors` |

  ​            Normally, replication stops when an error occurs on the            replica, which gives you the opportunity to resolve the            inconsistency in the data manually. This variable causes the            replication SQL thread to continue replication when a            statement returns any of the errors listed in the variable            value.          
  通常，当副本上发生错误时，复制会停止，这让您有机会手动解决数据中的不一致。当语句返回变量值中列出的任何错误时，此变量会导致复制 SQL 线程继续复制。

- ​            [`slave_sql_verify_checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_slave_sql_verify_checksum)

  

  

  | Command-Line Format 命令行格式                               | `--slave-sql-verify-checksum[={OFF|ON}]` |
  | ------------------------------------------------------------ | ---------------------------------------- |
  | Deprecated 荒废的                                            | Yes 是的                                 |
  | System Variable 系统变量                                     | `slave_sql_verify_checksum`              |
  | Scope 范围                                                   | Global 全球                              |
  | Dynamic 动态                                                 | Yes 是的                                 |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                    |
  | Type 类型                                                    | Boolean 布尔                             |
  | Default Value 默认值                                         | `ON`                                     |

  ​            Deprecated alias for            [`replica_sql_verify_checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_sql_verify_checksum).          
  已弃用的 [`replica_sql_verify_checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_sql_verify_checksum) 别名。

- ​            [`slave_transaction_retries`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_slave_transaction_retries)

  

  

  | Command-Line Format 命令行格式                               | `--slave-transaction-retries=#` |
  | ------------------------------------------------------------ | ------------------------------- |
  | Deprecated 荒废的                                            | Yes 是的                        |
  | System Variable 系统变量                                     | `slave_transaction_retries`     |
  | Scope 范围                                                   | Global 全球                     |
  | Dynamic 动态                                                 | Yes 是的                        |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                           |
  | Type 类型                                                    | Integer 整数                    |
  | Default Value 默认值                                         | `10`                            |
  | Minimum Value 最小值                                         | `0`                             |
  | Maximum Value (64-bit platforms) 最大值（64 位平台）         | `18446744073709551615`          |
  | Maximum Value (32-bit platforms) 最大值（32 位平台）         | `4294967295`                    |

  ​            Deprecated alias for            [`replica_transaction_retries`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_transaction_retries).          
  已弃用的 [`replica_transaction_retries`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_transaction_retries) 别名。

- ​            [`slave_type_conversions`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_slave_type_conversions)

  

  

  | Command-Line Format 命令行格式                               | `--slave-type-conversions=set` `--slave-type-conversions=设置` |
  | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | Deprecated 荒废的                                            | Yes 是的                                                     |
  | System Variable 系统变量                                     | `slave_type_conversions`                                     |
  | Scope 范围                                                   | Global 全球                                                  |
  | Dynamic 动态                                                 | Yes 是的                                                     |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                                        |
  | Type 类型                                                    | Set 设置                                                     |
  | Default Value 默认值                                         | ``                                                           |
  | Valid Values 有效值                                          | `ALL_LOSSY``ALL_NON_LOSSY``ALL_SIGNED``ALL_UNSIGNED`         |

  ​            Deprecated alias for            [`replica_type_conversions`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_type_conversions).          
  已弃用的 [`replica_type_conversions`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_type_conversions) 别名。

- ​            [`sql_replica_skip_counter`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_sql_replica_skip_counter)

  

  

  | System Variable 系统变量                                     | `sql_replica_skip_counter` |
  | ------------------------------------------------------------ | -------------------------- |
  | Scope 范围                                                   | Global 全球                |
  | Dynamic 动态                                                 | Yes 是的                   |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                      |
  | Type 类型                                                    | Integer 整数               |
  | Default Value 默认值                                         | `0`                        |
  | Minimum Value 最小值                                         | `0`                        |
  | Maximum Value 最大值                                         | `4294967295`               |

  ​            [`sql_replica_skip_counter`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_sql_replica_skip_counter)            specifies the number of events from the source that a            replica should skip. Setting the option has no immediate            effect. The variable applies to the next            [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) statement; the            next [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) statement            also changes the value back to 0. When this variable is set            to a nonzero value and there are multiple replication            channels configured, the [`START             REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) statement can only be used with the            `FOR CHANNEL            *`channel`*` clause.          
  [`sql_replica_skip_counter`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_sql_replica_skip_counter) 指定副本应跳过的源中的事件数。设置该选项不会立即生效。该变量适用于下一个 [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) 语句;下一个 [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) 语句也将该值更改回 0。当此变量设置为非零值并且配置了多个复制通道时，[`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) 语句只能与 `FOR CHANNEL            *`channel`*` 子句一起使用。

  ​            This option is incompatible with GTID-based replication, and            must not be set to a nonzero value when            [`gtid_mode=ON`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode) is set. If you            need to skip transactions when employing GTIDs, use            [`gtid_executed`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_executed) from the            source instead. If you have enabled GTID assignment on a            replication channel using the            `ASSIGN_GTIDS_TO_ANONYMOUS_TRANSACTIONS`            option of the [`CHANGE REPLICATION SOURCE             TO`](https://dev.mysql.com/doc/refman/8.4/en/change-replication-source-to.html) statement,            [`sql_replica_skip_counter`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_sql_replica_skip_counter) is            available. See            [Section 19.1.7.3, “Skipping Transactions”](https://dev.mysql.com/doc/refman/8.4/en/replication-administration-skip.html). 
  此选项与基于 GTID 的复制不兼容，并且在设置 [`gtid_mode=ON`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode) 时不得设置为非零值。如果您在使用 GTID 时需要跳过事务，请改用源中的 [`gtid_executed`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_executed)。如果已使用[ `CHANGE REPLICATION SOURCE             TO` ](https://dev.mysql.com/doc/refman/8.4/en/change-replication-source-to.html)语句 `ASSIGN_GTIDS_TO_ANONYMOUS_TRANSACTIONS` 选项在复制通道上启用了 GTID 分配，[`则 sql_replica_skip_counter`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_sql_replica_skip_counter) 可用。参见[第 19.1.7.3 节 “跳过事务”。](https://dev.mysql.com/doc/refman/8.4/en/replication-administration-skip.html)

  Important 重要

  ​              If skipping the number of events specified by setting this              variable would cause the replica to begin in the middle of              an event group, the replica continues to skip until it              finds the beginning of the next event group and begins              from that point. For more information, see              [Section 19.1.7.3, “Skipping Transactions”](https://dev.mysql.com/doc/refman/8.4/en/replication-administration-skip.html). 
  如果跳过通过设置此变量指定的事件数将导致副本从事件组的中间开始，则副本将继续跳过，直到找到下一个事件组的开头并从该点开始。有关更多信息，请参见[第 19.1.7.3 节 “跳过事务”。](https://dev.mysql.com/doc/refman/8.4/en/replication-administration-skip.html)

- ​            [`sql_slave_skip_counter`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_sql_slave_skip_counter)

  

  

  | Deprecated 荒废的                                            | Yes 是的                 |
  | ------------------------------------------------------------ | ------------------------ |
  | System Variable 系统变量                                     | `sql_slave_skip_counter` |
  | Scope 范围                                                   | Global 全球              |
  | Dynamic 动态                                                 | Yes 是的                 |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                    |
  | Type 类型                                                    | Integer 整数             |
  | Default Value 默认值                                         | `0`                      |
  | Minimum Value 最小值                                         | `0`                      |
  | Maximum Value 最大值                                         | `4294967295`             |

  ​            Deprecated alias for            [`sql_replica_skip_counter`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_sql_replica_skip_counter).          
  已弃用的 [`sql_replica_skip_counter`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_sql_replica_skip_counter) 别名。

- ​            [`sync_master_info`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_sync_master_info)

  

  

  | Command-Line Format 命令行格式                               | `--sync-master-info=#` |
  | ------------------------------------------------------------ | ---------------------- |
  | Deprecated 荒废的                                            | Yes 是的               |
  | System Variable 系统变量                                     | `sync_master_info`     |
  | Scope 范围                                                   | Global 全球            |
  | Dynamic 动态                                                 | Yes 是的               |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                  |
  | Type 类型                                                    | Integer 整数           |
  | Default Value 默认值                                         | `10000`                |
  | Minimum Value 最小值                                         | `0`                    |
  | Maximum Value 最大值                                         | `4294967295`           |

  ​            Deprecated alias for            [`sync_source_info`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_sync_source_info).          
  已弃用的 [`sync_source_info`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_sync_source_info) 别名。

- ​            [`sync_relay_log`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_sync_relay_log)

  

  

  | Command-Line Format 命令行格式                               | `--sync-relay-log=#` |
  | ------------------------------------------------------------ | -------------------- |
  | System Variable 系统变量                                     | `sync_relay_log`     |
  | Scope 范围                                                   | Global 全球          |
  | Dynamic 动态                                                 | Yes 是的             |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                |
  | Type 类型                                                    | Integer 整数         |
  | Default Value 默认值                                         | `10000`              |
  | Minimum Value 最小值                                         | `0`                  |
  | Maximum Value 最大值                                         | `4294967295`         |

  ​            If the value of this variable is greater than 0, the MySQL            server synchronizes its relay log to disk (using            `fdatasync()`) after every            `sync_relay_log` events are written to the            relay log. Setting this variable takes effect for all            replication channels immediately, including running            channels.          
  如果此变量的值大于 0，则 MySQL 服务器会在将每个 `sync_relay_log` 事件写入中继日志后将其中继日志同步到磁盘（使用 `fdatasync（）`）。设置此变量会立即对所有复制通道生效，包括正在运行的通道。

  ​            Setting `sync_relay_log` to 0 causes no            synchronization to be done to disk; in this case, the server            relies on the operating system to flush the relay log's            contents from time to time as for any other file.          
  将 `sync_relay_log` 设置为 0 将导致不同步到磁盘;在这种情况下，服务器依赖于 os 不时刷新 Relay Log 的内容，就像任何其他文件一样。

  ​            A value of 1 is the safest choice because in the event of an            unexpected halt you lose at most one event from the relay            log. However, it is also the slowest choice (unless the disk            has a battery-backed cache, which makes synchronization very            fast). For information on the combination of settings on a            replica that is most resilient to unexpected halts, see            [Section 19.4.2, “Handling an Unexpected Halt of a Replica”](https://dev.mysql.com/doc/refman/8.4/en/replication-solutions-unexpected-replica-halt.html).          
  值 1 是最安全的选择，因为在意外停止的情况下，您最多会丢失中继日志中的一个事件。但是，它也是最慢的选择（除非磁盘具有电池供电的缓存，这使得同步非常快）。有关对意外停止最有弹性的副本上的设置组合的信息，请参见[第 19.4.2 节 “处理副本的意外停止”。](https://dev.mysql.com/doc/refman/8.4/en/replication-solutions-unexpected-replica-halt.html)

- ​            [`sync_relay_log_info`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_sync_relay_log_info)

  

  

  | Command-Line Format 命令行格式                               | `--sync-relay-log-info=#` |
  | ------------------------------------------------------------ | ------------------------- |
  | Deprecated 荒废的                                            | Yes 是的                  |
  | System Variable 系统变量                                     | `sync_relay_log_info`     |
  | Scope 范围                                                   | Global 全球               |
  | Dynamic 动态                                                 | Yes 是的                  |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                     |
  | Type 类型                                                    | Integer 整数              |
  | Default Value 默认值                                         | `10000`                   |
  | Minimum Value 最小值                                         | `0`                       |
  | Maximum Value 最大值                                         | `4294967295`              |

  ​            The number of transactions after which the replica updates            the applier metadata repository. When the applier metadata            repository is stored as an            [`InnoDB`](https://dev.mysql.com/doc/refman/8.4/en/innodb-storage-engine.html) table, which is the            default, it is updated after every transaction and this            system variable is ignored. If the applier metadata            repository is stored as a file (deprecated), the replica            synchronizes its `relay-log.info` file to            disk (using `fdatasync()`) after this many            transactions. `0` (zero) means that the            file contents are flushed by the operating system only.            Setting this variable takes effect for all replication            channels immediately, including running channels.          
  副本更新应用程序元数据存储库之后的事务数。当 applier 元数据存储库存储为 [`InnoDB`](https://dev.mysql.com/doc/refman/8.4/en/innodb-storage-engine.html) 表（这是默认值）时，它会在每次事务后更新，并且此系统变量将被忽略。如果应用程序元数据存储库存储为文件（已弃用），则副本会在如此多的事务后将其 `relay-log.info` 文件同步到磁盘（使用 `fdatasync（）`）。`0` （零） 表示文件内容仅由操作系统刷新。设置此变量会立即对所有复制通道生效，包括正在运行的通道。

  ​            Since storing applier metadata as a file is deprecated, this            variable is also deprecated, and the server raises a warning            whenever you set it or read its value. You should expect            `sync_relay_log_info` to be removed in a            future version of MySQL, and migrate applications now that            may depend on it.          
  由于已弃用将 applier 元数据存储为文件，因此此变量也已弃用，并且只要您设置它或读取其值，服务器就会发出警告。您应该预料`到sync_relay_log_info` 将在 MySQL 的未来版本中删除，并立即迁移可能依赖它的应用程序。

- ​            [`sync_source_info`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_sync_source_info)

  

  

  | Command-Line Format 命令行格式                               | `--sync-source-info=#` |
  | ------------------------------------------------------------ | ---------------------- |
  | System Variable 系统变量                                     | `sync_source_info`     |
  | Scope 范围                                                   | Global 全球            |
  | Dynamic 动态                                                 | Yes 是的               |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                  |
  | Type 类型                                                    | Integer 整数           |
  | Default Value 默认值                                         | `10000`                |
  | Minimum Value 最小值                                         | `0`                    |
  | Maximum Value 最大值                                         | `4294967295`           |

  ​            [`sync_source_info`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_sync_source_info) specifies            the number of events after which the replica updates the            connection metadata repository. When the connection metadata            repository is stored as an            [`InnoDB`](https://dev.mysql.com/doc/refman/8.4/en/innodb-storage-engine.html) table (the default, it            is updated after this number of events. If the connection            metadata repository is stored as a file (deprecated), the            replica synchronizes its `master.info` file            to disk (using `fdatasync()`) after this            number of events. The default value is 10000, and a zero            value means that the repository is never updated. Setting            this variable takes effect for all replication channels            immediately, including running channels.          
  [`sync_source_info`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_sync_source_info) 指定副本更新连接元数据存储库的事件数。当连接元数据存储库存储为 [`InnoDB`](https://dev.mysql.com/doc/refman/8.4/en/innodb-storage-engine.html) 表（默认值，它会在发生此数量的事件后更新。如果连接元数据存储库存储为文件（已弃用），则副本会在此数量的事件后将其 `master.info` 文件同步到磁盘（使用 `fdatasync（）`）。默认值为 10000，零值表示存储库永远不会更新。设置此变量会立即对所有复制通道生效，包括正在运行的通道。

- ​            [`terminology_use_previous`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_terminology_use_previous)

  

  

  | Command-Line Format 命令行格式                               | `--terminology-use-previous=#`      |
  | ------------------------------------------------------------ | ----------------------------------- |
  | System Variable 系统变量                                     | `terminology_use_previous`          |
  | Scope 范围                                                   | Global, Session 全局， 会话         |
  | Dynamic 动态                                                 | Yes 是的                            |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                               |
  | Type 类型                                                    | Enumeration 列举                    |
  | Default Value 默认值                                         | `NONE`                              |
  | Valid Values 有效值                                          | `NONE``BEFORE_8_0_26``BEFORE_8_2_0` |

  ​            Incompatible changes were made in MySQL 8.0 to            instrumentation names containing the terms            `master`, `slave`, and            `mts` (for “Multi-Threaded            Slave”), which were changed respectively to            `source`, `replica`, and            `mta` (for “Multi-Threaded            Applier”). If these incompatible changes impact your            applications, set            `terminology_use_previous` to            `BEFORE_8_0_26` to make the MySQL server            use the old versions of the names for the objects specified            in the previous list. This enables monitoring tools that            rely on the old names to continue working until they can be            updated to use the new names.          
  在 MySQL 8.0 中，对包含术语 `master`、`slave` 和 `mts`（代表“多线程从站”）的插桩名称进行了不兼容的更改，这些术语分别更改为 `source`、`replica` 和 `mta`（代表“多线程应用程序”）。如果这些不兼容的更改影响到您的应用程序，请将 `terminology_use_previous` 设置为 `BEFORE_8_0_26`，以使 MySQL 服务器使用上一个列表中指定对象的旧版本名称。这使得依赖旧名称的监控工具能够继续工作，直到它们可以更新为使用新名称。

  ​            MySQL 8.4 normally displays            `REPLICA_SIDE_DISABLED` rather than            `SLAVESIDE_DISABLED` in the output of            `SHOW CREATE EVENT`, `SHOW            EVENTS`, and queries against the Information Schema            `EVENTS` table. You can cause            `SLAVESIDE_DISABLED` to be shown instead by            setting `terminology_use_previous` to            `BEFORE_8_0_26` or            `BEFORE_8_2_0`.          
  MySQL 8.4 通常在 `SHOW CREATE EVENT、``SHOW EVENTS` 的输出中显示 `REPLICA_SIDE_DISABLED` 而不是 `SLAVESIDE_DISABLED`，并针对信息架构 `EVENTS` 表进行查询。您可以通过将 `terminology_use_previous` 设置为 `BEFORE_8_0_26` 或 `BEFORE_8_2_0` 来改为显示 `SLAVESIDE_DISABLED`。

  ​            Set the            [`terminology_use_previous`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_terminology_use_previous)            system variable with session scope to support individual            users, or with global scope to be the default for all new            sessions. When global scope is used, the slow query log            contains the old versions of the names.          
  将 [`terminology_use_previous`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_terminology_use_previous) 系统变量设置为 session scope 以支持单个用户，或将 global scope 设置为所有新会话的默认值。使用全局范围时，慢速查询日志包含旧版本的名称。

  ​            The affected instrumentation names are given in the            following list. The            [`terminology_use_previous`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_terminology_use_previous)            system variable only affects these items. It does not affect            the new aliases for system variables, status variables, and            command-line options that were also introduced in MySQL 8.0,            and these can still be used when it is enabled. 
  以下列表中给出了受影响的检测名称。[`terminology_use_previous`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_terminology_use_previous) 系统变量仅影响这些项。它不会影响 MySQL 8.0 中也引入的系统变量、状态变量和命令行选项的新别名，并且在启用后仍可以使用这些别名。

  - ​                Instrumented locks (mutexes), visible in the                `mutex_instances` and                `events_waits_*` Performance Schema                tables with the prefix                `wait/synch/mutex/`
    插桩锁（互斥锁），在 `mutex_instances` 和 `events_waits_*` 性能模式表中可见，前缀为 `wait/synch/mutex/`              
  - ​                Read/write locks, visible in the                `rwlock_instances` and                `events_waits_*` Performance Schema                tables with the prefix                `wait/synch/rwlock/`
    读/写锁，在 `rwlock_instances` 和 `events_waits_*` 性能模式表中可见，前缀为 `wait/synch/rwlock/`              
  - ​                Instrumented condition variables, visible in the                `cond_instances` and                `events_waits_*` Performance Schema                tables with the prefix                `wait/synch/cond/`
    插桩条件变量，在 `cond_instances` 和 `events_waits_*` 性能架构表中可见，前缀为 `wait/synch/cond/`              
  - ​                Instrumented memory allocations, visible in the                `memory_summary_*` Performance Schema                tables with the prefix `memory/sql/`
    插桩内存分配，在 `memory_summary_*` Performance Schema 表中可见，前缀为 `memory/sql/`              
  - ​                Thread names, visible in the `threads`                Performance Schema table with the prefix                `thread/sql/`
    线程名称，在 `threads` Performance Schema 表中可见，前缀为 `thread/sql/`              
  - ​                Thread stages, visible in the                `events_stages_*` Performance Schema                tables with the prefix `stage/sql/`,                and without the prefix in the `threads`                and `processlist` Performance Schema                tables, the output from the `SHOW                PROCESSLIST` statement, the Information Schema                `processlist` table, and the slow query                log              
    线程阶段，在 `events_stages_*` 性能架构表中可见，前缀为 `stage/sql/`，在 `threads` 和 `processlist` 性能架构表中不可见，语句的输出 `SHOW                PROCESSLIST` 、信息架构 `processlist` 表和慢速查询日志
  - ​                Thread commands, visible in the                `events_statements_history*` and                `events_statements_summary_*_by_event_name`                Performance Schema tables with the prefix                `statement/com/`, and without the                prefix in the `threads` and                `processlist` Performance Schema                tables, the output from the `SHOW                PROCESSLIST` statement, the Information Schema                `processlist` table, and the output                from the `SHOW REPLICA STATUS`                statement 
    线程命令，在 `events_statements_history*` 和性能 `events_statements_summary_*_by_event_name` 架构表中可见，前缀为 `statement/com/`，在`线程`和 `processlist` 性能架构表中不带前缀， `SHOW                PROCESSLIST` 语句的输出，信息架构 `processlist` 表，以及 `SHOW REPLICA STATUS` 语句的输出

#### 19.1.6.4 Binary Logging Options and Variables 19.1.6.4 二进制日志记录选项和变量

- [Startup Options Used with Binary Logging
  用于二进制日志记录的启动选项](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#replication-optvars-binlog)
- [System Variables Used with Binary Logging
  用于二进制日志记录的系统变量](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#replication-sysvars-binlog)

​      You can use the [**mysqld**](https://dev.mysql.com/doc/refman/8.4/en/mysqld.html) options and system      variables that are described in this section to affect the      operation of the binary log as well as to control which statements      are written to the binary log. For additional information about      the binary log, see [Section 7.4.4, “The Binary Log”](https://dev.mysql.com/doc/refman/8.4/en/binary-log.html). For additional      information about using MySQL server options and system variables,      see [Section 7.1.7, “Server Command Options”](https://dev.mysql.com/doc/refman/8.4/en/server-options.html), and      [Section 7.1.8, “Server System Variables”](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html). 
您可以使用本节中描述的 [**mysqld**](https://dev.mysql.com/doc/refman/8.4/en/mysqld.html) 选项和系统变量来影响二进制日志的操作以及控制将哪些语句写入二进制日志。有关二进制日志的其他信息，请参见[第 7.4.4 节 “二进制日志”。](https://dev.mysql.com/doc/refman/8.4/en/binary-log.html)有关使用 MySQL 服务器选项和系统变量的其他信息，请参见[第 7.1.7 节 “服务器命令选项”](https://dev.mysql.com/doc/refman/8.4/en/server-options.html)和[第 7.1.8 节 “服务器系统变量”。](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html)

##### Startup Options Used with Binary Logging 用于二进制日志记录的启动选项

​        The following list describes startup options for enabling and        configuring the binary log. System variables used with binary        logging are discussed later in this section. 
以下列表描述了用于启用和配置二进制日志的启动选项。本节稍后将讨论用于二进制日志记录的系统变量。

- ​            [`--binlog-row-event-max-size=*`N`*`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-row-event-max-size)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-row-event-max-size=#` |
  | ------------------------------------------------------------ | ------------------------------- |
  | System Variable 系统变量                                     | `binlog_row_event_max_size`     |
  | Scope 范围                                                   | Global 全球                     |
  | Dynamic 动态                                                 | No 不                           |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                           |
  | Type 类型                                                    | Integer 整数                    |
  | Default Value 默认值                                         | `8192`                          |
  | Minimum Value 最小值                                         | `256`                           |
  | Maximum Value (64-bit platforms) 最大值（64 位平台）         | `18446744073709551615`          |
  | Maximum Value (32-bit platforms) 最大值（32 位平台）         | `4294967295`                    |
  | Unit 单位                                                    | bytes 字节                      |

  ​            When row-based binary logging is used, this setting is a            soft limit on the maximum size of a row-based binary log            event, in bytes. Where possible, rows stored in the binary            log are grouped into events with a size not exceeding the            value of this setting. If an event cannot be split, the            maximum size can be exceeded. The value must be (or else            gets rounded down to) a multiple of 256. The default is 8192            bytes.          
  使用基于行的二进制日志记录时，此设置是对基于行的二进制日志事件的最大大小（以字节为单位）的软限制。在可能的情况下，存储在二进制日志中的行将分组为大小不超过此设置值的事件。如果无法拆分事件，则可以超过最大大小。该值必须是 256 的倍数（否则四舍五入为）。默认值为 8192 字节。

- ​            [`--log-bin[=*`base_name`*\]`
  `--日志bin[=*`base_name`*]`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin)

  

  

  | Command-Line Format 命令行格式 | `--log-bin=file_name` |
  | ------------------------------ | --------------------- |
  | Type 类型                      | File name 文件名      |

  ​            Specifies the base name to use for binary log files. With            binary logging enabled, the server logs all statements that            change data to the binary log, which is used for backup and            replication. The binary log is a sequence of files with a            base name and numeric extension. The            `--log-bin` option value is the base name for            the log sequence. The server creates binary log files in            sequence by adding a numeric suffix to the base name.          
  指定要用于二进制日志文件的基本名称。启用二进制日志记录后，服务器会将所有更改数据的语句记录到二进制日志中，该日志用于备份和复制。二进制日志是具有基本名称和数字扩展名的文件序列。`--log-bin` 选项值是日志序列的基本名称。服务器通过向基本名称添加数字后缀来按顺序创建二进制日志文件。

  ​            If you do not supply the `--log-bin` option,            MySQL uses `binlog` as the default base            name for the binary log files. For compatibility with            earlier releases, if you supply the            `--log-bin` option with no string or with an            empty string, the base name defaults to            `*`host_name`*-bin`,            using the name of the host machine.          
  如果您不提供 `--log-bin` 选项，MySQL 将使用 `binlog` 作为二进制日志文件的默认基本名称。为了与早期版本兼容，如果提供的 `--log-bin` 选项没有字符串或空字符串，则基本名称默认为 `*`host_name-bin`*`，使用主机的名称。

  ​            The default location for binary log files is the data            directory. You can use the `--log-bin` option            to specify an alternative location, by adding a leading            absolute path name to the base name to specify a different            directory. When the server reads an entry from the binary            log index file, which tracks the binary log files that have            been used, it checks whether the entry contains a relative            path. If it does, the relative part of the path is replaced            with the absolute path set using the            `--log-bin` option. An absolute path recorded            in the binary log index file remains unchanged; in such a            case, the index file must be edited manually to enable a new            path or paths to be used. The binary log file base name and            any specified path are available as the            [`log_bin_basename`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin_basename) system            variable.          
  二进制日志文件的默认位置是 data 目录。您可以使用 `--log-bin` 选项指定备用位置，方法是在基本名称中添加前导绝对路径名以指定其他目录。当服务器从二进制日志索引文件中读取条目时，该文件跟踪已使用的二进制日志文件，它会检查该条目是否包含相对路径。如果是这样，则路径的相对部分将替换为使用 `--log-bin` 选项设置的绝对路径。二进制日志索引文件中记录的绝对路径保持不变;在这种情况下，必须手动编辑索引文件才能使用新的路径或路径。二进制日志文件基本名称和任何指定的路径都可用作[`log_bin_basename`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin_basename)系统变量。

  ​            In MySQL 8.4, binary logging is enabled by            default, whether or not you specify the            `--log-bin` option. The exception is if you            use [**mysqld**](https://dev.mysql.com/doc/refman/8.4/en/mysqld.html) to initialize the data            directory manually by invoking it with the            `--initialize` or            `--initialize-insecure` option, when binary            logging is disabled by default. It is possible to enable            binary logging in this case by specifying the            `--log-bin` option. When binary logging is            enabled, the [`log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin) system            variable, which shows the status of binary logging on the            server, is set to ON.           
  在 MySQL 8.4 中，无论您是否指定 `--log-bin` 选项，默认情况下都会启用二进制日志记录。例外情况是，当您使用 [**mysqld**](https://dev.mysql.com/doc/refman/8.4/en/mysqld.html) 通过使用 `--initialize` 或 `--initialize-insecure` 选项调用数据目录来手动初始化数据目录时，默认情况下禁用二进制日志记录。在这种情况下，可以通过指定 `--log-bin` 选项来启用二进制日志记录。启用二进制日志记录后，显示服务器上二进制日志记录状态的 [`log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin) 系统变量将设置为 ON。

  ​            To disable binary logging, you can specify the            [`--skip-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin)            or            [`--disable-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin)            option at startup. If either of these options is specified            and `--log-bin` is also specified, the option            specified later takes precedence. When binary logging is            disabled, the [`log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin)            system variable is set to OFF.          
  要禁用二进制日志记录，您可以在启动时指定 [`--skip-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) 或 [`--disable-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) 选项。如果指定了这些选项中的任何一个，并且还指定了 `--log-bin`，则以后指定的选项优先。禁用二进制日志记录时，[`log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin) 系统变量设置为 OFF。

  ​            When GTIDs are in use on the server, if you disable binary            logging when restarting the server after an abnormal            shutdown, some GTIDs are likely to be lost, causing            replication to fail. In a normal shutdown, the set of GTIDs            from the current binary log file is saved in the            `mysql.gtid_executed` table. Following an            abnormal shutdown where this did not happen, during recovery            the GTIDs are added to the table from the binary log file,            provided that binary logging is still enabled. If binary            logging is disabled for the server restart, the server            cannot access the binary log file to recover the GTIDs, so            replication cannot be started. Binary logging can be            disabled safely after a normal shutdown.          
  当服务器正在使用 GTID 时，如果在异常关闭后重新启动服务器时禁用二进制日志记录，则某些 GTID 可能会丢失，从而导致复制失败。在正常关闭中，当前二进制日志文件中的 GTID 集保存在 `mysql.gtid_executed` 表中。在未发生异常关闭的情况下，在恢复期间，如果二进制日志记录仍处于启用状态，则会将 GTID  从二进制日志文件添加到表中。如果为服务器重新启动禁用了二进制日志记录，则服务器无法访问二进制日志文件以恢复  GTID，因此无法启动复制。在正常关闭后，可以安全地禁用二进制日志记录。

  ​            The [`--log-replica-updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates) and            [`--replica-preserve-commit-order`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)            options require binary logging. If you disable binary            logging, either omit these options, or specify            `--log-replica-updates=OFF` and            `--skip-replica-preserve-commit-order`. MySQL            disables these options by default when            [`--skip-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin)            or            [`--disable-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin)            is specified. If you specify            `--log-replica-updates` or            `--replica-preserve-commit-order` together            with `--skip-log-bin` or            `--disable-log-bin`, a warning or error            message is issued.          
  [`--log-replica-updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates) 和[ `--replica-preserve-commit-order` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)选项需要二进制日志记录。如果禁用二进制日志记录，请省略这些选项，或指定 `--log-replica-updates=OFF` 和 `--skip-replica-preserve-commit-order` .当指定 [`--skip-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) 或 [`--disable-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) 时，MySQL 默认禁用这些选项。如果指定 `--log-replica-updates` 或 `--replica-preserve-commit-order` 与 `--skip-log-bin` 或 `--disable-log-bin` 一起指定，则会发出警告或错误消息。

  ​            The server can be started with the default server ID when            binary logging is enabled, but an informational message is            issued if you do not specify a server ID explicitly by            setting the [`server_id`](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html#sysvar_server_id)            system variable. For servers that are used in a replication            topology, you must specify a unique nonzero server ID for            each server.          
  启用二进制日志记录后，可以使用默认服务器 ID 启动服务器，但如果未通过设置 [`server_id`](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html#sysvar_server_id) 系统变量来显式指定服务器 ID，则会发出信息性消息。对于在复制拓扑中使用的服务器，必须为每个服务器指定唯一的非零服务器 ID。

  ​            For information on the format and management of the binary            log, see [Section 7.4.4, “The Binary Log”](https://dev.mysql.com/doc/refman/8.4/en/binary-log.html).          
  有关二进制日志的格式和管理的信息，请参见[第 7.4.4 节 “二进制日志”。](https://dev.mysql.com/doc/refman/8.4/en/binary-log.html)

- ​            [`--log-bin-index[=*`file_name`*\]`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin-index)

  

  

  | Command-Line Format 命令行格式                               | `--log-bin-index=file_name` |
  | ------------------------------------------------------------ | --------------------------- |
  | System Variable 系统变量                                     | `log_bin_index`             |
  | Scope 范围                                                   | Global 全球                 |
  | Dynamic 动态                                                 | No 不                       |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                       |
  | Type 类型                                                    | File name 文件名            |

  ​            The name for the binary log index file, which contains the            names of the binary log files. By default, it has the same            location and base name as the value specified for the binary            log files using the [`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin)            option, plus the extension `.index`. If            you do not specify [`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin),            the default binary log index file name is            `binlog.index`. If you specify            [`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) option with no            string or an empty string, the default binary log index file            name is            `*`host_name`*-bin.index`,            using the name of the host machine.          
  二进制日志索引文件的名称，其中包含二进制日志文件的名称。默认情况下，它与使用 [`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) 选项为二进制日志文件指定的值以及扩展名 `.index` 具有相同的位置和基本名称。如果不指定 [`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin)，则默认的二进制日志索引文件为 `binlog.index`。如果指定没有字符串或空字符串的 [`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) 选项，则默认二进制日志索引文件名为 `*host_name-bin.index``*`，使用主机的名称。

  ​            For information on the format and management of the binary            log, see [Section 7.4.4, “The Binary Log”](https://dev.mysql.com/doc/refman/8.4/en/binary-log.html). 
  有关二进制日志的格式和管理的信息，请参见[第 7.4.4 节 “二进制日志”。](https://dev.mysql.com/doc/refman/8.4/en/binary-log.html)

**Statement selection options.**           The options in the following list affect which statements are          written to the binary log, and thus sent by a replication          source server to its replicas. There are also options for          replicas that control which statements received from the          source should be executed or ignored. For details, see          [Section 19.1.6.3, “Replica Server Options and Variables”](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html). 
**对账单选择选项。** 以下列表中的选项会影响将哪些语句写入二进制日志，从而由复制源服务器发送到其副本。还有一些副本选项，用于控制应执行或忽略从源接收的语句。有关详细信息，请参见[第 19.1.6.3 节 “副本服务器选项和变量”。](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html)

- ​            [`--binlog-do-db=*`db_name`*`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db)

  

  

  | Command-Line Format 命令行格式 | `--binlog-do-db=name` `--binlog-do-db=名称` |
  | ------------------------------ | ------------------------------------------- |
  | Type 类型                      | String 字符串                               |

  ​            This option affects binary logging in a manner similar to            the way that            [`--replicate-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db) affects            replication.          
  此选项影响二进制日志记录的方式类似于 [`--replicate-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db) 影响复制的方式。

  ​            The effects of this option depend on whether the            statement-based or row-based logging format is in use, in            the same way that the effects of            [`--replicate-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db) depend on            whether statement-based or row-based replication is in use.            You should keep in mind that the format used to log a given            statement may not necessarily be the same as that indicated            by the value of            [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format). For example,            DDL statements such as [`CREATE             TABLE`](https://dev.mysql.com/doc/refman/8.4/en/create-table.html) and [`ALTER             TABLE`](https://dev.mysql.com/doc/refman/8.4/en/alter-table.html) are always logged as statements, without            regard to the logging format in effect, so the following            statement-based rules for `--binlog-do-db`            always apply in determining whether or not the statement is            logged.          
  此选项的效果取决于使用的是基于语句的日志记录格式还是基于行的日志记录格式，就像 [`--replicate-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db) 的效果取决于使用的是基于语句的复制还是基于行的复制一样。您应该记住，用于记录给定语句的格式不一定与 [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) 的值所指示的格式相同。例如，[`诸如 CREATE TABLE`](https://dev.mysql.com/doc/refman/8.4/en/create-table.html) 和 [`ALTER TABLE`](https://dev.mysql.com/doc/refman/8.4/en/alter-table.html) 之类的 DDL 语句始终记录为语句，而不考虑有效的日志记录格式，因此以下基于语句的 `--binlog-do-db` 规则始终适用于确定是否记录该语句。

  **Statement-based logging.**               Only those statements are written to the binary log where              the default database (that is, the one selected by              [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html)) is              *`db_name`*. To specify more than              one database, use this option multiple times, once for              each database; however, doing so does              *not* cause cross-database statements              such as `UPDATE              *`some_db.some_table`* SET              foo='bar'` to be logged while a different              database (or no database) is selected. 
  **基于语句的日志记录。** 只有这些语句才会写入二进制日志，其中默认数据库（即 [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) 选择的数据库）*`db_name`*。要指定多个数据库，请多次使用此选项，每个数据库使用一次;但是，这样做*不*会导致跨数据库语句，例如 `UPDATE              *`some_db.some_table`* SET              foo='bar'` 在选择其他数据库（或没有数据库）时被记录。

  Warning 警告

  ​              To specify multiple databases you              *must* use multiple instances of this              option. Because database names can contain commas, the              list is treated as the name of a single database if you              supply a comma-separated list. 
  要指定多个数据库，*您必须*使用此选项的多个实例。由于数据库名称可以包含逗号，因此，如果提供逗号分隔的列表，则列表将被视为单个数据库的名称。

  ​            An example of what does not work as you might expect when            using statement-based logging: If the server is started with            [`--binlog-do-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db) and you            issue the following statements, the            [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) statement is            *not* logged:          
  使用基于语句的日志记录时，无法正常工作的示例：如果服务器使用 [`--binlog-do-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db) 启动，并且您发出以下语句，则不会记录 [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 语句：

  ```sql
  USE prices;
  UPDATE sales.january SET amount=amount+1000;
  ```

  ​            The main reason for this “just check the default            database” behavior is that it is difficult from the            statement alone to know whether it should be replicated (for            example, if you are using multiple-table            [`DELETE`](https://dev.mysql.com/doc/refman/8.4/en/delete.html) statements or            multiple-table [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html)            statements that act across multiple databases). It is also            faster to check only the default database rather than all            databases if there is no need.          
  这种“仅检查默认数据库”行为的主要原因是，仅从语句中很难知道是否应该复制它（例如，如果您使用跨多个数据库的多表 [`DELETE`](https://dev.mysql.com/doc/refman/8.4/en/delete.html) 语句或多表 [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 语句）。如果没有必要，只检查默认数据库而不是所有数据库也会更快。

  ​            Another case which may not be self-evident occurs when a            given database is replicated even though it was not            specified when setting the option. If the server is started            with `--binlog-do-db=sales`, the following            [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) statement is logged            even though `prices` was not included when            setting `--binlog-do-db`:          
  另一种可能不言而喻的情况发生在复制给定数据库时，即使在设置选项时未指定该数据库也是如此。如果服务器使用 `--binlog-do-db=sales` 启动，则即使在设置 `--binlog-do-db` 时未包含`价格`，也会记录以下 [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 语句：

  ```sql
  USE sales;
  UPDATE prices.discounts SET percentage = percentage + 10;
  ```

  ​            Because `sales` is the default database            when the [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) statement is            issued, the [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) is logged.          
  因为 `sales` 是发出 [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 语句时的默认数据库，所以会记录 [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html)。

  **Row-based logging.**               Logging is restricted to database              *`db_name`*. Only changes to tables              belonging to *`db_name`* are              logged; the default database has no effect on this.              Suppose that the server is started with              [`--binlog-do-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db) and              row-based logging is in effect, and then the following              statements are executed:            
  **基于行的日志记录。** 日志记录仅限于数据库*`db_name`*。仅记录对属于 *`db_name`* 的 table 的更改;默认数据库对此没有影响。假设服务器使用 [`--binlog-do-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db) 启动，并且基于行的日志记录有效，然后执行以下语句：

  ```sql
  USE prices;
  UPDATE sales.february SET amount=amount+100;
  ```

  ​            The changes to the `february` table in the            `sales` database are logged in accordance            with the [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) statement;            this occurs whether or not the            [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) statement was issued.            However, when using the row-based logging format and            [`--binlog-do-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db), changes            made by the following [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html)            are not logged:          
  对 `sales` 数据库中 `february` 表的更改将根据 [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 语句进行记录;无论是否发出 [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) 语句，都会发生这种情况。但是，当使用基于行的日志记录格式和 [`--binlog-do-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db) 时，不会记录以下 [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 所做的更改：

  ```sql
  USE prices;
  UPDATE prices.march SET amount=amount-25;
  ```

  ​            Even if the `USE prices` statement were            changed to `USE sales`, the            [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) statement's            effects would still not be written to the binary log.          
  即使 `USE prices` 语句更改为 `USE sales，UPDATE` 语句的效果仍不会写入二进制[``](https://dev.mysql.com/doc/refman/8.4/en/update.html)日志。

  ​            Another important difference in            [`--binlog-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db) handling for            statement-based logging as opposed to the row-based logging            occurs with regard to statements that refer to multiple            databases. Suppose that the server is started with            [`--binlog-do-db=db1`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db), and the            following statements are executed:          
  与基于行的日志记录相比，[`--binlog-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db) 处理基于语句的日志记录的另一个重要区别是关于引用多个数据库的语句。假设服务器以 [`--binlog-do-db=db1`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db) 启动，并执行以下语句：

  ```sql
  USE db1;
  UPDATE db1.table1, db2.table2 SET db1.table1.col1 = 10, db2.table2.col2 = 20;
  ```

  ​            If you are using statement-based logging, the updates to            both tables are written to the binary log. However, when            using the row-based format, only the changes to            `table1` are logged;            `table2` is in a different database, so it            is not changed by the [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html).            Now suppose that, instead of the `USE db1`            statement, a `USE db4` statement had been            used:          
  如果您使用的是基于语句的日志记录，则对这两个表的更新都将写入二进制日志。但是，当使用基于行的格式时，仅记录对 `table1` 的更改;`table2` 位于不同的数据库中，因此它不会被 [`UPDATE.`](https://dev.mysql.com/doc/refman/8.4/en/update.html)现在假设使用了 `USE db4` 语句，而不是 `USE db1` 语句：

  ```sql
  USE db4;
  UPDATE db1.table1, db2.table2 SET db1.table1.col1 = 10, db2.table2.col2 = 20;
  ```

  ​            In this case, the [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html)            statement is not written to the binary log when using            statement-based logging. However, when using row-based            logging, the change to `table1` is logged,            but not that to `table2`—in other            words, only changes to tables in the database named by            [`--binlog-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db) are logged,            and the choice of default database has no effect on this            behavior.          
  在这种情况下，使用基于语句的日志记录时，[`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 语句不会写入二进制日志。但是，当使用基于行的日志记录时，会记录对 `table1` 的更改，但不记录对 `table2` 的更改，换句话说，只会记录对 [`--binlog-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db) 命名的数据库中的表的更改，并且默认数据库的选择对此行为没有影响。

- ​            [`--binlog-ignore-db=*`db_name`*`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-ignore-db)

  

  

  | Command-Line Format 命令行格式 | `--binlog-ignore-db=name` `--binlog-ignore-db=名称` |
  | ------------------------------ | --------------------------------------------------- |
  | Type 类型                      | String 字符串                                       |

  ​            This option affects binary logging in a manner similar to            the way that            [`--replicate-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-ignore-db) affects            replication.          
  此选项影响二进制日志记录的方式类似于 [`--replicate-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-ignore-db) 影响复制的方式。

  ​            The effects of this option depend on whether the            statement-based or row-based logging format is in use, in            the same way that the effects of            [`--replicate-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-ignore-db) depend            on whether statement-based or row-based replication is in            use. You should keep in mind that the format used to log a            given statement may not necessarily be the same as that            indicated by the value of            [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format). For example,            DDL statements such as [`CREATE             TABLE`](https://dev.mysql.com/doc/refman/8.4/en/create-table.html) and [`ALTER             TABLE`](https://dev.mysql.com/doc/refman/8.4/en/alter-table.html) are always logged as statements, without            regard to the logging format in effect, so the following            statement-based rules for            `--binlog-ignore-db` always apply in            determining whether or not the statement is logged.          
  此选项的效果取决于使用的是基于语句的日志记录格式还是基于行的日志记录格式，就像 [`--replicate-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-ignore-db) 的效果取决于使用的是基于语句的复制还是基于行的复制一样。您应该记住，用于记录给定语句的格式不一定与 [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) 的值所指示的格式相同。例如，[`诸如 CREATE TABLE`](https://dev.mysql.com/doc/refman/8.4/en/create-table.html) 和 [`ALTER TABLE`](https://dev.mysql.com/doc/refman/8.4/en/alter-table.html) 之类的 DDL 语句始终记录为语句，而不考虑有效的日志记录格式，因此以下基于语句的 `--binlog-ignore-db` 规则始终适用于确定是否记录该语句。

  **Statement-based logging.**               Tells the server to not log any statement where the              default database (that is, the one selected by              [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html)) is              *`db_name`*.            
  **基于语句的日志记录。** 通知服务器不记录*`db_name`*默认数据库（即 [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) 选择的数据库）的任何语句。

  ​            When there is no default database, no            `--binlog-ignore-db` options are applied, and            such statements are always logged. (Bug #11829838, Bug            #60188)          
  当没有默认数据库时，不会应用 `--binlog-ignore-db` 选项，并且始终会记录此类语句。（错误 #11829838、错误 #60188）

  **Row-based format.**               Tells the server not to log updates to any tables in the              database *`db_name`*. The current              database has no effect.            
  **基于行的格式。** 通知服务器不记录对数据库*`db_name`*中任何表的更新。当前数据库不起作用。

  ​            When using statement-based logging, the following example            does not work as you might expect. Suppose that the server            is started with            [`--binlog-ignore-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-ignore-db) and            you issue the following statements:          
  使用基于语句的日志记录时，以下示例无法按预期工作。假设服务器以 [`--binlog-ignore-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-ignore-db) 启动，并且您发出以下语句：

  ```sql
  USE prices;
  UPDATE sales.january SET amount=amount+1000;
  ```

  ​            The [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) statement            *is* logged in such a case because            [`--binlog-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-ignore-db) applies            only to the default database (determined by the            [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) statement). Because the            `sales` database was specified explicitly            in the statement, the statement has not been filtered.            However, when using row-based logging, the            [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) statement's            effects are *not* written to the binary            log, which means that no changes to the            `sales.january` table are logged; in this            instance,            [`--binlog-ignore-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-ignore-db)            causes *all* changes made to tables in            the source's copy of the `sales`            database to be ignored for purposes of binary logging.          
  在这种情况下*记录* [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 语句，因为 [`--binlog-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-ignore-db) 仅适用于默认数据库（由 [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) 语句确定）。由于在语句中显式指定了 `sales` 数据库，因此尚未筛选该语句。但是，当使用基于行的日志记录时，[`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 语句的效果*不会*写入二进制日志，这意味着不会记录对 `sales.january` table 的更改;在这种情况下，[`--binlog-ignore-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-ignore-db) 会导致出于二进制日志记录的目的，忽略对 `Sales` 数据库的源副本中的表所做的*所有*更改。

  ​            To specify more than one database to ignore, use this option            multiple times, once for each database. Because database            names can contain commas, the list is treated as the name of            a single database if you supply a comma-separated list.          
  要指定要忽略的多个数据库，请多次使用此选项，每个数据库使用一次。由于数据库名称可以包含逗号，因此，如果提供逗号分隔的列表，则列表将被视为单个数据库的名称。

  ​            You should not use this option if you are using            cross-database updates and you do not want these updates to            be logged. 
  如果您使用的是跨数据库更新，并且不希望记录这些更新，则不应使用此选项。

**Checksum options.**           MySQL supports reading and writing of binary log checksums.          These are enabled using the two options listed here: 
**校验和选项。** MySQL 支持读取和写入二进制日志校验和。这些选项使用此处列出的两个选项启用：

- ​            [`--binlog-checksum={NONE|CRC32}`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-checksum)

  

  

  | Command-Line Format 命令行格式 | `--binlog-checksum=type` `--binlog-checksum=类型` |
  | ------------------------------ | ------------------------------------------------- |
  | Type 类型                      | String 字符串                                     |
  | Default Value 默认值           | `CRC32`                                           |
  | Valid Values 有效值            | `NONE``CRC32`                                     |

  ​            Enabling this option causes the source to write checksums            for events written to the binary log. Set to            `NONE` to disable, or the name of the            algorithm to be used for generating checksums; currently,            only CRC32 checksums are supported, and CRC32 is the            default. You cannot change the setting for this option            within a transaction. 
  启用此选项将导致源为写入二进制日志的事件写入校验和。设置为 `NONE` 以禁用，或设置为用于生成校验和的算法的名称;目前，仅支持 CRC32 校验和，CRC32 是默认值。您不能在事务中更改此选项的设置。

​        To control reading of checksums by the replica (from the relay        log), use the        [`--replica-sql-verify-checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_sql_verify_checksum)        option.      
要控制副本（从中继日志）读取校验和，请使用 [`--replica-sql-verify-checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_sql_verify_checksum) 选项。

**Testing and debugging options.**           The following binary log options are used in replication          testing and debugging. They are not intended for use in normal          operations. 
**测试和调试选项。** 以下二进制日志选项用于复制测试和调试。它们不适用于正常操作。

- ​            [`--max-binlog-dump-events=*`N`*`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_max-binlog-dump-events)

  

  

  | Command-Line Format 命令行格式 | `--max-binlog-dump-events=#` |
  | ------------------------------ | ---------------------------- |
  | Type 类型                      | Integer 整数                 |
  | Default Value 默认值           | `0`                          |

  ​            This option is used internally by the MySQL test suite for            replication testing and debugging.          
  此选项由 MySQL 测试套件在内部用于复制测试和调试。

- ​            [`--sporadic-binlog-dump-fail`
  `--零星的二进制日志转储失败`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_sporadic-binlog-dump-fail)

  

  

  | Command-Line Format 命令行格式 | `--sporadic-binlog-dump-fail[={OFF|ON}]` |
  | ------------------------------ | ---------------------------------------- |
  | Type 类型                      | Boolean 布尔                             |
  | Default Value 默认值           | `OFF`                                    |

  ​            This option is used internally by the MySQL test suite for            replication testing and debugging. 
  此选项由 MySQL 测试套件在内部用于复制测试和调试。

##### System Variables Used with Binary Logging 用于二进制日志记录的系统变量

​        The following list describes system variables for controlling        binary logging. They can be set at server startup and some of        them can be changed at runtime using        [`SET`](https://dev.mysql.com/doc/refman/8.4/en/set-variable.html).        Server options used to control binary logging are listed earlier        in this section. 
以下列表描述了用于控制二进制日志记录的系统变量。它们可以在服务器启动时设置，其中一些可以在运行时使用 [`SET`](https://dev.mysql.com/doc/refman/8.4/en/set-variable.html) 进行更改。本节前面列出了用于控制二进制日志记录的服务器选项。

- ​            [`binlog_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_cache_size)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-cache-size=#` |
  | ------------------------------------------------------------ | ----------------------- |
  | System Variable 系统变量                                     | `binlog_cache_size`     |
  | Scope 范围                                                   | Global 全球             |
  | Dynamic 动态                                                 | Yes 是的                |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                   |
  | Type 类型                                                    | Integer 整数            |
  | Default Value 默认值                                         | `32768`                 |
  | Minimum Value 最小值                                         | `4096`                  |
  | Maximum Value (64-bit platforms) 最大值（64 位平台）         | `18446744073709547520`  |
  | Maximum Value (32-bit platforms) 最大值（32 位平台）         | `4294963200`            |
  | Unit 单位                                                    | bytes 字节              |
  | [Block Size 区块大小](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#system-variables-block-size) | `4096`                  |

  ​            The size of the memory buffer to hold changes to the binary            log during a transaction.          
  在事务期间保存对二进制日志的更改的内存缓冲区的大小。

  ​            When binary logging is enabled on the server (with the            [`log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin) system variable set            to ON), a binary log cache is allocated for each client if            the server supports any transactional storage engines. If            the data for the transaction exceeds the space in the memory            buffer, the excess data is stored in a temporary file. When            binary log encryption is active on the server, the memory            buffer is not encrypted, but any temporary file used to hold            the binary log cache is encrypted. After each transaction is            committed, the binary log cache is reset by clearing the            memory buffer and truncating the temporary file if used.          
  在服务器上启用二进制日志记录时（将 [`log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin) 系统变量设置为 ON），如果服务器支持任何事务性存储引擎，则会为每个 Client  端分配一个二进制日志缓存。如果事务的数据超过内存缓冲区中的空间，则多余的数据存储在临时文件中。当二进制日志加密在服务器上处于活动状态时，内存缓冲区不会加密，但用于保存二进制日志缓存的任何临时文件都会加密。提交每个事务后，通过清除内存缓冲区并截断临时文件（如果使用）来重置二进制日志缓存。

  ​            If you often use large transactions, you can increase this            cache size to get better performance by reducing or            eliminating the need to write to temporary files. The            [`Binlog_cache_use`](https://dev.mysql.com/doc/refman/8.4/en/server-status-variables.html#statvar_Binlog_cache_use) and            [`Binlog_cache_disk_use`](https://dev.mysql.com/doc/refman/8.4/en/server-status-variables.html#statvar_Binlog_cache_disk_use)            status variables can be useful for tuning the size of this            variable. See [Section 7.4.4, “The Binary Log”](https://dev.mysql.com/doc/refman/8.4/en/binary-log.html).          
  如果您经常使用大型事务，则可以增加此缓存大小，通过减少或消除写入临时文件的需求来获得更好的性能。[`Binlog_cache_use`](https://dev.mysql.com/doc/refman/8.4/en/server-status-variables.html#statvar_Binlog_cache_use) 和 [`Binlog_cache_disk_use`](https://dev.mysql.com/doc/refman/8.4/en/server-status-variables.html#statvar_Binlog_cache_disk_use) 状态变量可用于调整此变量的大小。参见[第 7.4.4 节 “ 二进制日志”。](https://dev.mysql.com/doc/refman/8.4/en/binary-log.html)

  ​            `binlog_cache_size` sets the size for the            transaction cache only; the size of the statement cache is            governed by the            [`binlog_stmt_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_stmt_cache_size)            system variable.          
  `binlog_cache_size` 仅设置事务缓存的大小;语句缓存的大小由 [`binlog_stmt_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_stmt_cache_size) 系统变量控制。

- ​            [`binlog_checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_checksum)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-checksum=type` `--binlog-checksum=类型` |
  | ------------------------------------------------------------ | ------------------------------------------------- |
  | System Variable 系统变量                                     | `binlog_checksum`                                 |
  | Scope 范围                                                   | Global 全球                                       |
  | Dynamic 动态                                                 | Yes 是的                                          |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                             |
  | Type 类型                                                    | String 字符串                                     |
  | Default Value 默认值                                         | `CRC32`                                           |
  | Valid Values 有效值                                          | `NONE``CRC32`                                     |

  ​            When enabled, this variable causes the source to write a            checksum for each event in the binary log.            `binlog_checksum` supports the values            `NONE` (which disables checksums) and            `CRC32`. The default is            `CRC32`. When            `binlog_checksum` is disabled (value            `NONE`), the server verifies that it is            writing only complete events to the binary log by writing            and checking the event length (rather than a checksum) for            each event.          
  启用后，此变量会导致源为二进制日志中的每个事件写入校验和。`binlog_checksum` 支持值 `NONE` （禁用校验和） 和 `CRC32`。默认值为 `CRC32`。禁用 `binlog_checksum` 时（值 `NONE`），服务器通过写入和检查每个事件的事件长度（而不是校验和）来验证它是否仅将完整事件写入二进制日志。

  ​            Setting this variable on the source to a value unrecognized            by the replica causes the replica to set its own            `binlog_checksum` value to            `NONE`, and to stop replication with an            error. If backward compatibility with older replicas is a            concern, you may want to set the value explicitly to            `NONE`.          
  在源上将此变量设置为副本无法识别的值会导致副本将自己的 `binlog_checksum` 值设置为 `NONE`，并停止复制并显示错误。如果担心与旧副本的向后兼容性，则可能需要将值显式设置为 `NONE`。

  ​            Group Replication in MySQL 8.4 supports            checksums, so group members may use the default setting.          
  MySQL 8.4 中的组复制支持校验和，因此组成员可以使用默认设置。

  ​            Changing the value of `binlog_checksum`            causes the binary log to be rotated, because checksums must            be written for an entire binary log file, and never for only            part of one. You cannot change the value of            `binlog_checksum` within a transaction.          
  更改 `binlog_checksum` 的值会导致二进制日志轮换，因为必须为整个二进制日志文件写入校验和，而绝不能只为一个二进制文件的一部分写入校验和。您不能更改事务中 `binlog_checksum` 的值。

  ​            When binary log transaction compression is enabled using the            [`binlog_transaction_compression`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression)            system variable, checksums are not written for individual            events in a compressed transaction payload. Instead a            checksum is written for the GTID event, and a checksum for            the compressed `Transaction_payload_event`.          
  当使用[ `binlog_transaction_compression` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression)系统变量启用二进制日志事务压缩时，不会为压缩事务有效负载中的单个事件写入校验和。而是为 GTID 事件写入校验和，并为压缩`Transaction_payload_event`写入校验和。

- ​            [`binlog_direct_non_transactional_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_direct_non_transactional_updates)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-direct-non-transactional-updates[={OFF|ON}]` |
  | ------------------------------------------------------------ | ------------------------------------------------------ |
  | System Variable 系统变量                                     | `binlog_direct_non_transactional_updates`              |
  | Scope 范围                                                   | Global, Session 全局， 会话                            |
  | Dynamic 动态                                                 | Yes 是的                                               |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                                  |
  | Type 类型                                                    | Boolean 布尔                                           |
  | Default Value 默认值                                         | `OFF`                                                  |

  ​            Due to concurrency issues, a replica can become inconsistent            when a transaction contains updates to both transactional            and nontransactional tables. MySQL tries to preserve            causality among these statements by writing nontransactional            statements to the transaction cache, which is flushed upon            commit. However, problems arise when modifications done to            nontransactional tables on behalf of a transaction become            immediately visible to other connections because these            changes may not be written immediately into the binary log.          
  由于并发问题，当事务同时包含对事务性和非事务性表的更新时，副本可能会变得不一致。MySQL 尝试通过将非事务性语句写入事务缓存来保留这些语句之间的因果关系，该事务缓存在提交时刷新。但是，当代表事务对非事务 table  所做的修改立即对其他连接可见时，就会出现问题，因为这些更改可能不会立即写入二进制日志。

  ​            The            [`binlog_direct_non_transactional_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_direct_non_transactional_updates)            variable offers one possible workaround to this issue. By            default, this variable is disabled. Enabling            [`binlog_direct_non_transactional_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_direct_non_transactional_updates)            causes updates to nontransactional tables to be written            directly to the binary log, rather than to the transaction            cache.          
  该[ `binlog_direct_non_transactional_updates` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_direct_non_transactional_updates)变量为此问题提供了一种可能的解决方法。默认情况下，此变量处于禁用状态。启用[ `binlog_direct_non_transactional_updates` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_direct_non_transactional_updates)会导致对非事务性 table 的更新直接写入二进制日志，而不是事务缓存。

  ​            Setting the session value of this system variable is a            restricted operation. The session user must have privileges            sufficient to set restricted session variables. See            [Section 7.1.9.1, “System Variable Privileges”](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html).          
  设置此系统变量的 session 值是一个受限操作。会话用户必须具有足够的权限来设置受限的会话变量。参见[第 7.1.9.1 节 “系统变量权限”。](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html)

  ​            *[`binlog_direct_non_transactional_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_direct_non_transactional_updates)            works only for statements that are replicated using the            statement-based binary logging format*; that is,            it works only when the value of            [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) is            `STATEMENT`, or when            [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) is            `MIXED` and a given statement is being            replicated using the statement-based format. This variable            has no effect when the binary log format is            `ROW`, or when            [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) is set to            `MIXED` and a given statement is replicated            using the row-based format. 
  *[ `binlog_direct_non_transactional_updates` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_direct_non_transactional_updates)仅适用于使用基于语句的二进制日志记录格式复制的语句*;也就是说，仅当 [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) 的值为 `STATEMENT`，或者 [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) 为 `MIXED` 并且正在使用基于语句的格式复制给定语句时，它才有效。当二进制日志格式为 `ROW`时，或者当 [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) 设置为 `MIXED` 并且使用基于行的格式复制给定语句时，此变量无效。

  Important 重要

  ​              Before enabling this variable, you must make certain that              there are no dependencies between transactional and              nontransactional tables; an example of such a dependency              would be the statement `INSERT INTO myisam_table              SELECT * FROM innodb_table`. Otherwise, such              statements are likely to cause the replica to diverge from              the source. 
  在启用此变量之前，您必须确保事务 table 和非事务 table 之间没有依赖关系;这种依赖关系的一个示例是语句 `INSERT INTO myisam_table              SELECT * FROM innodb_table` 。否则，此类语句可能会导致副本与源不同。

  ​            This variable has no effect when the binary log format is            `ROW` or `MIXED`.          
  当二进制对数格式为 `ROW` 或 `MIXED` 时，此变量不起作用。

- ​            [`binlog_encryption`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_encryption)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-encryption[={OFF|ON}]` |
  | ------------------------------------------------------------ | -------------------------------- |
  | System Variable 系统变量                                     | `binlog_encryption`              |
  | Scope 范围                                                   | Global 全球                      |
  | Dynamic 动态                                                 | Yes 是的                         |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                            |
  | Type 类型                                                    | Boolean 布尔                     |
  | Default Value 默认值                                         | `OFF`                            |

  ​            Enables encryption for binary log files and relay log files            on this server. `OFF` is the default.            `ON` sets encryption on for binary log            files and relay log files. Binary logging does not need to            be enabled on the server to enable encryption, so you can            encrypt the relay log files on a replica that has no binary            log. To use encryption, a keyring plugin must be installed            and configured to supply MySQL Server's keyring service. For            instructions to do this, see [Section 8.4.4, “The MySQL Keyring”](https://dev.mysql.com/doc/refman/8.4/en/keyring.html). Any            supported keyring plugin can be used to store binary log            encryption keys.          
  在此服务器上启用二进制日志文件和中继日志文件的加密。`OFF` 是默认值。`如果设置为 ON`，则为二进制日志文件和中继日志文件设置加密。无需在服务器上启用二进制日志记录即可启用加密，因此您可以加密没有二进制日志的副本上的中继日志文件。要使用加密，必须安装密钥环插件并将其配置为提供 MySQL Server 的密钥环服务。有关执行此操作的说明，请参见[第 8.4.4 节 “ MySQL 密钥环”。](https://dev.mysql.com/doc/refman/8.4/en/keyring.html)任何受支持的密钥环插件都可用于存储二进制日志加密密钥。

  ​            When you first start the server with binary log encryption            enabled, a new binary log encryption key is generated before            the binary log and relay logs are initialized. This key is            used to encrypt a file password for each binary log file (if            the server has binary logging enabled) and relay log file            (if the server has replication channels), and further keys            generated from the file passwords are used to encrypt the            data in the files. Relay log files are encrypted for all            channels, including Group Replication applier channels and            new channels that are created after encryption is activated.            The binary log index file and relay log index file are never            encrypted.          
  首次在启用二进制日志加密的情况下启动服务器时，将在初始化二进制日志和中继日志之前生成新的二进制日志加密密钥。此密钥用于加密每个二进制日志文件（如果服务器启用了二进制日志记录）和中继日志文件（如果服务器具有复制通道）的文件密码，并且从文件密码生成的其他密钥用于加密文件中的数据。所有通道的中继日志文件都经过加密，包括组复制应用程序通道和激活加密后创建的新通道。二进制日志索引文件和中继日志索引文件永远不会加密。

  ​            If you activate encryption while the server is running, a            new binary log encryption key is generated at that time. The            exception is if encryption was active previously on the            server and was then disabled, in which case the binary log            encryption key that was in use before is used again. The            binary log file and relay log files are rotated immediately,            and file passwords for the new files and all subsequent            binary log files and relay log files are encrypted using            this binary log encryption key. Existing binary log files            and relay log files still present on the server are not            automatically encrypted, but you can purge them if they are            no longer needed.          
  如果在服务器运行时激活加密，则会在此时生成新的二进制日志加密密钥。例外情况是，如果加密之前在服务器上处于活动状态，然后被禁用，在这种情况下，将再次使用之前使用的二进制日志加密密钥。二进制日志文件和中继日志文件会立即轮换，并且新文件和所有后续二进制日志文件和中继日志文件的文件密码都使用此二进制日志加密密钥进行加密。服务器上仍然存在的现有二进制日志文件和中继日志文件不会自动加密，但如果不再需要它们，您可以清除它们。

  ​            If you deactivate encryption by changing the            [`binlog_encryption`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_encryption) system            variable to `OFF`, the binary log file and            relay log files are rotated immediately and all subsequent            logging is unencrypted. Previously encrypted files are not            automatically decrypted, but the server is still able to            read them. The `BINLOG_ENCRYPTION_ADMIN`            privilege (or the deprecated            [`SUPER`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_super) privilege) is required            to activate or deactivate encryption while the server is            running. Group Replication applier channels are not included            in the relay log rotation request, so unencrypted logging            for these channels does not start until their logs are            rotated in normal use.          
  如果通过将 [`binlog_encryption`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_encryption) 系统变量更改为 `OFF` 来停用加密，则二进制日志文件和中继日志文件将立即轮换，并且所有后续日志记录都将解密。以前加密的文件不会自动解密，但服务器仍然能够读取它们。在服务器运行时，需要 `BINLOG_ENCRYPTION_ADMIN` 权限（或已弃用的 [`SUPER`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_super) 权限）才能激活或停用加密。组复制应用程序通道不包括在中继日志轮换请求中，因此，在正常使用中轮换其日志之前，这些通道的未加密日志记录不会开始。

  ​            For more information on binary log file and relay log file            encryption, see            [Section 19.3.2, “Encrypting Binary Log Files and Relay Log Files”](https://dev.mysql.com/doc/refman/8.4/en/replication-binlog-encryption.html).          
  有关二进制日志文件和中继日志文件加密的更多信息，请参见[第 19.3.2 节 “加密二进制日志文件和中继日志文件”。](https://dev.mysql.com/doc/refman/8.4/en/replication-binlog-encryption.html)

- ​            [`binlog_error_action`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_error_action)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-error-action[=value]` `--binlog-error-action[=值]` |
  | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | System Variable 系统变量                                     | `binlog_error_action`                                        |
  | Scope 范围                                                   | Global 全球                                                  |
  | Dynamic 动态                                                 | Yes 是的                                                     |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                                        |
  | Type 类型                                                    | Enumeration 列举                                             |
  | Default Value 默认值                                         | `ABORT_SERVER`                                               |
  | Valid Values 有效值                                          | `IGNORE_ERROR``ABORT_SERVER`                                 |

  ​            Controls what happens when the server encounters an error            such as not being able to write to, flush or synchronize the            binary log, which can cause the source's binary log to            become inconsistent and replicas to lose synchronization.          
  控制当服务器遇到错误（例如无法写入、刷新或同步二进制日志）时发生的情况，这可能会导致源的二进制日志变得不一致，并且副本失去同步。

  ​            This variable defaults to `ABORT_SERVER`,            which makes the server halt logging and shut down whenever            it encounters such an error with the binary log. On restart,            recovery proceeds as in the case of an unexpected server            halt (see            [Section 19.4.2, “Handling an Unexpected Halt of a Replica”](https://dev.mysql.com/doc/refman/8.4/en/replication-solutions-unexpected-replica-halt.html)).          
  此变量默认为 `ABORT_SERVER`，这使得服务器在遇到二进制日志时停止日志记录并关闭。重新启动时，恢复将继续进行，就像服务器意外停止一样（请参见[第 19.4.2 节 “处理副本的意外停止”）。](https://dev.mysql.com/doc/refman/8.4/en/replication-solutions-unexpected-replica-halt.html)

  ​            When `binlog_error_action` is set to            `IGNORE_ERROR`, if the server encounters            such an error it continues the ongoing transaction, logs the            error then halts logging, and continues performing updates.            To resume binary logging            [`log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin) must be enabled            again, which requires a server restart. This setting            provides backward compatibility with older versions of            MySQL.          
  当 `binlog_error_action` 设置为 `IGNORE_ERROR` 时，如果服务器遇到此类错误，它会继续正在进行的事务，记录错误，然后停止记录，并继续执行更新。要恢复二进制日志记录[`log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin)必须再次启用，这需要重新启动服务器。此设置提供与旧版本 MySQL 的向后兼容性。

- ​            [`binlog_expire_logs_seconds`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_expire_logs_seconds)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-expire-logs-seconds=#` |
  | ------------------------------------------------------------ | -------------------------------- |
  | System Variable 系统变量                                     | `binlog_expire_logs_seconds`     |
  | Scope 范围                                                   | Global 全球                      |
  | Dynamic 动态                                                 | Yes 是的                         |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                            |
  | Type 类型                                                    | Integer 整数                     |
  | Default Value 默认值                                         | `2592000`                        |
  | Minimum Value 最小值                                         | `0`                              |
  | Maximum Value 最大值                                         | `4294967295`                     |
  | Unit 单位                                                    | seconds 秒                       |

  ​            Sets the binary log expiration period in seconds. After            their expiration period ends, binary log files can be            automatically removed. Possible removals happen at startup            and when the binary log is flushed. Log flushing occurs as            indicated in [Section 7.4, “MySQL Server Logs”](https://dev.mysql.com/doc/refman/8.4/en/server-logs.html).          
  设置二进制日志过期时间（以秒为单位）。过期期限结束后，可以自动删除二进制日志文件。可能的删除发生在启动时和刷新二进制日志时。日志刷新的发生如[第 7.4 节 “MySQL 服务器日志”](https://dev.mysql.com/doc/refman/8.4/en/server-logs.html)中所述。

  ​            The default binary log expiration period is 2592000 seconds,            which equals 30 days (30*24*60*60 seconds).          
  默认二进制日志过期时间为 2592000 秒，等于 30 天（30*24*60*60 秒）。

  ​            Automatic purging of the binary log can be disabled by            setting the            [`binlog_expire_logs_auto_purge`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_expire_logs_auto_purge)            system variable to `OFF`. This takes            precedence over any setting for            `binlog_expire_logs_seconds`.          
  通过将 [`binlog_expire_logs_auto_purge`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_expire_logs_auto_purge) 系统变量设置为 `OFF` 可以禁用二进制日志的自动清除。这优先于`binlog_expire_logs_seconds`的任何设置。

  ​            To remove binary log files manually, use the            [`PURGE BINARY LOGS`](https://dev.mysql.com/doc/refman/8.4/en/purge-binary-logs.html) statement.            See [Section 15.4.1.1, “PURGE BINARY LOGS Statement”](https://dev.mysql.com/doc/refman/8.4/en/purge-binary-logs.html).          
  要手动删除二进制日志文件，请使用 [`PURGE BINARY LOGS`](https://dev.mysql.com/doc/refman/8.4/en/purge-binary-logs.html) 语句。参见[第 15.4.1.1 节 “ PURGE BINARY LOGS 语句”。](https://dev.mysql.com/doc/refman/8.4/en/purge-binary-logs.html)

- ​            [`binlog_expire_logs_auto_purge`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_expire_logs_auto_purge)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-expire-logs-auto-purge={ON|OFF}` |
  | ------------------------------------------------------------ | ------------------------------------------ |
  | System Variable 系统变量                                     | `binlog_expire_logs_auto_purge`            |
  | Scope 范围                                                   | Global 全球                                |
  | Dynamic 动态                                                 | Yes 是的                                   |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                      |
  | Type 类型                                                    | Boolean 布尔                               |
  | Default Value 默认值                                         | `ON`                                       |

  ​            Enables or disables automatic purging of binary log files.            Setting this variable to `ON` (the default)            enables automatic purging; setting it to            `OFF` disables automatic purging. The            interval to wait before purging is controlled by            [`binlog_expire_logs_seconds`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_expire_logs_seconds). 
  启用或禁用二进制日志文件的自动清除。将此变量设置为 `ON`（默认值）将启用自动清除;将其设置为 `OFF` 将禁用自动清除。清除前等待的时间间隔由 [`binlog_expire_logs_seconds`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_expire_logs_seconds) 控制。

  Note 注意

  ​              Even if `binlog_expire_logs_auto_purge`              is `ON`, setting              `binlog_expire_logs_seconds` to              `0` stops automatic purging from taking              place. 
  即使 `binlog_expire_logs_auto_purge` `为 ON，`将 `binlog_expire_logs_seconds` 设置为 `0` 也会停止自动清除。

  ​            This variable has no effect on [`PURGE             BINARY LOGS`](https://dev.mysql.com/doc/refman/8.4/en/purge-binary-logs.html).          
  此变量对 [`PURGE BINARY LOGS`](https://dev.mysql.com/doc/refman/8.4/en/purge-binary-logs.html) 没有影响。

- ​            [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-format=format` `--binlog-format=格式` |
  | ------------------------------------------------------------ | ----------------------------------------------- |
  | Deprecated 荒废的                                            | Yes 是的                                        |
  | System Variable 系统变量                                     | `binlog_format`                                 |
  | Scope 范围                                                   | Global, Session 全局， 会话                     |
  | Dynamic 动态                                                 | Yes 是的                                        |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                           |
  | Type 类型                                                    | Enumeration 列举                                |
  | Default Value 默认值                                         | `ROW`                                           |
  | Valid Values 有效值                                          | `MIXED``STATEMENT``ROW`                         |

  ​            This system variable sets the binary logging format, and can            be any one of `STATEMENT`,            `ROW`, or `MIXED`. (See            [Section 19.2.1, “Replication Formats”](https://dev.mysql.com/doc/refman/8.4/en/replication-formats.html).) The setting takes            effect when binary logging is enabled on the server, which            is the case when the            [`log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin) system variable is            set to `ON`. In MySQL 8.4,            binary logging is enabled by default, and by default uses            the row-based format. 
  此系统变量设置二进制日志记录格式，可以是 `STATEMENT、``ROW` 或 `MIXED` 中的任何一个。（参见[第 19.2.1 节 “复制格式”。](https://dev.mysql.com/doc/refman/8.4/en/replication-formats.html)当服务器上启用了二进制日志记录时，该设置将生效，当 [`log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin) 系统变量设置为 `ON` 时，会出现这种情况。在 MySQL 8.4 中，二进制日志记录默认启用，并且默认使用基于行的格式。

  Note 注意

  ​              `binlog_format` is deprecated, and              subject to removal in a future version of MySQL. This              implies that support for logging formats other than              row-based is also subject to removal in a future release.              Thus, only row-based logging should be employed for any              new MySQL Replication setups. 
  `binlog_format` 已弃用，并可能在未来版本的 MySQL 中删除。这意味着对基于 row-based 以外的日志记录格式的支持在将来的发行版中也可能会被删除。因此，任何新的 MySQL 复制设置都只应采用基于行的日志记录。

  ​            [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) can be set at            startup or at runtime, except that under some conditions,            changing this variable at runtime is not possible or causes            replication to fail, as described later.          
  [`可以在`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format)启动时或运行时设置binlog_format，但在某些情况下，在运行时无法更改此变量，否则会导致复制失败，如下所述。

  ​            The default is `ROW`.            *Exception*: In NDB Cluster, the default            is `MIXED`; statement-based replication is            not supported for NDB Cluster.          
  默认值为 `ROW`。*例外*：在 NDB Cluster 中，默认值为 `MIXED;`NDB 群集不支持基于语句的复制。

  ​            Setting the session value of this system variable is a            restricted operation. The session user must have privileges            sufficient to set restricted session variables. See            [Section 7.1.9.1, “System Variable Privileges”](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html).          
  设置此系统变量的 session 值是一个受限操作。会话用户必须具有足够的权限来设置受限的会话变量。参见[第 7.1.9.1 节 “系统变量权限”。](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html)

  ​            The rules governing when changes to this variable take            effect and how long the effect lasts are the same as for            other MySQL server system variables. For more information,            see [Section 15.7.6.1, “SET Syntax for Variable Assignment”](https://dev.mysql.com/doc/refman/8.4/en/set-variable.html).          
  控制对此变量的更改何时生效以及效果持续多长时间的规则与其他 MySQL 服务器系统变量相同。有关更多信息，请参见[第 15.7.6.1 节 “变量赋值的 SET 语法”。](https://dev.mysql.com/doc/refman/8.4/en/set-variable.html)

  ​            When `MIXED` is specified, statement-based            replication is used, except for cases where only row-based            replication is guaranteed to lead to proper results. For            example, this happens when statements contain loadable            functions or the [`UUID()`](https://dev.mysql.com/doc/refman/8.4/en/miscellaneous-functions.html#function_uuid)            function.          
  指定 `MIXED` 时，将使用基于语句的复制，但仅保证基于行的复制会导致正确结果的情况除外。例如，当语句包含可加载函数或 [`UUID（）`](https://dev.mysql.com/doc/refman/8.4/en/miscellaneous-functions.html#function_uuid) 函数时，会发生这种情况。

  ​            For details of how stored programs (stored procedures and            functions, triggers, and events) are handled when each            binary logging format is set, see            [Section 27.7, “Stored Program Binary Logging”](https://dev.mysql.com/doc/refman/8.4/en/stored-programs-logging.html).          
  有关在设置每个二进制日志记录格式时如何处理存储程序（存储过程和函数、触发器和事件）的详细信息，请参见[第 27.7 节 “存储程序二进制日志记录”。](https://dev.mysql.com/doc/refman/8.4/en/stored-programs-logging.html)

  ​            There are exceptions when you cannot switch the replication            format at runtime: 
  在运行时无法切换复制格式时，存在例外情况：

  - ​                The replication format cannot be changed from within a                stored function or a trigger.              
    无法从存储函数或触发器中更改复制格式。
  - ​                If a session has open temporary tables, the replication                format cannot be changed for the session (`SET                @@SESSION.binlog_format`).              
    如果会话具有打开的临时表，则无法更改会话 （ `SET                @@SESSION.binlog_format` ） 的复制格式。
  - ​                If any replication channel has open temporary tables,                the replication format cannot be changed globally                (`SET @@GLOBAL.binlog_format` or                `SET @@PERSIST.binlog_format`).              
    如果任何复制通道具有打开的临时 table，则无法全局更改复制格式（`SET @@GLOBAL.binlog_format` 或 `SET @@PERSIST.binlog_format`）。
  - ​                If any replication channel applier thread is currently                running, the replication format cannot be changed                globally (`SET @@GLOBAL.binlog_format`                or `SET @@PERSIST.binlog_format`). 
    如果当前正在运行任何复制通道应用程序线程，则无法全局更改复制格式（`SET @@GLOBAL.binlog_format` 或 `SET @@PERSIST.binlog_format`）。

  ​            Trying to switch the replication format in any of these            cases (or attempting to set the current replication format)            results in an error. You can, however, use            `PERSIST_ONLY` (`SET            @@PERSIST_ONLY.binlog_format`) to change the            replication format at any time, because this action does not            modify the runtime global system variable value, and takes            effect only after a server restart.          
  在上述任何情况下尝试切换复制格式（或尝试设置当前复制格式）都会导致错误。但是，您可以随时使用`PERSIST_ONLY` （） `SET            @@PERSIST_ONLY.binlog_format` 更改复制格式，因为此操作不会修改运行时全局系统变量值，并且仅在服务器重新启动后生效。

  ​            Switching the replication format at runtime is not            recommended when any temporary tables exist, because            temporary tables are logged only when using statement-based            replication, whereas with row-based replication and mixed            replication, they are not logged.          
  当存在任何临时表时，不建议在运行时切换复制格式，因为仅在使用基于语句的复制时记录临时表，而对于基于行的复制和混合复制，则不会记录它们。

  ​            Changing the logging format on a replication source server            does not cause a replica to change its logging format to            match. Switching the replication format while replication is            ongoing can cause issues if a replica has binary logging            enabled, and the change results in the replica using            `STATEMENT` format logging while the source            is using `ROW` or `MIXED`            format logging. A replica is not able to convert binary log            entries received in `ROW` logging format to            `STATEMENT` format for use in its own            binary log, so this situation can cause replication to fail.            For more information, see            [Section 7.4.4.2, “Setting The Binary Log Format”](https://dev.mysql.com/doc/refman/8.4/en/binary-log-setting.html).          
  更改复制源服务器上的日志记录格式不会导致副本更改其日志记录格式以匹配。如果副本启用了二进制日志记录，则在复制过程中切换复制格式可能会导致问题，并且更改会导致副本使用 `STATEMENT` 格式日志记录，而源使用 `ROW` 或 `MIXED` 格式日志记录。副本无法将以 `ROW` 日志记录格式接收的二进制日志条目转换为 `STATEMENT` 格式，以便在其自己的二进制日志中使用，因此这种情况可能会导致复制失败。有关更多信息，请参见[第 7.4.4.2 节 “设置二进制日志格式”。](https://dev.mysql.com/doc/refman/8.4/en/binary-log-setting.html)

  ​            The binary log format affects the behavior of the following            server options: 
  二进制日志格式会影响以下服务器选项的行为：

  - ​                [`--replicate-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db)              
  - ​                [`--replicate-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-ignore-db)              
  - ​                [`--binlog-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db)              
  - ​                [`--binlog-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-ignore-db)

  ​            These effects are discussed in detail in the descriptions of            the individual options.          
  各个选项的描述中详细讨论了这些效果。

- ​            [`binlog_group_commit_sync_delay`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-group-commit-sync-delay=#` |
  | ------------------------------------------------------------ | ------------------------------------ |
  | System Variable 系统变量                                     | `binlog_group_commit_sync_delay`     |
  | Scope 范围                                                   | Global 全球                          |
  | Dynamic 动态                                                 | Yes 是的                             |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                |
  | Type 类型                                                    | Integer 整数                         |
  | Default Value 默认值                                         | `0`                                  |
  | Minimum Value 最小值                                         | `0`                                  |
  | Maximum Value 最大值                                         | `1000000`                            |
  | Unit 单位                                                    | microseconds 微秒                    |

  ​            Controls how many microseconds the binary log commit waits            before synchronizing the binary log file to disk. By default            [`binlog_group_commit_sync_delay`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)            is set to 0, meaning that there is no delay. Setting            [`binlog_group_commit_sync_delay`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)            to a microsecond delay enables more transactions to be            synchronized together to disk at once, reducing the overall            time to commit a group of transactions because the larger            groups require fewer time units per group.          
  控制二进制日志提交在将二进制日志文件同步到磁盘之前等待的微秒数。默认情况下[ `binlog_group_commit_sync_delay` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)设置为 0，这意味着没有延迟。设置为[ `binlog_group_commit_sync_delay` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)微秒级延迟可以同时将更多事务同步到磁盘，从而减少提交一组事务的总时间，因为较大的组每个组需要的时间单位较少。

  ​            When [`sync_binlog=0`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog) or            [`sync_binlog=1`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog) is set, the            delay specified by            [`binlog_group_commit_sync_delay`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)            is applied for every binary log commit group before            synchronization (or in the case of            [`sync_binlog=0`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog), before            proceeding). When            [`sync_binlog`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog) is set to a            value *n* greater than 1, the delay is            applied after every *n* binary log commit            groups.          
  当 [`sync_binlog=0`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog) 或 [`sync_binlog=1`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog) 时，指定的延迟[ `binlog_group_commit_sync_delay` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)将在同步之前（或者在 [`sync_binlog=0`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog) 的情况下，在继续之前）应用于每个二进制日志提交组。当 [`sync_binlog`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog) 设置为大于 1 的值 *n* 时，将在每 *n 个*二进制日志提交组之后应用延迟。

  ​            Setting            [`binlog_group_commit_sync_delay`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)            can increase the number of parallel committing transactions            on any server that has (or might have after a failover) a            replica, and therefore can increase parallel execution on            the replicas. To benefit from this effect, the replica            servers must have            [`replica_parallel_type=LOGICAL_CLOCK`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_type)            set. It is important to take into account both source and            replica throughput when you are setting            [`binlog_group_commit_sync_delay`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay).          
  设置[ `binlog_group_commit_sync_delay` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)可以增加具有（或在故障转移后可能具有）副本的任何服务器上的并行提交事务数，因此可以增加副本上的并行执行。要从此效果中受益，副本服务器必须已设置[ `replica_parallel_type=LOGICAL_CLOCK` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_type)。在设置 [ `binlog_group_commit_sync_delay` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)时，请务必同时考虑源吞吐量和副本吞吐量。

  ​            Setting            [`binlog_group_commit_sync_delay`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)            can also reduce the number of `fsync()`            calls to the binary log on any server (source or replica)            that has a binary log.          
  设置[ `binlog_group_commit_sync_delay` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)还可以减少对具有二进制日志的任何服务器（源或副本）上二进制日志的 `fsync（）` 调用次数。

  ​            Note that setting            [`binlog_group_commit_sync_delay`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)            increases the latency of transactions on the server, which            might affect client applications. Also, on highly concurrent            workloads, it is possible for the delay to increase            contention and therefore reduce throughput. Typically, the            benefits of setting a delay outweigh the drawbacks, but            tuning should always be carried out to determine the optimal            setting.          
  请注意，该设置[ `binlog_group_commit_sync_delay` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)会增加服务器上事务的延迟，这可能会影响客户端应用程序。此外，在高并发工作负载上，延迟可能会增加争用，从而降低吞吐量。通常，设置 delay 的好处大于缺点，但应始终进行 tuning 以确定最佳设置。

- ​            [`binlog_group_commit_sync_no_delay_count`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_no_delay_count)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-group-commit-sync-no-delay-count=#` |
  | ------------------------------------------------------------ | --------------------------------------------- |
  | System Variable 系统变量                                     | `binlog_group_commit_sync_no_delay_count`     |
  | Scope 范围                                                   | Global 全球                                   |
  | Dynamic 动态                                                 | Yes 是的                                      |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                         |
  | Type 类型                                                    | Integer 整数                                  |
  | Default Value 默认值                                         | `0`                                           |
  | Minimum Value 最小值                                         | `0`                                           |
  | Maximum Value 最大值                                         | `100000`                                      |

  ​            The maximum number of transactions to wait for before            aborting the current delay as specified by            [`binlog_group_commit_sync_delay`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay).            If            [`binlog_group_commit_sync_delay`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)            is set to 0, then this option has no effect.          
  在中止当前延迟之前要等待的最大事务数，如 所[ `binlog_group_commit_sync_delay` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)指定。如果[ `binlog_group_commit_sync_delay` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)设置为 0，则此选项无效。

- ​            [`binlog_max_flush_queue_time`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_max_flush_queue_time)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-max-flush-queue-time=#` |
  | ------------------------------------------------------------ | --------------------------------- |
  | Deprecated 荒废的                                            | Yes 是的                          |
  | System Variable 系统变量                                     | `binlog_max_flush_queue_time`     |
  | Scope 范围                                                   | Global 全球                       |
  | Dynamic 动态                                                 | Yes 是的                          |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                             |
  | Type 类型                                                    | Integer 整数                      |
  | Default Value 默认值                                         | `0`                               |
  | Minimum Value 最小值                                         | `0`                               |
  | Maximum Value 最大值                                         | `100000`                          |
  | Unit 单位                                                    | microseconds 微秒                 |

  ​            `binlog_max_flush_queue_time` is            deprecated, and is marked for eventual removal in a future            MySQL release. Formerly, this system variable controlled the            time in microseconds to continue reading transactions from            the flush queue before proceeding with group commit. It no            longer has any effect.          
  `binlog_max_flush_queue_time` 已弃用，并被标记为在未来的 MySQL 版本中最终删除。以前，此系统变量控制在继续进行组提交之前继续从 flush 队列中读取事务的时间（以微秒为单位）。它不再有任何影响。

- ​            [`binlog_order_commits`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_order_commits)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-order-commits[={OFF|ON}]` |
  | ------------------------------------------------------------ | ----------------------------------- |
  | System Variable 系统变量                                     | `binlog_order_commits`              |
  | Scope 范围                                                   | Global 全球                         |
  | Dynamic 动态                                                 | Yes 是的                            |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                               |
  | Type 类型                                                    | Boolean 布尔                        |
  | Default Value 默认值                                         | `ON`                                |

  ​            When this variable is enabled on a replication source server            (which is the default), transaction commit instructions            issued to storage engines are serialized on a single thread,            so that transactions are always committed in the same order            as they are written to the binary log. Disabling this            variable permits transaction commit instructions to be            issued using multiple threads. Used in combination with            binary log group commit, this prevents the commit rate of a            single transaction being a bottleneck to throughput, and            might therefore produce a performance improvement.          
  在复制源服务器上启用此变量（这是默认值）时，向存储引擎发出的事务提交指令将在单个线程上序列化，以便事务始终按照写入二进制日志的相同顺序提交。禁用此变量允许使用多个线程发出事务提交指令。与二进制日志组提交结合使用，这可以防止单个事务的提交速率成为吞吐量的瓶颈，因此可能会提高性能。

  ​            Transactions are written to the binary log at the point when            all the storage engines involved have confirmed that the            transaction is prepared to commit. The binary log group            commit logic then commits a group of transactions after            their binary log write has taken place. When            [`binlog_order_commits`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_order_commits) is            disabled, because multiple threads are used for this            process, transactions in a commit group might be committed            in a different order from their order in the binary log.            (Transactions from a single client always commit in            chronological order.) In many cases this does not matter, as            operations carried out in separate transactions should            produce consistent results, and if that is not the case, a            single transaction ought to be used instead.          
  当所有涉及的存储引擎都确认事务已准备好提交时，事务将写入二进制日志。然后，二进制日志组提交逻辑在二进制日志写入发生后提交一组事务。禁用[`binlog_order_commits`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_order_commits)时，由于此过程使用多个线程，因此提交组中的事务的提交顺序可能与它们在二进制日志中的顺序不同。（来自单个客户端的事务始终按时间顺序提交。在许多情况下，这无关紧要，因为在单独的事务中执行的操作应该产生一致的结果，如果不是这种情况，则应使用单个事务。

  ​            If you want to ensure that the transaction history on the            source and on a multithreaded replica remains identical, set            [`replica_preserve_commit_order=1`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)            on the replica.          
  如果要确保源和多线程副本上的事务历史记录保持相同，请在副本上进行设置[ `replica_preserve_commit_order=1` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)。

- ​            [`binlog_rotate_encryption_master_key_at_startup`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_rotate_encryption_master_key_at_startup)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-rotate-encryption-master-key-at-startup[={OFF|ON}]` |
  | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | System Variable 系统变量                                     | `binlog_rotate_encryption_master_key_at_startup`             |
  | Scope 范围                                                   | Global 全球                                                  |
  | Dynamic 动态                                                 | No 不                                                        |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                                        |
  | Type 类型                                                    | Boolean 布尔                                                 |
  | Default Value 默认值                                         | `OFF`                                                        |

  ​            Specifies whether or not the binary log master key is            rotated at server startup. The binary log master key is the            binary log encryption key that is used to encrypt file            passwords for the binary log files and relay log files on            the server. When a server is started for the first time with            binary log encryption enabled            ([`binlog_encryption=ON`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_encryption)), a            new binary log encryption key is generated and used as the            binary log master key. If the            [`binlog_rotate_encryption_master_key_at_startup`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_rotate_encryption_master_key_at_startup)            system variable is also set to `ON`,            whenever the server is restarted, a further binary log            encryption key is generated and used as the binary log            master key for all subsequent binary log files and relay log            files. If the            [`binlog_rotate_encryption_master_key_at_startup`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_rotate_encryption_master_key_at_startup)            system variable is set to `OFF`, which is            the default, the existing binary log master key is used            again after the server restarts. For more information on            binary log encryption keys and the binary log master key,            see [Section 19.3.2, “Encrypting Binary Log Files and Relay Log Files”](https://dev.mysql.com/doc/refman/8.4/en/replication-binlog-encryption.html).          
  指定是否在服务器启动时轮换二进制日志主密钥。二进制日志主密钥是二进制日志加密密钥，用于加密服务器上的二进制日志文件和中继日志文件的文件密码。首次在启用二进制日志加密 （[`binlog_encryption=ON）`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_encryption) 的情况下启动服务器时，将生成新的二进制日志加密密钥并将其用作二进制日志主密钥。如果[ `binlog_rotate_encryption_master_key_at_startup` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_rotate_encryption_master_key_at_startup)系统变量也设置为 `ON，`则每当重新启动服务器时，都会生成另一个二进制日志加密密钥，并将其用作所有后续二进制日志文件和中继日志文件的二进制日志主密钥。如果[ `binlog_rotate_encryption_master_key_at_startup` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_rotate_encryption_master_key_at_startup)系统变量设置为 `OFF（`默认值），则在服务器重新启动后将再次使用现有的二进制日志主密钥。有关二进制日志加密密钥和二进制日志主密钥的更多信息，请参见[第 19.3.2 节 “加密二进制日志文件和中继日志文件”。](https://dev.mysql.com/doc/refman/8.4/en/replication-binlog-encryption.html)

- ​            [`binlog_row_event_max_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_row_event_max_size)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-row-event-max-size=#` |
  | ------------------------------------------------------------ | ------------------------------- |
  | System Variable 系统变量                                     | `binlog_row_event_max_size`     |
  | Scope 范围                                                   | Global 全球                     |
  | Dynamic 动态                                                 | No 不                           |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                           |
  | Type 类型                                                    | Integer 整数                    |
  | Default Value 默认值                                         | `8192`                          |
  | Minimum Value 最小值                                         | `256`                           |
  | Maximum Value (64-bit platforms) 最大值（64 位平台）         | `18446744073709551615`          |
  | Maximum Value (32-bit platforms) 最大值（32 位平台）         | `4294967295`                    |
  | Unit 单位                                                    | bytes 字节                      |

  ​            When row-based binary logging is used, this setting is a            soft limit on the maximum size of a row-based binary log            event, in bytes. Where possible, rows stored in the binary            log are grouped into events with a size not exceeding the            value of this setting. If an event cannot be split, the            maximum size can be exceeded. The default is 8192 bytes.          
  使用基于行的二进制日志记录时，此设置是对基于行的二进制日志事件的最大大小（以字节为单位）的软限制。在可能的情况下，存储在二进制日志中的行将分组为大小不超过此设置值的事件。如果无法拆分事件，则可以超过最大大小。默认值为 8192 字节。

  ​            This global system variable is read-only and can be set only            at server startup. Its value can therefore only be modified            by using the `PERSIST_ONLY` keyword or the            `@@persist_only` qualifier with the            [`SET`](https://dev.mysql.com/doc/refman/8.4/en/set.html) statement.          
  此全局系统变量是只读的，只能在服务器启动时设置。因此，只能通过在 [`SET`](https://dev.mysql.com/doc/refman/8.4/en/set.html) 语句中使用 `PERSIST_ONLY` 关键字或 `@@persist_only` 限定符来修改其值。

- ​            [`binlog_row_image`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_row_image)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-row-image=image_type`                              |
  | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | System Variable 系统变量                                     | `binlog_row_image`                                           |
  | Scope 范围                                                   | Global, Session 全局， 会话                                  |
  | Dynamic 动态                                                 | Yes 是的                                                     |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                                        |
  | Type 类型                                                    | Enumeration 列举                                             |
  | Default Value 默认值                                         | `full` `满`                                                  |
  | Valid Values 有效值                                          | `full` (Log all columns) `full` （记录所有列）`minimal` (Log only changed columns, and columns needed to identify rows) `minimal` （仅记录已更改的列和标识行所需的列）`noblob` (Log all columns, except for unneeded BLOB and TEXT columns) `noblob` （记录所有列，不需要的 BLOB 和 TEXT 列除外） |

  ​            For MySQL row-based replication, this variable determines            how row images are written to the binary log.          
  对于 MySQL 基于行的复制，此变量确定如何将行图像写入二进制日志。

  ​            Setting the session value of this system variable is a            restricted operation. The session user must have privileges            sufficient to set restricted session variables. See            [Section 7.1.9.1, “System Variable Privileges”](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html).          
  设置此系统变量的 session 值是一个受限操作。会话用户必须具有足够的权限来设置受限的会话变量。参见[第 7.1.9.1 节 “系统变量权限”。](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html)

  ​            In MySQL row-based replication, each row change event            contains two images, a “before” image whose            columns are matched against when searching for the row to be            updated, and an “after” image containing the            changes. Normally, MySQL logs full rows (that is, all            columns) for both the before and after images. However, it            is not strictly necessary to include every column in both            images, and we can often save disk, memory, and network            usage by logging only those columns which are actually            required. 
  在 MySQL 基于行的复制中，每个行更改事件都包含两个图像，一个“之前”图像，在搜索要更新的行时，其列与之匹配，另一个“之后”图像包含更改。通常，MySQL 会记录之前和之后图像的完整行（即所有列）。但是，并非绝对必要在两个映像中都包含每一列，我们通常可以通过仅记录实际需要的列来节省磁盘、内存和网络使用。

  Note 注意

  ​              When deleting a row, only the before image is logged,              since there are no changed values to propagate following              the deletion. When inserting a row, only the after image              is logged, since there is no existing row to be matched.              Only when updating a row are both the before and after              images required, and both written to the binary log. 
  删除行时，仅记录 before image ，因为删除后没有要传播的更改值。插入行时，仅记录后像，因为没有要匹配的现有行。仅当更新行时，才需要 before 和 after 图像，并且两者都写入二进制日志。

  ​            For the before image, it is necessary only that the minimum            set of columns required to uniquely identify rows is logged.            If the table containing the row has a primary key, then only            the primary key column or columns are written to the binary            log. Otherwise, if the table has a unique key all of whose            columns are `NOT NULL`, then only the            columns in the unique key need be logged. (If the table has            neither a primary key nor a unique key without any            `NULL` columns, then all columns must be            used in the before image, and logged.) In the after image,            it is necessary to log only the columns which have actually            changed.          
  对于前映像，只需记录唯一标识行所需的最小列集。如果包含该行的表具有主键，则仅将主键列或列写入二进制日志。否则，如果表具有唯一键，其所有列都`不是 NULL，`则只需记录唯一键中的列。（如果表既没有主键也没有唯一键，而没有任何 `NULL` 列，则必须在图像之前使用所有列，并记录下来。在残像中，只需记录实际更改的列。

  ​            You can cause the server to log full or minimal rows using            the `binlog_row_image` system variable.            This variable actually takes one of three possible values,            as shown in the following list: 
  您可以使用 `binlog_row_image` 系统变量使服务器记录完整行或最少行。此变量实际上采用三个可能的值之一，如以下列表所示：

  - ​                `full`: Log all columns in both the                before image and the after image.              
    `full`：记录前像和后像中的所有列。
  - ​                `minimal`: Log only those columns in                the before image that are required to identify the row                to be changed; log only those columns in the after image                where a value was specified by the SQL statement, or                generated by auto-increment.              
    `minimal`：仅记录 before 图像中标识要更改的行所需的列;仅记录 After Image 中值由 SQL 语句指定或由自动增量生成的那些列。
  - ​                `noblob`: Log all columns (same as                `full`), except for                [`BLOB`](https://dev.mysql.com/doc/refman/8.4/en/blob.html) and                [`TEXT`](https://dev.mysql.com/doc/refman/8.4/en/blob.html) columns that are not                required to identify rows, or that have not changed. 
    `noblob`：记录所有列（与 `full` 相同），但不需要标识行或尚未更改的 [`BLOB`](https://dev.mysql.com/doc/refman/8.4/en/blob.html) 和 [`TEXT`](https://dev.mysql.com/doc/refman/8.4/en/blob.html) 列除外。

  Note 注意

  ​              This variable is not supported by NDB Cluster; setting it              has no effect on the logging of              [`NDB`](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster.html) tables. 
  NDB Cluster 不支持此变量;设置它对 [`NDB`](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster.html) table 的日志记录没有影响。

  ​            The default value is `full`.          
  默认值为 `full`。

  ​            When using `minimal` or            `noblob`, deletes and updates are            guaranteed to work correctly for a given table if and only            if the following conditions are true for both the source and            destination tables: 
  使用 `minimal` 或 `noblob` 时，当且仅当源表和目标表都满足以下条件时，才能保证删除和更新对给定表正常工作：

  - ​                All columns must be present and in the same order; each                column must use the same data type as its counterpart in                the other table.              
    所有列都必须存在且顺序相同;每列必须使用与其他表中的对应项相同的数据类型。
  - ​                The tables must have identical primary key definitions. 
    这些表必须具有相同的主键定义。

  ​            (In other words, the tables must be identical with the            possible exception of indexes that are not part of the            tables' primary keys.)          
  （换句话说，表必须与不属于 table 主键的索引可能例外相同.）

  ​            If these conditions are not met, it is possible that the            primary key column values in the destination table may prove            insufficient to provide a unique match for a delete or            update. In this event, no warning or error is issued; the            source and replica silently diverge, thus breaking            consistency.          
  如果不满足这些条件，则目标表中的主键列值可能不足以提供删除或更新的唯一匹配项。在这种情况下，不会发出警告或错误;源和副本以静默方式发散，从而破坏一致性。

  ​            Setting this variable has no effect when the binary logging            format is `STATEMENT`. When            [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) is            `MIXED`, the setting for            `binlog_row_image` is applied to changes            that are logged using row-based format, but this setting has            no effect on changes logged as statements.          
  当二进制日志记录格式为 `STATEMENT` 时，设置此变量不起作用。当 [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) 为 `MIXED` 时，`binlog_row_image` 的设置将应用于使用基于行的格式记录的更改，但此设置对记录为语句的更改没有影响。

  ​            Setting `binlog_row_image` on either the            global or session level does not cause an implicit commit;            this means that this variable can be changed while a            transaction is in progress without affecting the            transaction.          
  在全局或会话级别设置 `binlog_row_image` 不会导致隐式提交;这意味着可以在事务进行时更改此变量，而不会影响事务。

- ​            [`binlog_row_metadata`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_row_metadata)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-row-metadata=metadata_type`                        |
  | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | System Variable 系统变量                                     | `binlog_row_metadata`                                        |
  | Scope 范围                                                   | Global 全球                                                  |
  | Dynamic 动态                                                 | Yes 是的                                                     |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                                        |
  | Type 类型                                                    | Enumeration 列举                                             |
  | Default Value 默认值                                         | `MINIMAL`                                                    |
  | Valid Values 有效值                                          | `FULL` (All metadata is included) `FULL`（包括所有元数据）`MINIMAL` (Limit included metadata) `MINIMAL` （限制包含的元数据） |

  ​            Configures the amount of table metadata added to the binary            log when using row-based logging. When set to            `MINIMAL`, the default, only metadata            related to `SIGNED` flags, column character            set and geometry types are logged. When set to            `FULL` complete metadata for tables is            logged, such as column name,            [`ENUM`](https://dev.mysql.com/doc/refman/8.4/en/enum.html) or            `SET` string values, `PRIMARY            KEY` information, and so on.          
  配置使用基于行的日志记录时添加到二进制日志的表元数据量。当设置为 `MINIMAL` 时（默认值），仅记录与 `SIGNED` 标志、列字符集和几何类型相关的元数据。当设置为 `FULL` 时，将记录表的完整元数据，例如列名、[`ENUM`](https://dev.mysql.com/doc/refman/8.4/en/enum.html) 或 `SET` 字符串值、`PRIMARY KEY` 信息等。

  ​            The extended metadata serves the following purposes: 
  扩展元数据用于以下用途：

  - ​                Replicas use the metadata to transfer data when its                table structure is different from the source's.              
    当元数据的表结构与源的表结构不同时，副本使用元数据来传输数据。
  - ​                External software can use the metadata to decode row                events and store the data into external databases, such                as a data warehouse. 
    外部软件可以使用元数据来解码行事件并将数据存储到外部数据库（如数据仓库）中。

- ​            [`binlog_row_value_options`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_row_value_options)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-row-value-options=#` |
  | ------------------------------------------------------------ | ------------------------------ |
  | System Variable 系统变量                                     | `binlog_row_value_options`     |
  | Scope 范围                                                   | Global, Session 全局， 会话    |
  | Dynamic 动态                                                 | Yes 是的                       |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                          |
  | Type 类型                                                    | Set 设置                       |
  | Default Value 默认值                                         | ``                             |
  | Valid Values 有效值                                          | `PARTIAL_JSON`                 |

  ​            When set to `PARTIAL_JSON`, this enables            use of a space-efficient binary log format for updates that            modify only a small portion of a JSON document, which causes            row-based replication to write only the modified parts of            the JSON document to the after-image for the update in the            binary log, rather than writing the full document (see            [Partial Updates of JSON Values](https://dev.mysql.com/doc/refman/8.4/en/json.html#json-partial-updates)). This works for an            [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) statement which            modifies a JSON column using any sequence of            [`JSON_SET()`](https://dev.mysql.com/doc/refman/8.4/en/json-modification-functions.html#function_json-set),            [`JSON_REPLACE()`](https://dev.mysql.com/doc/refman/8.4/en/json-modification-functions.html#function_json-replace), and            [`JSON_REMOVE()`](https://dev.mysql.com/doc/refman/8.4/en/json-modification-functions.html#function_json-remove). If the server            is unable to generate a partial update, the full document is            used instead.          
  当设置为 `PARTIAL_JSON` 时，这允许对仅修改 JSON 文档的一小部分的更新使用节省空间的二进制日志格式，这会导致基于行的复制仅将 JSON 文档的修改部分写入二进制日志中更新的后像，而不是写入完整文档（请参阅 [JSON 值的部分更新](https://dev.mysql.com/doc/refman/8.4/en/json.html#json-partial-updates)）。这适用于 [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 语句，该语句使用 [`JSON_SET（）、`](https://dev.mysql.com/doc/refman/8.4/en/json-modification-functions.html#function_json-set)[`JSON_REPLACE（）`](https://dev.mysql.com/doc/refman/8.4/en/json-modification-functions.html#function_json-replace) 和 [`JSON_REMOVE（） 的`](https://dev.mysql.com/doc/refman/8.4/en/json-modification-functions.html#function_json-remove)任意序列修改 JSON 列。如果服务器无法生成部分更新，则改用完整文档。

  ​            The default value is an empty string, which disables use of            the format. To unset            `binlog_row_value_options` and revert to            writing the full JSON document, set its value to the empty            string.          
  默认值为空字符串，这将禁用该格式。要取消设置 `binlog_row_value_options` 并恢复为写入完整的 JSON 文档，请将其值设置为空字符串。

  ​            Setting the session value of this system variable is a            restricted operation. The session user must have privileges            sufficient to set restricted session variables. See            [Section 7.1.9.1, “System Variable Privileges”](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html).          
  设置此系统变量的 session 值是一个受限操作。会话用户必须具有足够的权限来设置受限的会话变量。参见[第 7.1.9.1 节 “系统变量权限”。](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html)

  ​            `binlog_row_value_options=PARTIAL_JSON`            takes effect only when binary logging is enabled and            [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) is set to            `ROW` or `MIXED`.            Statement-based replication *always* logs            only the modified parts of the JSON document, regardless of            any value set for            `binlog_row_value_options`. To maximize the            amount of space saved, use            [`binlog_row_image=NOBLOB`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_row_image) or            `binlog_row_image=MINIMAL` together with            this option. `binlog_row_image=FULL` saves            less space than either of these, since the full JSON            document is stored in the before-image, and the partial            update is stored only in the after-image.          
   `binlog_row_value_options=PARTIAL_JSON` 仅当启用了二进制日志记录且 [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) 设置为 `ROW` 或 `MIXED` 时，才会生效。基于语句的复制*始终*仅记录 JSON 文档的修改部分，而不管为 `binlog_row_value_options` 设置的任何值如何。要最大限度地节省空间量，请将 [`binlog_row_image=NOBLOB`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_row_image) 或 `binlog_row_image=MINIMAL` 与此选项一起使用。`binlog_row_image=FULL` 比这两种文档节省的空间更少，因为完整的 JSON 文档存储在 before-image 中，而部分更新仅存储在 after-image 中。

  ​            [**mysqlbinlog**](https://dev.mysql.com/doc/refman/8.4/en/mysqlbinlog.html) output includes partial JSON            updates in the form of events encoded as base-64 strings            using [`BINLOG`](https://dev.mysql.com/doc/refman/8.4/en/binlog.html) statements. If            the [`--verbose`](https://dev.mysql.com/doc/refman/8.4/en/mysqlbinlog.html#option_mysqlbinlog_verbose) option is            specified, [**mysqlbinlog**](https://dev.mysql.com/doc/refman/8.4/en/mysqlbinlog.html) displays the            partial JSON updates as readable JSON using pseudo-SQL            statements.          
  [**mysqlbinlog**](https://dev.mysql.com/doc/refman/8.4/en/mysqlbinlog.html) 输出包括部分 JSON 更新，其形式是使用 [`BINLOG`](https://dev.mysql.com/doc/refman/8.4/en/binlog.html) 语句编码为 base-64 字符串的事件。如果指定了 [`--verbose`](https://dev.mysql.com/doc/refman/8.4/en/mysqlbinlog.html#option_mysqlbinlog_verbose) 选项，[**则 mysqlbinlog**](https://dev.mysql.com/doc/refman/8.4/en/mysqlbinlog.html) 使用伪 SQL 语句将部分 JSON 更新显示为可读 JSON。

  ​            MySQL Replication generates an error if a modification            cannot be applied to the JSON document on the replica. This            includes a failure to find the path. Be aware that, even            with this and other safety checks, if a JSON document on a            replica has diverged from that on the source and a partial            update is applied, it remains theoretically possible to            produce a valid but unexpected JSON document on the replica.          
  如果修改无法应用于副本上的 JSON 文档，则 MySQL Replication 会生成错误。这包括找不到路径。请注意，即使进行了此安全检查和其他安全检查，如果副本上的 JSON 文档与源上的 JSON 文档不同，并且应用了部分更新，则理论上仍然可以在副本上生成有效但意外的 JSON 文档。

- ​            `binlog_rows_query_log_events`

  

  

  | Command-Line Format 命令行格式                               | `--binlog-rows-query-log-events[={OFF|ON}]` |
  | ------------------------------------------------------------ | ------------------------------------------- |
  | System Variable 系统变量                                     | `binlog_rows_query_log_events`              |
  | Scope 范围                                                   | Global, Session 全局， 会话                 |
  | Dynamic 动态                                                 | Yes 是的                                    |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                       |
  | Type 类型                                                    | Boolean 布尔                                |
  | Default Value 默认值                                         | `OFF`                                       |

  ​            This system variable affects row-based logging only. When            enabled, it causes the server to write informational log            events such as row query log events into its binary log.            This information can be used for debugging and related            purposes, such as obtaining the original query issued on the            source when it cannot be reconstructed from the row updates.          
  此系统变量仅影响基于行的日志记录。启用后，它会导致服务器将信息性日志事件（如行查询日志事件）写入其二进制日志。此信息可用于调试和相关目的，例如在无法从行更新中重建源时获取源上发出的原始查询。

  ​            Setting the session value of this system variable is a            restricted operation. The session user must have privileges            sufficient to set restricted session variables. See            [Section 7.1.9.1, “System Variable Privileges”](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html).          
  设置此系统变量的 session 值是一个受限操作。会话用户必须具有足够的权限来设置受限的会话变量。参见[第 7.1.9.1 节 “系统变量权限”。](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html)

  ​            These informational events are normally ignored by MySQL            programs reading the binary log and so cause no issues when            replicating or restoring from backup. To view them, increase            the verbosity level by using mysqlbinlog's            [`--verbose`](https://dev.mysql.com/doc/refman/8.4/en/mysqlbinlog.html#option_mysqlbinlog_verbose) option twice,            either as `-vv` or `--verbose            --verbose`.          
  读取二进制日志的 MySQL 程序通常会忽略这些信息事件，因此在复制或从备份还原时不会引起任何问题。要查看它们，请使用 mysqlbinlog 的 [`--verbose`](https://dev.mysql.com/doc/refman/8.4/en/mysqlbinlog.html#option_mysqlbinlog_verbose) 选项两次（如 `-vv` 或 `--verbose            --verbose` ）来提高详细级别。

- ​            [`binlog_stmt_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_stmt_cache_size)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-stmt-cache-size=#` |
  | ------------------------------------------------------------ | ---------------------------- |
  | System Variable 系统变量                                     | `binlog_stmt_cache_size`     |
  | Scope 范围                                                   | Global 全球                  |
  | Dynamic 动态                                                 | Yes 是的                     |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                        |
  | Type 类型                                                    | Integer 整数                 |
  | Default Value 默认值                                         | `32768`                      |
  | Minimum Value 最小值                                         | `4096`                       |
  | Maximum Value (64-bit platforms) 最大值（64 位平台）         | `18446744073709547520`       |
  | Maximum Value (32-bit platforms) 最大值（32 位平台）         | `4294963200`                 |
  | Unit 单位                                                    | bytes 字节                   |
  | [Block Size 区块大小](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#system-variables-block-size) | `4096`                       |

  ​            The size of the memory buffer for the binary log to hold            nontransactional statements issued during a transaction.          
  二进制日志的内存缓冲区的大小，用于保存事务期间发出的非事务性语句。

  ​            When binary logging is enabled on the server (with the            [`log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin) system variable set            to ON), separate binary log transaction and statement caches            are allocated for each client if the server supports any            transactional storage engines. If the data for the            nontransactional statements used in the transaction exceeds            the space in the memory buffer, the excess data is stored in            a temporary file. When binary log encryption is active on            the server, the memory buffer is not encrypted, but any            temporary file used to hold the binary log cache is            encrypted. After each transaction is committed, the binary            log statement cache is reset by clearing the memory buffer            and truncating the temporary file if used.          
  在服务器上启用二进制日志记录时（将 [`log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin) 系统变量设置为  ON），如果服务器支持任何事务存储引擎，则会为每个客户端分配单独的二进制日志事务和语句缓存。如果事务中使用的非事务性语句的数据超过内存缓冲区中的空间，则多余的数据存储在临时文件中。当二进制日志加密在服务器上处于活动状态时，内存缓冲区不会加密，但用于保存二进制日志缓存的任何临时文件都会加密。提交每个事务后，通过清除内存缓冲区并截断临时文件（如果使用）来重置二进制日志语句高速缓存。

  ​            If you often use large nontransactional statements during            transactions, you can increase this cache size to get better            performance by reducing or eliminating the need to write to            temporary files. The            [`Binlog_stmt_cache_use`](https://dev.mysql.com/doc/refman/8.4/en/server-status-variables.html#statvar_Binlog_stmt_cache_use) and            [`Binlog_stmt_cache_disk_use`](https://dev.mysql.com/doc/refman/8.4/en/server-status-variables.html#statvar_Binlog_stmt_cache_disk_use)            status variables can be useful for tuning the size of this            variable. See [Section 7.4.4, “The Binary Log”](https://dev.mysql.com/doc/refman/8.4/en/binary-log.html).          
  如果您在事务期间经常使用大型非事务性语句，则可以增加此缓存大小，通过减少或消除写入临时文件的需要来获得更好的性能。[`Binlog_stmt_cache_use`](https://dev.mysql.com/doc/refman/8.4/en/server-status-variables.html#statvar_Binlog_stmt_cache_use) 和 [`Binlog_stmt_cache_disk_use`](https://dev.mysql.com/doc/refman/8.4/en/server-status-variables.html#statvar_Binlog_stmt_cache_disk_use) 状态变量可用于调整此变量的大小。参见[第 7.4.4 节 “ 二进制日志”。](https://dev.mysql.com/doc/refman/8.4/en/binary-log.html)

  ​            The [`binlog_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_cache_size)            system variable sets the size for the transaction cache.          
  [`binlog_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_cache_size) 系统变量设置事务缓存的大小。

- ​            [`binlog_transaction_compression`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-transaction-compression[={OFF|ON}]` |
  | ------------------------------------------------------------ | --------------------------------------------- |
  | System Variable 系统变量                                     | `binlog_transaction_compression`              |
  | Scope 范围                                                   | Global, Session 全局， 会话                   |
  | Dynamic 动态                                                 | Yes 是的                                      |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                         |
  | Type 类型                                                    | Boolean 布尔                                  |
  | Default Value 默认值                                         | `OFF`                                         |

  ​            Enables compression for transactions that are written to            binary log files on this server. `OFF` is            the default. Use the            [`binlog_transaction_compression_level_zstd`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression_level_zstd)            system variable to set the level for the            `zstd` algorithm that is used for            compression.          
  对写入此服务器上的二进制日志文件的事务启用压缩。`OFF` 是默认值。使用[ `binlog_transaction_compression_level_zstd` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression_level_zstd)系统变量设置用于压缩的 `zstd` 算法的级别。

  ​            Setting            [`binlog_transaction_compression`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression)            has no immediate effect but rather applies to all subsequent            [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) statements.          
  设置[ `binlog_transaction_compression` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression)不会立即生效，而是适用于所有后续的 [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) 语句。

  ​            When binary log transaction compression is enabled,            transaction payloads are compressed and then written to the            binary log file as a single event            (`Transaction_payload_event`). Compressed            transaction payloads remain in a compressed state while they            are sent in the replication stream to replicas, other Group            Replication group members, or clients such as            [**mysqlbinlog**](https://dev.mysql.com/doc/refman/8.4/en/mysqlbinlog.html), and are written to the relay            log still in their compressed state. Binary log transaction            compression therefore saves storage space both on the            originator of the transaction and on the recipient (and for            their backups), and saves network bandwidth when the            transactions are sent between server instances.          
  启用二进制日志事务压缩后，事务有效负载将被压缩，然后作为单个事件 （`Transaction_payload_event`） 写入二进制日志文件。压缩的事务有效负载在复制流中发送到副本、其他组复制组成员或客户端（如 [**mysqlbinlog**](https://dev.mysql.com/doc/refman/8.4/en/mysqlbinlog.html)）时保持压缩状态，并写入仍处于压缩状态的中继日志。因此，二进制日志事务压缩可以节省事务发起方和接收者（及其备份）上的存储空间，并在服务器实例之间发送事务时节省网络带宽。

  ​            For `binlog_transaction_compression=ON` to            have a direct effect, binary logging must be enabled on the            server. When a MySQL 8.4 server instance has no            binary log, it can receive, handle, and display compressed            transaction payloads regardless of its value for            [`binlog_transaction_compression`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression).            Compressed transaction payloads received by such server            instances are written in their compressed state to the relay            log, so they benefit indirectly from compression carried out            by other servers in the replication topology.          
  为了 `binlog_transaction_compression=ON` 产生直接效果，必须在服务器上启用二进制日志记录。当 MySQL 8.4 服务器实例没有二进制日志时，它可以接收、处理和显示压缩的事务有效负载，而不管其值[ `binlog_transaction_compression` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression)如何。此类服务器实例接收的压缩事务有效负载以其压缩状态写入中继日志，因此它们间接受益于复制拓扑中其他服务器执行的压缩。

  ​            This system variable cannot be changed within the context of            a transaction. Setting the session value of this system            variable is a restricted operation. The session user must            have privileges sufficient to set restricted session            variables. See [Section 7.1.9.1, “System Variable Privileges”](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html).          
  此系统变量不能在事务的上下文中更改。设置此系统变量的 session 值是一个受限操作。会话用户必须具有足够的权限来设置受限的会话变量。参见[第 7.1.9.1 节 “系统变量权限”。](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html)

  ​            For more information on binary log transaction compression,            including details of what events are and are not compressed,            and changes in behavior when transaction compression is in            use, see            [Section 7.4.4.5, “Binary Log Transaction Compression”](https://dev.mysql.com/doc/refman/8.4/en/binary-log-transaction-compression.html).          
  有关二进制日志事务压缩的更多信息，包括压缩和未压缩的事件的详细信息，以及使用事务压缩时的行为更改，请参见[第 7.4.4.5 节 “二进制日志事务压缩”。](https://dev.mysql.com/doc/refman/8.4/en/binary-log-transaction-compression.html)

  ​            You can use the            [`ndb_log_transaction_compression`](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster-options-variables.html#sysvar_ndb_log_transaction_compression)            system variable to enable this feature for            [`NDB`](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster.html). In addition, setting            `--binlog-transaction-compression=ON` on the            command line or in a `my.cnf` file causes            `ndb_log_transaction_compression` to be            enabled on server startup. See the description of the            variable for further information.          
  您可以使用 [ `ndb_log_transaction_compression` ](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster-options-variables.html#sysvar_ndb_log_transaction_compression) system 变量为 [`NDB`](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster.html) 启用此功能。此外，在命令行或 `my.cnf` 文件中进行设置 `--binlog-transaction-compression=ON` 会导致 `ndb_log_transaction_compression` 在服务器启动时启用。有关详细信息，请参阅变量的描述。

- ​            [`binlog_transaction_compression_level_zstd`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression_level_zstd)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-transaction-compression-level-zstd=#` |
  | ------------------------------------------------------------ | ----------------------------------------------- |
  | System Variable 系统变量                                     | `binlog_transaction_compression_level_zstd`     |
  | Scope 范围                                                   | Global, Session 全局， 会话                     |
  | Dynamic 动态                                                 | Yes 是的                                        |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                           |
  | Type 类型                                                    | Integer 整数                                    |
  | Default Value 默认值                                         | `3`                                             |
  | Minimum Value 最小值                                         | `1`                                             |
  | Maximum Value 最大值                                         | `22`                                            |

  ​            Sets the compression level for binary log transaction            compression on this server, which is enabled by the            [`binlog_transaction_compression`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression)            system variable. The value is an integer that determines the            compression effort, from 1 (the lowest effort) to 22 (the            highest effort). If you do not specify this system variable,            the compression level is set to 3.          
  设置此服务器上二进制日志事务压缩的压缩级别，该压缩级别由[ `binlog_transaction_compression` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression)系统变量启用。该值是一个整数，用于确定压缩工作量，从 1（最低工作量）到 22（最高工作量）。如果未指定此系统变量，则压缩级别将设置为 3。

  ​            Setting            [`binlog_transaction_compression_level_zstd`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression_level_zstd)            has no immediate effect but rather applies to all subsequent            [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) statements.          
  设置[ `binlog_transaction_compression_level_zstd` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression_level_zstd)不会立即生效，而是适用于所有后续的 [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) 语句。

  ​            As the compression level increases, the data compression            ratio increases, which reduces the storage space and network            bandwidth required for the transaction payload. However, the            effort required for data compression also increases, taking            time and CPU and memory resources on the originating server.            Increases in the compression effort do not have a linear            relationship to increases in the data compression ratio.          
  随着压缩级别的增加，数据压缩率也会增加，这会减少事务有效负载所需的存储空间和网络带宽。但是，数据压缩所需的工作量也会增加，从而在原始服务器上占用时间以及 CPU 和内存资源。压缩工作量的增加与数据压缩率的增加没有线性关系。

  ​            This system variable cannot be changed within the context of            a transaction. Setting the session value of this system            variable is a restricted operation. The session user must            have privileges sufficient to set restricted session            variables. See [Section 7.1.9.1, “System Variable Privileges”](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html).          
  此系统变量不能在事务的上下文中更改。设置此系统变量的 session 值是一个受限操作。会话用户必须具有足够的权限来设置受限的会话变量。参见[第 7.1.9.1 节 “系统变量权限”。](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html)

  ​            This variable has no effect on logging of transactions on            [`NDB`](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster.html) tables; use            [`ndb_log_transaction_compression_level_zstd`](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster-options-variables.html#sysvar_ndb_log_transaction_compression_level_zstd)            instead.          
  此变量对 [`NDB`](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster.html) table 上的事务日志记录没有影响;使用[ `ndb_log_transaction_compression_level_zstd` ](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster-options-variables.html#sysvar_ndb_log_transaction_compression_level_zstd)。

- ​            [`binlog_transaction_dependency_history_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_dependency_history_size)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-transaction-dependency-history-size=#` |
  | ------------------------------------------------------------ | ------------------------------------------------ |
  | System Variable 系统变量                                     | `binlog_transaction_dependency_history_size`     |
  | Scope 范围                                                   | Global 全球                                      |
  | Dynamic 动态                                                 | Yes 是的                                         |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                            |
  | Type 类型                                                    | Integer 整数                                     |
  | Default Value 默认值                                         | `25000`                                          |
  | Minimum Value 最小值                                         | `1`                                              |
  | Maximum Value 最大值                                         | `1000000`                                        |

  ​            Sets an upper limit on the number of row hashes which are            kept in memory and used for looking up the transaction that            last modified a given row. Once this number of hashes has            been reached, the history is purged.          
  设置保留在内存中的行哈希数的上限，这些哈希值用于查找上次修改给定行的事务。达到此哈希数后，将清除历史记录。

- ​            [`log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin)

  

  

  | System Variable 系统变量                                     | `log_bin`    |
  | ------------------------------------------------------------ | ------------ |
  | Scope 范围                                                   | Global 全球  |
  | Dynamic 动态                                                 | No 不        |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不        |
  | Type 类型                                                    | Boolean 布尔 |

  ​            Shows the status of binary logging on the server, either            enabled (`ON`) or disabled            (`OFF`). With binary logging enabled, the            server logs all statements that change data to the binary            log, which is used for backup and replication.            `ON` means that the binary log is            available, `OFF` means that it is not in            use. The [`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) option can            be used to specify a base name and location for the binary            log.          
  显示服务器上二进制日志记录的状态，启用 （`ON）` 或禁用 （`OFF）。`启用二进制日志记录后，服务器会将所有更改数据的语句记录到二进制日志中，该日志用于备份和复制。`ON` 表示二进制日志可用，`OFF` 表示它未被使用。[`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) 选项可用于指定二进制日志的基本名称和位置。

  ​            In earlier MySQL versions, binary logging was disabled by            default, and was enabled if you specified the            `--log-bin` option. Binary logging is enabled            by default, with the `log_bin` system            variable set to `ON`, whether or not you            specify the `--log-bin` option. The exception            is if you use [**mysqld**](https://dev.mysql.com/doc/refman/8.4/en/mysqld.html) to initialize the            data directory manually by invoking it with the            `--initialize` or            `--initialize-insecure` option, when binary            logging is disabled by default. It is possible to enable            binary logging in this case by specifying the            `--log-bin` option.           
  在早期的 MySQL 版本中，二进制日志记录默认处于禁用状态，如果指定了 `--log-bin` 选项，则启用二进制日志记录。默认情况下，二进制日志记录处于启用状态，无论您是否指定 `--log-bin` 选项，`log_bin`系统变量都将设置为 `ON`。例外情况是，当您使用 [**mysqld**](https://dev.mysql.com/doc/refman/8.4/en/mysqld.html) 通过使用 `--initialize` 或 `--initialize-insecure` 选项调用数据目录来手动初始化数据目录时，默认情况下禁用二进制日志记录。在这种情况下，可以通过指定 `--log-bin` 选项来启用二进制日志记录。

  ​            If the            [`--skip-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin)            or            [`--disable-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin)            option is specified at startup, binary logging is disabled,            with the `log_bin` system variable set to            `OFF`. If either of these options is            specified and `--log-bin` is also specified,            the option specified later takes precedence.          
  如果在启动时指定了 [`--skip-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) 或 [`--disable-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) 选项，则禁用二进制日志记录，并将 `log_bin` 系统变量设置为 `OFF`。如果指定了这些选项中的任何一个，并且还指定了 `--log-bin`，则以后指定的选项优先。

  ​            For information on the format and management of the binary            log, see [Section 7.4.4, “The Binary Log”](https://dev.mysql.com/doc/refman/8.4/en/binary-log.html).          
  有关二进制日志的格式和管理的信息，请参见[第 7.4.4 节 “二进制日志”。](https://dev.mysql.com/doc/refman/8.4/en/binary-log.html)

- ​            [`log_bin_basename`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin_basename)

  

  

  | System Variable 系统变量                                     | `log_bin_basename` |
  | ------------------------------------------------------------ | ------------------ |
  | Scope 范围                                                   | Global 全球        |
  | Dynamic 动态                                                 | No 不              |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不              |
  | Type 类型                                                    | File name 文件名   |

  ​            Holds the base name and path for the binary log files, which            can be set with the [`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin)            server option. The maximum variable length is 256. In MySQL            8.4, if the `--log-bin` option            is not supplied, the default base name is            `binlog`. For compatibility with MySQL            5.7, if the `--log-bin` option is supplied            with no string or with an empty string, the default base            name is            `*`host_name`*-bin`,            using the name of the host machine. The default location is            the data directory.                       
  保存二进制日志文件的基本名称和路径，可以使用 [`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) 服务器选项进行设置。最大可变长度为 256。在 MySQL 8.4 中，如果未提供 `--log-bin` 选项，则默认基本名称为 `binlog`。为了与 MySQL 5.7 兼容，如果 `--log-bin` 选项没有字符串或空字符串，则默认基本名称为 `*`host_name-bin`*`，使用主机的名称。默认位置是数据目录。

- ​            [`log_bin_index`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin_index)

  

  

  | Command-Line Format 命令行格式                               | `--log-bin-index=file_name` |
  | ------------------------------------------------------------ | --------------------------- |
  | System Variable 系统变量                                     | `log_bin_index`             |
  | Scope 范围                                                   | Global 全球                 |
  | Dynamic 动态                                                 | No 不                       |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                       |
  | Type 类型                                                    | File name 文件名            |

  ​            Holds the base name and path for the binary log index file,            which can be set with the            [`--log-bin-index`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin-index) server            option. The maximum variable length is 256.          
  保存二进制日志索引文件的基本名称和路径，可以使用 [`--log-bin-index`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin-index) 服务器选项进行设置。最大可变长度为 256。

- ​            [`log_bin_trust_function_creators`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin_trust_function_creators)

  

  

  | Command-Line Format 命令行格式                               | `--log-bin-trust-function-creators[={OFF|ON}]` |
  | ------------------------------------------------------------ | ---------------------------------------------- |
  | Deprecated 荒废的                                            | Yes 是的                                       |
  | System Variable 系统变量                                     | `log_bin_trust_function_creators`              |
  | Scope 范围                                                   | Global 全球                                    |
  | Dynamic 动态                                                 | Yes 是的                                       |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                          |
  | Type 类型                                                    | Boolean 布尔                                   |
  | Default Value 默认值                                         | `OFF`                                          |

  ​            This variable applies when binary logging is enabled. It            controls whether stored function creators can be trusted not            to create stored functions that may cause unsafe events to            be written to the binary log. If set to 0 (the default),            users are not permitted to create or alter stored functions            unless they have the [`SUPER`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_super)            privilege in addition to the [`CREATE             ROUTINE`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_create-routine) or [`ALTER             ROUTINE`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_alter-routine) privilege. A setting of 0 also enforces            the restriction that a function must be declared with the            `DETERMINISTIC` characteristic, or with the            `READS SQL DATA` or `NO            SQL` characteristic. If the variable is set to 1,            MySQL does not enforce these restrictions on stored function            creation. This variable also applies to trigger creation.            See [Section 27.7, “Stored Program Binary Logging”](https://dev.mysql.com/doc/refman/8.4/en/stored-programs-logging.html).          
  此变量在启用二进制日志记录时适用。它控制是否可以信任 stored 函数创建者不创建可能导致将不安全事件写入二进制日志的 stored 函数。如果设置为 0（默认值），则不允许用户创建或更改存储的函数，除非他们除了具有 [`CREATE ROUTINE`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_create-routine) 或 [`ALTER ROUTINE`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_alter-routine) 权限外，还具有 [`SUPER`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_super) 权限。设置为 0 还会强制执行以下限制：必须使用 `DETERMINISTIC` 特征或 `READS SQL DATA` 或 `NO SQL` 特征声明函数。如果变量设置为 1，则 MySQL 不会对存储函数创建强制实施这些限制。此变量也适用于触发器创建。参见[第 27.7 节 “存储的程序二进制日志记录”。](https://dev.mysql.com/doc/refman/8.4/en/stored-programs-logging.html)

- ​            [`log_replica_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates)

  

  

  | Command-Line Format 命令行格式                               | `--log-replica-updates[={OFF|ON}]` |
  | ------------------------------------------------------------ | ---------------------------------- |
  | System Variable 系统变量                                     | `log_replica_updates`              |
  | Scope 范围                                                   | Global 全球                        |
  | Dynamic 动态                                                 | No 不                              |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                              |
  | Type 类型                                                    | Boolean 布尔                       |
  | Default Value 默认值                                         | `ON`                               |

  ​            [`log_replica_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates)            specifies whether updates received by a replica server from            a replication source server should be logged to the            replica's own binary log.          
  [`log_replica_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates) 指定是否应将副本服务器从复制源服务器接收的更新记录到副本自己的二进制日志中。

  ​            Enabling this variable causes the replica to write the            updates that are received from a source and performed by the            replication SQL thread to the replica's own binary log.            Binary logging, which is controlled by the            [`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) option and is            enabled by default, must also be enabled on the replica for            updates to be logged. See            [Section 19.1.6, “Replication and Binary Logging Options and Variables”](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html).            [`log_replica_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates) is            enabled by default, unless you specify            [`--skip-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin)            to disable binary logging, in which case MySQL also disables            replica update logging by default. If you need to disable            replica update logging when binary logging is enabled,            specify            [`--log-replica-updates=OFF`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates) at            replica server startup.          
  启用此变量会导致副本将从源接收并由复制 SQL 线程执行的更新写入副本自己的二进制日志。二进制日志记录由 [`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) 选项控制，默认情况下处于启用状态，还必须在副本上启用，以便记录更新。参见[第 19.1.6 节 “复制和二进制日志记录选项和变量”。](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html)[`默认情况下，log_replica_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates)处于启用状态，除非您指定 [`--skip-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) 来禁用二进制日志记录，在这种情况下，MySQL 也会默认禁用副本更新日志记录。如果需要在启用二进制日志记录时禁用副本更新日志记录，请在副本服务器启动时指定 [`--log-replica-updates=OFF`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates)。

  ​            Enabling            [`log_replica_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates) enables            replication servers to be chained. For example, you might            want to set up replication servers using this arrangement:          
  启用 [`log_replica_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates) 将启用链接复制服务器。例如，您可能希望使用以下安排设置复制服务器：

  ```none
  A -> B -> C
  ```

  ​            Here, `A` serves as the source for the            replica `B`, and `B`            serves as the source for the replica `C`.            For this to work, `B` must be both a source            *and* a replica. With binary logging            enabled and            [`log_replica_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates)            enabled, which are the default settings, updates received            from `A` are logged by `B`            to its binary log, and can therefore be passed on to            `C`.          
  此处，`A` 充当副本 `B` 的源，`B` 充当副本 `C` 的源。为此，`B` 必须同时是源*和*副本。启用二进制日志记录并启用 [`log_replica_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates)（默认设置）后，从 `A` 接收的更新由 `B` 记录到其二进制日志中，因此可以传递给 `C`。

- ​            [`log_slave_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_slave_updates)

  

  

  | Command-Line Format 命令行格式                               | `--log-slave-updates[={OFF|ON}]` |
  | ------------------------------------------------------------ | -------------------------------- |
  | Deprecated 荒废的                                            | Yes 是的                         |
  | System Variable 系统变量                                     | `log_slave_updates`              |
  | Scope 范围                                                   | Global 全球                      |
  | Dynamic 动态                                                 | No 不                            |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                            |
  | Type 类型                                                    | Boolean 布尔                     |
  | Default Value 默认值                                         | `ON`                             |

  ​            Deprecated alias for            [`log_replica_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates).          
  已弃用的 [`log_replica_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates) 别名。

- ​            [`log_statements_unsafe_for_binlog`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_statements_unsafe_for_binlog)

  

  

  | Command-Line Format 命令行格式                               | `--log-statements-unsafe-for-binlog[={OFF|ON}]` |
  | ------------------------------------------------------------ | ----------------------------------------------- |
  | Deprecated 荒废的                                            | Yes 是的                                        |
  | System Variable 系统变量                                     | `log_statements_unsafe_for_binlog`              |
  | Scope 范围                                                   | Global 全球                                     |
  | Dynamic 动态                                                 | Yes 是的                                        |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                           |
  | Type 类型                                                    | Boolean 布尔                                    |
  | Default Value 默认值                                         | `ON`                                            |

  ​            If error 1592 is encountered, controls whether the generated            warnings are added to the error log or not.          
  如果遇到错误 1592，则控制是否将生成的警告添加到错误日志中。

- ​            [`master_verify_checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_master_verify_checksum)

  

  

  | Command-Line Format 命令行格式                               | `--master-verify-checksum[={OFF|ON}]` |
  | ------------------------------------------------------------ | ------------------------------------- |
  | Deprecated 荒废的                                            | Yes 是的                              |
  | System Variable 系统变量                                     | `master_verify_checksum`              |
  | Scope 范围                                                   | Global 全球                           |
  | Dynamic 动态                                                 | Yes 是的                              |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                 |
  | Type 类型                                                    | Boolean 布尔                          |
  | Default Value 默认值                                         | `OFF`                                 |

  ​            Deprecated alias for            [`source_verify_checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_source_verify_checksum).          
  已弃用的 [`source_verify_checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_source_verify_checksum) 别名。

- ​            [`max_binlog_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_cache_size)

  

  

  | Command-Line Format 命令行格式                               | `--max-binlog-cache-size=#` |
  | ------------------------------------------------------------ | --------------------------- |
  | System Variable 系统变量                                     | `max_binlog_cache_size`     |
  | Scope 范围                                                   | Global 全球                 |
  | Dynamic 动态                                                 | Yes 是的                    |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                       |
  | Type 类型                                                    | Integer 整数                |
  | Default Value (64-bit platforms) 默认值（64 位平台）         | `18446744073709547520`      |
  | Default Value (32-bit platforms) 默认值（32 位平台）         | `4294967295`                |
  | Minimum Value 最小值                                         | `4096`                      |
  | Maximum Value (64-bit platforms) 最大值（64 位平台）         | `18446744073709547520`      |
  | Maximum Value (32-bit platforms) 最大值（32 位平台）         | `4294967295`                |
  | Unit 单位                                                    | bytes 字节                  |
  | [Block Size 区块大小](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#system-variables-block-size) | `4096`                      |

  ​            If a transaction requires more than this many bytes, the            server generates a Multi-statement transaction            required more than 'max_binlog_cache_size' bytes of            storage error. When            [`gtid_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode) is not            `ON`, the maximum recommended value is 4GB,            due to the fact that, in this case, MySQL cannot work with            binary log positions greater than 4GB; when            `gtid_mode` is `ON`, this            limitation does not apply, and the server can work with            binary log positions of arbitrary size.          
  如果事务需要的字节数超过此数量，则服务器会生成多语句事务需要超过“max_binlog_cache_size”字节的存储错误。当 [`gtid_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode) 未`打开`时，建议的最大值为 4GB，因为在这种情况下， MySQL 无法处理大于 4GB 的二进制日志位置;当 `gtid_mode` `为 ON` 时，此限制不适用，服务器可以使用任意大小的二进制日志位置。

  ​            If, because [`gtid_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode) is            not `ON`, or for some other reason, you            need to guarantee that the binary log does not exceed a            given size *`maxsize`*, you should            set this variable according to the formula shown here:          
  如果因为 [`gtid_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode) 未`开启`，或者出于其他原因，您需要保证二进制日志不超过给定的大小 *`maxsize`*，则应根据此处显示的公式设置此变量：

  ```simple
  max_binlog_cache_size < 
    (((maxsize - max_binlog_size) / max_connections) - 1000) / 1.2
  ```

  ​            This calculation takes into account the following            conditions: 
  此计算考虑了以下条件：

  - ​                The server writes to the binary log as long as the size                before it begins to write is less than                [`max_binlog_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size).              
    只要开始写入之前的大小小于 [`max_binlog_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size)，服务器就会写入二进制日志。
  - ​                The server does not write single transactions, but                rather groups of transactions. The maximum possible                number of transactions in a group is equal to                [`max_connections`](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#sysvar_max_connections).              
    服务器不写入单个事务，而是写入事务组。组中可能的最大事务数等于 [`max_connections`](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#sysvar_max_connections)。
  - ​                The server writes data that is not included in the                cache. This includes a 4-byte checksum for each event;                while this adds less than 20% to the transaction size,                this amount is non-negible. In addition, the server                writes a `Gtid_log_event` for each                transaction; each of these events can add another 1 KB                to what is written to the binary log. 
    服务器写入缓存中未包含的数据。这包括每个事件的 4 字节校验和;虽然这增加了不到 20% 的交易规模，但这个金额是不可忽略的。此外，服务器为每个事务写入一个 `Gtid_log_event`;这些事件中的每一个都可以向写入二进制日志的内容再增加 1 KB。

  ​            `max_binlog_cache_size` sets the size for            the transaction cache only; the upper limit for the            statement cache is governed by the            [`max_binlog_stmt_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_stmt_cache_size)            system variable.          
  `max_binlog_cache_size` 仅设置事务缓存的大小;语句缓存的上限由 [`max_binlog_stmt_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_stmt_cache_size) 系统变量控制。

  ​            The visibility to sessions of            `max_binlog_cache_size` matches that of the            [`binlog_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_cache_size) system            variable; in other words, changing its value affects only            new sessions that are started after the value is changed.          
  `max_binlog_cache_size` 的会话可见性与 [`binlog_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_cache_size) 系统变量的可见性匹配;换句话说，更改其值仅影响在更改该值后启动的新会话。

- ​            [`max_binlog_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size)

  

  

  | Command-Line Format 命令行格式                               | `--max-binlog-size=#` |
  | ------------------------------------------------------------ | --------------------- |
  | System Variable 系统变量                                     | `max_binlog_size`     |
  | Scope 范围                                                   | Global 全球           |
  | Dynamic 动态                                                 | Yes 是的              |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                 |
  | Type 类型                                                    | Integer 整数          |
  | Default Value 默认值                                         | `1073741824`          |
  | Minimum Value 最小值                                         | `4096`                |
  | Maximum Value 最大值                                         | `1073741824`          |
  | Unit 单位                                                    | bytes 字节            |
  | [Block Size 区块大小](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#system-variables-block-size) | `4096`                |

  ​            If a write to the binary log causes the current log file            size to exceed the value of this variable, the server            rotates the binary logs (closes the current file and opens            the next one). The minimum value is 4096 bytes. The maximum            and default value is 1GB. Encrypted binary log files have an            additional 512-byte header, which is included in            [`max_binlog_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size).          
  如果对二进制日志的写入导致当前日志文件大小超过此变量的值，则服务器将轮换二进制日志（关闭当前文件并打开下一个文件）。最小值为 4096 字节。最大值和默认值为 1GB。加密的二进制日志文件还有一个额外的 512 字节标头，该标头包含在 [`max_binlog_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size) 中。

  ​            A transaction is written in one chunk to the binary log, so            it is never split between several binary logs. Therefore, if            you have big transactions, you might see binary log files            larger than            [`max_binlog_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size).          
  事务以一个块的形式写入二进制日志，因此它永远不会在多个二进制日志之间拆分。因此，如果您有大型事务，则可能会看到大于 [`max_binlog_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size) 的二进制日志文件。

  ​            If [`max_relay_log_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_max_relay_log_size) is 0,            the value of            [`max_binlog_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size) applies to            relay logs as well.          
  如果 [`max_relay_log_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_max_relay_log_size) 为 0，则 [`max_binlog_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size) 的值也适用于中继日志。

  ​            With GTIDs in use on the server, when            [`max_binlog_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size) is reached,            if the system table `mysql.gtid_executed`            cannot be accessed to write the GTIDs from the current            binary log file, the binary log cannot be rotated. In this            situation, the server responds according to its            [`binlog_error_action`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_error_action)            setting. If `IGNORE_ERROR` is set, an error            is logged on the server and binary logging is halted, or if            `ABORT_SERVER` is set, the server shuts            down.          
  在服务器上使用 GTID 时，当达到 [`max_binlog_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size) 时，如果无法访问系统表`mysql.gtid_executed`以从当前二进制日志文件写入 GTID，则无法轮换二进制日志。在这种情况下，服务器根据其 [`binlog_error_action`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_error_action) 设置进行响应。如果设置`了 IGNORE_ERROR`，则会在服务器上记录错误并停止二进制日志记录，或者如果设置`了 ABORT_SERVER`，则服务器将关闭。

- ​            [`max_binlog_stmt_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_stmt_cache_size)

  

  

  | Command-Line Format 命令行格式                               | `--max-binlog-stmt-cache-size=#` |
  | ------------------------------------------------------------ | -------------------------------- |
  | System Variable 系统变量                                     | `max_binlog_stmt_cache_size`     |
  | Scope 范围                                                   | Global 全球                      |
  | Dynamic 动态                                                 | Yes 是的                         |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                            |
  | Type 类型                                                    | Integer 整数                     |
  | Default Value 默认值                                         | `18446744073709547520`           |
  | Minimum Value 最小值                                         | `4096`                           |
  | Maximum Value 最大值                                         | `18446744073709547520`           |
  | Unit 单位                                                    | bytes 字节                       |
  | [Block Size 区块大小](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#system-variables-block-size) | `4096`                           |

  ​            If nontransactional statements within a transaction require            more than this many bytes of memory, the server generates an            error. The minimum value is 4096. The maximum and default            values are 4GB on 32-bit platforms and 16EB (exabytes) on            64-bit platforms.          
  如果事务中的非事务性语句需要的内存超过此字节数，则服务器将生成错误。最小值为 4096。最大值和默认值在 32 位平台上为 4GB，在 64 位平台上为 16EB （EB）。

  ​            `max_binlog_stmt_cache_size` sets the size            for the statement cache only; the upper limit for the            transaction cache is governed exclusively by the            [`max_binlog_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_cache_size)            system variable.          
  `max_binlog_stmt_cache_size` 仅设置语句缓存的大小;事务缓存的上限完全由 [`max_binlog_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_cache_size) 系统变量控制。

- ​            [`original_commit_timestamp`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_original_commit_timestamp)

  

  

  | System Variable 系统变量                                     | `original_commit_timestamp` |
  | ------------------------------------------------------------ | --------------------------- |
  | Scope 范围                                                   | Session 会期                |
  | Dynamic 动态                                                 | Yes 是的                    |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                       |
  | Type 类型                                                    | Numeric 数值的              |

  ​            For internal use by replication. When re-executing a            transaction on a replica, this is set to the time when the            transaction was committed on the original source, measured            in microseconds since the epoch. This allows the original            commit timestamp to be propagated throughout a replication            topology.          
  供复制内部使用。在副本上重新执行事务时，此时间设置为在原始源上提交事务的时间，以自纪元以来的微秒为单位。这允许在整个复制拓扑中传播原始提交时间戳。

  ​            Setting the session value of this system variable is a            restricted operation. The session user must have either the            [`REPLICATION_APPLIER`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_replication-applier) privilege            (see [Section 19.3.3, “Replication Privilege Checks”](https://dev.mysql.com/doc/refman/8.4/en/replication-privilege-checks.html)), or            privileges sufficient to set restricted session variables            (see [Section 7.1.9.1, “System Variable Privileges”](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html)). However,            note that the variable is not intended for users to set; it            is set automatically by the replication infrastructure.          
  设置此系统变量的 session 值是一个受限操作。会话用户必须具有 [`REPLICATION_APPLIER`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_replication-applier) 权限（请参见[第 19.3.3 节 “复制权限检查”）](https://dev.mysql.com/doc/refman/8.4/en/replication-privilege-checks.html)或足以设置受限制的会话变量的权限（请参见[第 7.1.9.1 节 “系统变量权限”）。](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html)但是，请注意，该变量并非供用户设置;它由复制基础结构自动设置。

- ​            [`source_verify_checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_source_verify_checksum)

  

  

  | Command-Line Format 命令行格式                               | `--source-verify-checksum[={OFF|ON}]` |
  | ------------------------------------------------------------ | ------------------------------------- |
  | System Variable 系统变量                                     | `source_verify_checksum`              |
  | Scope 范围                                                   | Global 全球                           |
  | Dynamic 动态                                                 | Yes 是的                              |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                 |
  | Type 类型                                                    | Boolean 布尔                          |
  | Default Value 默认值                                         | `OFF`                                 |

  ​            Enabling            [`source_verify_checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_source_verify_checksum)            causes the source to verify events read from the binary log            by examining checksums, and to stop with an error in the            event of a mismatch.            [`source_verify_checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_source_verify_checksum) is            disabled by default; in this case, the source uses the event            length from the binary log to verify events, so that only            complete events are read from the binary log.          
  启用 [`source_verify_checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_source_verify_checksum) 会导致源通过检查校验和来验证从二进制日志中读取的事件，并在不匹配时停止并显示错误。[`默认情况下，source_verify_checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_source_verify_checksum) 处于禁用状态;在这种情况下，源使用二进制日志中的事件长度来验证事件，以便仅从二进制日志中读取完整的事件。

- ​            [`sql_log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sql_log_bin)

  

  

  | System Variable 系统变量                                     | `sql_log_bin` |
  | ------------------------------------------------------------ | ------------- |
  | Scope 范围                                                   | Session 会期  |
  | Dynamic 动态                                                 | Yes 是的      |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不         |
  | Type 类型                                                    | Boolean 布尔  |
  | Default Value 默认值                                         | `ON`          |

  ​            This variable controls whether logging to the binary log is            enabled for the current session (assuming that the binary            log itself is enabled). The default value is            `ON`. To disable or enable binary logging            for the current session, set the session            [`sql_log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sql_log_bin) variable to            `OFF` or `ON`.          
  此变量控制是否为当前会话启用二进制日志的日志记录（假设启用了二进制日志本身）。默认值为 `ON。`要禁用或启用当前会话的二进制日志记录，请将 session [`sql_log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sql_log_bin) 变量设置为 `OFF` 或 `ON。`

  ​            Set this variable to `OFF` for a session to            temporarily disable binary logging while making changes to            the source you do not want replicated to the replica.          
  将此变量设置为 `OFF` 对于会话，以暂时禁用二进制日志记录，同时对不希望复制到副本的源进行更改。

  ​            Setting the session value of this system variable is a            restricted operation. The session user must have privileges            sufficient to set restricted session variables. See            [Section 7.1.9.1, “System Variable Privileges”](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html).          
  设置此系统变量的 session 值是一个受限操作。会话用户必须具有足够的权限来设置受限的会话变量。参见[第 7.1.9.1 节 “系统变量权限”。](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html)

  ​            It is not possible to set the session value of            [`sql_log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sql_log_bin) within a            transaction or subquery.          
  无法在事务或子查询中设置 [`sql_log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sql_log_bin) 的会话值。

  ​            *Setting this variable to `OFF`            prevents GTIDs from being assigned to transactions in the            binary log*. If you are using GTIDs for            replication, this means that even when binary logging is            later enabled again, the GTIDs written into the log from            this point do not account for any transactions that occurred            in the meantime, so in effect those transactions are lost.          
  *将此变量设置为 `OFF` 可防止将 GTID 分配给二进制日志中的事务*。如果您使用 GTID 进行复制，这意味着即使稍后再次启用二进制日志记录，从此时写入日志的 GTID 也不会考虑在此期间发生的任何事务，因此实际上这些事务会丢失。

- ​            [`sync_binlog`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog)

  

  

  | Command-Line Format 命令行格式                               | `--sync-binlog=#` |
  | ------------------------------------------------------------ | ----------------- |
  | System Variable 系统变量                                     | `sync_binlog`     |
  | Scope 范围                                                   | Global 全球       |
  | Dynamic 动态                                                 | Yes 是的          |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不             |
  | Type 类型                                                    | Integer 整数      |
  | Default Value 默认值                                         | `1`               |
  | Minimum Value 最小值                                         | `0`               |
  | Maximum Value 最大值                                         | `4294967295`      |

  ​            Controls how often the MySQL server synchronizes the binary            log to disk. 
  控制 MySQL 服务器将二进制日志同步到磁盘的频率。

  - ​                [`sync_binlog=0`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog): Disables                synchronization of the binary log to disk by the MySQL                server. Instead, the MySQL server relies on the                operating system to flush the binary log to disk from                time to time as it does for any other file. This setting                provides the best performance, but in the event of a                power failure or operating system crash, it is possible                that the server has committed transactions that have not                been synchronized to the binary log.              
    [`sync_binlog=0`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog)：禁用 MySQL 服务器将二进制日志同步到磁盘。相反，MySQL 服务器依赖于操作系统不时将二进制日志刷新到磁盘，就像对任何其他文件所做的那样。此设置可提供最佳性能，但在发生电源故障或操作系统崩溃时，服务器可能已提交尚未同步到二进制日志的事务。
  - ​                [`sync_binlog=1`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog): Enables                synchronization of the binary log to disk before                transactions are committed. This is the safest setting                but can have a negative impact on performance due to the                increased number of disk writes. In the event of a power                failure or operating system crash, transactions that are                missing from the binary log are only in a prepared                state. This permits the automatic recovery routine to                roll back the transactions, which guarantees that no                transaction is lost from the binary log.              
    [`sync_binlog=1`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog)：在提交事务之前启用二进制日志到磁盘的同步。这是最安全的设置，但由于磁盘写入次数增加，可能会对性能产生负面影响。在发生电源故障或操作系统崩溃的情况下，二进制日志中缺少的事务仅处于 prepared 状态。这允许自动恢复例程回滚事务，从而保证二进制日志中不会丢失任何事务。
  - ​                [`sync_binlog=*`N`*`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog),                where *`N`* is a value other than                0 or 1: The binary log is synchronized to disk after                `N` binary log commit groups have been                collected. In the event of a power failure or operating                system crash, it is possible that the server has                committed transactions that have not been flushed to the                binary log. This setting can have a negative impact on                performance due to the increased number of disk writes.                A higher value improves performance, but with an                increased risk of data loss. 
    [`sync_binlog=*`N`*`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog)，其中 *`N`* 是非 0 或 1 的值：在收集 `N` 个二进制日志提交组后，二进制日志将同步到磁盘。如果发生电源故障或操作系统崩溃，则服务器可能已提交尚未刷新到二进制日志的事务。由于磁盘写入次数增加，此设置可能会对性能产生负面影响。值越高，性能越高，但数据丢失的风险就越大。

  ​            For the greatest possible durability and consistency in a            replication setup that uses `InnoDB` with            transactions, use these settings: 
  为了在将 `InnoDB` 与事务一起使用的复制设置中获得最大的持久性和一致性，请使用以下设置：

  - ​                [`sync_binlog=1`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog).              
    [`sync_binlog=1`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog)。
  - ​                [`innodb_flush_log_at_trx_commit=1`](https://dev.mysql.com/doc/refman/8.4/en/innodb-parameters.html#sysvar_innodb_flush_log_at_trx_commit). [ `innodb_flush_log_at_trx_commit=1` ](https://dev.mysql.com/doc/refman/8.4/en/innodb-parameters.html#sysvar_innodb_flush_log_at_trx_commit)。

  Caution 谨慎

  ​              Many operating systems and some disk hardware fool the              flush-to-disk operation. They may tell              [**mysqld**](https://dev.mysql.com/doc/refman/8.4/en/mysqld.html) that the flush has taken place,              even though it has not. In this case, the durability of              transactions is not guaranteed even with the recommended              settings, and in the worst case, a power outage can              corrupt `InnoDB` data. Using a              battery-backed disk cache in the SCSI disk controller or              in the disk itself speeds up file flushes, and makes the              operation safer. You can also try to disable the caching              of disk writes in hardware caches. 
  许多操作系统和一些磁盘硬件都欺骗了 flush-to-disk 操作。他们可能会告诉 [**mysqld**](https://dev.mysql.com/doc/refman/8.4/en/mysqld.html) 刷新已经发生，即使它没有发生。在这种情况下，即使使用推荐的设置，也无法保证事务的持久性，在最坏的情况下，停电可能会损坏 `InnoDB` 数据。在 SCSI 磁盘控制器或磁盘本身中使用备有电池的磁盘缓存可以加快文件刷新速度，并使操作更安全。您还可以尝试在硬件缓存中禁用磁盘写入的缓存。

#### 19.1.6.4 Binary Logging Options and Variables 19.1.6.4 二进制日志记录选项和变量

- [Startup Options Used with Binary Logging
  用于二进制日志记录的启动选项](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#replication-optvars-binlog)
- [System Variables Used with Binary Logging
  用于二进制日志记录的系统变量](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#replication-sysvars-binlog)

​      You can use the [**mysqld**](https://dev.mysql.com/doc/refman/8.4/en/mysqld.html) options and system      variables that are described in this section to affect the      operation of the binary log as well as to control which statements      are written to the binary log. For additional information about      the binary log, see [Section 7.4.4, “The Binary Log”](https://dev.mysql.com/doc/refman/8.4/en/binary-log.html). For additional      information about using MySQL server options and system variables,      see [Section 7.1.7, “Server Command Options”](https://dev.mysql.com/doc/refman/8.4/en/server-options.html), and      [Section 7.1.8, “Server System Variables”](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html). 
您可以使用本节中描述的 [**mysqld**](https://dev.mysql.com/doc/refman/8.4/en/mysqld.html) 选项和系统变量来影响二进制日志的操作以及控制将哪些语句写入二进制日志。有关二进制日志的其他信息，请参见[第 7.4.4 节 “二进制日志”。](https://dev.mysql.com/doc/refman/8.4/en/binary-log.html)有关使用 MySQL 服务器选项和系统变量的其他信息，请参见[第 7.1.7 节 “服务器命令选项”](https://dev.mysql.com/doc/refman/8.4/en/server-options.html)和[第 7.1.8 节 “服务器系统变量”。](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html)

##### Startup Options Used with Binary Logging 用于二进制日志记录的启动选项

​        The following list describes startup options for enabling and        configuring the binary log. System variables used with binary        logging are discussed later in this section. 
以下列表描述了用于启用和配置二进制日志的启动选项。本节稍后将讨论用于二进制日志记录的系统变量。

- ​            [`--binlog-row-event-max-size=*`N`*`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-row-event-max-size)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-row-event-max-size=#` |
  | ------------------------------------------------------------ | ------------------------------- |
  | System Variable 系统变量                                     | `binlog_row_event_max_size`     |
  | Scope 范围                                                   | Global 全球                     |
  | Dynamic 动态                                                 | No 不                           |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                           |
  | Type 类型                                                    | Integer 整数                    |
  | Default Value 默认值                                         | `8192`                          |
  | Minimum Value 最小值                                         | `256`                           |
  | Maximum Value (64-bit platforms) 最大值（64 位平台）         | `18446744073709551615`          |
  | Maximum Value (32-bit platforms) 最大值（32 位平台）         | `4294967295`                    |
  | Unit 单位                                                    | bytes 字节                      |

  ​            When row-based binary logging is used, this setting is a            soft limit on the maximum size of a row-based binary log            event, in bytes. Where possible, rows stored in the binary            log are grouped into events with a size not exceeding the            value of this setting. If an event cannot be split, the            maximum size can be exceeded. The value must be (or else            gets rounded down to) a multiple of 256. The default is 8192            bytes.          
  使用基于行的二进制日志记录时，此设置是对基于行的二进制日志事件的最大大小（以字节为单位）的软限制。在可能的情况下，存储在二进制日志中的行将分组为大小不超过此设置值的事件。如果无法拆分事件，则可以超过最大大小。该值必须是 256 的倍数（否则四舍五入为）。默认值为 8192 字节。

- ​            [`--log-bin[=*`base_name`*\]`
  `--日志bin[=*`base_name`*]`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin)

  

  

  | Command-Line Format 命令行格式 | `--log-bin=file_name` |
  | ------------------------------ | --------------------- |
  | Type 类型                      | File name 文件名      |

  ​            Specifies the base name to use for binary log files. With            binary logging enabled, the server logs all statements that            change data to the binary log, which is used for backup and            replication. The binary log is a sequence of files with a            base name and numeric extension. The            `--log-bin` option value is the base name for            the log sequence. The server creates binary log files in            sequence by adding a numeric suffix to the base name.          
  指定要用于二进制日志文件的基本名称。启用二进制日志记录后，服务器会将所有更改数据的语句记录到二进制日志中，该日志用于备份和复制。二进制日志是具有基本名称和数字扩展名的文件序列。`--log-bin` 选项值是日志序列的基本名称。服务器通过向基本名称添加数字后缀来按顺序创建二进制日志文件。

  ​            If you do not supply the `--log-bin` option,            MySQL uses `binlog` as the default base            name for the binary log files. For compatibility with            earlier releases, if you supply the            `--log-bin` option with no string or with an            empty string, the base name defaults to            `*`host_name`*-bin`,            using the name of the host machine.          
  如果您不提供 `--log-bin` 选项，MySQL 将使用 `binlog` 作为二进制日志文件的默认基本名称。为了与早期版本兼容，如果提供的 `--log-bin` 选项没有字符串或空字符串，则基本名称默认为 `*`host_name-bin`*`，使用主机的名称。

  ​            The default location for binary log files is the data            directory. You can use the `--log-bin` option            to specify an alternative location, by adding a leading            absolute path name to the base name to specify a different            directory. When the server reads an entry from the binary            log index file, which tracks the binary log files that have            been used, it checks whether the entry contains a relative            path. If it does, the relative part of the path is replaced            with the absolute path set using the            `--log-bin` option. An absolute path recorded            in the binary log index file remains unchanged; in such a            case, the index file must be edited manually to enable a new            path or paths to be used. The binary log file base name and            any specified path are available as the            [`log_bin_basename`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin_basename) system            variable.          
  二进制日志文件的默认位置是 data 目录。您可以使用 `--log-bin` 选项指定备用位置，方法是在基本名称中添加前导绝对路径名以指定其他目录。当服务器从二进制日志索引文件中读取条目时，该文件跟踪已使用的二进制日志文件，它会检查该条目是否包含相对路径。如果是这样，则路径的相对部分将替换为使用 `--log-bin` 选项设置的绝对路径。二进制日志索引文件中记录的绝对路径保持不变;在这种情况下，必须手动编辑索引文件才能使用新的路径或路径。二进制日志文件基本名称和任何指定的路径都可用作[`log_bin_basename`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin_basename)系统变量。

  ​            In MySQL 8.4, binary logging is enabled by            default, whether or not you specify the            `--log-bin` option. The exception is if you            use [**mysqld**](https://dev.mysql.com/doc/refman/8.4/en/mysqld.html) to initialize the data            directory manually by invoking it with the            `--initialize` or            `--initialize-insecure` option, when binary            logging is disabled by default. It is possible to enable            binary logging in this case by specifying the            `--log-bin` option. When binary logging is            enabled, the [`log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin) system            variable, which shows the status of binary logging on the            server, is set to ON.           
  在 MySQL 8.4 中，无论您是否指定 `--log-bin` 选项，默认情况下都会启用二进制日志记录。例外情况是，当您使用 [**mysqld**](https://dev.mysql.com/doc/refman/8.4/en/mysqld.html) 通过使用 `--initialize` 或 `--initialize-insecure` 选项调用数据目录来手动初始化数据目录时，默认情况下禁用二进制日志记录。在这种情况下，可以通过指定 `--log-bin` 选项来启用二进制日志记录。启用二进制日志记录后，显示服务器上二进制日志记录状态的 [`log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin) 系统变量将设置为 ON。

  ​            To disable binary logging, you can specify the            [`--skip-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin)            or            [`--disable-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin)            option at startup. If either of these options is specified            and `--log-bin` is also specified, the option            specified later takes precedence. When binary logging is            disabled, the [`log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin)            system variable is set to OFF.          
  要禁用二进制日志记录，您可以在启动时指定 [`--skip-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) 或 [`--disable-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) 选项。如果指定了这些选项中的任何一个，并且还指定了 `--log-bin`，则以后指定的选项优先。禁用二进制日志记录时，[`log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin) 系统变量设置为 OFF。

  ​            When GTIDs are in use on the server, if you disable binary            logging when restarting the server after an abnormal            shutdown, some GTIDs are likely to be lost, causing            replication to fail. In a normal shutdown, the set of GTIDs            from the current binary log file is saved in the            `mysql.gtid_executed` table. Following an            abnormal shutdown where this did not happen, during recovery            the GTIDs are added to the table from the binary log file,            provided that binary logging is still enabled. If binary            logging is disabled for the server restart, the server            cannot access the binary log file to recover the GTIDs, so            replication cannot be started. Binary logging can be            disabled safely after a normal shutdown.          
  当服务器正在使用 GTID 时，如果在异常关闭后重新启动服务器时禁用二进制日志记录，则某些 GTID 可能会丢失，从而导致复制失败。在正常关闭中，当前二进制日志文件中的 GTID 集保存在 `mysql.gtid_executed` 表中。在未发生异常关闭的情况下，在恢复期间，如果二进制日志记录仍处于启用状态，则会将 GTID  从二进制日志文件添加到表中。如果为服务器重新启动禁用了二进制日志记录，则服务器无法访问二进制日志文件以恢复  GTID，因此无法启动复制。在正常关闭后，可以安全地禁用二进制日志记录。

  ​            The [`--log-replica-updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates) and            [`--replica-preserve-commit-order`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)            options require binary logging. If you disable binary            logging, either omit these options, or specify            `--log-replica-updates=OFF` and            `--skip-replica-preserve-commit-order`. MySQL            disables these options by default when            [`--skip-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin)            or            [`--disable-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin)            is specified. If you specify            `--log-replica-updates` or            `--replica-preserve-commit-order` together            with `--skip-log-bin` or            `--disable-log-bin`, a warning or error            message is issued.          
  [`--log-replica-updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates) 和[ `--replica-preserve-commit-order` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)选项需要二进制日志记录。如果禁用二进制日志记录，请省略这些选项，或指定 `--log-replica-updates=OFF` 和 `--skip-replica-preserve-commit-order` .当指定 [`--skip-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) 或 [`--disable-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) 时，MySQL 默认禁用这些选项。如果指定 `--log-replica-updates` 或 `--replica-preserve-commit-order` 与 `--skip-log-bin` 或 `--disable-log-bin` 一起指定，则会发出警告或错误消息。

  ​            The server can be started with the default server ID when            binary logging is enabled, but an informational message is            issued if you do not specify a server ID explicitly by            setting the [`server_id`](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html#sysvar_server_id)            system variable. For servers that are used in a replication            topology, you must specify a unique nonzero server ID for            each server.          
  启用二进制日志记录后，可以使用默认服务器 ID 启动服务器，但如果未通过设置 [`server_id`](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html#sysvar_server_id) 系统变量来显式指定服务器 ID，则会发出信息性消息。对于在复制拓扑中使用的服务器，必须为每个服务器指定唯一的非零服务器 ID。

  ​            For information on the format and management of the binary            log, see [Section 7.4.4, “The Binary Log”](https://dev.mysql.com/doc/refman/8.4/en/binary-log.html).          
  有关二进制日志的格式和管理的信息，请参见[第 7.4.4 节 “二进制日志”。](https://dev.mysql.com/doc/refman/8.4/en/binary-log.html)

- ​            [`--log-bin-index[=*`file_name`*\]`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin-index)

  

  

  | Command-Line Format 命令行格式                               | `--log-bin-index=file_name` |
  | ------------------------------------------------------------ | --------------------------- |
  | System Variable 系统变量                                     | `log_bin_index`             |
  | Scope 范围                                                   | Global 全球                 |
  | Dynamic 动态                                                 | No 不                       |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                       |
  | Type 类型                                                    | File name 文件名            |

  ​            The name for the binary log index file, which contains the            names of the binary log files. By default, it has the same            location and base name as the value specified for the binary            log files using the [`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin)            option, plus the extension `.index`. If            you do not specify [`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin),            the default binary log index file name is            `binlog.index`. If you specify            [`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) option with no            string or an empty string, the default binary log index file            name is            `*`host_name`*-bin.index`,            using the name of the host machine.          
  二进制日志索引文件的名称，其中包含二进制日志文件的名称。默认情况下，它与使用 [`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) 选项为二进制日志文件指定的值以及扩展名 `.index` 具有相同的位置和基本名称。如果不指定 [`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin)，则默认的二进制日志索引文件为 `binlog.index`。如果指定没有字符串或空字符串的 [`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) 选项，则默认二进制日志索引文件名为 `*host_name-bin.index``*`，使用主机的名称。

  ​            For information on the format and management of the binary            log, see [Section 7.4.4, “The Binary Log”](https://dev.mysql.com/doc/refman/8.4/en/binary-log.html). 
  有关二进制日志的格式和管理的信息，请参见[第 7.4.4 节 “二进制日志”。](https://dev.mysql.com/doc/refman/8.4/en/binary-log.html)

**Statement selection options.**           The options in the following list affect which statements are          written to the binary log, and thus sent by a replication          source server to its replicas. There are also options for          replicas that control which statements received from the          source should be executed or ignored. For details, see          [Section 19.1.6.3, “Replica Server Options and Variables”](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html). 
**对账单选择选项。** 以下列表中的选项会影响将哪些语句写入二进制日志，从而由复制源服务器发送到其副本。还有一些副本选项，用于控制应执行或忽略从源接收的语句。有关详细信息，请参见[第 19.1.6.3 节 “副本服务器选项和变量”。](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html)

- ​            [`--binlog-do-db=*`db_name`*`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db)

  

  

  | Command-Line Format 命令行格式 | `--binlog-do-db=name` `--binlog-do-db=名称` |
  | ------------------------------ | ------------------------------------------- |
  | Type 类型                      | String 字符串                               |

  ​            This option affects binary logging in a manner similar to            the way that            [`--replicate-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db) affects            replication.          
  此选项影响二进制日志记录的方式类似于 [`--replicate-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db) 影响复制的方式。

  ​            The effects of this option depend on whether the            statement-based or row-based logging format is in use, in            the same way that the effects of            [`--replicate-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db) depend on            whether statement-based or row-based replication is in use.            You should keep in mind that the format used to log a given            statement may not necessarily be the same as that indicated            by the value of            [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format). For example,            DDL statements such as [`CREATE             TABLE`](https://dev.mysql.com/doc/refman/8.4/en/create-table.html) and [`ALTER             TABLE`](https://dev.mysql.com/doc/refman/8.4/en/alter-table.html) are always logged as statements, without            regard to the logging format in effect, so the following            statement-based rules for `--binlog-do-db`            always apply in determining whether or not the statement is            logged.          
  此选项的效果取决于使用的是基于语句的日志记录格式还是基于行的日志记录格式，就像 [`--replicate-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db) 的效果取决于使用的是基于语句的复制还是基于行的复制一样。您应该记住，用于记录给定语句的格式不一定与 [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) 的值所指示的格式相同。例如，[`诸如 CREATE TABLE`](https://dev.mysql.com/doc/refman/8.4/en/create-table.html) 和 [`ALTER TABLE`](https://dev.mysql.com/doc/refman/8.4/en/alter-table.html) 之类的 DDL 语句始终记录为语句，而不考虑有效的日志记录格式，因此以下基于语句的 `--binlog-do-db` 规则始终适用于确定是否记录该语句。

  **Statement-based logging.**               Only those statements are written to the binary log where              the default database (that is, the one selected by              [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html)) is              *`db_name`*. To specify more than              one database, use this option multiple times, once for              each database; however, doing so does              *not* cause cross-database statements              such as `UPDATE              *`some_db.some_table`* SET              foo='bar'` to be logged while a different              database (or no database) is selected. 
  **基于语句的日志记录。** 只有这些语句才会写入二进制日志，其中默认数据库（即 [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) 选择的数据库）*`db_name`*。要指定多个数据库，请多次使用此选项，每个数据库使用一次;但是，这样做*不*会导致跨数据库语句，例如 `UPDATE              *`some_db.some_table`* SET              foo='bar'` 在选择其他数据库（或没有数据库）时被记录。

  Warning 警告

  ​              To specify multiple databases you              *must* use multiple instances of this              option. Because database names can contain commas, the              list is treated as the name of a single database if you              supply a comma-separated list. 
  要指定多个数据库，*您必须*使用此选项的多个实例。由于数据库名称可以包含逗号，因此，如果提供逗号分隔的列表，则列表将被视为单个数据库的名称。

  ​            An example of what does not work as you might expect when            using statement-based logging: If the server is started with            [`--binlog-do-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db) and you            issue the following statements, the            [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) statement is            *not* logged:          
  使用基于语句的日志记录时，无法正常工作的示例：如果服务器使用 [`--binlog-do-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db) 启动，并且您发出以下语句，则不会记录 [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 语句：

  ```sql
  USE prices;
  UPDATE sales.january SET amount=amount+1000;
  ```

  ​            The main reason for this “just check the default            database” behavior is that it is difficult from the            statement alone to know whether it should be replicated (for            example, if you are using multiple-table            [`DELETE`](https://dev.mysql.com/doc/refman/8.4/en/delete.html) statements or            multiple-table [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html)            statements that act across multiple databases). It is also            faster to check only the default database rather than all            databases if there is no need.          
  这种“仅检查默认数据库”行为的主要原因是，仅从语句中很难知道是否应该复制它（例如，如果您使用跨多个数据库的多表 [`DELETE`](https://dev.mysql.com/doc/refman/8.4/en/delete.html) 语句或多表 [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 语句）。如果没有必要，只检查默认数据库而不是所有数据库也会更快。

  ​            Another case which may not be self-evident occurs when a            given database is replicated even though it was not            specified when setting the option. If the server is started            with `--binlog-do-db=sales`, the following            [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) statement is logged            even though `prices` was not included when            setting `--binlog-do-db`:          
  另一种可能不言而喻的情况发生在复制给定数据库时，即使在设置选项时未指定该数据库也是如此。如果服务器使用 `--binlog-do-db=sales` 启动，则即使在设置 `--binlog-do-db` 时未包含`价格`，也会记录以下 [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 语句：

  ```sql
  USE sales;
  UPDATE prices.discounts SET percentage = percentage + 10;
  ```

  ​            Because `sales` is the default database            when the [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) statement is            issued, the [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) is logged.          
  因为 `sales` 是发出 [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 语句时的默认数据库，所以会记录 [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html)。

  **Row-based logging.**               Logging is restricted to database              *`db_name`*. Only changes to tables              belonging to *`db_name`* are              logged; the default database has no effect on this.              Suppose that the server is started with              [`--binlog-do-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db) and              row-based logging is in effect, and then the following              statements are executed:            
  **基于行的日志记录。** 日志记录仅限于数据库*`db_name`*。仅记录对属于 *`db_name`* 的 table 的更改;默认数据库对此没有影响。假设服务器使用 [`--binlog-do-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db) 启动，并且基于行的日志记录有效，然后执行以下语句：

  ```sql
  USE prices;
  UPDATE sales.february SET amount=amount+100;
  ```

  ​            The changes to the `february` table in the            `sales` database are logged in accordance            with the [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) statement;            this occurs whether or not the            [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) statement was issued.            However, when using the row-based logging format and            [`--binlog-do-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db), changes            made by the following [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html)            are not logged:          
  对 `sales` 数据库中 `february` 表的更改将根据 [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 语句进行记录;无论是否发出 [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) 语句，都会发生这种情况。但是，当使用基于行的日志记录格式和 [`--binlog-do-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db) 时，不会记录以下 [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 所做的更改：

  ```sql
  USE prices;
  UPDATE prices.march SET amount=amount-25;
  ```

  ​            Even if the `USE prices` statement were            changed to `USE sales`, the            [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) statement's            effects would still not be written to the binary log.          
  即使 `USE prices` 语句更改为 `USE sales，UPDATE` 语句的效果仍不会写入二进制[``](https://dev.mysql.com/doc/refman/8.4/en/update.html)日志。

  ​            Another important difference in            [`--binlog-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db) handling for            statement-based logging as opposed to the row-based logging            occurs with regard to statements that refer to multiple            databases. Suppose that the server is started with            [`--binlog-do-db=db1`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db), and the            following statements are executed:          
  与基于行的日志记录相比，[`--binlog-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db) 处理基于语句的日志记录的另一个重要区别是关于引用多个数据库的语句。假设服务器以 [`--binlog-do-db=db1`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db) 启动，并执行以下语句：

  ```sql
  USE db1;
  UPDATE db1.table1, db2.table2 SET db1.table1.col1 = 10, db2.table2.col2 = 20;
  ```

  ​            If you are using statement-based logging, the updates to            both tables are written to the binary log. However, when            using the row-based format, only the changes to            `table1` are logged;            `table2` is in a different database, so it            is not changed by the [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html).            Now suppose that, instead of the `USE db1`            statement, a `USE db4` statement had been            used:          
  如果您使用的是基于语句的日志记录，则对这两个表的更新都将写入二进制日志。但是，当使用基于行的格式时，仅记录对 `table1` 的更改;`table2` 位于不同的数据库中，因此它不会被 [`UPDATE.`](https://dev.mysql.com/doc/refman/8.4/en/update.html)现在假设使用了 `USE db4` 语句，而不是 `USE db1` 语句：

  ```sql
  USE db4;
  UPDATE db1.table1, db2.table2 SET db1.table1.col1 = 10, db2.table2.col2 = 20;
  ```

  ​            In this case, the [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html)            statement is not written to the binary log when using            statement-based logging. However, when using row-based            logging, the change to `table1` is logged,            but not that to `table2`—in other            words, only changes to tables in the database named by            [`--binlog-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db) are logged,            and the choice of default database has no effect on this            behavior.          
  在这种情况下，使用基于语句的日志记录时，[`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 语句不会写入二进制日志。但是，当使用基于行的日志记录时，会记录对 `table1` 的更改，但不记录对 `table2` 的更改，换句话说，只会记录对 [`--binlog-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db) 命名的数据库中的表的更改，并且默认数据库的选择对此行为没有影响。

- ​            [`--binlog-ignore-db=*`db_name`*`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-ignore-db)

  

  

  | Command-Line Format 命令行格式 | `--binlog-ignore-db=name` `--binlog-ignore-db=名称` |
  | ------------------------------ | --------------------------------------------------- |
  | Type 类型                      | String 字符串                                       |

  ​            This option affects binary logging in a manner similar to            the way that            [`--replicate-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-ignore-db) affects            replication.          
  此选项影响二进制日志记录的方式类似于 [`--replicate-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-ignore-db) 影响复制的方式。

  ​            The effects of this option depend on whether the            statement-based or row-based logging format is in use, in            the same way that the effects of            [`--replicate-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-ignore-db) depend            on whether statement-based or row-based replication is in            use. You should keep in mind that the format used to log a            given statement may not necessarily be the same as that            indicated by the value of            [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format). For example,            DDL statements such as [`CREATE             TABLE`](https://dev.mysql.com/doc/refman/8.4/en/create-table.html) and [`ALTER             TABLE`](https://dev.mysql.com/doc/refman/8.4/en/alter-table.html) are always logged as statements, without            regard to the logging format in effect, so the following            statement-based rules for            `--binlog-ignore-db` always apply in            determining whether or not the statement is logged.          
  此选项的效果取决于使用的是基于语句的日志记录格式还是基于行的日志记录格式，就像 [`--replicate-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-ignore-db) 的效果取决于使用的是基于语句的复制还是基于行的复制一样。您应该记住，用于记录给定语句的格式不一定与 [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) 的值所指示的格式相同。例如，[`诸如 CREATE TABLE`](https://dev.mysql.com/doc/refman/8.4/en/create-table.html) 和 [`ALTER TABLE`](https://dev.mysql.com/doc/refman/8.4/en/alter-table.html) 之类的 DDL 语句始终记录为语句，而不考虑有效的日志记录格式，因此以下基于语句的 `--binlog-ignore-db` 规则始终适用于确定是否记录该语句。

  **Statement-based logging.**               Tells the server to not log any statement where the              default database (that is, the one selected by              [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html)) is              *`db_name`*.            
  **基于语句的日志记录。** 通知服务器不记录*`db_name`*默认数据库（即 [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) 选择的数据库）的任何语句。

  ​            When there is no default database, no            `--binlog-ignore-db` options are applied, and            such statements are always logged. (Bug #11829838, Bug            #60188)          
  当没有默认数据库时，不会应用 `--binlog-ignore-db` 选项，并且始终会记录此类语句。（错误 #11829838、错误 #60188）

  **Row-based format.**               Tells the server not to log updates to any tables in the              database *`db_name`*. The current              database has no effect.            
  **基于行的格式。** 通知服务器不记录对数据库*`db_name`*中任何表的更新。当前数据库不起作用。

  ​            When using statement-based logging, the following example            does not work as you might expect. Suppose that the server            is started with            [`--binlog-ignore-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-ignore-db) and            you issue the following statements:          
  使用基于语句的日志记录时，以下示例无法按预期工作。假设服务器以 [`--binlog-ignore-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-ignore-db) 启动，并且您发出以下语句：

  ```sql
  USE prices;
  UPDATE sales.january SET amount=amount+1000;
  ```

  ​            The [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) statement            *is* logged in such a case because            [`--binlog-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-ignore-db) applies            only to the default database (determined by the            [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) statement). Because the            `sales` database was specified explicitly            in the statement, the statement has not been filtered.            However, when using row-based logging, the            [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) statement's            effects are *not* written to the binary            log, which means that no changes to the            `sales.january` table are logged; in this            instance,            [`--binlog-ignore-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-ignore-db)            causes *all* changes made to tables in            the source's copy of the `sales`            database to be ignored for purposes of binary logging.          
  在这种情况下*记录* [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 语句，因为 [`--binlog-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-ignore-db) 仅适用于默认数据库（由 [`USE`](https://dev.mysql.com/doc/refman/8.4/en/use.html) 语句确定）。由于在语句中显式指定了 `sales` 数据库，因此尚未筛选该语句。但是，当使用基于行的日志记录时，[`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 语句的效果*不会*写入二进制日志，这意味着不会记录对 `sales.january` table 的更改;在这种情况下，[`--binlog-ignore-db=sales`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-ignore-db) 会导致出于二进制日志记录的目的，忽略对 `Sales` 数据库的源副本中的表所做的*所有*更改。

  ​            To specify more than one database to ignore, use this option            multiple times, once for each database. Because database            names can contain commas, the list is treated as the name of            a single database if you supply a comma-separated list.          
  要指定要忽略的多个数据库，请多次使用此选项，每个数据库使用一次。由于数据库名称可以包含逗号，因此，如果提供逗号分隔的列表，则列表将被视为单个数据库的名称。

  ​            You should not use this option if you are using            cross-database updates and you do not want these updates to            be logged. 
  如果您使用的是跨数据库更新，并且不希望记录这些更新，则不应使用此选项。

**Checksum options.**           MySQL supports reading and writing of binary log checksums.          These are enabled using the two options listed here: 
**校验和选项。** MySQL 支持读取和写入二进制日志校验和。这些选项使用此处列出的两个选项启用：

- ​            [`--binlog-checksum={NONE|CRC32}`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-checksum)

  

  

  | Command-Line Format 命令行格式 | `--binlog-checksum=type` `--binlog-checksum=类型` |
  | ------------------------------ | ------------------------------------------------- |
  | Type 类型                      | String 字符串                                     |
  | Default Value 默认值           | `CRC32`                                           |
  | Valid Values 有效值            | `NONE``CRC32`                                     |

  ​            Enabling this option causes the source to write checksums            for events written to the binary log. Set to            `NONE` to disable, or the name of the            algorithm to be used for generating checksums; currently,            only CRC32 checksums are supported, and CRC32 is the            default. You cannot change the setting for this option            within a transaction. 
  启用此选项将导致源为写入二进制日志的事件写入校验和。设置为 `NONE` 以禁用，或设置为用于生成校验和的算法的名称;目前，仅支持 CRC32 校验和，CRC32 是默认值。您不能在事务中更改此选项的设置。

​        To control reading of checksums by the replica (from the relay        log), use the        [`--replica-sql-verify-checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_sql_verify_checksum)        option.      
要控制副本（从中继日志）读取校验和，请使用 [`--replica-sql-verify-checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_sql_verify_checksum) 选项。

**Testing and debugging options.**           The following binary log options are used in replication          testing and debugging. They are not intended for use in normal          operations. 
**测试和调试选项。** 以下二进制日志选项用于复制测试和调试。它们不适用于正常操作。

- ​            [`--max-binlog-dump-events=*`N`*`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_max-binlog-dump-events)

  

  

  | Command-Line Format 命令行格式 | `--max-binlog-dump-events=#` |
  | ------------------------------ | ---------------------------- |
  | Type 类型                      | Integer 整数                 |
  | Default Value 默认值           | `0`                          |

  ​            This option is used internally by the MySQL test suite for            replication testing and debugging.          
  此选项由 MySQL 测试套件在内部用于复制测试和调试。

- ​            [`--sporadic-binlog-dump-fail`
  `--零星的二进制日志转储失败`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_sporadic-binlog-dump-fail)

  

  

  | Command-Line Format 命令行格式 | `--sporadic-binlog-dump-fail[={OFF|ON}]` |
  | ------------------------------ | ---------------------------------------- |
  | Type 类型                      | Boolean 布尔                             |
  | Default Value 默认值           | `OFF`                                    |

  ​            This option is used internally by the MySQL test suite for            replication testing and debugging. 
  此选项由 MySQL 测试套件在内部用于复制测试和调试。

##### System Variables Used with Binary Logging 用于二进制日志记录的系统变量

​        The following list describes system variables for controlling        binary logging. They can be set at server startup and some of        them can be changed at runtime using        [`SET`](https://dev.mysql.com/doc/refman/8.4/en/set-variable.html).        Server options used to control binary logging are listed earlier        in this section. 
以下列表描述了用于控制二进制日志记录的系统变量。它们可以在服务器启动时设置，其中一些可以在运行时使用 [`SET`](https://dev.mysql.com/doc/refman/8.4/en/set-variable.html) 进行更改。本节前面列出了用于控制二进制日志记录的服务器选项。

- ​            [`binlog_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_cache_size)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-cache-size=#` |
  | ------------------------------------------------------------ | ----------------------- |
  | System Variable 系统变量                                     | `binlog_cache_size`     |
  | Scope 范围                                                   | Global 全球             |
  | Dynamic 动态                                                 | Yes 是的                |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                   |
  | Type 类型                                                    | Integer 整数            |
  | Default Value 默认值                                         | `32768`                 |
  | Minimum Value 最小值                                         | `4096`                  |
  | Maximum Value (64-bit platforms) 最大值（64 位平台）         | `18446744073709547520`  |
  | Maximum Value (32-bit platforms) 最大值（32 位平台）         | `4294963200`            |
  | Unit 单位                                                    | bytes 字节              |
  | [Block Size 区块大小](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#system-variables-block-size) | `4096`                  |

  ​            The size of the memory buffer to hold changes to the binary            log during a transaction.          
  在事务期间保存对二进制日志的更改的内存缓冲区的大小。

  ​            When binary logging is enabled on the server (with the            [`log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin) system variable set            to ON), a binary log cache is allocated for each client if            the server supports any transactional storage engines. If            the data for the transaction exceeds the space in the memory            buffer, the excess data is stored in a temporary file. When            binary log encryption is active on the server, the memory            buffer is not encrypted, but any temporary file used to hold            the binary log cache is encrypted. After each transaction is            committed, the binary log cache is reset by clearing the            memory buffer and truncating the temporary file if used.          
  在服务器上启用二进制日志记录时（将 [`log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin) 系统变量设置为 ON），如果服务器支持任何事务性存储引擎，则会为每个 Client  端分配一个二进制日志缓存。如果事务的数据超过内存缓冲区中的空间，则多余的数据存储在临时文件中。当二进制日志加密在服务器上处于活动状态时，内存缓冲区不会加密，但用于保存二进制日志缓存的任何临时文件都会加密。提交每个事务后，通过清除内存缓冲区并截断临时文件（如果使用）来重置二进制日志缓存。

  ​            If you often use large transactions, you can increase this            cache size to get better performance by reducing or            eliminating the need to write to temporary files. The            [`Binlog_cache_use`](https://dev.mysql.com/doc/refman/8.4/en/server-status-variables.html#statvar_Binlog_cache_use) and            [`Binlog_cache_disk_use`](https://dev.mysql.com/doc/refman/8.4/en/server-status-variables.html#statvar_Binlog_cache_disk_use)            status variables can be useful for tuning the size of this            variable. See [Section 7.4.4, “The Binary Log”](https://dev.mysql.com/doc/refman/8.4/en/binary-log.html).          
  如果您经常使用大型事务，则可以增加此缓存大小，通过减少或消除写入临时文件的需求来获得更好的性能。[`Binlog_cache_use`](https://dev.mysql.com/doc/refman/8.4/en/server-status-variables.html#statvar_Binlog_cache_use) 和 [`Binlog_cache_disk_use`](https://dev.mysql.com/doc/refman/8.4/en/server-status-variables.html#statvar_Binlog_cache_disk_use) 状态变量可用于调整此变量的大小。参见[第 7.4.4 节 “ 二进制日志”。](https://dev.mysql.com/doc/refman/8.4/en/binary-log.html)

  ​            `binlog_cache_size` sets the size for the            transaction cache only; the size of the statement cache is            governed by the            [`binlog_stmt_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_stmt_cache_size)            system variable.          
  `binlog_cache_size` 仅设置事务缓存的大小;语句缓存的大小由 [`binlog_stmt_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_stmt_cache_size) 系统变量控制。

- ​            [`binlog_checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_checksum)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-checksum=type` `--binlog-checksum=类型` |
  | ------------------------------------------------------------ | ------------------------------------------------- |
  | System Variable 系统变量                                     | `binlog_checksum`                                 |
  | Scope 范围                                                   | Global 全球                                       |
  | Dynamic 动态                                                 | Yes 是的                                          |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                             |
  | Type 类型                                                    | String 字符串                                     |
  | Default Value 默认值                                         | `CRC32`                                           |
  | Valid Values 有效值                                          | `NONE``CRC32`                                     |

  ​            When enabled, this variable causes the source to write a            checksum for each event in the binary log.            `binlog_checksum` supports the values            `NONE` (which disables checksums) and            `CRC32`. The default is            `CRC32`. When            `binlog_checksum` is disabled (value            `NONE`), the server verifies that it is            writing only complete events to the binary log by writing            and checking the event length (rather than a checksum) for            each event.          
  启用后，此变量会导致源为二进制日志中的每个事件写入校验和。`binlog_checksum` 支持值 `NONE` （禁用校验和） 和 `CRC32`。默认值为 `CRC32`。禁用 `binlog_checksum` 时（值 `NONE`），服务器通过写入和检查每个事件的事件长度（而不是校验和）来验证它是否仅将完整事件写入二进制日志。

  ​            Setting this variable on the source to a value unrecognized            by the replica causes the replica to set its own            `binlog_checksum` value to            `NONE`, and to stop replication with an            error. If backward compatibility with older replicas is a            concern, you may want to set the value explicitly to            `NONE`.          
  在源上将此变量设置为副本无法识别的值会导致副本将自己的 `binlog_checksum` 值设置为 `NONE`，并停止复制并显示错误。如果担心与旧副本的向后兼容性，则可能需要将值显式设置为 `NONE`。

  ​            Group Replication in MySQL 8.4 supports            checksums, so group members may use the default setting.          
  MySQL 8.4 中的组复制支持校验和，因此组成员可以使用默认设置。

  ​            Changing the value of `binlog_checksum`            causes the binary log to be rotated, because checksums must            be written for an entire binary log file, and never for only            part of one. You cannot change the value of            `binlog_checksum` within a transaction.          
  更改 `binlog_checksum` 的值会导致二进制日志轮换，因为必须为整个二进制日志文件写入校验和，而绝不能只为一个二进制文件的一部分写入校验和。您不能更改事务中 `binlog_checksum` 的值。

  ​            When binary log transaction compression is enabled using the            [`binlog_transaction_compression`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression)            system variable, checksums are not written for individual            events in a compressed transaction payload. Instead a            checksum is written for the GTID event, and a checksum for            the compressed `Transaction_payload_event`.          
  当使用[ `binlog_transaction_compression` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression)系统变量启用二进制日志事务压缩时，不会为压缩事务有效负载中的单个事件写入校验和。而是为 GTID 事件写入校验和，并为压缩`Transaction_payload_event`写入校验和。

- ​            [`binlog_direct_non_transactional_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_direct_non_transactional_updates)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-direct-non-transactional-updates[={OFF|ON}]` |
  | ------------------------------------------------------------ | ------------------------------------------------------ |
  | System Variable 系统变量                                     | `binlog_direct_non_transactional_updates`              |
  | Scope 范围                                                   | Global, Session 全局， 会话                            |
  | Dynamic 动态                                                 | Yes 是的                                               |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                                  |
  | Type 类型                                                    | Boolean 布尔                                           |
  | Default Value 默认值                                         | `OFF`                                                  |

  ​            Due to concurrency issues, a replica can become inconsistent            when a transaction contains updates to both transactional            and nontransactional tables. MySQL tries to preserve            causality among these statements by writing nontransactional            statements to the transaction cache, which is flushed upon            commit. However, problems arise when modifications done to            nontransactional tables on behalf of a transaction become            immediately visible to other connections because these            changes may not be written immediately into the binary log.          
  由于并发问题，当事务同时包含对事务性和非事务性表的更新时，副本可能会变得不一致。MySQL 尝试通过将非事务性语句写入事务缓存来保留这些语句之间的因果关系，该事务缓存在提交时刷新。但是，当代表事务对非事务 table  所做的修改立即对其他连接可见时，就会出现问题，因为这些更改可能不会立即写入二进制日志。

  ​            The            [`binlog_direct_non_transactional_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_direct_non_transactional_updates)            variable offers one possible workaround to this issue. By            default, this variable is disabled. Enabling            [`binlog_direct_non_transactional_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_direct_non_transactional_updates)            causes updates to nontransactional tables to be written            directly to the binary log, rather than to the transaction            cache.          
  该[ `binlog_direct_non_transactional_updates` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_direct_non_transactional_updates)变量为此问题提供了一种可能的解决方法。默认情况下，此变量处于禁用状态。启用[ `binlog_direct_non_transactional_updates` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_direct_non_transactional_updates)会导致对非事务性 table 的更新直接写入二进制日志，而不是事务缓存。

  ​            Setting the session value of this system variable is a            restricted operation. The session user must have privileges            sufficient to set restricted session variables. See            [Section 7.1.9.1, “System Variable Privileges”](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html).          
  设置此系统变量的 session 值是一个受限操作。会话用户必须具有足够的权限来设置受限的会话变量。参见[第 7.1.9.1 节 “系统变量权限”。](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html)

  ​            *[`binlog_direct_non_transactional_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_direct_non_transactional_updates)            works only for statements that are replicated using the            statement-based binary logging format*; that is,            it works only when the value of            [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) is            `STATEMENT`, or when            [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) is            `MIXED` and a given statement is being            replicated using the statement-based format. This variable            has no effect when the binary log format is            `ROW`, or when            [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) is set to            `MIXED` and a given statement is replicated            using the row-based format. 
  *[ `binlog_direct_non_transactional_updates` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_direct_non_transactional_updates)仅适用于使用基于语句的二进制日志记录格式复制的语句*;也就是说，仅当 [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) 的值为 `STATEMENT`，或者 [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) 为 `MIXED` 并且正在使用基于语句的格式复制给定语句时，它才有效。当二进制日志格式为 `ROW`时，或者当 [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) 设置为 `MIXED` 并且使用基于行的格式复制给定语句时，此变量无效。

  Important 重要

  ​              Before enabling this variable, you must make certain that              there are no dependencies between transactional and              nontransactional tables; an example of such a dependency              would be the statement `INSERT INTO myisam_table              SELECT * FROM innodb_table`. Otherwise, such              statements are likely to cause the replica to diverge from              the source. 
  在启用此变量之前，您必须确保事务 table 和非事务 table 之间没有依赖关系;这种依赖关系的一个示例是语句 `INSERT INTO myisam_table              SELECT * FROM innodb_table` 。否则，此类语句可能会导致副本与源不同。

  ​            This variable has no effect when the binary log format is            `ROW` or `MIXED`.          
  当二进制对数格式为 `ROW` 或 `MIXED` 时，此变量不起作用。

- ​            [`binlog_encryption`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_encryption)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-encryption[={OFF|ON}]` |
  | ------------------------------------------------------------ | -------------------------------- |
  | System Variable 系统变量                                     | `binlog_encryption`              |
  | Scope 范围                                                   | Global 全球                      |
  | Dynamic 动态                                                 | Yes 是的                         |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                            |
  | Type 类型                                                    | Boolean 布尔                     |
  | Default Value 默认值                                         | `OFF`                            |

  ​            Enables encryption for binary log files and relay log files            on this server. `OFF` is the default.            `ON` sets encryption on for binary log            files and relay log files. Binary logging does not need to            be enabled on the server to enable encryption, so you can            encrypt the relay log files on a replica that has no binary            log. To use encryption, a keyring plugin must be installed            and configured to supply MySQL Server's keyring service. For            instructions to do this, see [Section 8.4.4, “The MySQL Keyring”](https://dev.mysql.com/doc/refman/8.4/en/keyring.html). Any            supported keyring plugin can be used to store binary log            encryption keys.          
  在此服务器上启用二进制日志文件和中继日志文件的加密。`OFF` 是默认值。`如果设置为 ON`，则为二进制日志文件和中继日志文件设置加密。无需在服务器上启用二进制日志记录即可启用加密，因此您可以加密没有二进制日志的副本上的中继日志文件。要使用加密，必须安装密钥环插件并将其配置为提供 MySQL Server 的密钥环服务。有关执行此操作的说明，请参见[第 8.4.4 节 “ MySQL 密钥环”。](https://dev.mysql.com/doc/refman/8.4/en/keyring.html)任何受支持的密钥环插件都可用于存储二进制日志加密密钥。

  ​            When you first start the server with binary log encryption            enabled, a new binary log encryption key is generated before            the binary log and relay logs are initialized. This key is            used to encrypt a file password for each binary log file (if            the server has binary logging enabled) and relay log file            (if the server has replication channels), and further keys            generated from the file passwords are used to encrypt the            data in the files. Relay log files are encrypted for all            channels, including Group Replication applier channels and            new channels that are created after encryption is activated.            The binary log index file and relay log index file are never            encrypted.          
  首次在启用二进制日志加密的情况下启动服务器时，将在初始化二进制日志和中继日志之前生成新的二进制日志加密密钥。此密钥用于加密每个二进制日志文件（如果服务器启用了二进制日志记录）和中继日志文件（如果服务器具有复制通道）的文件密码，并且从文件密码生成的其他密钥用于加密文件中的数据。所有通道的中继日志文件都经过加密，包括组复制应用程序通道和激活加密后创建的新通道。二进制日志索引文件和中继日志索引文件永远不会加密。

  ​            If you activate encryption while the server is running, a            new binary log encryption key is generated at that time. The            exception is if encryption was active previously on the            server and was then disabled, in which case the binary log            encryption key that was in use before is used again. The            binary log file and relay log files are rotated immediately,            and file passwords for the new files and all subsequent            binary log files and relay log files are encrypted using            this binary log encryption key. Existing binary log files            and relay log files still present on the server are not            automatically encrypted, but you can purge them if they are            no longer needed.          
  如果在服务器运行时激活加密，则会在此时生成新的二进制日志加密密钥。例外情况是，如果加密之前在服务器上处于活动状态，然后被禁用，在这种情况下，将再次使用之前使用的二进制日志加密密钥。二进制日志文件和中继日志文件会立即轮换，并且新文件和所有后续二进制日志文件和中继日志文件的文件密码都使用此二进制日志加密密钥进行加密。服务器上仍然存在的现有二进制日志文件和中继日志文件不会自动加密，但如果不再需要它们，您可以清除它们。

  ​            If you deactivate encryption by changing the            [`binlog_encryption`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_encryption) system            variable to `OFF`, the binary log file and            relay log files are rotated immediately and all subsequent            logging is unencrypted. Previously encrypted files are not            automatically decrypted, but the server is still able to            read them. The `BINLOG_ENCRYPTION_ADMIN`            privilege (or the deprecated            [`SUPER`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_super) privilege) is required            to activate or deactivate encryption while the server is            running. Group Replication applier channels are not included            in the relay log rotation request, so unencrypted logging            for these channels does not start until their logs are            rotated in normal use.          
  如果通过将 [`binlog_encryption`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_encryption) 系统变量更改为 `OFF` 来停用加密，则二进制日志文件和中继日志文件将立即轮换，并且所有后续日志记录都将解密。以前加密的文件不会自动解密，但服务器仍然能够读取它们。在服务器运行时，需要 `BINLOG_ENCRYPTION_ADMIN` 权限（或已弃用的 [`SUPER`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_super) 权限）才能激活或停用加密。组复制应用程序通道不包括在中继日志轮换请求中，因此，在正常使用中轮换其日志之前，这些通道的未加密日志记录不会开始。

  ​            For more information on binary log file and relay log file            encryption, see            [Section 19.3.2, “Encrypting Binary Log Files and Relay Log Files”](https://dev.mysql.com/doc/refman/8.4/en/replication-binlog-encryption.html).          
  有关二进制日志文件和中继日志文件加密的更多信息，请参见[第 19.3.2 节 “加密二进制日志文件和中继日志文件”。](https://dev.mysql.com/doc/refman/8.4/en/replication-binlog-encryption.html)

- ​            [`binlog_error_action`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_error_action)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-error-action[=value]` `--binlog-error-action[=值]` |
  | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | System Variable 系统变量                                     | `binlog_error_action`                                        |
  | Scope 范围                                                   | Global 全球                                                  |
  | Dynamic 动态                                                 | Yes 是的                                                     |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                                        |
  | Type 类型                                                    | Enumeration 列举                                             |
  | Default Value 默认值                                         | `ABORT_SERVER`                                               |
  | Valid Values 有效值                                          | `IGNORE_ERROR``ABORT_SERVER`                                 |

  ​            Controls what happens when the server encounters an error            such as not being able to write to, flush or synchronize the            binary log, which can cause the source's binary log to            become inconsistent and replicas to lose synchronization.          
  控制当服务器遇到错误（例如无法写入、刷新或同步二进制日志）时发生的情况，这可能会导致源的二进制日志变得不一致，并且副本失去同步。

  ​            This variable defaults to `ABORT_SERVER`,            which makes the server halt logging and shut down whenever            it encounters such an error with the binary log. On restart,            recovery proceeds as in the case of an unexpected server            halt (see            [Section 19.4.2, “Handling an Unexpected Halt of a Replica”](https://dev.mysql.com/doc/refman/8.4/en/replication-solutions-unexpected-replica-halt.html)).          
  此变量默认为 `ABORT_SERVER`，这使得服务器在遇到二进制日志时停止日志记录并关闭。重新启动时，恢复将继续进行，就像服务器意外停止一样（请参见[第 19.4.2 节 “处理副本的意外停止”）。](https://dev.mysql.com/doc/refman/8.4/en/replication-solutions-unexpected-replica-halt.html)

  ​            When `binlog_error_action` is set to            `IGNORE_ERROR`, if the server encounters            such an error it continues the ongoing transaction, logs the            error then halts logging, and continues performing updates.            To resume binary logging            [`log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin) must be enabled            again, which requires a server restart. This setting            provides backward compatibility with older versions of            MySQL.          
  当 `binlog_error_action` 设置为 `IGNORE_ERROR` 时，如果服务器遇到此类错误，它会继续正在进行的事务，记录错误，然后停止记录，并继续执行更新。要恢复二进制日志记录[`log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin)必须再次启用，这需要重新启动服务器。此设置提供与旧版本 MySQL 的向后兼容性。

- ​            [`binlog_expire_logs_seconds`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_expire_logs_seconds)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-expire-logs-seconds=#` |
  | ------------------------------------------------------------ | -------------------------------- |
  | System Variable 系统变量                                     | `binlog_expire_logs_seconds`     |
  | Scope 范围                                                   | Global 全球                      |
  | Dynamic 动态                                                 | Yes 是的                         |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                            |
  | Type 类型                                                    | Integer 整数                     |
  | Default Value 默认值                                         | `2592000`                        |
  | Minimum Value 最小值                                         | `0`                              |
  | Maximum Value 最大值                                         | `4294967295`                     |
  | Unit 单位                                                    | seconds 秒                       |

  ​            Sets the binary log expiration period in seconds. After            their expiration period ends, binary log files can be            automatically removed. Possible removals happen at startup            and when the binary log is flushed. Log flushing occurs as            indicated in [Section 7.4, “MySQL Server Logs”](https://dev.mysql.com/doc/refman/8.4/en/server-logs.html).          
  设置二进制日志过期时间（以秒为单位）。过期期限结束后，可以自动删除二进制日志文件。可能的删除发生在启动时和刷新二进制日志时。日志刷新的发生如[第 7.4 节 “MySQL 服务器日志”](https://dev.mysql.com/doc/refman/8.4/en/server-logs.html)中所述。

  ​            The default binary log expiration period is 2592000 seconds,            which equals 30 days (30*24*60*60 seconds).          
  默认二进制日志过期时间为 2592000 秒，等于 30 天（30*24*60*60 秒）。

  ​            Automatic purging of the binary log can be disabled by            setting the            [`binlog_expire_logs_auto_purge`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_expire_logs_auto_purge)            system variable to `OFF`. This takes            precedence over any setting for            `binlog_expire_logs_seconds`.          
  通过将 [`binlog_expire_logs_auto_purge`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_expire_logs_auto_purge) 系统变量设置为 `OFF` 可以禁用二进制日志的自动清除。这优先于`binlog_expire_logs_seconds`的任何设置。

  ​            To remove binary log files manually, use the            [`PURGE BINARY LOGS`](https://dev.mysql.com/doc/refman/8.4/en/purge-binary-logs.html) statement.            See [Section 15.4.1.1, “PURGE BINARY LOGS Statement”](https://dev.mysql.com/doc/refman/8.4/en/purge-binary-logs.html).          
  要手动删除二进制日志文件，请使用 [`PURGE BINARY LOGS`](https://dev.mysql.com/doc/refman/8.4/en/purge-binary-logs.html) 语句。参见[第 15.4.1.1 节 “ PURGE BINARY LOGS 语句”。](https://dev.mysql.com/doc/refman/8.4/en/purge-binary-logs.html)

- ​            [`binlog_expire_logs_auto_purge`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_expire_logs_auto_purge)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-expire-logs-auto-purge={ON|OFF}` |
  | ------------------------------------------------------------ | ------------------------------------------ |
  | System Variable 系统变量                                     | `binlog_expire_logs_auto_purge`            |
  | Scope 范围                                                   | Global 全球                                |
  | Dynamic 动态                                                 | Yes 是的                                   |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                      |
  | Type 类型                                                    | Boolean 布尔                               |
  | Default Value 默认值                                         | `ON`                                       |

  ​            Enables or disables automatic purging of binary log files.            Setting this variable to `ON` (the default)            enables automatic purging; setting it to            `OFF` disables automatic purging. The            interval to wait before purging is controlled by            [`binlog_expire_logs_seconds`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_expire_logs_seconds). 
  启用或禁用二进制日志文件的自动清除。将此变量设置为 `ON`（默认值）将启用自动清除;将其设置为 `OFF` 将禁用自动清除。清除前等待的时间间隔由 [`binlog_expire_logs_seconds`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_expire_logs_seconds) 控制。

  Note 注意

  ​              Even if `binlog_expire_logs_auto_purge`              is `ON`, setting              `binlog_expire_logs_seconds` to              `0` stops automatic purging from taking              place. 
  即使 `binlog_expire_logs_auto_purge` `为 ON，`将 `binlog_expire_logs_seconds` 设置为 `0` 也会停止自动清除。

  ​            This variable has no effect on [`PURGE             BINARY LOGS`](https://dev.mysql.com/doc/refman/8.4/en/purge-binary-logs.html).          
  此变量对 [`PURGE BINARY LOGS`](https://dev.mysql.com/doc/refman/8.4/en/purge-binary-logs.html) 没有影响。

- ​            [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-format=format` `--binlog-format=格式` |
  | ------------------------------------------------------------ | ----------------------------------------------- |
  | Deprecated 荒废的                                            | Yes 是的                                        |
  | System Variable 系统变量                                     | `binlog_format`                                 |
  | Scope 范围                                                   | Global, Session 全局， 会话                     |
  | Dynamic 动态                                                 | Yes 是的                                        |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                           |
  | Type 类型                                                    | Enumeration 列举                                |
  | Default Value 默认值                                         | `ROW`                                           |
  | Valid Values 有效值                                          | `MIXED``STATEMENT``ROW`                         |

  ​            This system variable sets the binary logging format, and can            be any one of `STATEMENT`,            `ROW`, or `MIXED`. (See            [Section 19.2.1, “Replication Formats”](https://dev.mysql.com/doc/refman/8.4/en/replication-formats.html).) The setting takes            effect when binary logging is enabled on the server, which            is the case when the            [`log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin) system variable is            set to `ON`. In MySQL 8.4,            binary logging is enabled by default, and by default uses            the row-based format. 
  此系统变量设置二进制日志记录格式，可以是 `STATEMENT、``ROW` 或 `MIXED` 中的任何一个。（参见[第 19.2.1 节 “复制格式”。](https://dev.mysql.com/doc/refman/8.4/en/replication-formats.html)当服务器上启用了二进制日志记录时，该设置将生效，当 [`log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin) 系统变量设置为 `ON` 时，会出现这种情况。在 MySQL 8.4 中，二进制日志记录默认启用，并且默认使用基于行的格式。

  Note 注意

  ​              `binlog_format` is deprecated, and              subject to removal in a future version of MySQL. This              implies that support for logging formats other than              row-based is also subject to removal in a future release.              Thus, only row-based logging should be employed for any              new MySQL Replication setups. 
  `binlog_format` 已弃用，并可能在未来版本的 MySQL 中删除。这意味着对基于 row-based 以外的日志记录格式的支持在将来的发行版中也可能会被删除。因此，任何新的 MySQL 复制设置都只应采用基于行的日志记录。

  ​            [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) can be set at            startup or at runtime, except that under some conditions,            changing this variable at runtime is not possible or causes            replication to fail, as described later.          
  [`可以在`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format)启动时或运行时设置binlog_format，但在某些情况下，在运行时无法更改此变量，否则会导致复制失败，如下所述。

  ​            The default is `ROW`.            *Exception*: In NDB Cluster, the default            is `MIXED`; statement-based replication is            not supported for NDB Cluster.          
  默认值为 `ROW`。*例外*：在 NDB Cluster 中，默认值为 `MIXED;`NDB 群集不支持基于语句的复制。

  ​            Setting the session value of this system variable is a            restricted operation. The session user must have privileges            sufficient to set restricted session variables. See            [Section 7.1.9.1, “System Variable Privileges”](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html).          
  设置此系统变量的 session 值是一个受限操作。会话用户必须具有足够的权限来设置受限的会话变量。参见[第 7.1.9.1 节 “系统变量权限”。](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html)

  ​            The rules governing when changes to this variable take            effect and how long the effect lasts are the same as for            other MySQL server system variables. For more information,            see [Section 15.7.6.1, “SET Syntax for Variable Assignment”](https://dev.mysql.com/doc/refman/8.4/en/set-variable.html).          
  控制对此变量的更改何时生效以及效果持续多长时间的规则与其他 MySQL 服务器系统变量相同。有关更多信息，请参见[第 15.7.6.1 节 “变量赋值的 SET 语法”。](https://dev.mysql.com/doc/refman/8.4/en/set-variable.html)

  ​            When `MIXED` is specified, statement-based            replication is used, except for cases where only row-based            replication is guaranteed to lead to proper results. For            example, this happens when statements contain loadable            functions or the [`UUID()`](https://dev.mysql.com/doc/refman/8.4/en/miscellaneous-functions.html#function_uuid)            function.          
  指定 `MIXED` 时，将使用基于语句的复制，但仅保证基于行的复制会导致正确结果的情况除外。例如，当语句包含可加载函数或 [`UUID（）`](https://dev.mysql.com/doc/refman/8.4/en/miscellaneous-functions.html#function_uuid) 函数时，会发生这种情况。

  ​            For details of how stored programs (stored procedures and            functions, triggers, and events) are handled when each            binary logging format is set, see            [Section 27.7, “Stored Program Binary Logging”](https://dev.mysql.com/doc/refman/8.4/en/stored-programs-logging.html).          
  有关在设置每个二进制日志记录格式时如何处理存储程序（存储过程和函数、触发器和事件）的详细信息，请参见[第 27.7 节 “存储程序二进制日志记录”。](https://dev.mysql.com/doc/refman/8.4/en/stored-programs-logging.html)

  ​            There are exceptions when you cannot switch the replication            format at runtime: 
  在运行时无法切换复制格式时，存在例外情况：

  - ​                The replication format cannot be changed from within a                stored function or a trigger.              
    无法从存储函数或触发器中更改复制格式。
  - ​                If a session has open temporary tables, the replication                format cannot be changed for the session (`SET                @@SESSION.binlog_format`).              
    如果会话具有打开的临时表，则无法更改会话 （ `SET                @@SESSION.binlog_format` ） 的复制格式。
  - ​                If any replication channel has open temporary tables,                the replication format cannot be changed globally                (`SET @@GLOBAL.binlog_format` or                `SET @@PERSIST.binlog_format`).              
    如果任何复制通道具有打开的临时 table，则无法全局更改复制格式（`SET @@GLOBAL.binlog_format` 或 `SET @@PERSIST.binlog_format`）。
  - ​                If any replication channel applier thread is currently                running, the replication format cannot be changed                globally (`SET @@GLOBAL.binlog_format`                or `SET @@PERSIST.binlog_format`). 
    如果当前正在运行任何复制通道应用程序线程，则无法全局更改复制格式（`SET @@GLOBAL.binlog_format` 或 `SET @@PERSIST.binlog_format`）。

  ​            Trying to switch the replication format in any of these            cases (or attempting to set the current replication format)            results in an error. You can, however, use            `PERSIST_ONLY` (`SET            @@PERSIST_ONLY.binlog_format`) to change the            replication format at any time, because this action does not            modify the runtime global system variable value, and takes            effect only after a server restart.          
  在上述任何情况下尝试切换复制格式（或尝试设置当前复制格式）都会导致错误。但是，您可以随时使用`PERSIST_ONLY` （） `SET            @@PERSIST_ONLY.binlog_format` 更改复制格式，因为此操作不会修改运行时全局系统变量值，并且仅在服务器重新启动后生效。

  ​            Switching the replication format at runtime is not            recommended when any temporary tables exist, because            temporary tables are logged only when using statement-based            replication, whereas with row-based replication and mixed            replication, they are not logged.          
  当存在任何临时表时，不建议在运行时切换复制格式，因为仅在使用基于语句的复制时记录临时表，而对于基于行的复制和混合复制，则不会记录它们。

  ​            Changing the logging format on a replication source server            does not cause a replica to change its logging format to            match. Switching the replication format while replication is            ongoing can cause issues if a replica has binary logging            enabled, and the change results in the replica using            `STATEMENT` format logging while the source            is using `ROW` or `MIXED`            format logging. A replica is not able to convert binary log            entries received in `ROW` logging format to            `STATEMENT` format for use in its own            binary log, so this situation can cause replication to fail.            For more information, see            [Section 7.4.4.2, “Setting The Binary Log Format”](https://dev.mysql.com/doc/refman/8.4/en/binary-log-setting.html).          
  更改复制源服务器上的日志记录格式不会导致副本更改其日志记录格式以匹配。如果副本启用了二进制日志记录，则在复制过程中切换复制格式可能会导致问题，并且更改会导致副本使用 `STATEMENT` 格式日志记录，而源使用 `ROW` 或 `MIXED` 格式日志记录。副本无法将以 `ROW` 日志记录格式接收的二进制日志条目转换为 `STATEMENT` 格式，以便在其自己的二进制日志中使用，因此这种情况可能会导致复制失败。有关更多信息，请参见[第 7.4.4.2 节 “设置二进制日志格式”。](https://dev.mysql.com/doc/refman/8.4/en/binary-log-setting.html)

  ​            The binary log format affects the behavior of the following            server options: 
  二进制日志格式会影响以下服务器选项的行为：

  - ​                [`--replicate-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-do-db)              
  - ​                [`--replicate-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#option_mysqld_replicate-ignore-db)              
  - ​                [`--binlog-do-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-do-db)              
  - ​                [`--binlog-ignore-db`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_binlog-ignore-db)

  ​            These effects are discussed in detail in the descriptions of            the individual options.          
  各个选项的描述中详细讨论了这些效果。

- ​            [`binlog_group_commit_sync_delay`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-group-commit-sync-delay=#` |
  | ------------------------------------------------------------ | ------------------------------------ |
  | System Variable 系统变量                                     | `binlog_group_commit_sync_delay`     |
  | Scope 范围                                                   | Global 全球                          |
  | Dynamic 动态                                                 | Yes 是的                             |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                |
  | Type 类型                                                    | Integer 整数                         |
  | Default Value 默认值                                         | `0`                                  |
  | Minimum Value 最小值                                         | `0`                                  |
  | Maximum Value 最大值                                         | `1000000`                            |
  | Unit 单位                                                    | microseconds 微秒                    |

  ​            Controls how many microseconds the binary log commit waits            before synchronizing the binary log file to disk. By default            [`binlog_group_commit_sync_delay`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)            is set to 0, meaning that there is no delay. Setting            [`binlog_group_commit_sync_delay`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)            to a microsecond delay enables more transactions to be            synchronized together to disk at once, reducing the overall            time to commit a group of transactions because the larger            groups require fewer time units per group.          
  控制二进制日志提交在将二进制日志文件同步到磁盘之前等待的微秒数。默认情况下[ `binlog_group_commit_sync_delay` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)设置为 0，这意味着没有延迟。设置为[ `binlog_group_commit_sync_delay` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)微秒级延迟可以同时将更多事务同步到磁盘，从而减少提交一组事务的总时间，因为较大的组每个组需要的时间单位较少。

  ​            When [`sync_binlog=0`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog) or            [`sync_binlog=1`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog) is set, the            delay specified by            [`binlog_group_commit_sync_delay`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)            is applied for every binary log commit group before            synchronization (or in the case of            [`sync_binlog=0`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog), before            proceeding). When            [`sync_binlog`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog) is set to a            value *n* greater than 1, the delay is            applied after every *n* binary log commit            groups.          
  当 [`sync_binlog=0`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog) 或 [`sync_binlog=1`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog) 时，指定的延迟[ `binlog_group_commit_sync_delay` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)将在同步之前（或者在 [`sync_binlog=0`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog) 的情况下，在继续之前）应用于每个二进制日志提交组。当 [`sync_binlog`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog) 设置为大于 1 的值 *n* 时，将在每 *n 个*二进制日志提交组之后应用延迟。

  ​            Setting            [`binlog_group_commit_sync_delay`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)            can increase the number of parallel committing transactions            on any server that has (or might have after a failover) a            replica, and therefore can increase parallel execution on            the replicas. To benefit from this effect, the replica            servers must have            [`replica_parallel_type=LOGICAL_CLOCK`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_type)            set. It is important to take into account both source and            replica throughput when you are setting            [`binlog_group_commit_sync_delay`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay).          
  设置[ `binlog_group_commit_sync_delay` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)可以增加具有（或在故障转移后可能具有）副本的任何服务器上的并行提交事务数，因此可以增加副本上的并行执行。要从此效果中受益，副本服务器必须已设置[ `replica_parallel_type=LOGICAL_CLOCK` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_parallel_type)。在设置 [ `binlog_group_commit_sync_delay` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)时，请务必同时考虑源吞吐量和副本吞吐量。

  ​            Setting            [`binlog_group_commit_sync_delay`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)            can also reduce the number of `fsync()`            calls to the binary log on any server (source or replica)            that has a binary log.          
  设置[ `binlog_group_commit_sync_delay` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)还可以减少对具有二进制日志的任何服务器（源或副本）上二进制日志的 `fsync（）` 调用次数。

  ​            Note that setting            [`binlog_group_commit_sync_delay`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)            increases the latency of transactions on the server, which            might affect client applications. Also, on highly concurrent            workloads, it is possible for the delay to increase            contention and therefore reduce throughput. Typically, the            benefits of setting a delay outweigh the drawbacks, but            tuning should always be carried out to determine the optimal            setting.          
  请注意，该设置[ `binlog_group_commit_sync_delay` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)会增加服务器上事务的延迟，这可能会影响客户端应用程序。此外，在高并发工作负载上，延迟可能会增加争用，从而降低吞吐量。通常，设置 delay 的好处大于缺点，但应始终进行 tuning 以确定最佳设置。

- ​            [`binlog_group_commit_sync_no_delay_count`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_no_delay_count)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-group-commit-sync-no-delay-count=#` |
  | ------------------------------------------------------------ | --------------------------------------------- |
  | System Variable 系统变量                                     | `binlog_group_commit_sync_no_delay_count`     |
  | Scope 范围                                                   | Global 全球                                   |
  | Dynamic 动态                                                 | Yes 是的                                      |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                         |
  | Type 类型                                                    | Integer 整数                                  |
  | Default Value 默认值                                         | `0`                                           |
  | Minimum Value 最小值                                         | `0`                                           |
  | Maximum Value 最大值                                         | `100000`                                      |

  ​            The maximum number of transactions to wait for before            aborting the current delay as specified by            [`binlog_group_commit_sync_delay`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay).            If            [`binlog_group_commit_sync_delay`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)            is set to 0, then this option has no effect.          
  在中止当前延迟之前要等待的最大事务数，如 所[ `binlog_group_commit_sync_delay` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)指定。如果[ `binlog_group_commit_sync_delay` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_group_commit_sync_delay)设置为 0，则此选项无效。

- ​            [`binlog_max_flush_queue_time`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_max_flush_queue_time)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-max-flush-queue-time=#` |
  | ------------------------------------------------------------ | --------------------------------- |
  | Deprecated 荒废的                                            | Yes 是的                          |
  | System Variable 系统变量                                     | `binlog_max_flush_queue_time`     |
  | Scope 范围                                                   | Global 全球                       |
  | Dynamic 动态                                                 | Yes 是的                          |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                             |
  | Type 类型                                                    | Integer 整数                      |
  | Default Value 默认值                                         | `0`                               |
  | Minimum Value 最小值                                         | `0`                               |
  | Maximum Value 最大值                                         | `100000`                          |
  | Unit 单位                                                    | microseconds 微秒                 |

  ​            `binlog_max_flush_queue_time` is            deprecated, and is marked for eventual removal in a future            MySQL release. Formerly, this system variable controlled the            time in microseconds to continue reading transactions from            the flush queue before proceeding with group commit. It no            longer has any effect.          
  `binlog_max_flush_queue_time` 已弃用，并被标记为在未来的 MySQL 版本中最终删除。以前，此系统变量控制在继续进行组提交之前继续从 flush 队列中读取事务的时间（以微秒为单位）。它不再有任何影响。

- ​            [`binlog_order_commits`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_order_commits)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-order-commits[={OFF|ON}]` |
  | ------------------------------------------------------------ | ----------------------------------- |
  | System Variable 系统变量                                     | `binlog_order_commits`              |
  | Scope 范围                                                   | Global 全球                         |
  | Dynamic 动态                                                 | Yes 是的                            |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                               |
  | Type 类型                                                    | Boolean 布尔                        |
  | Default Value 默认值                                         | `ON`                                |

  ​            When this variable is enabled on a replication source server            (which is the default), transaction commit instructions            issued to storage engines are serialized on a single thread,            so that transactions are always committed in the same order            as they are written to the binary log. Disabling this            variable permits transaction commit instructions to be            issued using multiple threads. Used in combination with            binary log group commit, this prevents the commit rate of a            single transaction being a bottleneck to throughput, and            might therefore produce a performance improvement.          
  在复制源服务器上启用此变量（这是默认值）时，向存储引擎发出的事务提交指令将在单个线程上序列化，以便事务始终按照写入二进制日志的相同顺序提交。禁用此变量允许使用多个线程发出事务提交指令。与二进制日志组提交结合使用，这可以防止单个事务的提交速率成为吞吐量的瓶颈，因此可能会提高性能。

  ​            Transactions are written to the binary log at the point when            all the storage engines involved have confirmed that the            transaction is prepared to commit. The binary log group            commit logic then commits a group of transactions after            their binary log write has taken place. When            [`binlog_order_commits`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_order_commits) is            disabled, because multiple threads are used for this            process, transactions in a commit group might be committed            in a different order from their order in the binary log.            (Transactions from a single client always commit in            chronological order.) In many cases this does not matter, as            operations carried out in separate transactions should            produce consistent results, and if that is not the case, a            single transaction ought to be used instead.          
  当所有涉及的存储引擎都确认事务已准备好提交时，事务将写入二进制日志。然后，二进制日志组提交逻辑在二进制日志写入发生后提交一组事务。禁用[`binlog_order_commits`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_order_commits)时，由于此过程使用多个线程，因此提交组中的事务的提交顺序可能与它们在二进制日志中的顺序不同。（来自单个客户端的事务始终按时间顺序提交。在许多情况下，这无关紧要，因为在单独的事务中执行的操作应该产生一致的结果，如果不是这种情况，则应使用单个事务。

  ​            If you want to ensure that the transaction history on the            source and on a multithreaded replica remains identical, set            [`replica_preserve_commit_order=1`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)            on the replica.          
  如果要确保源和多线程副本上的事务历史记录保持相同，请在副本上进行设置[ `replica_preserve_commit_order=1` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_replica_preserve_commit_order)。

- ​            [`binlog_rotate_encryption_master_key_at_startup`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_rotate_encryption_master_key_at_startup)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-rotate-encryption-master-key-at-startup[={OFF|ON}]` |
  | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | System Variable 系统变量                                     | `binlog_rotate_encryption_master_key_at_startup`             |
  | Scope 范围                                                   | Global 全球                                                  |
  | Dynamic 动态                                                 | No 不                                                        |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                                        |
  | Type 类型                                                    | Boolean 布尔                                                 |
  | Default Value 默认值                                         | `OFF`                                                        |

  ​            Specifies whether or not the binary log master key is            rotated at server startup. The binary log master key is the            binary log encryption key that is used to encrypt file            passwords for the binary log files and relay log files on            the server. When a server is started for the first time with            binary log encryption enabled            ([`binlog_encryption=ON`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_encryption)), a            new binary log encryption key is generated and used as the            binary log master key. If the            [`binlog_rotate_encryption_master_key_at_startup`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_rotate_encryption_master_key_at_startup)            system variable is also set to `ON`,            whenever the server is restarted, a further binary log            encryption key is generated and used as the binary log            master key for all subsequent binary log files and relay log            files. If the            [`binlog_rotate_encryption_master_key_at_startup`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_rotate_encryption_master_key_at_startup)            system variable is set to `OFF`, which is            the default, the existing binary log master key is used            again after the server restarts. For more information on            binary log encryption keys and the binary log master key,            see [Section 19.3.2, “Encrypting Binary Log Files and Relay Log Files”](https://dev.mysql.com/doc/refman/8.4/en/replication-binlog-encryption.html).          
  指定是否在服务器启动时轮换二进制日志主密钥。二进制日志主密钥是二进制日志加密密钥，用于加密服务器上的二进制日志文件和中继日志文件的文件密码。首次在启用二进制日志加密 （[`binlog_encryption=ON）`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_encryption) 的情况下启动服务器时，将生成新的二进制日志加密密钥并将其用作二进制日志主密钥。如果[ `binlog_rotate_encryption_master_key_at_startup` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_rotate_encryption_master_key_at_startup)系统变量也设置为 `ON，`则每当重新启动服务器时，都会生成另一个二进制日志加密密钥，并将其用作所有后续二进制日志文件和中继日志文件的二进制日志主密钥。如果[ `binlog_rotate_encryption_master_key_at_startup` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_rotate_encryption_master_key_at_startup)系统变量设置为 `OFF（`默认值），则在服务器重新启动后将再次使用现有的二进制日志主密钥。有关二进制日志加密密钥和二进制日志主密钥的更多信息，请参见[第 19.3.2 节 “加密二进制日志文件和中继日志文件”。](https://dev.mysql.com/doc/refman/8.4/en/replication-binlog-encryption.html)

- ​            [`binlog_row_event_max_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_row_event_max_size)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-row-event-max-size=#` |
  | ------------------------------------------------------------ | ------------------------------- |
  | System Variable 系统变量                                     | `binlog_row_event_max_size`     |
  | Scope 范围                                                   | Global 全球                     |
  | Dynamic 动态                                                 | No 不                           |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                           |
  | Type 类型                                                    | Integer 整数                    |
  | Default Value 默认值                                         | `8192`                          |
  | Minimum Value 最小值                                         | `256`                           |
  | Maximum Value (64-bit platforms) 最大值（64 位平台）         | `18446744073709551615`          |
  | Maximum Value (32-bit platforms) 最大值（32 位平台）         | `4294967295`                    |
  | Unit 单位                                                    | bytes 字节                      |

  ​            When row-based binary logging is used, this setting is a            soft limit on the maximum size of a row-based binary log            event, in bytes. Where possible, rows stored in the binary            log are grouped into events with a size not exceeding the            value of this setting. If an event cannot be split, the            maximum size can be exceeded. The default is 8192 bytes.          
  使用基于行的二进制日志记录时，此设置是对基于行的二进制日志事件的最大大小（以字节为单位）的软限制。在可能的情况下，存储在二进制日志中的行将分组为大小不超过此设置值的事件。如果无法拆分事件，则可以超过最大大小。默认值为 8192 字节。

  ​            This global system variable is read-only and can be set only            at server startup. Its value can therefore only be modified            by using the `PERSIST_ONLY` keyword or the            `@@persist_only` qualifier with the            [`SET`](https://dev.mysql.com/doc/refman/8.4/en/set.html) statement.          
  此全局系统变量是只读的，只能在服务器启动时设置。因此，只能通过在 [`SET`](https://dev.mysql.com/doc/refman/8.4/en/set.html) 语句中使用 `PERSIST_ONLY` 关键字或 `@@persist_only` 限定符来修改其值。

- ​            [`binlog_row_image`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_row_image)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-row-image=image_type`                              |
  | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | System Variable 系统变量                                     | `binlog_row_image`                                           |
  | Scope 范围                                                   | Global, Session 全局， 会话                                  |
  | Dynamic 动态                                                 | Yes 是的                                                     |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                                        |
  | Type 类型                                                    | Enumeration 列举                                             |
  | Default Value 默认值                                         | `full` `满`                                                  |
  | Valid Values 有效值                                          | `full` (Log all columns) `full` （记录所有列）`minimal` (Log only changed columns, and columns needed to identify rows) `minimal` （仅记录已更改的列和标识行所需的列）`noblob` (Log all columns, except for unneeded BLOB and TEXT columns) `noblob` （记录所有列，不需要的 BLOB 和 TEXT 列除外） |

  ​            For MySQL row-based replication, this variable determines            how row images are written to the binary log.          
  对于 MySQL 基于行的复制，此变量确定如何将行图像写入二进制日志。

  ​            Setting the session value of this system variable is a            restricted operation. The session user must have privileges            sufficient to set restricted session variables. See            [Section 7.1.9.1, “System Variable Privileges”](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html).          
  设置此系统变量的 session 值是一个受限操作。会话用户必须具有足够的权限来设置受限的会话变量。参见[第 7.1.9.1 节 “系统变量权限”。](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html)

  ​            In MySQL row-based replication, each row change event            contains two images, a “before” image whose            columns are matched against when searching for the row to be            updated, and an “after” image containing the            changes. Normally, MySQL logs full rows (that is, all            columns) for both the before and after images. However, it            is not strictly necessary to include every column in both            images, and we can often save disk, memory, and network            usage by logging only those columns which are actually            required. 
  在 MySQL 基于行的复制中，每个行更改事件都包含两个图像，一个“之前”图像，在搜索要更新的行时，其列与之匹配，另一个“之后”图像包含更改。通常，MySQL 会记录之前和之后图像的完整行（即所有列）。但是，并非绝对必要在两个映像中都包含每一列，我们通常可以通过仅记录实际需要的列来节省磁盘、内存和网络使用。

  Note 注意

  ​              When deleting a row, only the before image is logged,              since there are no changed values to propagate following              the deletion. When inserting a row, only the after image              is logged, since there is no existing row to be matched.              Only when updating a row are both the before and after              images required, and both written to the binary log. 
  删除行时，仅记录 before image ，因为删除后没有要传播的更改值。插入行时，仅记录后像，因为没有要匹配的现有行。仅当更新行时，才需要 before 和 after 图像，并且两者都写入二进制日志。

  ​            For the before image, it is necessary only that the minimum            set of columns required to uniquely identify rows is logged.            If the table containing the row has a primary key, then only            the primary key column or columns are written to the binary            log. Otherwise, if the table has a unique key all of whose            columns are `NOT NULL`, then only the            columns in the unique key need be logged. (If the table has            neither a primary key nor a unique key without any            `NULL` columns, then all columns must be            used in the before image, and logged.) In the after image,            it is necessary to log only the columns which have actually            changed.          
  对于前映像，只需记录唯一标识行所需的最小列集。如果包含该行的表具有主键，则仅将主键列或列写入二进制日志。否则，如果表具有唯一键，其所有列都`不是 NULL，`则只需记录唯一键中的列。（如果表既没有主键也没有唯一键，而没有任何 `NULL` 列，则必须在图像之前使用所有列，并记录下来。在残像中，只需记录实际更改的列。

  ​            You can cause the server to log full or minimal rows using            the `binlog_row_image` system variable.            This variable actually takes one of three possible values,            as shown in the following list: 
  您可以使用 `binlog_row_image` 系统变量使服务器记录完整行或最少行。此变量实际上采用三个可能的值之一，如以下列表所示：

  - ​                `full`: Log all columns in both the                before image and the after image.              
    `full`：记录前像和后像中的所有列。
  - ​                `minimal`: Log only those columns in                the before image that are required to identify the row                to be changed; log only those columns in the after image                where a value was specified by the SQL statement, or                generated by auto-increment.              
    `minimal`：仅记录 before 图像中标识要更改的行所需的列;仅记录 After Image 中值由 SQL 语句指定或由自动增量生成的那些列。
  - ​                `noblob`: Log all columns (same as                `full`), except for                [`BLOB`](https://dev.mysql.com/doc/refman/8.4/en/blob.html) and                [`TEXT`](https://dev.mysql.com/doc/refman/8.4/en/blob.html) columns that are not                required to identify rows, or that have not changed. 
    `noblob`：记录所有列（与 `full` 相同），但不需要标识行或尚未更改的 [`BLOB`](https://dev.mysql.com/doc/refman/8.4/en/blob.html) 和 [`TEXT`](https://dev.mysql.com/doc/refman/8.4/en/blob.html) 列除外。

  Note 注意

  ​              This variable is not supported by NDB Cluster; setting it              has no effect on the logging of              [`NDB`](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster.html) tables. 
  NDB Cluster 不支持此变量;设置它对 [`NDB`](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster.html) table 的日志记录没有影响。

  ​            The default value is `full`.          
  默认值为 `full`。

  ​            When using `minimal` or            `noblob`, deletes and updates are            guaranteed to work correctly for a given table if and only            if the following conditions are true for both the source and            destination tables: 
  使用 `minimal` 或 `noblob` 时，当且仅当源表和目标表都满足以下条件时，才能保证删除和更新对给定表正常工作：

  - ​                All columns must be present and in the same order; each                column must use the same data type as its counterpart in                the other table.              
    所有列都必须存在且顺序相同;每列必须使用与其他表中的对应项相同的数据类型。
  - ​                The tables must have identical primary key definitions. 
    这些表必须具有相同的主键定义。

  ​            (In other words, the tables must be identical with the            possible exception of indexes that are not part of the            tables' primary keys.)          
  （换句话说，表必须与不属于 table 主键的索引可能例外相同.）

  ​            If these conditions are not met, it is possible that the            primary key column values in the destination table may prove            insufficient to provide a unique match for a delete or            update. In this event, no warning or error is issued; the            source and replica silently diverge, thus breaking            consistency.          
  如果不满足这些条件，则目标表中的主键列值可能不足以提供删除或更新的唯一匹配项。在这种情况下，不会发出警告或错误;源和副本以静默方式发散，从而破坏一致性。

  ​            Setting this variable has no effect when the binary logging            format is `STATEMENT`. When            [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) is            `MIXED`, the setting for            `binlog_row_image` is applied to changes            that are logged using row-based format, but this setting has            no effect on changes logged as statements.          
  当二进制日志记录格式为 `STATEMENT` 时，设置此变量不起作用。当 [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) 为 `MIXED` 时，`binlog_row_image` 的设置将应用于使用基于行的格式记录的更改，但此设置对记录为语句的更改没有影响。

  ​            Setting `binlog_row_image` on either the            global or session level does not cause an implicit commit;            this means that this variable can be changed while a            transaction is in progress without affecting the            transaction.          
  在全局或会话级别设置 `binlog_row_image` 不会导致隐式提交;这意味着可以在事务进行时更改此变量，而不会影响事务。

- ​            [`binlog_row_metadata`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_row_metadata)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-row-metadata=metadata_type`                        |
  | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | System Variable 系统变量                                     | `binlog_row_metadata`                                        |
  | Scope 范围                                                   | Global 全球                                                  |
  | Dynamic 动态                                                 | Yes 是的                                                     |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                                        |
  | Type 类型                                                    | Enumeration 列举                                             |
  | Default Value 默认值                                         | `MINIMAL`                                                    |
  | Valid Values 有效值                                          | `FULL` (All metadata is included) `FULL`（包括所有元数据）`MINIMAL` (Limit included metadata) `MINIMAL` （限制包含的元数据） |

  ​            Configures the amount of table metadata added to the binary            log when using row-based logging. When set to            `MINIMAL`, the default, only metadata            related to `SIGNED` flags, column character            set and geometry types are logged. When set to            `FULL` complete metadata for tables is            logged, such as column name,            [`ENUM`](https://dev.mysql.com/doc/refman/8.4/en/enum.html) or            `SET` string values, `PRIMARY            KEY` information, and so on.          
  配置使用基于行的日志记录时添加到二进制日志的表元数据量。当设置为 `MINIMAL` 时（默认值），仅记录与 `SIGNED` 标志、列字符集和几何类型相关的元数据。当设置为 `FULL` 时，将记录表的完整元数据，例如列名、[`ENUM`](https://dev.mysql.com/doc/refman/8.4/en/enum.html) 或 `SET` 字符串值、`PRIMARY KEY` 信息等。

  ​            The extended metadata serves the following purposes: 
  扩展元数据用于以下用途：

  - ​                Replicas use the metadata to transfer data when its                table structure is different from the source's.              
    当元数据的表结构与源的表结构不同时，副本使用元数据来传输数据。
  - ​                External software can use the metadata to decode row                events and store the data into external databases, such                as a data warehouse. 
    外部软件可以使用元数据来解码行事件并将数据存储到外部数据库（如数据仓库）中。

- ​            [`binlog_row_value_options`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_row_value_options)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-row-value-options=#` |
  | ------------------------------------------------------------ | ------------------------------ |
  | System Variable 系统变量                                     | `binlog_row_value_options`     |
  | Scope 范围                                                   | Global, Session 全局， 会话    |
  | Dynamic 动态                                                 | Yes 是的                       |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                          |
  | Type 类型                                                    | Set 设置                       |
  | Default Value 默认值                                         | ``                             |
  | Valid Values 有效值                                          | `PARTIAL_JSON`                 |

  ​            When set to `PARTIAL_JSON`, this enables            use of a space-efficient binary log format for updates that            modify only a small portion of a JSON document, which causes            row-based replication to write only the modified parts of            the JSON document to the after-image for the update in the            binary log, rather than writing the full document (see            [Partial Updates of JSON Values](https://dev.mysql.com/doc/refman/8.4/en/json.html#json-partial-updates)). This works for an            [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) statement which            modifies a JSON column using any sequence of            [`JSON_SET()`](https://dev.mysql.com/doc/refman/8.4/en/json-modification-functions.html#function_json-set),            [`JSON_REPLACE()`](https://dev.mysql.com/doc/refman/8.4/en/json-modification-functions.html#function_json-replace), and            [`JSON_REMOVE()`](https://dev.mysql.com/doc/refman/8.4/en/json-modification-functions.html#function_json-remove). If the server            is unable to generate a partial update, the full document is            used instead.          
  当设置为 `PARTIAL_JSON` 时，这允许对仅修改 JSON 文档的一小部分的更新使用节省空间的二进制日志格式，这会导致基于行的复制仅将 JSON 文档的修改部分写入二进制日志中更新的后像，而不是写入完整文档（请参阅 [JSON 值的部分更新](https://dev.mysql.com/doc/refman/8.4/en/json.html#json-partial-updates)）。这适用于 [`UPDATE`](https://dev.mysql.com/doc/refman/8.4/en/update.html) 语句，该语句使用 [`JSON_SET（）、`](https://dev.mysql.com/doc/refman/8.4/en/json-modification-functions.html#function_json-set)[`JSON_REPLACE（）`](https://dev.mysql.com/doc/refman/8.4/en/json-modification-functions.html#function_json-replace) 和 [`JSON_REMOVE（） 的`](https://dev.mysql.com/doc/refman/8.4/en/json-modification-functions.html#function_json-remove)任意序列修改 JSON 列。如果服务器无法生成部分更新，则改用完整文档。

  ​            The default value is an empty string, which disables use of            the format. To unset            `binlog_row_value_options` and revert to            writing the full JSON document, set its value to the empty            string.          
  默认值为空字符串，这将禁用该格式。要取消设置 `binlog_row_value_options` 并恢复为写入完整的 JSON 文档，请将其值设置为空字符串。

  ​            Setting the session value of this system variable is a            restricted operation. The session user must have privileges            sufficient to set restricted session variables. See            [Section 7.1.9.1, “System Variable Privileges”](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html).          
  设置此系统变量的 session 值是一个受限操作。会话用户必须具有足够的权限来设置受限的会话变量。参见[第 7.1.9.1 节 “系统变量权限”。](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html)

  ​            `binlog_row_value_options=PARTIAL_JSON`            takes effect only when binary logging is enabled and            [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) is set to            `ROW` or `MIXED`.            Statement-based replication *always* logs            only the modified parts of the JSON document, regardless of            any value set for            `binlog_row_value_options`. To maximize the            amount of space saved, use            [`binlog_row_image=NOBLOB`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_row_image) or            `binlog_row_image=MINIMAL` together with            this option. `binlog_row_image=FULL` saves            less space than either of these, since the full JSON            document is stored in the before-image, and the partial            update is stored only in the after-image.          
   `binlog_row_value_options=PARTIAL_JSON` 仅当启用了二进制日志记录且 [`binlog_format`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_format) 设置为 `ROW` 或 `MIXED` 时，才会生效。基于语句的复制*始终*仅记录 JSON 文档的修改部分，而不管为 `binlog_row_value_options` 设置的任何值如何。要最大限度地节省空间量，请将 [`binlog_row_image=NOBLOB`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_row_image) 或 `binlog_row_image=MINIMAL` 与此选项一起使用。`binlog_row_image=FULL` 比这两种文档节省的空间更少，因为完整的 JSON 文档存储在 before-image 中，而部分更新仅存储在 after-image 中。

  ​            [**mysqlbinlog**](https://dev.mysql.com/doc/refman/8.4/en/mysqlbinlog.html) output includes partial JSON            updates in the form of events encoded as base-64 strings            using [`BINLOG`](https://dev.mysql.com/doc/refman/8.4/en/binlog.html) statements. If            the [`--verbose`](https://dev.mysql.com/doc/refman/8.4/en/mysqlbinlog.html#option_mysqlbinlog_verbose) option is            specified, [**mysqlbinlog**](https://dev.mysql.com/doc/refman/8.4/en/mysqlbinlog.html) displays the            partial JSON updates as readable JSON using pseudo-SQL            statements.          
  [**mysqlbinlog**](https://dev.mysql.com/doc/refman/8.4/en/mysqlbinlog.html) 输出包括部分 JSON 更新，其形式是使用 [`BINLOG`](https://dev.mysql.com/doc/refman/8.4/en/binlog.html) 语句编码为 base-64 字符串的事件。如果指定了 [`--verbose`](https://dev.mysql.com/doc/refman/8.4/en/mysqlbinlog.html#option_mysqlbinlog_verbose) 选项，[**则 mysqlbinlog**](https://dev.mysql.com/doc/refman/8.4/en/mysqlbinlog.html) 使用伪 SQL 语句将部分 JSON 更新显示为可读 JSON。

  ​            MySQL Replication generates an error if a modification            cannot be applied to the JSON document on the replica. This            includes a failure to find the path. Be aware that, even            with this and other safety checks, if a JSON document on a            replica has diverged from that on the source and a partial            update is applied, it remains theoretically possible to            produce a valid but unexpected JSON document on the replica.          
  如果修改无法应用于副本上的 JSON 文档，则 MySQL Replication 会生成错误。这包括找不到路径。请注意，即使进行了此安全检查和其他安全检查，如果副本上的 JSON 文档与源上的 JSON 文档不同，并且应用了部分更新，则理论上仍然可以在副本上生成有效但意外的 JSON 文档。

- ​            `binlog_rows_query_log_events`

  

  

  | Command-Line Format 命令行格式                               | `--binlog-rows-query-log-events[={OFF|ON}]` |
  | ------------------------------------------------------------ | ------------------------------------------- |
  | System Variable 系统变量                                     | `binlog_rows_query_log_events`              |
  | Scope 范围                                                   | Global, Session 全局， 会话                 |
  | Dynamic 动态                                                 | Yes 是的                                    |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                       |
  | Type 类型                                                    | Boolean 布尔                                |
  | Default Value 默认值                                         | `OFF`                                       |

  ​            This system variable affects row-based logging only. When            enabled, it causes the server to write informational log            events such as row query log events into its binary log.            This information can be used for debugging and related            purposes, such as obtaining the original query issued on the            source when it cannot be reconstructed from the row updates.          
  此系统变量仅影响基于行的日志记录。启用后，它会导致服务器将信息性日志事件（如行查询日志事件）写入其二进制日志。此信息可用于调试和相关目的，例如在无法从行更新中重建源时获取源上发出的原始查询。

  ​            Setting the session value of this system variable is a            restricted operation. The session user must have privileges            sufficient to set restricted session variables. See            [Section 7.1.9.1, “System Variable Privileges”](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html).          
  设置此系统变量的 session 值是一个受限操作。会话用户必须具有足够的权限来设置受限的会话变量。参见[第 7.1.9.1 节 “系统变量权限”。](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html)

  ​            These informational events are normally ignored by MySQL            programs reading the binary log and so cause no issues when            replicating or restoring from backup. To view them, increase            the verbosity level by using mysqlbinlog's            [`--verbose`](https://dev.mysql.com/doc/refman/8.4/en/mysqlbinlog.html#option_mysqlbinlog_verbose) option twice,            either as `-vv` or `--verbose            --verbose`.          
  读取二进制日志的 MySQL 程序通常会忽略这些信息事件，因此在复制或从备份还原时不会引起任何问题。要查看它们，请使用 mysqlbinlog 的 [`--verbose`](https://dev.mysql.com/doc/refman/8.4/en/mysqlbinlog.html#option_mysqlbinlog_verbose) 选项两次（如 `-vv` 或 `--verbose            --verbose` ）来提高详细级别。

- ​            [`binlog_stmt_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_stmt_cache_size)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-stmt-cache-size=#` |
  | ------------------------------------------------------------ | ---------------------------- |
  | System Variable 系统变量                                     | `binlog_stmt_cache_size`     |
  | Scope 范围                                                   | Global 全球                  |
  | Dynamic 动态                                                 | Yes 是的                     |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                        |
  | Type 类型                                                    | Integer 整数                 |
  | Default Value 默认值                                         | `32768`                      |
  | Minimum Value 最小值                                         | `4096`                       |
  | Maximum Value (64-bit platforms) 最大值（64 位平台）         | `18446744073709547520`       |
  | Maximum Value (32-bit platforms) 最大值（32 位平台）         | `4294963200`                 |
  | Unit 单位                                                    | bytes 字节                   |
  | [Block Size 区块大小](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#system-variables-block-size) | `4096`                       |

  ​            The size of the memory buffer for the binary log to hold            nontransactional statements issued during a transaction.          
  二进制日志的内存缓冲区的大小，用于保存事务期间发出的非事务性语句。

  ​            When binary logging is enabled on the server (with the            [`log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin) system variable set            to ON), separate binary log transaction and statement caches            are allocated for each client if the server supports any            transactional storage engines. If the data for the            nontransactional statements used in the transaction exceeds            the space in the memory buffer, the excess data is stored in            a temporary file. When binary log encryption is active on            the server, the memory buffer is not encrypted, but any            temporary file used to hold the binary log cache is            encrypted. After each transaction is committed, the binary            log statement cache is reset by clearing the memory buffer            and truncating the temporary file if used.          
  在服务器上启用二进制日志记录时（将 [`log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin) 系统变量设置为  ON），如果服务器支持任何事务存储引擎，则会为每个客户端分配单独的二进制日志事务和语句缓存。如果事务中使用的非事务性语句的数据超过内存缓冲区中的空间，则多余的数据存储在临时文件中。当二进制日志加密在服务器上处于活动状态时，内存缓冲区不会加密，但用于保存二进制日志缓存的任何临时文件都会加密。提交每个事务后，通过清除内存缓冲区并截断临时文件（如果使用）来重置二进制日志语句高速缓存。

  ​            If you often use large nontransactional statements during            transactions, you can increase this cache size to get better            performance by reducing or eliminating the need to write to            temporary files. The            [`Binlog_stmt_cache_use`](https://dev.mysql.com/doc/refman/8.4/en/server-status-variables.html#statvar_Binlog_stmt_cache_use) and            [`Binlog_stmt_cache_disk_use`](https://dev.mysql.com/doc/refman/8.4/en/server-status-variables.html#statvar_Binlog_stmt_cache_disk_use)            status variables can be useful for tuning the size of this            variable. See [Section 7.4.4, “The Binary Log”](https://dev.mysql.com/doc/refman/8.4/en/binary-log.html).          
  如果您在事务期间经常使用大型非事务性语句，则可以增加此缓存大小，通过减少或消除写入临时文件的需要来获得更好的性能。[`Binlog_stmt_cache_use`](https://dev.mysql.com/doc/refman/8.4/en/server-status-variables.html#statvar_Binlog_stmt_cache_use) 和 [`Binlog_stmt_cache_disk_use`](https://dev.mysql.com/doc/refman/8.4/en/server-status-variables.html#statvar_Binlog_stmt_cache_disk_use) 状态变量可用于调整此变量的大小。参见[第 7.4.4 节 “ 二进制日志”。](https://dev.mysql.com/doc/refman/8.4/en/binary-log.html)

  ​            The [`binlog_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_cache_size)            system variable sets the size for the transaction cache.          
  [`binlog_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_cache_size) 系统变量设置事务缓存的大小。

- ​            [`binlog_transaction_compression`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-transaction-compression[={OFF|ON}]` |
  | ------------------------------------------------------------ | --------------------------------------------- |
  | System Variable 系统变量                                     | `binlog_transaction_compression`              |
  | Scope 范围                                                   | Global, Session 全局， 会话                   |
  | Dynamic 动态                                                 | Yes 是的                                      |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                         |
  | Type 类型                                                    | Boolean 布尔                                  |
  | Default Value 默认值                                         | `OFF`                                         |

  ​            Enables compression for transactions that are written to            binary log files on this server. `OFF` is            the default. Use the            [`binlog_transaction_compression_level_zstd`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression_level_zstd)            system variable to set the level for the            `zstd` algorithm that is used for            compression.          
  对写入此服务器上的二进制日志文件的事务启用压缩。`OFF` 是默认值。使用[ `binlog_transaction_compression_level_zstd` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression_level_zstd)系统变量设置用于压缩的 `zstd` 算法的级别。

  ​            Setting            [`binlog_transaction_compression`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression)            has no immediate effect but rather applies to all subsequent            [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) statements.          
  设置[ `binlog_transaction_compression` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression)不会立即生效，而是适用于所有后续的 [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) 语句。

  ​            When binary log transaction compression is enabled,            transaction payloads are compressed and then written to the            binary log file as a single event            (`Transaction_payload_event`). Compressed            transaction payloads remain in a compressed state while they            are sent in the replication stream to replicas, other Group            Replication group members, or clients such as            [**mysqlbinlog**](https://dev.mysql.com/doc/refman/8.4/en/mysqlbinlog.html), and are written to the relay            log still in their compressed state. Binary log transaction            compression therefore saves storage space both on the            originator of the transaction and on the recipient (and for            their backups), and saves network bandwidth when the            transactions are sent between server instances.          
  启用二进制日志事务压缩后，事务有效负载将被压缩，然后作为单个事件 （`Transaction_payload_event`） 写入二进制日志文件。压缩的事务有效负载在复制流中发送到副本、其他组复制组成员或客户端（如 [**mysqlbinlog**](https://dev.mysql.com/doc/refman/8.4/en/mysqlbinlog.html)）时保持压缩状态，并写入仍处于压缩状态的中继日志。因此，二进制日志事务压缩可以节省事务发起方和接收者（及其备份）上的存储空间，并在服务器实例之间发送事务时节省网络带宽。

  ​            For `binlog_transaction_compression=ON` to            have a direct effect, binary logging must be enabled on the            server. When a MySQL 8.4 server instance has no            binary log, it can receive, handle, and display compressed            transaction payloads regardless of its value for            [`binlog_transaction_compression`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression).            Compressed transaction payloads received by such server            instances are written in their compressed state to the relay            log, so they benefit indirectly from compression carried out            by other servers in the replication topology.          
  为了 `binlog_transaction_compression=ON` 产生直接效果，必须在服务器上启用二进制日志记录。当 MySQL 8.4 服务器实例没有二进制日志时，它可以接收、处理和显示压缩的事务有效负载，而不管其值[ `binlog_transaction_compression` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression)如何。此类服务器实例接收的压缩事务有效负载以其压缩状态写入中继日志，因此它们间接受益于复制拓扑中其他服务器执行的压缩。

  ​            This system variable cannot be changed within the context of            a transaction. Setting the session value of this system            variable is a restricted operation. The session user must            have privileges sufficient to set restricted session            variables. See [Section 7.1.9.1, “System Variable Privileges”](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html).          
  此系统变量不能在事务的上下文中更改。设置此系统变量的 session 值是一个受限操作。会话用户必须具有足够的权限来设置受限的会话变量。参见[第 7.1.9.1 节 “系统变量权限”。](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html)

  ​            For more information on binary log transaction compression,            including details of what events are and are not compressed,            and changes in behavior when transaction compression is in            use, see            [Section 7.4.4.5, “Binary Log Transaction Compression”](https://dev.mysql.com/doc/refman/8.4/en/binary-log-transaction-compression.html).          
  有关二进制日志事务压缩的更多信息，包括压缩和未压缩的事件的详细信息，以及使用事务压缩时的行为更改，请参见[第 7.4.4.5 节 “二进制日志事务压缩”。](https://dev.mysql.com/doc/refman/8.4/en/binary-log-transaction-compression.html)

  ​            You can use the            [`ndb_log_transaction_compression`](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster-options-variables.html#sysvar_ndb_log_transaction_compression)            system variable to enable this feature for            [`NDB`](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster.html). In addition, setting            `--binlog-transaction-compression=ON` on the            command line or in a `my.cnf` file causes            `ndb_log_transaction_compression` to be            enabled on server startup. See the description of the            variable for further information.          
  您可以使用 [ `ndb_log_transaction_compression` ](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster-options-variables.html#sysvar_ndb_log_transaction_compression) system 变量为 [`NDB`](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster.html) 启用此功能。此外，在命令行或 `my.cnf` 文件中进行设置 `--binlog-transaction-compression=ON` 会导致 `ndb_log_transaction_compression` 在服务器启动时启用。有关详细信息，请参阅变量的描述。

- ​            [`binlog_transaction_compression_level_zstd`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression_level_zstd)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-transaction-compression-level-zstd=#` |
  | ------------------------------------------------------------ | ----------------------------------------------- |
  | System Variable 系统变量                                     | `binlog_transaction_compression_level_zstd`     |
  | Scope 范围                                                   | Global, Session 全局， 会话                     |
  | Dynamic 动态                                                 | Yes 是的                                        |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                           |
  | Type 类型                                                    | Integer 整数                                    |
  | Default Value 默认值                                         | `3`                                             |
  | Minimum Value 最小值                                         | `1`                                             |
  | Maximum Value 最大值                                         | `22`                                            |

  ​            Sets the compression level for binary log transaction            compression on this server, which is enabled by the            [`binlog_transaction_compression`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression)            system variable. The value is an integer that determines the            compression effort, from 1 (the lowest effort) to 22 (the            highest effort). If you do not specify this system variable,            the compression level is set to 3.          
  设置此服务器上二进制日志事务压缩的压缩级别，该压缩级别由[ `binlog_transaction_compression` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression)系统变量启用。该值是一个整数，用于确定压缩工作量，从 1（最低工作量）到 22（最高工作量）。如果未指定此系统变量，则压缩级别将设置为 3。

  ​            Setting            [`binlog_transaction_compression_level_zstd`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression_level_zstd)            has no immediate effect but rather applies to all subsequent            [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) statements.          
  设置[ `binlog_transaction_compression_level_zstd` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_compression_level_zstd)不会立即生效，而是适用于所有后续的 [`START REPLICA`](https://dev.mysql.com/doc/refman/8.4/en/start-replica.html) 语句。

  ​            As the compression level increases, the data compression            ratio increases, which reduces the storage space and network            bandwidth required for the transaction payload. However, the            effort required for data compression also increases, taking            time and CPU and memory resources on the originating server.            Increases in the compression effort do not have a linear            relationship to increases in the data compression ratio.          
  随着压缩级别的增加，数据压缩率也会增加，这会减少事务有效负载所需的存储空间和网络带宽。但是，数据压缩所需的工作量也会增加，从而在原始服务器上占用时间以及 CPU 和内存资源。压缩工作量的增加与数据压缩率的增加没有线性关系。

  ​            This system variable cannot be changed within the context of            a transaction. Setting the session value of this system            variable is a restricted operation. The session user must            have privileges sufficient to set restricted session            variables. See [Section 7.1.9.1, “System Variable Privileges”](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html).          
  此系统变量不能在事务的上下文中更改。设置此系统变量的 session 值是一个受限操作。会话用户必须具有足够的权限来设置受限的会话变量。参见[第 7.1.9.1 节 “系统变量权限”。](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html)

  ​            This variable has no effect on logging of transactions on            [`NDB`](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster.html) tables; use            [`ndb_log_transaction_compression_level_zstd`](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster-options-variables.html#sysvar_ndb_log_transaction_compression_level_zstd)            instead.          
  此变量对 [`NDB`](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster.html) table 上的事务日志记录没有影响;使用[ `ndb_log_transaction_compression_level_zstd` ](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster-options-variables.html#sysvar_ndb_log_transaction_compression_level_zstd)。

- ​            [`binlog_transaction_dependency_history_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_transaction_dependency_history_size)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-transaction-dependency-history-size=#` |
  | ------------------------------------------------------------ | ------------------------------------------------ |
  | System Variable 系统变量                                     | `binlog_transaction_dependency_history_size`     |
  | Scope 范围                                                   | Global 全球                                      |
  | Dynamic 动态                                                 | Yes 是的                                         |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                            |
  | Type 类型                                                    | Integer 整数                                     |
  | Default Value 默认值                                         | `25000`                                          |
  | Minimum Value 最小值                                         | `1`                                              |
  | Maximum Value 最大值                                         | `1000000`                                        |

  ​            Sets an upper limit on the number of row hashes which are            kept in memory and used for looking up the transaction that            last modified a given row. Once this number of hashes has            been reached, the history is purged.          
  设置保留在内存中的行哈希数的上限，这些哈希值用于查找上次修改给定行的事务。达到此哈希数后，将清除历史记录。

- ​            [`log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin)

  

  

  | System Variable 系统变量                                     | `log_bin`    |
  | ------------------------------------------------------------ | ------------ |
  | Scope 范围                                                   | Global 全球  |
  | Dynamic 动态                                                 | No 不        |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不        |
  | Type 类型                                                    | Boolean 布尔 |

  ​            Shows the status of binary logging on the server, either            enabled (`ON`) or disabled            (`OFF`). With binary logging enabled, the            server logs all statements that change data to the binary            log, which is used for backup and replication.            `ON` means that the binary log is            available, `OFF` means that it is not in            use. The [`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) option can            be used to specify a base name and location for the binary            log.          
  显示服务器上二进制日志记录的状态，启用 （`ON）` 或禁用 （`OFF）。`启用二进制日志记录后，服务器会将所有更改数据的语句记录到二进制日志中，该日志用于备份和复制。`ON` 表示二进制日志可用，`OFF` 表示它未被使用。[`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) 选项可用于指定二进制日志的基本名称和位置。

  ​            In earlier MySQL versions, binary logging was disabled by            default, and was enabled if you specified the            `--log-bin` option. Binary logging is enabled            by default, with the `log_bin` system            variable set to `ON`, whether or not you            specify the `--log-bin` option. The exception            is if you use [**mysqld**](https://dev.mysql.com/doc/refman/8.4/en/mysqld.html) to initialize the            data directory manually by invoking it with the            `--initialize` or            `--initialize-insecure` option, when binary            logging is disabled by default. It is possible to enable            binary logging in this case by specifying the            `--log-bin` option.           
  在早期的 MySQL 版本中，二进制日志记录默认处于禁用状态，如果指定了 `--log-bin` 选项，则启用二进制日志记录。默认情况下，二进制日志记录处于启用状态，无论您是否指定 `--log-bin` 选项，`log_bin`系统变量都将设置为 `ON`。例外情况是，当您使用 [**mysqld**](https://dev.mysql.com/doc/refman/8.4/en/mysqld.html) 通过使用 `--initialize` 或 `--initialize-insecure` 选项调用数据目录来手动初始化数据目录时，默认情况下禁用二进制日志记录。在这种情况下，可以通过指定 `--log-bin` 选项来启用二进制日志记录。

  ​            If the            [`--skip-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin)            or            [`--disable-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin)            option is specified at startup, binary logging is disabled,            with the `log_bin` system variable set to            `OFF`. If either of these options is            specified and `--log-bin` is also specified,            the option specified later takes precedence.          
  如果在启动时指定了 [`--skip-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) 或 [`--disable-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) 选项，则禁用二进制日志记录，并将 `log_bin` 系统变量设置为 `OFF`。如果指定了这些选项中的任何一个，并且还指定了 `--log-bin`，则以后指定的选项优先。

  ​            For information on the format and management of the binary            log, see [Section 7.4.4, “The Binary Log”](https://dev.mysql.com/doc/refman/8.4/en/binary-log.html).          
  有关二进制日志的格式和管理的信息，请参见[第 7.4.4 节 “二进制日志”。](https://dev.mysql.com/doc/refman/8.4/en/binary-log.html)

- ​            [`log_bin_basename`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin_basename)

  

  

  | System Variable 系统变量                                     | `log_bin_basename` |
  | ------------------------------------------------------------ | ------------------ |
  | Scope 范围                                                   | Global 全球        |
  | Dynamic 动态                                                 | No 不              |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不              |
  | Type 类型                                                    | File name 文件名   |

  ​            Holds the base name and path for the binary log files, which            can be set with the [`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin)            server option. The maximum variable length is 256. In MySQL            8.4, if the `--log-bin` option            is not supplied, the default base name is            `binlog`. For compatibility with MySQL            5.7, if the `--log-bin` option is supplied            with no string or with an empty string, the default base            name is            `*`host_name`*-bin`,            using the name of the host machine. The default location is            the data directory.                       
  保存二进制日志文件的基本名称和路径，可以使用 [`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) 服务器选项进行设置。最大可变长度为 256。在 MySQL 8.4 中，如果未提供 `--log-bin` 选项，则默认基本名称为 `binlog`。为了与 MySQL 5.7 兼容，如果 `--log-bin` 选项没有字符串或空字符串，则默认基本名称为 `*`host_name-bin`*`，使用主机的名称。默认位置是数据目录。

- ​            [`log_bin_index`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin_index)

  

  

  | Command-Line Format 命令行格式                               | `--log-bin-index=file_name` |
  | ------------------------------------------------------------ | --------------------------- |
  | System Variable 系统变量                                     | `log_bin_index`             |
  | Scope 范围                                                   | Global 全球                 |
  | Dynamic 动态                                                 | No 不                       |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                       |
  | Type 类型                                                    | File name 文件名            |

  ​            Holds the base name and path for the binary log index file,            which can be set with the            [`--log-bin-index`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin-index) server            option. The maximum variable length is 256.          
  保存二进制日志索引文件的基本名称和路径，可以使用 [`--log-bin-index`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin-index) 服务器选项进行设置。最大可变长度为 256。

- ​            [`log_bin_trust_function_creators`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_bin_trust_function_creators)

  

  

  | Command-Line Format 命令行格式                               | `--log-bin-trust-function-creators[={OFF|ON}]` |
  | ------------------------------------------------------------ | ---------------------------------------------- |
  | Deprecated 荒废的                                            | Yes 是的                                       |
  | System Variable 系统变量                                     | `log_bin_trust_function_creators`              |
  | Scope 范围                                                   | Global 全球                                    |
  | Dynamic 动态                                                 | Yes 是的                                       |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                          |
  | Type 类型                                                    | Boolean 布尔                                   |
  | Default Value 默认值                                         | `OFF`                                          |

  ​            This variable applies when binary logging is enabled. It            controls whether stored function creators can be trusted not            to create stored functions that may cause unsafe events to            be written to the binary log. If set to 0 (the default),            users are not permitted to create or alter stored functions            unless they have the [`SUPER`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_super)            privilege in addition to the [`CREATE             ROUTINE`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_create-routine) or [`ALTER             ROUTINE`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_alter-routine) privilege. A setting of 0 also enforces            the restriction that a function must be declared with the            `DETERMINISTIC` characteristic, or with the            `READS SQL DATA` or `NO            SQL` characteristic. If the variable is set to 1,            MySQL does not enforce these restrictions on stored function            creation. This variable also applies to trigger creation.            See [Section 27.7, “Stored Program Binary Logging”](https://dev.mysql.com/doc/refman/8.4/en/stored-programs-logging.html).          
  此变量在启用二进制日志记录时适用。它控制是否可以信任 stored 函数创建者不创建可能导致将不安全事件写入二进制日志的 stored 函数。如果设置为 0（默认值），则不允许用户创建或更改存储的函数，除非他们除了具有 [`CREATE ROUTINE`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_create-routine) 或 [`ALTER ROUTINE`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_alter-routine) 权限外，还具有 [`SUPER`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_super) 权限。设置为 0 还会强制执行以下限制：必须使用 `DETERMINISTIC` 特征或 `READS SQL DATA` 或 `NO SQL` 特征声明函数。如果变量设置为 1，则 MySQL 不会对存储函数创建强制实施这些限制。此变量也适用于触发器创建。参见[第 27.7 节 “存储的程序二进制日志记录”。](https://dev.mysql.com/doc/refman/8.4/en/stored-programs-logging.html)

- ​            [`log_replica_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates)

  

  

  | Command-Line Format 命令行格式                               | `--log-replica-updates[={OFF|ON}]` |
  | ------------------------------------------------------------ | ---------------------------------- |
  | System Variable 系统变量                                     | `log_replica_updates`              |
  | Scope 范围                                                   | Global 全球                        |
  | Dynamic 动态                                                 | No 不                              |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                              |
  | Type 类型                                                    | Boolean 布尔                       |
  | Default Value 默认值                                         | `ON`                               |

  ​            [`log_replica_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates)            specifies whether updates received by a replica server from            a replication source server should be logged to the            replica's own binary log.          
  [`log_replica_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates) 指定是否应将副本服务器从复制源服务器接收的更新记录到副本自己的二进制日志中。

  ​            Enabling this variable causes the replica to write the            updates that are received from a source and performed by the            replication SQL thread to the replica's own binary log.            Binary logging, which is controlled by the            [`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) option and is            enabled by default, must also be enabled on the replica for            updates to be logged. See            [Section 19.1.6, “Replication and Binary Logging Options and Variables”](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html).            [`log_replica_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates) is            enabled by default, unless you specify            [`--skip-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin)            to disable binary logging, in which case MySQL also disables            replica update logging by default. If you need to disable            replica update logging when binary logging is enabled,            specify            [`--log-replica-updates=OFF`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates) at            replica server startup.          
  启用此变量会导致副本将从源接收并由复制 SQL 线程执行的更新写入副本自己的二进制日志。二进制日志记录由 [`--log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) 选项控制，默认情况下处于启用状态，还必须在副本上启用，以便记录更新。参见[第 19.1.6 节 “复制和二进制日志记录选项和变量”。](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html)[`默认情况下，log_replica_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates)处于启用状态，除非您指定 [`--skip-log-bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#option_mysqld_log-bin) 来禁用二进制日志记录，在这种情况下，MySQL 也会默认禁用副本更新日志记录。如果需要在启用二进制日志记录时禁用副本更新日志记录，请在副本服务器启动时指定 [`--log-replica-updates=OFF`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates)。

  ​            Enabling            [`log_replica_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates) enables            replication servers to be chained. For example, you might            want to set up replication servers using this arrangement:          
  启用 [`log_replica_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates) 将启用链接复制服务器。例如，您可能希望使用以下安排设置复制服务器：

  ```none
  A -> B -> C
  ```

  ​            Here, `A` serves as the source for the            replica `B`, and `B`            serves as the source for the replica `C`.            For this to work, `B` must be both a source            *and* a replica. With binary logging            enabled and            [`log_replica_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates)            enabled, which are the default settings, updates received            from `A` are logged by `B`            to its binary log, and can therefore be passed on to            `C`.          
  此处，`A` 充当副本 `B` 的源，`B` 充当副本 `C` 的源。为此，`B` 必须同时是源*和*副本。启用二进制日志记录并启用 [`log_replica_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates)（默认设置）后，从 `A` 接收的更新由 `B` 记录到其二进制日志中，因此可以传递给 `C`。

- ​            [`log_slave_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_slave_updates)

  

  

  | Command-Line Format 命令行格式                               | `--log-slave-updates[={OFF|ON}]` |
  | ------------------------------------------------------------ | -------------------------------- |
  | Deprecated 荒废的                                            | Yes 是的                         |
  | System Variable 系统变量                                     | `log_slave_updates`              |
  | Scope 范围                                                   | Global 全球                      |
  | Dynamic 动态                                                 | No 不                            |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                            |
  | Type 类型                                                    | Boolean 布尔                     |
  | Default Value 默认值                                         | `ON`                             |

  ​            Deprecated alias for            [`log_replica_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates).          
  已弃用的 [`log_replica_updates`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_replica_updates) 别名。

- ​            [`log_statements_unsafe_for_binlog`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_log_statements_unsafe_for_binlog)

  

  

  | Command-Line Format 命令行格式                               | `--log-statements-unsafe-for-binlog[={OFF|ON}]` |
  | ------------------------------------------------------------ | ----------------------------------------------- |
  | Deprecated 荒废的                                            | Yes 是的                                        |
  | System Variable 系统变量                                     | `log_statements_unsafe_for_binlog`              |
  | Scope 范围                                                   | Global 全球                                     |
  | Dynamic 动态                                                 | Yes 是的                                        |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                           |
  | Type 类型                                                    | Boolean 布尔                                    |
  | Default Value 默认值                                         | `ON`                                            |

  ​            If error 1592 is encountered, controls whether the generated            warnings are added to the error log or not.          
  如果遇到错误 1592，则控制是否将生成的警告添加到错误日志中。

- ​            [`master_verify_checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_master_verify_checksum)

  

  

  | Command-Line Format 命令行格式                               | `--master-verify-checksum[={OFF|ON}]` |
  | ------------------------------------------------------------ | ------------------------------------- |
  | Deprecated 荒废的                                            | Yes 是的                              |
  | System Variable 系统变量                                     | `master_verify_checksum`              |
  | Scope 范围                                                   | Global 全球                           |
  | Dynamic 动态                                                 | Yes 是的                              |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                 |
  | Type 类型                                                    | Boolean 布尔                          |
  | Default Value 默认值                                         | `OFF`                                 |

  ​            Deprecated alias for            [`source_verify_checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_source_verify_checksum).          
  已弃用的 [`source_verify_checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_source_verify_checksum) 别名。

- ​            [`max_binlog_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_cache_size)

  

  

  | Command-Line Format 命令行格式                               | `--max-binlog-cache-size=#` |
  | ------------------------------------------------------------ | --------------------------- |
  | System Variable 系统变量                                     | `max_binlog_cache_size`     |
  | Scope 范围                                                   | Global 全球                 |
  | Dynamic 动态                                                 | Yes 是的                    |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                       |
  | Type 类型                                                    | Integer 整数                |
  | Default Value (64-bit platforms) 默认值（64 位平台）         | `18446744073709547520`      |
  | Default Value (32-bit platforms) 默认值（32 位平台）         | `4294967295`                |
  | Minimum Value 最小值                                         | `4096`                      |
  | Maximum Value (64-bit platforms) 最大值（64 位平台）         | `18446744073709547520`      |
  | Maximum Value (32-bit platforms) 最大值（32 位平台）         | `4294967295`                |
  | Unit 单位                                                    | bytes 字节                  |
  | [Block Size 区块大小](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#system-variables-block-size) | `4096`                      |

  ​            If a transaction requires more than this many bytes, the            server generates a Multi-statement transaction            required more than 'max_binlog_cache_size' bytes of            storage error. When            [`gtid_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode) is not            `ON`, the maximum recommended value is 4GB,            due to the fact that, in this case, MySQL cannot work with            binary log positions greater than 4GB; when            `gtid_mode` is `ON`, this            limitation does not apply, and the server can work with            binary log positions of arbitrary size.          
  如果事务需要的字节数超过此数量，则服务器会生成多语句事务需要超过“max_binlog_cache_size”字节的存储错误。当 [`gtid_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode) 未`打开`时，建议的最大值为 4GB，因为在这种情况下， MySQL 无法处理大于 4GB 的二进制日志位置;当 `gtid_mode` `为 ON` 时，此限制不适用，服务器可以使用任意大小的二进制日志位置。

  ​            If, because [`gtid_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode) is            not `ON`, or for some other reason, you            need to guarantee that the binary log does not exceed a            given size *`maxsize`*, you should            set this variable according to the formula shown here:          
  如果因为 [`gtid_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode) 未`开启`，或者出于其他原因，您需要保证二进制日志不超过给定的大小 *`maxsize`*，则应根据此处显示的公式设置此变量：

  ```simple
  max_binlog_cache_size < 
    (((maxsize - max_binlog_size) / max_connections) - 1000) / 1.2
  ```

  ​            This calculation takes into account the following            conditions: 
  此计算考虑了以下条件：

  - ​                The server writes to the binary log as long as the size                before it begins to write is less than                [`max_binlog_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size).              
    只要开始写入之前的大小小于 [`max_binlog_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size)，服务器就会写入二进制日志。
  - ​                The server does not write single transactions, but                rather groups of transactions. The maximum possible                number of transactions in a group is equal to                [`max_connections`](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#sysvar_max_connections).              
    服务器不写入单个事务，而是写入事务组。组中可能的最大事务数等于 [`max_connections`](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#sysvar_max_connections)。
  - ​                The server writes data that is not included in the                cache. This includes a 4-byte checksum for each event;                while this adds less than 20% to the transaction size,                this amount is non-negible. In addition, the server                writes a `Gtid_log_event` for each                transaction; each of these events can add another 1 KB                to what is written to the binary log. 
    服务器写入缓存中未包含的数据。这包括每个事件的 4 字节校验和;虽然这增加了不到 20% 的交易规模，但这个金额是不可忽略的。此外，服务器为每个事务写入一个 `Gtid_log_event`;这些事件中的每一个都可以向写入二进制日志的内容再增加 1 KB。

  ​            `max_binlog_cache_size` sets the size for            the transaction cache only; the upper limit for the            statement cache is governed by the            [`max_binlog_stmt_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_stmt_cache_size)            system variable.          
  `max_binlog_cache_size` 仅设置事务缓存的大小;语句缓存的上限由 [`max_binlog_stmt_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_stmt_cache_size) 系统变量控制。

  ​            The visibility to sessions of            `max_binlog_cache_size` matches that of the            [`binlog_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_cache_size) system            variable; in other words, changing its value affects only            new sessions that are started after the value is changed.          
  `max_binlog_cache_size` 的会话可见性与 [`binlog_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_cache_size) 系统变量的可见性匹配;换句话说，更改其值仅影响在更改该值后启动的新会话。

- ​            [`max_binlog_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size)

  

  

  | Command-Line Format 命令行格式                               | `--max-binlog-size=#` |
  | ------------------------------------------------------------ | --------------------- |
  | System Variable 系统变量                                     | `max_binlog_size`     |
  | Scope 范围                                                   | Global 全球           |
  | Dynamic 动态                                                 | Yes 是的              |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                 |
  | Type 类型                                                    | Integer 整数          |
  | Default Value 默认值                                         | `1073741824`          |
  | Minimum Value 最小值                                         | `4096`                |
  | Maximum Value 最大值                                         | `1073741824`          |
  | Unit 单位                                                    | bytes 字节            |
  | [Block Size 区块大小](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#system-variables-block-size) | `4096`                |

  ​            If a write to the binary log causes the current log file            size to exceed the value of this variable, the server            rotates the binary logs (closes the current file and opens            the next one). The minimum value is 4096 bytes. The maximum            and default value is 1GB. Encrypted binary log files have an            additional 512-byte header, which is included in            [`max_binlog_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size).          
  如果对二进制日志的写入导致当前日志文件大小超过此变量的值，则服务器将轮换二进制日志（关闭当前文件并打开下一个文件）。最小值为 4096 字节。最大值和默认值为 1GB。加密的二进制日志文件还有一个额外的 512 字节标头，该标头包含在 [`max_binlog_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size) 中。

  ​            A transaction is written in one chunk to the binary log, so            it is never split between several binary logs. Therefore, if            you have big transactions, you might see binary log files            larger than            [`max_binlog_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size).          
  事务以一个块的形式写入二进制日志，因此它永远不会在多个二进制日志之间拆分。因此，如果您有大型事务，则可能会看到大于 [`max_binlog_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size) 的二进制日志文件。

  ​            If [`max_relay_log_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_max_relay_log_size) is 0,            the value of            [`max_binlog_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size) applies to            relay logs as well.          
  如果 [`max_relay_log_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html#sysvar_max_relay_log_size) 为 0，则 [`max_binlog_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size) 的值也适用于中继日志。

  ​            With GTIDs in use on the server, when            [`max_binlog_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size) is reached,            if the system table `mysql.gtid_executed`            cannot be accessed to write the GTIDs from the current            binary log file, the binary log cannot be rotated. In this            situation, the server responds according to its            [`binlog_error_action`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_error_action)            setting. If `IGNORE_ERROR` is set, an error            is logged on the server and binary logging is halted, or if            `ABORT_SERVER` is set, the server shuts            down.          
  在服务器上使用 GTID 时，当达到 [`max_binlog_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_size) 时，如果无法访问系统表`mysql.gtid_executed`以从当前二进制日志文件写入 GTID，则无法轮换二进制日志。在这种情况下，服务器根据其 [`binlog_error_action`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_binlog_error_action) 设置进行响应。如果设置`了 IGNORE_ERROR`，则会在服务器上记录错误并停止二进制日志记录，或者如果设置`了 ABORT_SERVER`，则服务器将关闭。

- ​            [`max_binlog_stmt_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_stmt_cache_size)

  

  

  | Command-Line Format 命令行格式                               | `--max-binlog-stmt-cache-size=#` |
  | ------------------------------------------------------------ | -------------------------------- |
  | System Variable 系统变量                                     | `max_binlog_stmt_cache_size`     |
  | Scope 范围                                                   | Global 全球                      |
  | Dynamic 动态                                                 | Yes 是的                         |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                            |
  | Type 类型                                                    | Integer 整数                     |
  | Default Value 默认值                                         | `18446744073709547520`           |
  | Minimum Value 最小值                                         | `4096`                           |
  | Maximum Value 最大值                                         | `18446744073709547520`           |
  | Unit 单位                                                    | bytes 字节                       |
  | [Block Size 区块大小](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#system-variables-block-size) | `4096`                           |

  ​            If nontransactional statements within a transaction require            more than this many bytes of memory, the server generates an            error. The minimum value is 4096. The maximum and default            values are 4GB on 32-bit platforms and 16EB (exabytes) on            64-bit platforms.          
  如果事务中的非事务性语句需要的内存超过此字节数，则服务器将生成错误。最小值为 4096。最大值和默认值在 32 位平台上为 4GB，在 64 位平台上为 16EB （EB）。

  ​            `max_binlog_stmt_cache_size` sets the size            for the statement cache only; the upper limit for the            transaction cache is governed exclusively by the            [`max_binlog_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_cache_size)            system variable.          
  `max_binlog_stmt_cache_size` 仅设置语句缓存的大小;事务缓存的上限完全由 [`max_binlog_cache_size`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_max_binlog_cache_size) 系统变量控制。

- ​            [`original_commit_timestamp`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_original_commit_timestamp)

  

  

  | System Variable 系统变量                                     | `original_commit_timestamp` |
  | ------------------------------------------------------------ | --------------------------- |
  | Scope 范围                                                   | Session 会期                |
  | Dynamic 动态                                                 | Yes 是的                    |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                       |
  | Type 类型                                                    | Numeric 数值的              |

  ​            For internal use by replication. When re-executing a            transaction on a replica, this is set to the time when the            transaction was committed on the original source, measured            in microseconds since the epoch. This allows the original            commit timestamp to be propagated throughout a replication            topology.          
  供复制内部使用。在副本上重新执行事务时，此时间设置为在原始源上提交事务的时间，以自纪元以来的微秒为单位。这允许在整个复制拓扑中传播原始提交时间戳。

  ​            Setting the session value of this system variable is a            restricted operation. The session user must have either the            [`REPLICATION_APPLIER`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_replication-applier) privilege            (see [Section 19.3.3, “Replication Privilege Checks”](https://dev.mysql.com/doc/refman/8.4/en/replication-privilege-checks.html)), or            privileges sufficient to set restricted session variables            (see [Section 7.1.9.1, “System Variable Privileges”](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html)). However,            note that the variable is not intended for users to set; it            is set automatically by the replication infrastructure.          
  设置此系统变量的 session 值是一个受限操作。会话用户必须具有 [`REPLICATION_APPLIER`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_replication-applier) 权限（请参见[第 19.3.3 节 “复制权限检查”）](https://dev.mysql.com/doc/refman/8.4/en/replication-privilege-checks.html)或足以设置受限制的会话变量的权限（请参见[第 7.1.9.1 节 “系统变量权限”）。](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html)但是，请注意，该变量并非供用户设置;它由复制基础结构自动设置。

- ​            [`source_verify_checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_source_verify_checksum)

  

  

  | Command-Line Format 命令行格式                               | `--source-verify-checksum[={OFF|ON}]` |
  | ------------------------------------------------------------ | ------------------------------------- |
  | System Variable 系统变量                                     | `source_verify_checksum`              |
  | Scope 范围                                                   | Global 全球                           |
  | Dynamic 动态                                                 | Yes 是的                              |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                 |
  | Type 类型                                                    | Boolean 布尔                          |
  | Default Value 默认值                                         | `OFF`                                 |

  ​            Enabling            [`source_verify_checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_source_verify_checksum)            causes the source to verify events read from the binary log            by examining checksums, and to stop with an error in the            event of a mismatch.            [`source_verify_checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_source_verify_checksum) is            disabled by default; in this case, the source uses the event            length from the binary log to verify events, so that only            complete events are read from the binary log.          
  启用 [`source_verify_checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_source_verify_checksum) 会导致源通过检查校验和来验证从二进制日志中读取的事件，并在不匹配时停止并显示错误。[`默认情况下，source_verify_checksum`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_source_verify_checksum) 处于禁用状态;在这种情况下，源使用二进制日志中的事件长度来验证事件，以便仅从二进制日志中读取完整的事件。

- ​            [`sql_log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sql_log_bin)

  

  

  | System Variable 系统变量                                     | `sql_log_bin` |
  | ------------------------------------------------------------ | ------------- |
  | Scope 范围                                                   | Session 会期  |
  | Dynamic 动态                                                 | Yes 是的      |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不         |
  | Type 类型                                                    | Boolean 布尔  |
  | Default Value 默认值                                         | `ON`          |

  ​            This variable controls whether logging to the binary log is            enabled for the current session (assuming that the binary            log itself is enabled). The default value is            `ON`. To disable or enable binary logging            for the current session, set the session            [`sql_log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sql_log_bin) variable to            `OFF` or `ON`.          
  此变量控制是否为当前会话启用二进制日志的日志记录（假设启用了二进制日志本身）。默认值为 `ON。`要禁用或启用当前会话的二进制日志记录，请将 session [`sql_log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sql_log_bin) 变量设置为 `OFF` 或 `ON。`

  ​            Set this variable to `OFF` for a session to            temporarily disable binary logging while making changes to            the source you do not want replicated to the replica.          
  将此变量设置为 `OFF` 对于会话，以暂时禁用二进制日志记录，同时对不希望复制到副本的源进行更改。

  ​            Setting the session value of this system variable is a            restricted operation. The session user must have privileges            sufficient to set restricted session variables. See            [Section 7.1.9.1, “System Variable Privileges”](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html).          
  设置此系统变量的 session 值是一个受限操作。会话用户必须具有足够的权限来设置受限的会话变量。参见[第 7.1.9.1 节 “系统变量权限”。](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html)

  ​            It is not possible to set the session value of            [`sql_log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sql_log_bin) within a            transaction or subquery.          
  无法在事务或子查询中设置 [`sql_log_bin`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sql_log_bin) 的会话值。

  ​            *Setting this variable to `OFF`            prevents GTIDs from being assigned to transactions in the            binary log*. If you are using GTIDs for            replication, this means that even when binary logging is            later enabled again, the GTIDs written into the log from            this point do not account for any transactions that occurred            in the meantime, so in effect those transactions are lost.          
  *将此变量设置为 `OFF` 可防止将 GTID 分配给二进制日志中的事务*。如果您使用 GTID 进行复制，这意味着即使稍后再次启用二进制日志记录，从此时写入日志的 GTID 也不会考虑在此期间发生的任何事务，因此实际上这些事务会丢失。

- ​            [`sync_binlog`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog)

  

  

  | Command-Line Format 命令行格式                               | `--sync-binlog=#` |
  | ------------------------------------------------------------ | ----------------- |
  | System Variable 系统变量                                     | `sync_binlog`     |
  | Scope 范围                                                   | Global 全球       |
  | Dynamic 动态                                                 | Yes 是的          |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不             |
  | Type 类型                                                    | Integer 整数      |
  | Default Value 默认值                                         | `1`               |
  | Minimum Value 最小值                                         | `0`               |
  | Maximum Value 最大值                                         | `4294967295`      |

  ​            Controls how often the MySQL server synchronizes the binary            log to disk. 
  控制 MySQL 服务器将二进制日志同步到磁盘的频率。

  - ​                [`sync_binlog=0`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog): Disables                synchronization of the binary log to disk by the MySQL                server. Instead, the MySQL server relies on the                operating system to flush the binary log to disk from                time to time as it does for any other file. This setting                provides the best performance, but in the event of a                power failure or operating system crash, it is possible                that the server has committed transactions that have not                been synchronized to the binary log.              
    [`sync_binlog=0`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog)：禁用 MySQL 服务器将二进制日志同步到磁盘。相反，MySQL 服务器依赖于操作系统不时将二进制日志刷新到磁盘，就像对任何其他文件所做的那样。此设置可提供最佳性能，但在发生电源故障或操作系统崩溃时，服务器可能已提交尚未同步到二进制日志的事务。
  - ​                [`sync_binlog=1`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog): Enables                synchronization of the binary log to disk before                transactions are committed. This is the safest setting                but can have a negative impact on performance due to the                increased number of disk writes. In the event of a power                failure or operating system crash, transactions that are                missing from the binary log are only in a prepared                state. This permits the automatic recovery routine to                roll back the transactions, which guarantees that no                transaction is lost from the binary log.              
    [`sync_binlog=1`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog)：在提交事务之前启用二进制日志到磁盘的同步。这是最安全的设置，但由于磁盘写入次数增加，可能会对性能产生负面影响。在发生电源故障或操作系统崩溃的情况下，二进制日志中缺少的事务仅处于 prepared 状态。这允许自动恢复例程回滚事务，从而保证二进制日志中不会丢失任何事务。
  - ​                [`sync_binlog=*`N`*`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog),                where *`N`* is a value other than                0 or 1: The binary log is synchronized to disk after                `N` binary log commit groups have been                collected. In the event of a power failure or operating                system crash, it is possible that the server has                committed transactions that have not been flushed to the                binary log. This setting can have a negative impact on                performance due to the increased number of disk writes.                A higher value improves performance, but with an                increased risk of data loss. 
    [`sync_binlog=*`N`*`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog)，其中 *`N`* 是非 0 或 1 的值：在收集 `N` 个二进制日志提交组后，二进制日志将同步到磁盘。如果发生电源故障或操作系统崩溃，则服务器可能已提交尚未刷新到二进制日志的事务。由于磁盘写入次数增加，此设置可能会对性能产生负面影响。值越高，性能越高，但数据丢失的风险就越大。

  ​            For the greatest possible durability and consistency in a            replication setup that uses `InnoDB` with            transactions, use these settings: 
  为了在将 `InnoDB` 与事务一起使用的复制设置中获得最大的持久性和一致性，请使用以下设置：

  - ​                [`sync_binlog=1`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog).              
    [`sync_binlog=1`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html#sysvar_sync_binlog)。
  - ​                [`innodb_flush_log_at_trx_commit=1`](https://dev.mysql.com/doc/refman/8.4/en/innodb-parameters.html#sysvar_innodb_flush_log_at_trx_commit). [ `innodb_flush_log_at_trx_commit=1` ](https://dev.mysql.com/doc/refman/8.4/en/innodb-parameters.html#sysvar_innodb_flush_log_at_trx_commit)。

  Caution 谨慎

  ​              Many operating systems and some disk hardware fool the              flush-to-disk operation. They may tell              [**mysqld**](https://dev.mysql.com/doc/refman/8.4/en/mysqld.html) that the flush has taken place,              even though it has not. In this case, the durability of              transactions is not guaranteed even with the recommended              settings, and in the worst case, a power outage can              corrupt `InnoDB` data. Using a              battery-backed disk cache in the SCSI disk controller or              in the disk itself speeds up file flushes, and makes the              operation safer. You can also try to disable the caching              of disk writes in hardware caches. 
  许多操作系统和一些磁盘硬件都欺骗了 flush-to-disk 操作。他们可能会告诉 [**mysqld**](https://dev.mysql.com/doc/refman/8.4/en/mysqld.html) 刷新已经发生，即使它没有发生。在这种情况下，即使使用推荐的设置，也无法保证事务的持久性，在最坏的情况下，停电可能会损坏 `InnoDB` 数据。在 SCSI 磁盘控制器或磁盘本身中使用备有电池的磁盘缓存可以加快文件刷新速度，并使操作更安全。您还可以尝试在硬件缓存中禁用磁盘写入的缓存。

[Skip to Main Content](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#main)



​                        The world's most popular open source database                    

​                                                                                                                    

​                                                    [**Contact MySQL**](https://www.mysql.com/about/contact/)                             |                                                                                          [Login](https://dev.mysql.com/auth/login/?dest=https%3A%2F%2Fdev.mysql.com%2Fdoc%2Frefman%2F8.4%2Fen%2Freplication-options-gtids.html)  |                                  [Register](https://dev.mysql.com/auth/register/)                                                                        

​                                                                        [MySQL.com](https://www.mysql.com/)                                                    [Downloads](https://www.mysql.com/downloads/)                                                    [Documentation](https://dev.mysql.com/doc/)                                                    [Developer Zone](https://dev.mysql.com/)                                                            

​                                                                                                                                                        

​                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     	[MySQL Server](https://dev.mysql.com/doc/refman/en/)    			         	[MySQL Enterprise](https://dev.mysql.com/doc/index-enterprise.html)    			         	[Workbench](https://dev.mysql.com/doc/workbench/en/)    			         	[InnoDB Cluster](https://dev.mysql.com/doc/mysql-shell/en/mysql-innodb-cluster.html)    			         	[MySQL NDB Cluster](https://dev.mysql.com/doc/index-cluster.html)    			         	[Connectors](https://dev.mysql.com/doc/index-connectors.html)    			         	[More](https://dev.mysql.com/doc/index-other.html)    			                                                                                                                                     



​                                                                                 

​                                                         

​            

[Documentation Home 文档主页](https://dev.mysql.com/doc/)

------

MySQL 8.4 Reference Manual
MySQL 8.4 参考手册

- [Preface and Legal Notices
  前言和法律声明](https://dev.mysql.com/doc/refman/8.4/en/preface.html)
- [General Information 一般信息](https://dev.mysql.com/doc/refman/8.4/en/introduction.html)
- [Installing MySQL 安装 MySQL](https://dev.mysql.com/doc/refman/8.4/en/installing.html)
- [Upgrading MySQL 升级 MySQL](https://dev.mysql.com/doc/refman/8.4/en/upgrading.html)
- [Downgrading MySQL 降级 MySQL](https://dev.mysql.com/doc/refman/8.4/en/downgrading.html)
- [Tutorial 教程](https://dev.mysql.com/doc/refman/8.4/en/tutorial.html)
- [MySQL Programs MySQL 程序](https://dev.mysql.com/doc/refman/8.4/en/programs.html)
- [MySQL Server Administration
  MySQL 服务器管理](https://dev.mysql.com/doc/refman/8.4/en/server-administration.html)
- [Security 安全](https://dev.mysql.com/doc/refman/8.4/en/security.html)
- [Backup and Recovery 备份和恢复](https://dev.mysql.com/doc/refman/8.4/en/backup-and-recovery.html)
- [Optimization 优化](https://dev.mysql.com/doc/refman/8.4/en/optimization.html)
- [Language Structure 语言结构](https://dev.mysql.com/doc/refman/8.4/en/language-structure.html)
- [Character Sets, Collations, Unicode
  字符集、排序规则、Unicode](https://dev.mysql.com/doc/refman/8.4/en/charset.html)
- [Data Types 数据类型](https://dev.mysql.com/doc/refman/8.4/en/data-types.html)
- [Functions and Operators 函数和运算符](https://dev.mysql.com/doc/refman/8.4/en/functions.html)
- [SQL Statements SQL 语句](https://dev.mysql.com/doc/refman/8.4/en/sql-statements.html)
- [MySQL Data Dictionary MySQL 数据字典](https://dev.mysql.com/doc/refman/8.4/en/data-dictionary.html)
- [The InnoDB Storage Engine
  InnoDB 存储引擎](https://dev.mysql.com/doc/refman/8.4/en/innodb-storage-engine.html)
- [Alternative Storage Engines
  替代存储引擎](https://dev.mysql.com/doc/refman/8.4/en/storage-engines.html)
- [Replication 复制](https://dev.mysql.com/doc/refman/8.4/en/replication.html)
  - [Configuring Replication 配置复制](https://dev.mysql.com/doc/refman/8.4/en/replication-configuration.html)
    - [Binary Log File Position Based Replication Configuration Overview
      基于二进制日志文件位置的复制配置概述](https://dev.mysql.com/doc/refman/8.4/en/binlog-replication-configuration-overview.html)
    - [Setting Up Binary Log File Position Based Replication](https://dev.mysql.com/doc/refman/8.4/en/replication-howto.html)
    - [Replication with Global Transaction Identifiers](https://dev.mysql.com/doc/refman/8.4/en/replication-gtids.html)
    - [Changing GTID Mode on Online Servers](https://dev.mysql.com/doc/refman/8.4/en/replication-mode-change-online.html)
    - [MySQL Multi-Source Replication](https://dev.mysql.com/doc/refman/8.4/en/replication-multi-source.html)
    - [Replication and Binary Logging Options and Variables](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html)
      - [Replication and Binary Logging Option and Variable Reference](https://dev.mysql.com/doc/refman/8.4/en/replication-options-reference.html)
      - [Replication Source Options and Variables](https://dev.mysql.com/doc/refman/8.4/en/replication-options-source.html)
      - [Replica Server Options and Variables](https://dev.mysql.com/doc/refman/8.4/en/replication-options-replica.html)
      - [Binary Logging Options and Variables](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html)
      - [Global Transaction ID System Variables](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html)
    - [Common Replication Administration Tasks](https://dev.mysql.com/doc/refman/8.4/en/replication-administration.html)
  - [Replication Implementation](https://dev.mysql.com/doc/refman/8.4/en/replication-implementation.html)
  - [Replication Security](https://dev.mysql.com/doc/refman/8.4/en/replication-security.html)
  - [Replication Solutions](https://dev.mysql.com/doc/refman/8.4/en/replication-solutions.html)
  - [Replication Notes and Tips](https://dev.mysql.com/doc/refman/8.4/en/replication-notes.html)
- [Group Replication](https://dev.mysql.com/doc/refman/8.4/en/group-replication.html)
- [MySQL Shell](https://dev.mysql.com/doc/refman/8.4/en/mysql-shell-userguide.html)
- [Using MySQL as a Document Store](https://dev.mysql.com/doc/refman/8.4/en/document-store.html)
- [InnoDB Cluster](https://dev.mysql.com/doc/refman/8.4/en/mysql-innodb-cluster-introduction.html)
- [InnoDB ReplicaSet](https://dev.mysql.com/doc/refman/8.4/en/mysql-innodb-replicaset-introduction.html)
- [MySQL NDB Cluster 8.4](https://dev.mysql.com/doc/refman/8.4/en/mysql-cluster.html)
- [Partitioning](https://dev.mysql.com/doc/refman/8.4/en/partitioning.html)
- [Stored Objects](https://dev.mysql.com/doc/refman/8.4/en/stored-objects.html)
- [INFORMATION_SCHEMA Tables](https://dev.mysql.com/doc/refman/8.4/en/information-schema.html)
- [MySQL Performance Schema](https://dev.mysql.com/doc/refman/8.4/en/performance-schema.html)
- [MySQL sys Schema](https://dev.mysql.com/doc/refman/8.4/en/sys-schema.html)
- [Connectors and APIs](https://dev.mysql.com/doc/refman/8.4/en/connectors-apis.html)
- [MySQL Enterprise Edition](https://dev.mysql.com/doc/refman/8.4/en/mysql-enterprise.html)
- [MySQL Workbench](https://dev.mysql.com/doc/refman/8.4/en/workbench.html)
- [MySQL on OCI Marketplace](https://dev.mysql.com/doc/refman/8.4/en/mysql-oci-marketplace.html)
- [Telemetry](https://dev.mysql.com/doc/refman/8.4/en/telemetry.html)
- [MySQL 8.4 Frequently Asked Questions](https://dev.mysql.com/doc/refman/8.4/en/faqs.html)
- [Error Messages and Common Problems](https://dev.mysql.com/doc/refman/8.4/en/error-handling.html)
- [Indexes](https://dev.mysql.com/doc/refman/8.4/en/indexes.html)
- [MySQL Glossary](https://dev.mysql.com/doc/refman/8.4/en/glossary.html)

[     Related Documentation](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html)

​        [MySQL 8.4 Release Notes](https://dev.mysql.com/doc/relnotes/mysql/8.4/en/)
​        

[                      Download                             this Manual                          ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html)

​                                    [PDF (US Ltr)](https://downloads.mysql.com/docs/refman-8.4-en.pdf)            - 40.0Mb
​                                                [PDF (A4)](https://downloads.mysql.com/docs/refman-8.4-en.a4.pdf)            - 40.1Mb
​                                                [Man Pages (TGZ)](https://downloads.mysql.com/docs/refman-8.4-en.man-gpl.tar.gz)            - 259.2Kb
​                                                [Man Pages (Zip)](https://downloads.mysql.com/docs/refman-8.4-en.man-gpl.zip)            - 366.3Kb
​                                                [Info (Gzip)](https://downloads.mysql.com/docs/mysql-8.4.info.gz)            - 4.0Mb
​                                                [Info (Zip)](https://downloads.mysql.com/docs/mysql-8.4.info.zip)            - 4.0Mb
​                                



​            [version 8.4              版本 8.4](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html)                    

​            [MySQL 8.4 Reference Manual](https://dev.mysql.com/doc/refman/8.4/en/)  /                             [...](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html)  /                                                         Global Transaction ID System Variables                                    
[MySQL 8.4 参考手册](https://dev.mysql.com/doc/refman/8.4/en/) / [...](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html) / 全局事务 ID 系统变量

#### 19.1.6.5 Global Transaction ID System Variables 19.1.6.5 全局事务 ID 系统变量

​      The MySQL Server system variables described in this section are      used to monitor and control Global Transaction Identifiers      (GTIDs). For additional information, see      [Section 19.1.3, “Replication with Global Transaction Identifiers”](https://dev.mysql.com/doc/refman/8.4/en/replication-gtids.html). 
本节中描述的 MySQL Server 系统变量用于监视和控制全局事务标识符 （GTID）。有关更多信息，请参见[第 19.1.3 节 “使用全局事务标识符进行复制”。](https://dev.mysql.com/doc/refman/8.4/en/replication-gtids.html)

- ​          [`binlog_gtid_simple_recovery`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_binlog_gtid_simple_recovery)

  

  

  | Command-Line Format 命令行格式                               | `--binlog-gtid-simple-recovery[={OFF|ON}]` |
  | ------------------------------------------------------------ | ------------------------------------------ |
  | System Variable 系统变量                                     | `binlog_gtid_simple_recovery`              |
  | Scope 范围                                                   | Global 全球                                |
  | Dynamic 动态                                                 | No 不                                      |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                      |
  | Type 类型                                                    | Boolean 布尔                               |
  | Default Value 默认值                                         | `ON`                                       |

  ​          This variable controls how binary log files are iterated          during the search for GTIDs when MySQL starts or restarts.        
  此变量控制在 MySQL 启动或重新启动时，在搜索 GTID 期间如何迭代二进制日志文件。

  ​          When          [`binlog_gtid_simple_recovery=TRUE`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_binlog_gtid_simple_recovery)          (the default), the values of          [`gtid_executed`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_executed) and          [`gtid_purged`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_purged) are computed at          startup based on the values of          `Previous_gtids_log_event` in the most recent          and oldest binary log files. For a description of the          computation, see          [The `gtid_purged` System Variable](https://dev.mysql.com/doc/refman/8.4/en/replication-gtids-lifecycle.html#replication-gtids-gtid-purged). This setting          accesses only two binary log files during server restart. If          all binary logs on the server were generated using MySQL 5.7.8          or later,          [`binlog_gtid_simple_recovery=TRUE`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_binlog_gtid_simple_recovery)          can always safely be used.         
  When [ `binlog_gtid_simple_recovery=TRUE` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_binlog_gtid_simple_recovery) （默认值），则 [`gtid_executed`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_executed) 和 [`gtid_purged`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_purged) 的值在启动时根据最新和最早的二进制日志文件中的 `Previous_gtids_log_event` 值计算。有关计算的说明，请参阅 [`gtid_purged` 系统变量](https://dev.mysql.com/doc/refman/8.4/en/replication-gtids-lifecycle.html#replication-gtids-gtid-purged)。此设置在服务器重启期间仅访问两个二进制日志文件。如果服务器上的所有二进制日志都是使用 MySQL 5.7.8 或更高版本生成的，[ `binlog_gtid_simple_recovery=TRUE` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_binlog_gtid_simple_recovery)则始终可以安全地使用。

  ​          If any binary logs from MySQL 5.7.7 or older are present on          the server (for example, following an upgrade of an older          server to MySQL 8.4), with          [`binlog_gtid_simple_recovery=TRUE`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_binlog_gtid_simple_recovery),          [`gtid_executed`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_executed) and          [`gtid_purged`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_purged) might be          initialized incorrectly in the following two situations: 
  如果服务器上存在来自 MySQL 5.7.7 或更早版本的任何二进制日志（例如，在将旧服务器升级到 MySQL 8.4 之后），则在以下两种情况下，[`gtid_executed`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_executed) [ `binlog_gtid_simple_recovery=TRUE` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_binlog_gtid_simple_recovery)和 [`gtid_purged`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_purged) 可能会错误地初始化：

  - ​              The newest binary log was generated by MySQL 5.7.5 or              earlier, and [`gtid_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode)              was `ON` for some binary logs but              `OFF` for the newest binary log.            
    最新的二进制日志是由 MySQL 5.7.5 或更早版本生成的，对于某些二进制日志，[`gtid_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode)为 `ON`，而对于最新的二进制日志为 `OFF`。
  - ​              A `SET @@GLOBAL.gtid_purged` statement              was issued on MySQL 5.7.7 or earlier, and the binary log              that was active at the time of the `SET              @@GLOBAL.gtid_purged` statement has not yet been              purged.  
    在 MySQL 5.7.7 或更早版本上发出了 `SET              @@GLOBAL.gtid_purged` 一条语句，并且在 `SET @@GLOBAL.gtid_purged` 语句时处于活动状态的二进制日志尚未被清除。

  ​          If an incorrect GTID set is computed in either situation, it          remains incorrect even if the server is later restarted with          [`binlog_gtid_simple_recovery=FALSE`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_binlog_gtid_simple_recovery).          If either of these situations apply or might apply on the          server, set          [`binlog_gtid_simple_recovery=FALSE`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_binlog_gtid_simple_recovery)          before starting or restarting the server.        
  如果在任一情况下计算了不正确的 GTID 集，则即使稍后使用 [ `binlog_gtid_simple_recovery=FALSE` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_binlog_gtid_simple_recovery)重新启动服务器，它仍然不正确。如果服务器适用或可能适用这两种情况，请在启动或重新启动服务器之前进行设置[ `binlog_gtid_simple_recovery=FALSE` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_binlog_gtid_simple_recovery)。

  ​          When          [`binlog_gtid_simple_recovery=FALSE`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_binlog_gtid_simple_recovery)          is set, the method of computing          [`gtid_executed`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_executed) and          [`gtid_purged`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_purged) as described in          [The `gtid_purged` System Variable](https://dev.mysql.com/doc/refman/8.4/en/replication-gtids-lifecycle.html#replication-gtids-gtid-purged) is changed to          iterate the binary log files as follows: 
  设置后[ `binlog_gtid_simple_recovery=FALSE` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_binlog_gtid_simple_recovery)，将更改 [`gtid_purged` 系统变量](https://dev.mysql.com/doc/refman/8.4/en/replication-gtids-lifecycle.html#replication-gtids-gtid-purged)中描述的 [`gtid_executed`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_executed) 和 [`gtid_purged`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_purged) 的计算方法，以迭代二进制日志文件，如下所示：

  - ​              Instead of using the value of              `Previous_gtids_log_event` and GTID log              events from the newest binary log file, the computation              for [`gtid_executed`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_executed)              iterates from the newest binary log file, and uses the              value of `Previous_gtids_log_event` and              any GTID log events from the first binary log file where              it finds a `Previous_gtids_log_event`              value. If the server's most recent binary log files do not              have GTID log events, for example if              [`gtid_mode=ON`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode) was used but              the server was later changed to              [`gtid_mode=OFF`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode), this              process can take a long time.            
    [`gtid_executed`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_executed)的计算不是使用最新二进制日志文件中的 `Previous_gtids_log_event` 和 GTID 日志事件的值，而是从最新的二进制日志文件迭代，并使用 `Previous_gtids_log_event` 的值和第一个二进制日志文件中的任何 GTID 日志事件，在该文件中找到 `Previous_gtids_log_event` 值。如果服务器的最新二进制日志文件没有 GTID 日志事件，例如，如果使用了 [`gtid_mode=ON`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode)，但服务器后来更改为 [`gtid_mode=OFF，`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode)则此过程可能需要很长时间。
  - ​              Instead of using the value of              `Previous_gtids_log_event` from the              oldest binary log file, the computation for              [`gtid_purged`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_purged) iterates from              the oldest binary log file, and uses the value of              `Previous_gtids_log_event` from the first              binary log file where it finds either a nonempty              `Previous_gtids_log_event` value, or at              least one GTID log event (indicating that the use of GTIDs              starts at that point). If the server's older binary log              files do not have GTID log events, for example if              [`gtid_mode=ON`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode) was only set              recently on the server, this process can take a long time. 
    [`gtid_purged`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_purged)的计算不是使用最旧的二进制日志文件中的 `Previous_gtids_log_event` 的值，而是从最早的二进制日志文件迭代，并使用第一个二进制日志文件中的 `Previous_gtids_log_event` 的值，在该文件中，它找到非空 `Previous_gtids_log_event` 值或至少一个 GTID 日志事件（指示 GTID 的使用从该点开始）。如果服务器的旧二进制日志文件没有 GTID 日志事件，例如，如果 [`gtid_mode=ON`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode) 最近才在服务器上设置，则此过程可能需要很长时间。

- ​          [`enforce_gtid_consistency`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_enforce_gtid_consistency)

  

  

  | Command-Line Format 命令行格式                               | `--enforce-gtid-consistency[=value]` |
  | ------------------------------------------------------------ | ------------------------------------ |
  | System Variable 系统变量                                     | `enforce_gtid_consistency`           |
  | Scope 范围                                                   | Global 全球                          |
  | Dynamic 动态                                                 | Yes 是的                             |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                |
  | Type 类型                                                    | Enumeration 列举                     |
  | Default Value 默认值                                         | `OFF`                                |
  | Valid Values 有效值                                          | `OFF``ON``WARN`                      |

  ​          Depending on the value of this variable, the server enforces          GTID consistency by allowing execution of only statements that          can be safely logged using a GTID. You          *must* set this variable to          `ON` before enabling GTID based replication.        
  根据此变量的值，服务器通过仅允许执行可以使用 GTID 安全记录的语句来强制实施 GTID 一致性。在启用基于 GTID 的复制之前*，您必须*将此变量设置为 `ON`。

  ​          The values that          [`enforce_gtid_consistency`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_enforce_gtid_consistency) can          be configured to are: 
  [`enforce_gtid_consistency`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_enforce_gtid_consistency) 可以配置为的值包括：

  - ​              `OFF`: all transactions are allowed to              violate GTID consistency.            
    `OFF：`允许所有事务违反 GTID 一致性。
  - ​              `ON`: no transaction is allowed to              violate GTID consistency.            
    `ON：`不允许任何事务违反 GTID 一致性。
  - ​              `WARN`: all transactions are allowed to              violate GTID consistency, but a warning is generated in              this case. 
    `WARN：`允许所有事务违反 GTID 一致性，但在这种情况下会产生警告。

  ​          [`--enforce-gtid-consistency`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_enforce_gtid_consistency) only          takes effect if binary logging takes place for a statement. If          binary logging is disabled on the server, or if statements are          not written to the binary log because they are removed by a          filter, GTID consistency is not checked or enforced for the          statements that are not logged.        
  [`--enforce-gtid-consistency`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_enforce_gtid_consistency) 仅在对语句进行二进制日志记录时生效。如果在服务器上禁用了二进制日志记录，或者如果语句由于过滤器删除而未写入二进制日志，则不会检查或强制执行未记录的语句的 GTID 一致性。

  ​          Only statements that can be logged using GTID safe statements          can be logged when          [`enforce_gtid_consistency`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_enforce_gtid_consistency) is          set to `ON`, so the operations listed here          cannot be used with this option: 
  当 [`enforce_gtid_consistency`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_enforce_gtid_consistency) 设置为 `ON` 时，只能记录可以使用 GTID 安全语句记录的语句，因此此处列出的操作不能与此选项一起使用：

  - ​              [`CREATE               TEMPORARY TABLE`](https://dev.mysql.com/doc/refman/8.4/en/create-table.html) or              [`DROP TEMPORARY               TABLE`](https://dev.mysql.com/doc/refman/8.4/en/drop-table.html) statements inside transactions.            
    [ `CREATE               TEMPORARY TABLE` ](https://dev.mysql.com/doc/refman/8.4/en/create-table.html)或[ `DROP TEMPORARY               TABLE` ](https://dev.mysql.com/doc/refman/8.4/en/drop-table.html)交易内的语句。
  - ​              Transactions or statements that update both transactional              and nontransactional tables. There is an exception that              nontransactional DML is allowed in the same transaction or              in the same statement as transactional DML, if all              *nontransactional* tables are              temporary.            
    更新事务和非事务表的事务或语句。如果所有*非事务*性 table 都是临时的，则允许非事务性 DML 与事务性 DML 位于同一事务或同一语句中，则存在一个例外。
  - ​              [`CREATE               TABLE ... SELECT`](https://dev.mysql.com/doc/refman/8.4/en/create-table-select.html) statements are supported for              storage engines that support atomic DDL. 
    [ `CREATE               TABLE ... SELECT` ](https://dev.mysql.com/doc/refman/8.4/en/create-table-select.html)支持原子 DDL 的存储引擎支持语句。

  ​          For more information, see          [Section 19.1.3.7, “Restrictions on Replication with GTIDs”](https://dev.mysql.com/doc/refman/8.4/en/replication-gtids-restrictions.html).        
  有关更多信息，请参见[第 19.1.3.7 节 “使用 GTID 进行复制的限制”。](https://dev.mysql.com/doc/refman/8.4/en/replication-gtids-restrictions.html)

  ​          Prior to MySQL 5.7 and in early releases in that release          series, the boolean          [`enforce_gtid_consistency`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_enforce_gtid_consistency)          defaulted to `OFF`. To maintain compatibility          with these earlier releases, the enumeration defaults to          `OFF`, and setting          [`--enforce-gtid-consistency`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_enforce_gtid_consistency)          without a value is interpreted as setting the value to          `ON`. The variable also has multiple textual          aliases for the values: `0=OFF=FALSE`,          `1=ON=TRUE`,`2=WARN`. This          differs from other enumeration types but maintains          compatibility with the boolean type used in previous releases.          These changes impact on what is returned by the variable.          Using `SELECT @@ENFORCE_GTID_CONSISTENCY`,          `SHOW VARIABLES LIKE          'ENFORCE_GTID_CONSISTENCY'`, and `SELECT *          FROM INFORMATION_SCHEMA.VARIABLES WHERE 'VARIABLE_NAME' =          'ENFORCE_GTID_CONSISTENCY'`, all return the textual          form, not the numeric form. This is an incompatible change,          since `@@ENFORCE_GTID_CONSISTENCY` returns          the numeric form for booleans but returns the textual form for          `SHOW` and the Information Schema.        
  在 MySQL 5.7 之前以及该版本系列的早期版本中，布尔值[`enforce_gtid_consistency`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_enforce_gtid_consistency)默认为 `OFF。`为了保持与这些早期版本的兼容性，枚举默认为 `OFF，`并且设置不带值的 [`--enforce-gtid-consistency`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_enforce_gtid_consistency) 会解释为将值设置为 `ON`。该变量还具有值的多个文本别名：`0=OFF=FALSE、``1=ON=TRUE、``2=WARN`。这与其他枚举类型不同，但与以前版本中使用的布尔类型保持兼容。这些更改会影响变量返回的内容。使用 `SELECT @@ENFORCE_GTID_CONSISTENCY` 、 `SHOW VARIABLES LIKE          'ENFORCE_GTID_CONSISTENCY'` 和 `SELECT *          FROM INFORMATION_SCHEMA.VARIABLES WHERE 'VARIABLE_NAME' =          'ENFORCE_GTID_CONSISTENCY'` ，都返回文本形式，而不是数字形式。这是一个不兼容的更改，因为 `@@ENFORCE_GTID_CONSISTENCY` 返回布尔值的数字形式，但返回 `SHOW` 和信息架构的文本形式。

- ​          [`gtid_executed`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_executed)

  

  

  | System Variable 系统变量                                     | `gtid_executed`      |
  | ------------------------------------------------------------ | -------------------- |
  | Scope 范围                                                   | Global 全球          |
  | Dynamic 动态                                                 | No 不                |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                |
  | Type 类型                                                    | String 字符串        |
  | Unit 单位                                                    | set of GTIDs GTID 集 |

  ​          When used with global scope, this variable contains a          representation of the set of all transactions executed on the          server and GTIDs that have been set by a          [`SET`](https://dev.mysql.com/doc/refman/8.4/en/set-variable.html)          [`gtid_purged`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_purged) statement. This          is the same as the value of the          `Executed_Gtid_Set` column in the output of          [`SHOW BINARY LOG STATUS`](https://dev.mysql.com/doc/refman/8.4/en/show-binary-log-status.html) and          [`SHOW REPLICA STATUS`](https://dev.mysql.com/doc/refman/8.4/en/show-replica-status.html). The value          of this variable is a GTID set, see          [GTID Sets](https://dev.mysql.com/doc/refman/8.4/en/replication-gtids-concepts.html#replication-gtids-concepts-gtid-sets) for          more information.        
  当与全局范围一起使用时，此变量包含在服务器上执行的所有事务的集合以及由 [`SET`](https://dev.mysql.com/doc/refman/8.4/en/set-variable.html)[`gtid_purged`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_purged) 语句设置的 GTID 的表示形式。这与 [`SHOW BINARY LOG STATUS`](https://dev.mysql.com/doc/refman/8.4/en/show-binary-log-status.html) 和 [`SHOW REPLICA STATUS`](https://dev.mysql.com/doc/refman/8.4/en/show-replica-status.html) 输出中 `Executed_Gtid_Set` 列的值相同。此变量的值是 GTID 集，有关更多信息，请参阅 [GTID 集](https://dev.mysql.com/doc/refman/8.4/en/replication-gtids-concepts.html#replication-gtids-concepts-gtid-sets)。

  ​          When the server starts,          `@@GLOBAL.gtid_executed` is initialized. See          [`binlog_gtid_simple_recovery`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_binlog_gtid_simple_recovery)          for more information on how binary logs are iterated to          populate [`gtid_executed`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_executed). GTIDs          are then added to the set as transactions are executed, or if          any          [`SET`](https://dev.mysql.com/doc/refman/8.4/en/set-variable.html)          [`gtid_purged`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_purged) statement is          executed.        
  当服务器启动时，`@@GLOBAL.gtid_executed` 被初始化。有关如何迭代二进制日志以填充[`gtid_executed`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_executed)的更多信息，请参阅 [`binlog_gtid_simple_recovery`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_binlog_gtid_simple_recovery)。然后，在执行事务或执行任何 [`SET`](https://dev.mysql.com/doc/refman/8.4/en/set-variable.html)[`gtid_purged`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_purged)语句时，将 GTID 添加到集合中。

  ​          The set of transactions that can be found in the binary logs          at any given time is equal to          [`GTID_SUBTRACT(@@GLOBAL.gtid_executed,           @@GLOBAL.gtid_purged)`](https://dev.mysql.com/doc/refman/8.4/en/gtid-functions.html#function_gtid-subtract); that is, to all transactions          in the binary log that have not yet been purged.        
  在任何给定时间可以在二进制日志中找到的事务集等于 [ `GTID_SUBTRACT(@@GLOBAL.gtid_executed,           @@GLOBAL.gtid_purged)` ](https://dev.mysql.com/doc/refman/8.4/en/gtid-functions.html#function_gtid-subtract);也就是说，对 binary log 中尚未清除的所有事务。

  ​          Issuing [`RESET BINARY LOGS AND           GTIDS`](https://dev.mysql.com/doc/refman/8.4/en/reset-binary-logs-and-gtids.html) causes this variable to be reset to an empty          string. GTIDs are not otherwise removed from this set other          than when the set is cleared due to `RESET BINARY LOGS          AND GTIDS`.        
  发出[ `RESET BINARY LOGS AND           GTIDS` ](https://dev.mysql.com/doc/refman/8.4/en/reset-binary-logs-and-gtids.html)会导致此变量重置为空字符串。GTID 不会从此集中删除，除非由于 `RESET BINARY LOGS          AND GTIDS` .

- ​          [`gtid_executed_compression_period`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_executed_compression_period)

  

  

  | Command-Line Format 命令行格式                               | `--gtid-executed-compression-period=#` |
  | ------------------------------------------------------------ | -------------------------------------- |
  | System Variable 系统变量                                     | `gtid_executed_compression_period`     |
  | Scope 范围                                                   | Global 全球                            |
  | Dynamic 动态                                                 | Yes 是的                               |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                  |
  | Type 类型                                                    | Integer 整数                           |
  | Default Value 默认值                                         | `0`                                    |
  | Minimum Value 最小值                                         | `0`                                    |
  | Maximum Value 最大值                                         | `4294967295`                           |

  ​          Compress the `mysql.gtid_executed` table each          time this many transactions have been processed. When binary          logging is enabled on the server, this compression method is          not used, and instead the          `mysql.gtid_executed` table is compressed on          each binary log rotation. When binary logging is disabled on          the server, the compression thread sleeps until the specified          number of transactions have been executed, then wakes up to          perform compression of the          `mysql.gtid_executed` table. Setting the          value of this system variable to 0 means that the thread never          wakes up, so this explicit compression method is not used.          Instead, compression occurs implicitly as required.        
  每次处理了这么多事务时，压缩 `mysql.gtid_executed` 表。在服务器上启用二进制日志记录时，不使用此压缩方法，而是在每次二进制日志轮换时压缩`mysql.gtid_executed` 表。在服务器上禁用二进制日志记录时，压缩线程将休眠，直到执行了指定数量的事务，然后唤醒以执行 `mysql.gtid_executed` table 的压缩。将此系统变量的值设置为 0 意味着线程永远不会唤醒，因此不使用此显式压缩方法。相反，压缩会根据需要隐式发生。

  ​          `InnoDB` transactions are written to the          `mysql.gtid_executed` table by a separate          process to non-`InnoDB` transactions. If the          server has a mix of `InnoDB` transactions and          non-`InnoDB` transactions, the compression          controlled by this system variable interferes with the work of          this process and can slow it significantly. For this reason,          from that release it is recommended that you set          [`gtid_executed_compression_period`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_executed_compression_period)          to 0.        
  `InnoDB` 事务由非 `InnoDB` 事务的单独进程写入 `mysql.gtid_executed` table。如果服务器混合了 `InnoDB` 事务和非 `InnoDB` 事务，则由此系统变量控制的压缩会干扰此过程的工作，并可能显着减慢它。因此，从该版本开始，建议您设置为 [ `gtid_executed_compression_period` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_executed_compression_period) 0。

  ​          All transactions (regardless of storage engine) are written to          the `mysql.gtid_executed` table by the same          process, and the          [`gtid_executed_compression_period`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_executed_compression_period)          default value is 0.        
  所有事务（无论存储引擎如何）都由同一进程写入 `mysql.gtid_executed` 表，[ `gtid_executed_compression_period` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_executed_compression_period)默认值为 0。

  ​          See          [mysql.gtid_executed Table Compression](https://dev.mysql.com/doc/refman/8.4/en/replication-gtids-concepts.html#replication-gtids-gtid-executed-table-compression)          for more information.        
  有关更多信息[，请参阅 mysql.gtid_executed Table Compression](https://dev.mysql.com/doc/refman/8.4/en/replication-gtids-concepts.html#replication-gtids-gtid-executed-table-compression)。

- ​          [`gtid_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode)

  

  

  | Command-Line Format 命令行格式                               | `--gtid-mode=MODE` `--gtid-mode=模式`    |
  | ------------------------------------------------------------ | ---------------------------------------- |
  | System Variable 系统变量                                     | `gtid_mode`                              |
  | Scope 范围                                                   | Global 全球                              |
  | Dynamic 动态                                                 | Yes 是的                                 |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                    |
  | Type 类型                                                    | Enumeration 列举                         |
  | Default Value 默认值                                         | `OFF`                                    |
  | Valid Values 有效值                                          | `OFF``OFF_PERMISSIVE``ON_PERMISSIVE``ON` |

  ​          Controls whether GTID based logging is enabled and what type          of transactions the logs can contain. You must have privileges          sufficient to set global system variables. See          [Section 7.1.9.1, “System Variable Privileges”](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html).          [`enforce_gtid_consistency`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_enforce_gtid_consistency) must          be set to `ON` before you can set          [`gtid_mode=ON`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode). Before          modifying this variable, see          [Section 19.1.4, “Changing GTID Mode on Online Servers”](https://dev.mysql.com/doc/refman/8.4/en/replication-mode-change-online.html).        
  控制是否启用基于 GTID 的日志记录以及日志可以包含的事务类型。您必须具有足够的权限才能设置全局系统变量。参见[第 7.1.9.1 节 “系统变量权限”。](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html)必须先将 [`enforce_gtid_consistency`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_enforce_gtid_consistency) 设置为 `ON`，然后才能设置 [`gtid_mode=ON`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode)。在修改此变量之前，请参见[第 19.1.4 节 “在联机服务器上更改 GTID 模式”。](https://dev.mysql.com/doc/refman/8.4/en/replication-mode-change-online.html)

  ​          Logged transactions can be either anonymous or use GTIDs.          Anonymous transactions rely on binary log file and position to          identify specific transactions. GTID transactions have a          unique identifier that is used to refer to transactions. The          different modes are: 
  记录的事务可以是匿名的，也可以使用 GTID。匿名事务依赖于二进制日志文件和位置来识别特定事务。GTID 交易具有用于引用交易的唯一标识符。不同的模式是：

  - ​              `OFF`: Both new and replicated              transactions must be anonymous.            
    `OFF：`新事务和复制的事务都必须是匿名的。
  - ​              `OFF_PERMISSIVE`: New transactions are              anonymous. Replicated transactions can be either anonymous              or GTID transactions.            
    `OFF_PERMISSIVE`：新交易是匿名的。复制的事务可以是匿名事务或 GTID 事务。
  - ​              `ON_PERMISSIVE`: New transactions are              GTID transactions. Replicated transactions can be either              anonymous or GTID transactions.            
    `ON_PERMISSIVE`：新事务是 GTID 事务。复制的事务可以是匿名事务或 GTID 事务。
  - ​              `ON`: Both new and replicated              transactions must be GTID transactions. 
    `ON：`新事务和复制的事务都必须是 GTID 事务。

  ​          Changes from one value to another can only be one step at a          time. For example, if          [`gtid_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode) is currently set to          `OFF_PERMISSIVE`, it is possible to change to          `OFF` or `ON_PERMISSIVE` but          not to `ON`.        
  从一个值到另一个值的更改一次只能是一个步骤。例如，如果 [`gtid_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode) 当前设置为 `OFF_PERMISSIVE`，则可以更改为 `OFF` 或 `ON_PERMISSIVE`但不能更改为 `ON。`

  ​          The values of [`gtid_purged`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_purged) and          [`gtid_executed`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_executed) are persistent          regardless of the value of          [`gtid_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode). Therefore even          after changing the value of          [`gtid_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode), these variables          contain the correct values.        
  [`gtid_purged`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_purged) 和 [`gtid_executed`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_executed) 的值是持久的，无论 [`gtid_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode) 的值如何。因此，即使在更改 [`gtid_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode) 的值后，这些变量仍包含正确的值。

- ​          [`gtid_next`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_next)

  

  

  | System Variable 系统变量                                     | `gtid_next`                                                  |
  | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | Scope 范围                                                   | Session 会期                                                 |
  | Dynamic 动态                                                 | Yes 是的                                                     |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                                                        |
  | Type 类型                                                    | Enumeration 列举                                             |
  | Default Value 默认值                                         | `AUTOMATIC`                                                  |
  | Valid Values 有效值                                          | `AUTOMATIC` `自动``AUTOMATIC:<TAG>` `自动：<TAG>``ANONYMOUS` `匿名``<UUID>:<NUMBER>` `<UUID>：<NUMBER>``<UUID>:<TAG>:<NUMBER>` `<UUID>：<TAG>：<NUMBER>` |

  ​          This variable is used to specify whether and how to otain the          next GTID (see [Section 19.1.3, “Replication with Global Transaction Identifiers”](https://dev.mysql.com/doc/refman/8.4/en/replication-gtids.html)).        
  此变量用于指定是否以及如何添加下一个 GTID （参见[第 19.1.3 节 “使用全局事务标识符进行复制”）。](https://dev.mysql.com/doc/refman/8.4/en/replication-gtids.html)

  ​          Setting the session value of this system variable is a          restricted operation. The session user must have either the          [`REPLICATION_APPLIER`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_replication-applier) privilege          (see [Section 19.3.3, “Replication Privilege Checks”](https://dev.mysql.com/doc/refman/8.4/en/replication-privilege-checks.html)), or          privileges sufficient to set restricted session variables (see          [Section 7.1.9.1, “System Variable Privileges”](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html)).        
  设置此系统变量的 session 值是一个受限操作。会话用户必须具有 [`REPLICATION_APPLIER`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_replication-applier) 权限（请参见[第 19.3.3 节 “复制权限检查”）](https://dev.mysql.com/doc/refman/8.4/en/replication-privilege-checks.html)或足以设置受限制的会话变量的权限（请参见[第 7.1.9.1 节 “系统变量权限”）。](https://dev.mysql.com/doc/refman/8.4/en/system-variable-privileges.html)

  ​          `gtid_next` can take any of the following          values: 
  `gtid_next` 可以采用以下任何值：

  - ​              `AUTOMATIC`: Use the next              automatically-generated global transaction ID.            
    `AUTOMATIC：`使用下一个自动生成的全局事务 ID。

  - ​              `AUTOMATIC:*`TAG`*`:              Use the next automatically-generated global transaction              ID, with the addition of a user-specified tag, in              UUID:*`TAG`*:NUMBER format.            
    `AUTOMATIC：*`TAG`*`：使用下一个自动生成的全局交易 ID，并添加用户指定的标签，采用 UUID：*`TAG`*：NUMBER 格式。

    ​              The tag must match the regular expression              `[a-z_][a-z0-9_]{0,7}`; in other words,              it must conform to the following rules: 
    标签必须与正则表达式 `[a-z_][a-z0-9_]{0,7}` 匹配;换句话说，它必须符合以下规则：

    - ​                  The tag must consist of 1-8 characters (inclusive).                
      标签必须由 1-8 个字符（含）组成。
    - ​                  The first character can be any letter                  `a` through `z`, or                  an underscore (`_`).                
      第一个字符可以是任何字母 `a` 到 `z` 或下划线 （`_`）。
    - ​                  Each of the remaining characters can be any of the                  letters `a` through                  `z`, the digits `0`                  through `9`, or an underscore                  (`_`). 
      其余每个字符可以是字母 `a` 到 `z`、数字 `0` 到 `9` 或下划线 （`_`） 中的任何一个。

    ​              Setting `gtid_next` on the replication              source to              `AUTOMATIC:*`TAG`*`              or              `*`UUID`*:*`TAG`*:*`NUMBER`*`              requires the              [`TRANSACTION_GTID_TAG`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_transaction-gtid-tag)              privilege plus at least one of the privileges              [`SYSTEM_VARIABLES_ADMIN`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_system-variables-admin),              [`SESSION_VARIABLES_ADMIN`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_session-variables-admin), or              [`REPLICATION_APPLIER`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_replication-applier). For              the `REPLICATION_CHECKS_APPLIER` this              privilege is also required to set              `gtid_next` to either of these values, in              addition to the `REPLICATION_APPLIER`              privilege; these privileges are checked when starting the              replication applier thread.            
    将复制源上的 `gtid_next` 设置为 `AUTOMATIC：*`TAG`*` 或 `*`UUID`*：*`TAG`*：*`NUMBER`*` 需要 [`TRANSACTION_GTID_TAG`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_transaction-gtid-tag) 权限以及至少一个权限 [`SYSTEM_VARIABLES_ADMIN`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_system-variables-admin)、[`SESSION_VARIABLES_ADMIN`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_session-variables-admin) 或 [`REPLICATION_APPLIER`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_replication-applier)。对于 `REPLICATION_CHECKS_APPLIER`除了 `REPLICATION_APPLIER` 权限之外，还需要将 `gtid_next` 设置为这些值中的任何一个;在启动 Replication Applier 线程时，将检查这些权限。

  - ​              `ANONYMOUS`: Transactions do not have              global identifiers, and are identified by file and              position only.            
    `ANONYMOUS：`交易没有全局标识符，仅由 file 和 position 标识。

  - ​              A global transaction ID in either of the formats              *`UUID`*:*`NUMBER`*              or              *`UUID`*:*`TAG`*:*`NUMBER`*. 
    全局事务 ID，格式为 *`UUID`*：*`NUMBER`* 或 *`UUID`*：*`TAG`*：*`NUMBER。`*

  ​          Exactly which of the options just listed are valid depends on          the setting of [`gtid_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode); see          [Section 19.1.4.1, “Replication Mode Concepts”](https://dev.mysql.com/doc/refman/8.4/en/replication-mode-change-online-concepts.html) for          more information. Setting this variable has no effect if          [`gtid_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode) is          `OFF`.        
  刚才列出的选项中哪些是有效的取决于 [`gtid_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode) 的设置;有关更多信息，请参见[第 19.1.4.1 节 “复制模式概念”。](https://dev.mysql.com/doc/refman/8.4/en/replication-mode-change-online-concepts.html)如果 [`gtid_mode`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_mode) 为 `OFF，`则设置此变量不起作用。

  ​          After this variable has been set to          `*`UUID`*:*`NUMBER`*`          or          `*`UUID`*:*`TAG`*:*`NUMBER`*`,          and a transaction has been committed or rolled back, an          explicit `SET gtid_next` statement must again          be issued before any other statement.        
  将此变量设置为 `*`UUID`*：*`NUMBER`*` 或 `*`UUID`*：*`TAG`*：*`NUMBER，`*`并且已提交或回滚事务后，必须在任何其他语句之前再次发出显式 `SET gtid_next` 语句。

  ​          [`DROP TABLE`](https://dev.mysql.com/doc/refman/8.4/en/drop-table.html) or          [`DROP TEMPORARY           TABLE`](https://dev.mysql.com/doc/refman/8.4/en/drop-table.html) fails with an explicit error when used on a          combination of nontemporary tables with temporary tables, or          of temporary tables using transactional storage engines with          temporary tables using nontransactional storage engines.        
  [`DROP TABLE`](https://dev.mysql.com/doc/refman/8.4/en/drop-table.html) 或[ `DROP TEMPORARY           TABLE` ](https://dev.mysql.com/doc/refman/8.4/en/drop-table.html)失败并显示明确错误。

  ​          For more information, see          [The gtid_next System Variable](https://dev.mysql.com/doc/refman/8.4/en/replication-gtids-lifecycle.html#replication-gtids-gtid-next), as well as          [Section 19.1.4, “Changing GTID Mode on Online Servers”](https://dev.mysql.com/doc/refman/8.4/en/replication-mode-change-online.html).        
  有关更多信息，请参见 [gtid_next 系统变量](https://dev.mysql.com/doc/refman/8.4/en/replication-gtids-lifecycle.html#replication-gtids-gtid-next)以及[第 19.1.4 节 “更改在线服务器上的 GTID 模式”。](https://dev.mysql.com/doc/refman/8.4/en/replication-mode-change-online.html)

- ​          [`gtid_owned`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_owned)

  

  

  | System Variable 系统变量                                     | `gtid_owned`                |
  | ------------------------------------------------------------ | --------------------------- |
  | Scope 范围                                                   | Global, Session 全局， 会话 |
  | Dynamic 动态                                                 | No 不                       |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                       |
  | Type 类型                                                    | String 字符串               |
  | Unit 单位                                                    | set of GTIDs GTID 集        |

  ​          This read-only variable is primarily for internal use. Its          contents depend on its scope. 
  此只读变量主要用于内部使用。其内容取决于其范围。

  - ​              When used with global scope,              [`gtid_owned`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_owned) holds a list              of all the GTIDs that are currently in use on the server,              with the IDs of the threads that own them. This variable              is mainly useful for a multi-threaded replica to check              whether a transaction is already being applied on another              thread. An applier thread takes ownership of a              transaction's GTID all the time it is processing the              transaction, so `@@global.gtid_owned`              shows the GTID and owner for the duration of processing.              When a transaction has been committed (or rolled back),              the applier thread releases ownership of the GTID.            
    当与全局范围一起使用时，[`gtid_owned`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_owned) 包含服务器上当前正在使用的所有 GTID 的列表，以及拥有它们的线程的 ID。此变量主要用于多线程副本检查事务是否已应用于另一个线程。应用程序线程在处理事务的整个过程中都获取事务 GTID 的所有权，因此 `@@global.gtid_owned` 在处理期间显示 GTID 和所有者。提交（或回滚）事务后，应用线程将释放 GTID 的所有权。
  - ​              When used with session scope,              [`gtid_owned`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_owned) holds a single              GTID that is currently in use by and owned by this              session. This variable is mainly useful for testing and              debugging the use of GTIDs when the client has explicitly              assigned a GTID for the transaction by setting              [`gtid_next`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_next). In this case,              `@@session.gtid_owned` displays the GTID              all the time the client is processing the transaction,              until the transaction has been committed (or rolled back).              When the client has finished processing the transaction,              the variable is cleared. If              [`gtid_next=AUTOMATIC`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_next) is              used for the session,              [`gtid_owned`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_owned) is populated              only briefly during the execution of the commit statement              for the transaction, so it cannot be observed from the              session concerned, although it is listed if              `@@global.gtid_owned` is read at the              right point. If you have a requirement to track the GTIDs              that are handled by a client in a session, you can enable              the session state tracker controlled by the              [`session_track_gtids`](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#sysvar_session_track_gtids)              system variable. 
    当与 session 范围一起使用时，[`gtid_owned`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_owned) 保存此 session 当前正在使用并拥有的单个 GTID。当客户端通过设置为事务显式分配 GTID 时，此变量主要用于测试和调试 GTID 的使用[`gtid_next`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_next)。在这种情况下，`@@session.gtid_owned` 在 Client 端处理事务时一直显示 GTID，直到事务被提交（或回滚）。当客户端完成事务处理后，该变量将被清除。如果 [`gtid_next=AUTOMATIC`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_next) 用于会话，则在执行事务的 commit 语句期间仅短暂填充[`gtid_owned`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_owned)，因此无法从相关会话中观察到它，尽管如果在正确的位置读取 `@@global.gtid_owned`，则会列出它。如果您需要跟踪会话中客户端处理的 GTID，则可以启用由 [`session_track_gtids`](https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#sysvar_session_track_gtids) 系统变量控制的会话状态跟踪器。

- ​          [`gtid_purged`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_purged)

  

  

  | System Variable 系统变量                                     | `gtid_purged`        |
  | ------------------------------------------------------------ | -------------------- |
  | Scope 范围                                                   | Global 全球          |
  | Dynamic 动态                                                 | Yes 是的             |
  | [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var) Hint Applies [`SET_VAR`](https://dev.mysql.com/doc/refman/8.4/en/optimizer-hints.html#optimizer-hints-set-var)提示应用 | No 不                |
  | Type 类型                                                    | String 字符串        |
  | Unit 单位                                                    | set of GTIDs GTID 集 |

  ​          The global value of the `gtid_purged` system          variable (`@@GLOBAL.gtid_purged`) is a GTID          set consisting of the GTIDs of all the transactions that have          been committed on the server, but do not exist in any binary          log file on the server. `gtid_purged` is a          subset of [`gtid_executed`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_executed). The          following categories of GTIDs are in          `gtid_purged`: 
  `gtid_purged`系统变量 （`@@GLOBAL.gtid_purged`） 的全局值是一个 GTID 集，该集由已在服务器上提交但不存在于服务器上的任何二进制日志文件中的所有事务的 GTID 组成。`gtid_purged` 是 [`gtid_executed`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_executed) 的子集。以下类别的 GTID 分为 `gtid_purged`：

  - ​              GTIDs of replicated transactions that were committed with              binary logging disabled on the replica.            
    在副本上禁用二进制日志记录的情况下提交的复制事务的 GTID。
  - ​              GTIDs of transactions that were written to a binary log              file that has now been purged.            
    写入现已清除的二进制日志文件的事务的 GTID。
  - ​              GTIDs that were added explicitly to the set by the              statement `SET @@GLOBAL.gtid_purged`. 
    由语句 `SET @@GLOBAL.gtid_purged` 显式添加到集合中的 GTID。

  ​          When the server starts, the global value of          `gtid_purged` is initialized to a set of          GTIDs. For information on how this GTID set is computed, see          [The `gtid_purged` System Variable](https://dev.mysql.com/doc/refman/8.4/en/replication-gtids-lifecycle.html#replication-gtids-gtid-purged). If binary          logs from MySQL 5.7.7 or older are present on the server, you          might need to set          [`binlog_gtid_simple_recovery=FALSE`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_binlog_gtid_simple_recovery)          in the server's configuration file to produce the correct          computation. See the description for          `binlog_gtid_simple_recovery` for details of          the situations in which this setting is needed.        
  当服务器启动时，`gtid_purged` 的全局值将初始化为一组 GTID。有关如何计算此 GTID 集的信息，请参阅 [`gtid_purged` 系统变量](https://dev.mysql.com/doc/refman/8.4/en/replication-gtids-lifecycle.html#replication-gtids-gtid-purged)。如果服务器上存在来自 MySQL 5.7.7 或更早版本的二进制日志，则可能需要在服务器的配置文件中进行设置[ `binlog_gtid_simple_recovery=FALSE` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_binlog_gtid_simple_recovery)以产生正确的计算。有关需要此设置的情况的详细信息，请参阅 `binlog_gtid_simple_recovery` 的描述。

  ​          You must have the          [`TRANSACTION_GTID_TAG`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_transaction-gtid-tag) to set          `gtid_purged`.        
  您必须具有 [`TRANSACTION_GTID_TAG`](https://dev.mysql.com/doc/refman/8.4/en/privileges-provided.html#priv_transaction-gtid-tag) 才能设置`gtid_purged`。

  ​          Issuing [`RESET BINARY LOGS AND           GTIDS`](https://dev.mysql.com/doc/refman/8.4/en/reset-binary-logs-and-gtids.html) causes the value of          `gtid_purged` to be reset to an empty string.        
  发出[ `RESET BINARY LOGS AND           GTIDS` ](https://dev.mysql.com/doc/refman/8.4/en/reset-binary-logs-and-gtids.html)会导致 `gtid_purged` 的值重置为空字符串。

  ​          You can set the value of `gtid_purged` in          order to record on the server that the transactions in a          certain GTID set have been applied, although they do not exist          in any binary log on the server. An example use case for this          action is when you are restoring a backup of one or more          databases on a server, but you do not have the relevant binary          logs containing the transactions on the server. 
  您可以设置`gtid_purged`的值，以便在服务器上记录已应用特定 GTID 集中的事务，尽管它们不存在于服务器上的任何二进制日志中。此操作的一个示例用例是，当您在服务器上还原一个或多个数据库的备份，但服务器上没有包含事务的相关二进制日志时。

  Important 重要

  ​            GTIDs are only available on a server instance up to the            number of non-negative values for a signed 64-bit integer            (263 - 1). If you set the value            of `gtid_purged` to a number that            approaches this limit, subsequent commits can cause the            server to run out of GTIDs and take the action specified by            `binlog_error_action`. A warning message is            issued when the server instance is approaching the limit. 
  GTID 仅在服务器实例上可用，最大为有符号 64 位整数的非负值数 （263 - 1）。如果将 `gtid_purged` 的值设置为接近此限制的数字，则后续提交可能会导致服务器耗尽 GTID 并执行 `binlog_error_action` 指定的操作。当服务器实例接近限制时，将发出警告消息。

  ​          There are two ways to set the value of          `gtid_purged`. You can either replace the          value of `gtid_purged` with your specified          GTID set, or you can append your specified GTID set to the          GTID set that is already held by          `gtid_purged`. If the server has no existing          GTIDs, for example an empty server that you are provisioning          with a backup of an existing database, both methods have the          same result. If you are restoring a backup that overlaps the          transactions that are already on the server, for example          replacing a corrupted table with a partial dump from the          source made using [**mysqldump**](https://dev.mysql.com/doc/refman/8.4/en/mysqldump.html) (which includes          the GTIDs of all the transactions on the server, even though          the dump is partial), use the first method of replacing the          value of `gtid_purged`. If you are restoring          a backup that is disjoint from the transactions that are          already on the server, for example provisioning a multi-source          replica using dumps from two different servers, use the second          method of adding to the value of          `gtid_purged`. 
  有两种方法可以设置 `gtid_purged` 的值。您可以将 `gtid_purged` 的值替换为指定的 GTID 集，也可以将指定的 GTID 集附加到 `gtid_purged` 已持有的 GTID 集。如果服务器没有现有的 GTID，例如，您正在使用现有数据库的备份预置的空服务器，则两种方法的结果相同。如果要还原与服务器上已有的事务重叠的备份，例如，将损坏的表替换为使用 [**mysqldump**](https://dev.mysql.com/doc/refman/8.4/en/mysqldump.html) 创建的源中的部分转储（包括服务器上所有事务的 GTID，即使转储是部分的），请使用第一种方法替换 `gtid_purged` 的值.如果要还原与服务器上已有的事务不相交的备份，例如，使用来自两个不同服务器的转储预配多源副本，请使用第二种方法，即加 `gtid_purged` 的值。

  - ​              To replace the value of `gtid_purged`              with your specified GTID set, use the following statement:            
    要将 `gtid_purged` 的值替换为指定的 GTID 集，请使用以下语句：

    ```sql
    SET @@GLOBAL.gtid_purged = 'gtid_set'
    ```

    ​              `gtid_set` must be a superset of the              current value of `gtid_purged`, and must              not intersect with              `gtid_subtract(gtid_executed,gtid_purged)`.              In other words, the new GTID set              **must** include any GTIDs              that were already in `gtid_purged`, and              **must not** include any              GTIDs in [`gtid_executed`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_executed)              that have not yet been purged. `gtid_set`              also cannot include any GTIDs that are in              `@@global.gtid_owned`, that is, the GTIDs              for transactions that are currently being processed on the              server.            
    `gtid_set` 必须是当前值 `gtid_purged` 的超集，并且不得与 `gtid_subtract(gtid_executed,gtid_purged)` 相交。换句话说，新的 GTID 集**必须**包含`gtid_purged`中已有的任何 GTID，并且**不得**包含尚未清除[`gtid_executed`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_gtid_executed)中的任何 GTID。`gtid_set`也不能包含 `@@global.gtid_owned` 中的任何 GTID，即服务器上当前正在处理的事务的 GTID。

    ​              The result is that the global value of              `gtid_purged` is set equal to              `gtid_set`, and the value of              `gtid_executed` becomes the union of              `gtid_set` and the previous value of              `gtid_executed`.            
    结果是 `gtid_purged` 的全局值设置为等于 `gtid_set，gtid_executed` 的值成为 `gtid_set` 和 `gtid_executed` 的前一个值的并集``。

  - ​              To append your specified GTID set to              `gtid_purged`, use the following              statement with a plus sign (+) before the GTID set:            
    要将指定的 GTID 集附加到 `gtid_purged`，请在 GTID 集前使用以下带有加号 （+） 的语句：

    ```sql
    SET @@GLOBAL.gtid_purged = '+gtid_set'
    ```

    ​              `gtid_set` **must              not** intersect with the current value of              `gtid_executed`. In other words, the new              GTID set must not include any GTIDs in              `gtid_executed`, including transactions              that are already also in `gtid_purged`.              `gtid_set` also cannot include any GTIDs              that are in `@@global.gtid_owned`, that              is, the GTIDs for transactions that are currently being              processed on the server.            
    `gtid_set`**不得**与 `gtid_executed` 的当前值相交。换句话说，新的 GTID 集不得包含`gtid_executed`中的任何 GTID，包括已在 `gtid_purged` 中的事务。`gtid_set`也不能包含 `@@global.gtid_owned` 中的任何 GTID，即服务器上当前正在处理的事务的 GTID。

    ​              The result is that `gtid_set` is added to              both `gtid_executed` and              `gtid_purged`. 
    结果是 `gtid_set` 被添加到 `gtid_executed` 和 `gtid_purged` 中。

Note 注意

​        If any binary logs from MySQL 5.7.7 or older are present on the        server (for example, following an upgrade of an older server to        MySQL 8.4), after issuing a `SET        @@GLOBAL.gtid_purged` statement, you might need to set        [`binlog_gtid_simple_recovery=FALSE`](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_binlog_gtid_simple_recovery)        in the server's configuration file before restarting the server,        otherwise `gtid_purged` can be computed        incorrectly. See the description for        `binlog_gtid_simple_recovery` for details of        the situations in which this setting is needed. 
如果服务器上存在来自 MySQL 5.7.7 或更早版本的任何二进制日志（例如，在将旧服务器升级到 MySQL 8.4 之后），则在发出 `SET        @@GLOBAL.gtid_purged` 语句后，您可能需要在重新启动服务器之前[ `binlog_gtid_simple_recovery=FALSE` ](https://dev.mysql.com/doc/refman/8.4/en/replication-options-gtids.html#sysvar_binlog_gtid_simple_recovery)在服务器的配置文件中设置，否则`gtid_purged`计算错误。有关需要此设置的情况的详细信息，请参阅 `binlog_gtid_simple_recovery` 的描述。

​                    [ PREV](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html)  [ HOME](https://dev.mysql.com/doc/refman/8.4/en/index.html)          [ UP](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html)      [NEXT ](https://dev.mysql.com/doc/refman/8.4/en/replication-administration.html)
[上一页](https://dev.mysql.com/doc/refman/8.4/en/replication-options-binary-log.html)[ 首页](https://dev.mysql.com/doc/refman/8.4/en/index.html)[ 下一页](https://dev.mysql.com/doc/refman/8.4/en/replication-options.html)            

​                            

​                                         [© 2024 Oracle](https://www.oracle.com/legal/copyright.html)                

​                                                                            