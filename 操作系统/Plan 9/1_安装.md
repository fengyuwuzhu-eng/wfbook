# 安装

下载和安装

[CD 镜像](https://plan9.io/plan9/download/plan9.iso.bz2) | [USB 磁盘镜像](https://plan9.io/plan9/download/usbdisk.bz2) | [已弃用的软盘映像](https://plan9.io/plan9/download/plan9.flp.gz)

It contains source of the kernel, libraries, and commands for all supported architectures. 
这是 Plan 9 第四版的发行版。 它包含 所有受支持架构的内核、库和命令。 它还包含 x86 体系结构的完整二进制文件。

People inside Alcatel-Lucent should first ask for an account on the nearest Plan 9 system (e.g., in Murray Hill or Antwerp), find the CD image in `/n/other/dist` on Plan 9 in Murray Hill if necessary, or populate new disks using [*replica*(1)](https://plan9.io/magic/man2html/1/replica) or *dircp* (in [*tar*(1)](https://plan9.io/magic/man2html/1/tar)). 
Plan 9 CD 映像既是实时启动 CD，也是安装 CD。当启动它时，一个菜单将为您提供两者之间的选择。可以作为 live CD  启动来探索系统。阿尔卡特朗讯内部人员应首先在最近的 Plan 9 系统（例如，在 Murray Hill 或 Antwerp ）上申请一个帐户， 如有必要，在 Murray Hill 的 Plan 9  `/n/other/dist` 目录中找到 CD 映像，或使用 replica(1) 或 dircp（在 tar(1) 中）填充新磁盘 。  

也可以通过启动软盘进行安装，但您仍然需要 CD（或至少 CD 映像）来安装系统。CD 是首选的安装方法。为了将 Plan 9 内核放入软盘映像中，省略了对各种设备的支持，特别是  USB、AHCI（本机 SATA 接口）、VT6105M 以太网接口（例如，由较新的 Soekris 机器使用）、Intel 的  PCI-Express 千兆位以太网接口和所有 10 Gb 以太网接口。软盘上也有一个最小的 `plan9.ini` 文件。如果有特殊要求，则可能需要对其进行自定义。

在安装 Plan 9 之前，您应该打印并阅读[安装说明](https://plan9.io/wiki/plan9/installation_instructions)和[支持的 PC 硬件列表 ](https://plan9.io/wiki/plan9/supported_pc_hardware)。在安装过程中，打印 [plan9.ini(8)](https://plan9.io/magic/man2html/8/plan9.ini) 和 [prep(8)](https://plan9.io/magic/man2html/8/prep) 手册页以供参考也很有用。 

## 下载

### 贝尔实验室的 PLAN 9

注意：此页面上的 CD 映像和 Raspberry Pi 映像已被标记为“历史”。请参阅 [9legacy](https://9legacy.org/download.html) 了解更新的 CD 和 Raspberry Pi 映像。

The official Plan 9 sources can be found on the Plan 9 distribution site at https://9p.io/plan9/. From there one can download an install floppy or a CD image. 
这 官方 计划 9 来源 能 是 发现 上 这 计划 9 分配 网站 在 https://9p.io/plan9/。从那里可以下载安装软盘或 CD 映像。

The CD image is built every night from the latest sources and also works as a `live CD' that can be booted as a working Plan 9 system on an x86-based computer. The direct link to the CD image is: 
CD 映像每晚从最新来源构建，也可以作为“实时 CD”使用，可以在基于 x86 的计算机上作为工作 Plan 9 系统启动。CD 映像的直接链接是：

- https://9p.io/plan9/download/plan9.iso.bz2

ISO 校验和：https://9p.io/plan9checksums.txt

A compressed image of a bootable SD card for the Raspberry Pi is available from this link: 
Raspberry Pi 的可启动 SD 卡的压缩映像可从以下链接获得：

- https://9p.io/sources/contrib/miller/9pi.img.gz

### SHRINK WRAPPED PLAN 9
A shrink wrapped release of plan9 is available [directly](http://www.vitanuova.com/plan9/index.html) from Vita Nuova. This package containins a CD of the Plan 9 and Inferno distributions, and Plan 9 manuals and papers in the form of high quality typeset books. 
 plan9 的收缩包装版本可[直接从 ](http://www.vitanuova.com/plan9/index.html) Vita Nuova 获得。该软件包包含 Plan 9 和 Inferno 发行版的 CD，以及高质量排版书籍形式的 Plan 9 手册和论文。

### INFERNO 地狱

Inferno 是一个开源网络操作系统，旨在用于嵌入式应用程序和分布式系统，由开发 Plan 9 的同一个人使用许多相同的想法和技术创建。

它现在由 [Vita Nuova](http://www.vitanuova.com/inferno/) 开发和维护。

It can run either 'hosted' inside another os (eg., *BSD, Linux, Plan 9, Windows) or on the bare hardware. 
它可以在另一个作系统（例如，*BSD、Linux、Plan 9、Windows）中运行，也可以在裸硬件上运行。

下载页面： https://www.vitanuova.com/inferno/downloads.html

### PLAN B

Plan B is a derivative of Plan 9 developed by F. J. Ballesteros and his students. While the original version was based on the third edition Plan 9 kernels, the Plan B team has moved Plan B into user space so it can be run on current Plan 9 systems. 
Plan B 是 FJ Ballesteros 和他的学生开发的 Plan 9 的衍生物。虽然原始版本基于第三版 Plan 9 内核，但 Plan B 团队已将 Plan B 移至用户空间，以便它可以在当前的 Plan 9 系统上运行。

http://lsub.org/plan-b

# Installation instructions 安装说明

[Beware: in the manner of wikis most everywhere, this one is woefully out of date.
当心：按照大多数地方的 wiki 的方式，这个 wiki 已经严重过时了。](https://plan9.io/wiki/plan9/Beware:_in_the_manner_of_wikis_most_everywhere,_this_one_is_woefully_out_of_date.)

SYSTEM REQUIREMENTS 系统要求

These instructions are for a x86 based PC. See the [Supported PC hardware](https://plan9.io/wiki/plan9/Supported_PC_hardware) page. 
 这些说明适用于基于 x86 的 PC。请参阅[支持的 PC 硬件](https://plan9.io/wiki/plan9/Supported_PC_hardware)页面。

Find an x86-based PC with: 
查找具有以下功能的基于 x86 的 PC：

- \>32MB of RAM  >32MB 的 RAM
- a hard disk with 300 MB of unpartitioned space and a free primary partition slot 
  具有 300 MB 未分区空间和可用主分区插槽的硬盘

These are requirements for the installation procedure. A machine with 16MB of memory and no free disk space at all will work fine as a terminal net-booted but won't be able to run the installer. 
这些是安装过程的要求。一台内存为 16MB 且完全没有可用磁盘空间的机器可以作为终端网络启动，但无法运行安装程序。

If you wish to install from local media, you need a FAT file system or a CD-ROM drive. If you wish to install over the internet, you need a supported Ethernet card or a PPP dial-up account using a modem. 
如果要从本地介质安装，则需要 FAT 文件系统或 CD-ROM 驱动器。如果要通过 Internet 进行安装，则需要受支持的以太网卡或使用调制解调器的 PPP 拨号帐户。

### SITE PLANNING 场地规划

There is nothing magical about installing Plan 9. It's just a matter of populating a Plan 9 file system (typically a fossil file system) and arranging a bootstrap to eventually load a Plan 9 kernel that can use that file system as its root. 
安装 Plan 9 并没有什么神奇之处。只需填充 Plan 9 文件系统（通常是 fossil 文件系统）并安排引导程序以最终加载可以使用该文件系统作为其根的 Plan 9 内核即可。

Once that initial file server is running, enabling authentication and pxe booting (bootp and tftp) will allow all other local Plan 9 systems to load kernels from the file server and share its file system. 
一旦初始文件服务器运行，启用身份验证和 pxe 引导（bootp 和 tftp）将允许所有其他本地 Plan 9 系统从文件服务器加载内核并共享其文件系统。

If you find yourself reinstalling Plan 9 frequently, something is wrong. This should not be necessary. In particular, there is no need to give each Plan 9 system its own file system. 
如果您发现自己经常重新安装 Plan 9，则说明有问题。这应该没有必要。特别是，没有必要为每个 Plan 9 系统提供自己的文件系统。

DOWNLOAD THE CD IMAGE
下载 CD 映像

Download the ISO from plan9.bell-labs.com or from a local mirror. See the [download](https://plan9.io/wiki/plan9/download) page. 
 从 plan9.bell-labs.com 或本地镜像下载 ISO。请参阅[下载](https://plan9.io/wiki/plan9/download)页面。

### BOOT THE INSTALLATION CD 引导安装 CD

(NOTE on vmware fusion for Mac OS X, you probably want to use SCSI disks as the IDE emulation makes Plan 9 difficult to boot at this time. SCSI on the other hand works VERY fast for booting and installtion) 
（注意，在 Mac OS X 的 vmware fusion 上，您可能希望使用 SCSI 磁盘，因为 IDE 模拟使计划 9 此时难以启动。另一方面，SCSI 的启动和安装工作非常快）

Cold boot (power off, power on) your machine using your CD. You will be given the choice of installing Plan 9 or just booting a full Plan 9 system directly from the CD. 
使用 CD 冷启动（关闭电源、打开电源）您的计算机。您可以选择安装 Plan 9 或直接从 CD 启动完整的 Plan 9 系统。

Booting the system directly lets you explore the system without installing and also makes a good recovery CD. 
直接引导系统可以让您无需安装即可浏览系统，并且还可以制作一张很好的恢复 CD。

The installer on the CD assumes that your CD-ROM is on the second IDE master. If your CD-ROM is elsewhere, you will see the following error: 
CD 上的安装程序假定您的 CD-ROM 位于第二个 IDE 主服务器上。如果您的 CD-ROM 位于其他位置，您将看到以下错误：

```
Unknown boot device: sdD0!cdboot!9pcflop.gz
Boot device: fd0
boot from:
```



IDE/ATAPI drives in Plan 9 are named like sdD0, where the capital letter is C for the primary IDE interface and D for the second. The digit is 0 for the master and 1 for the slave. So if your CD-ROM is the primary slave, use sdC1: 
计划 9 中的 IDE/ATAPI 驱动器命名为 sdD0，其中大写字母是 C 表示主 IDE 接口，大写字母是 D，表示第二个接口。主站的数字为 0，从站的数字为 1。因此，如果您的 CD-ROM 是主从属设备，请使用 sdC1：

```
boot from: sdC1!cdboot!9pcflop.gz
```

If you find yourself at a "boot from:" prompt or a "root is from:" prompt, it is likely that the bootstrap program has not detected your floppy drive. See [installation troubleshooting](https://plan9.io/wiki/plan9/installation_troubleshooting). 
 如果您发现自己处于 “boot from：” 提示符或 “root is from：” 提示符，则引导程序可能没有检测到您的软盘驱动器。请参阅[安装疑难解答 ](https://plan9.io/wiki/plan9/installation_troubleshooting)。

You will be asked if DMA should be enabled for your ide drives, the default is 'yes', only answer 'no' if you had problems during the installation with DMA enabled. 
系统会询问您是否应该为您的 IDE 驱动器启用 DMA，默认值为 'yes'，如果您在启用 DMA 的情况下在安装过程中遇到问题，请回答 'no'。

You will be prompted for a "mouseport"; if you have a USB mouse ignore this prompt, you won't have mouse support during install, but that should be OK. 
系统将提示您输入“mouseport”;如果你有 USB 鼠标，请忽略此提示，则在安装过程中不会有鼠标支持，但这应该没问题。

Last you will be asked for your vga settings, the default resolution is the safest option and should be enough to run the installer, you can change this later once the system is installed. 
最后，系统会要求您提供 vga 设置，默认分辨率是最安全的选项，应该足以运行安装程序，您可以在安装系统后稍后更改此设置。

Note: If you know your videocard is not supported, answer "vesa" when prompted for a monitor type. 
注意：如果您知道您的视频卡不受支持，请在提示输入显示器类型时回答“vesa”。

### BEGINNING THE INSTALLATION 开始安装

If your video card and resolution is supported (or you selected vesa) the window system will start. 
如果您的显卡和分辨率受支持（或者您选择了 vesa），窗口系统将启动。

Otherwise you will be dropped into a % prompt. To start the installer in text mode run: 
否则，您将进入 % 提示符。要以文本模式启动安装程序，请运行：

```
% inst/textonly
```

The installer is the same in text and graphical mode, but graphical mode is a bit more friendly. 
安装程序在文本和图形模式下是相同的，但图形模式更友好一些。

In graphical mode the window system ([*rio*(1)](https://plan9.io/magic/man2html/1/rio)) will display a grey screen with some windows. The large upper window contains the install process itself. The window under it, is a running log of what has happened. A statistics graph is in the bottom corner; the graph, from top to bottom, shows system load, memory usage, interrupt rate, system call rate, context switch rate, and ethernet packet rate. 
 在图形模式下，窗口系统 （[*rio*（1）](https://plan9.io/magic/man2html/1/rio)） 在某些窗口中会显示灰色屏幕。较大的上部窗口包含安装过程本身。它下面的窗口是所发生情况的运行日志。统计图表位于底角;该图从上到下分别显示系统负载、内存使用情况、中断速率、系统调用速率、上下文切换速率和以太网数据包速率。

Interaction with the installation program is textual and you don't need to interact with rio during the install process. For systems with very small screens, you may find necessary to use the keyboard's arrow keys to scroll the window up and down. 
与安装程序的交互是文本的，在安装过程中您无需与 rio 交互。对于屏幕非常小的系统，您可能会发现有必要使用键盘的箭头键来上下滚动窗口。

When you are prompted to provide information (e.g., an IP address) or asked to select from a list of choices (e.g., the disk to use), the prompt will be of the form 
当系统提示您提供信息（例如 IP 地址）或要求从选项列表中进行选择（例如，要使用的磁盘）时，提示将采用以下格式

```
	Your choice (foo, bar, baz, quux)[quux]:
```

When there is a small list of possible answers, they will be listed in parentheses. If there is a default choice, it will be given in square brackets and pressing enter will select this default. 
当有一小部分可能的答案时，它们将列在括号中。如果有默认选项，它将在方括号中给出，按 enter 键将选择此默认值。

The installation program is structured as a sequence of tasks that must be performed; some tasks have successful completion of others as prerequisites. 
安装程序的结构是必须执行的任务序列;某些任务的先决条件是成功完成其他任务。

At each step, you will be shown the list of completed tasks and the list of tasks that are ready to be done. Task names appear in parentheses in the text that follows. Typing <control-d> at any prompt will abort the current task and return you to the main menu. 
在每个步骤中，您将看到已完成任务的列表和准备完成的任务列表。任务名称显示在后面的文本中的括号中。<control-d> 在任何提示符处键入都将中止当前任务并返回到主菜单。

CHOOSE A FILESYSTEM 选择文件系统

(Configfs) [*Fossil*(4)](https://plan9.io/magic/man2html/4/Fossil) is the Plan 9 fileserver. [*Venti*(8)](https://plan9.io/magic/man2html/8/Venti) is an archival block storage server. You may run fossil on its own or as a write buffer backed by a Venti server. The primary value of using Venti is to store daily snapshots of your filesystem (see [*yesterday*(1)](https://plan9.io/magic/man2html/1/yesterday)). 
 （Configfs） [ *化石* （4）](https://plan9.io/magic/man2html/4/Fossil) 是 这 计划 9 fileserver 的 [*温迪* （8）](https://plan9.io/magic/man2html/8/Venti) 是 一 档案 块 存储 服务器。 你 五月 跑 化石 上 其 有 或 如 a 写 缓冲区 支持 由 a 文迪 服务器。 这 主要 价值 之 用 文迪 是 自 商店 日常 快照 之 你 文件系统 （参见 [*昨天* （1）](https://plan9.io/magic/man2html/1/yesterday)）。

PARTITION YOUR HARD DISK
对硬盘进行分区

(Partdisk) First you need to setup a partition for Plan 9. If you want to boot Plan 9 directly or via a boot loader like LILO or the Windows boot menu, you need to allocate a primary partition. If you are content to boot from a floppy disk or from DOS via ld.com (see [*9load*(8)](https://plan9.io/magic/man2html/8/9load)), you can use a secondary partition. 
 （Partdisk） 首先，您需要为 Plan 9 设置一个分区。如果您想直接或通过 LILO 等引导加载程序或 Windows 引导菜单引导 Plan 9，则需要分配一个主分区。如果您愿意从软盘或通过 ld.com 从 DOS 引导（参见 [*9load*（8）](https://plan9.io/magic/man2html/8/9load)），您可以使用辅助分区。

The install process will scan your disk devices and give you a list of them, along with manufacturer identification strings and the disks' partitions tables. For example: 
安装过程将扫描您的磁盘设备并为您提供它们的列表，以及制造商标识字符串和磁盘的分区表。例如：

```
The following disk devices were found.

sdC0 - WDC AC36400L
 * p1                     0 2709        (2709 cylinders, 19.53 GB) FAT32LBA
   empty               2709 3266        (557 cylinders, 4.01 GB)
   p3                  3266 3807        (541 cylinders, 3.90 GB) BSD386
   s4                  3807 4367        (560 cylinders, 4.03 GB) LINUX
   s5                  4367 4368        (1 cylinders, 7.38 MB) LINUXSWAP
   empty               4368 6201        (1833 cylinders, 13.21 GB) empty

sdD0 - IDE-CD ReWritable-2x2x63.014VO07982013140700210

Disk to partition (sdC0, sdD0)[no default]:
```

The Plan 9 names for storage devices have the form sdXX. The names sdC0 and sdC1 are the master and slave on the primary ATA controller; sdD0 and sdD1 are on the secondary, and sdE0, sdE1, sdF0, and sdF1 are on additional ATA cards. SCSI devices are named sdNT, where N is the SCSI controller number and T is the SCSI target number. 
存储设备的 Plan 9 名称的格式为 sdXX。名称 sdC0 和 sdC1 是主 ATA 控制器上的主控制器和从控制器;sdD0 和 sdD1  位于辅助卡上，sdE0、sdE1、sdF0 和 sdF1 位于其他 ATA 卡上。SCSI 设备命名为 sdNT，其中 N 是 SCSI  控制器编号，T 是 SCSI 目标编号。

Once you have chosen the disk, you will need to create a Plan 9 partition. To do this, the install process will run the Plan 9 fdisk program and let you partition the disk. If the disk does not already have a Plan 9 partition, fdisk will suggest one by creating (but not writing) a partition in the largest contiguous empty space it can find. For example, you might see: 
选择磁盘后，您需要创建一个 Plan 9 分区。为此，安装过程将运行 Plan 9 fdisk 程序并让您对磁盘进行分区。如果磁盘还没有 Plan 9 分区，fdisk 将在它能找到的最大连续空白空间中创建（但不写入）一个分区。例如，您可能会看到：

```
cylinder = 7741440 bytes
 * p1                     0 2709        (2709 cylinders, 19.53 GB) FAT32LBA
 ' p2                  2709 3266        (557 cylinders, 4.01 GB) PLAN9
   p3                  3266 3807        (541 cylinders, 3.90 GB) BSD386
   s4                  3807 4367        (560 cylinders, 4.03 GB) LINUX
   s5                  4367 4368        (1 cylinders, 7.38 MB) LINUXSWAP
   empty               4368 6201        (1833 cylinders, 13.21 GB) empty
>>>
```

Each line contains a partition name (p1, p2, p3, and p4 are the only valid primary names; s1, etc. are the only valid secondary names). 
每行都包含一个分区名称（p1、p2、p3 和 p4 是唯一有效的主名称;s1 等是唯一有效的辅助名称）。

Fdisk also shows the starting and ending cylinder, the size of the partition, and the type of partition. Note that partitions include the starting cylinder but not the ending cylinder. >>> is the prompt. Typing h or ? at this prompt will print the help message. In this example, the * next to p1 means that p1 is the active partition (i.e. the one used when booting from the disk), and the single quote (') next to p2 means that the partition table entry for p2 is different from what is on the disk; that is, changes have been made but not written. In this example, fdisk has created p2 in what was previously unpartitioned space. 
Fdisk 还显示起始和结束圆柱体、分区大小和分区类型。请注意，分区包括起始圆柱体，但不包括结束圆柱体。>>> 是提示符。键入 h 或  ？此时将打印帮助消息。在此示例中，p1 旁边的 * 表示 p1 是活动分区（即从磁盘引导时使用的分区），p2 旁边的单引号 （'） 表示 p2  的分区表条目与磁盘上的分区表条目不同;也就是说，已进行更改，但尚未写入。在此示例中，fdisk 在以前未分区的空间中创建了 p2。

If you agree with fdisks' proposal, you need only type w to write the changes and then q to quit fdisk. Otherwise, you can edit the table yourself, using the "a pN" and "d pN" commands to add and delete partitions. 
如果您同意 fdisks 的提议，则只需键入 w 来写入更改，然后键入 q 即可退出 fdisk。否则，您可以自己编辑表，使用 “a pN” 和 “d pN” 命令添加和删除分区。

Create the Plan 9 partition and quit fdisk. 
创建 Plan 9 分区并退出 fdisk。

See [*prep*(8)](https://plan9.io/magic/man2html/8/prep) for more information on using fdisk. 
看 [*prep*（8）](https://plan9.io/magic/man2html/8/prep) 了解有关使用 fdisk 的更多信息。

### PREPARE THE PLAN 9 PARTITION 准备 PLAN 9 分区

(Prepdisk) Plan 9 partitions are further subdivided into named partitions. You need to use disk/prep to create partitions named 9fat, fossil, swap and if you selected fossil+venti arenas and isect, disk/prep will suggest a sensible layout. 
（准备盘）Plan 9 分区进一步细分为命名分区。你需要使用 disk/prep 来创建名为 9fat、fossil、swap 的分区，如果你选择了 fossil+venti arenas 和 isect，disk/prep 会建议一个合理的布局。

Note that 9fat must be at the beginning of the Plan 9 partition in order to boot. 
注意 9fat 必须位于 Plan 9 分区的开头才能启动。

See [*prep*(8)](https://plan9.io/magic/man2html/8/prep) for more information on using prep. 
有关使用 prep 的更多信息 ，请参见 [*prep*（8）。](https://plan9.io/magic/man2html/8/prep)

### FORMAT FOSSIL 格式 FOSSIL

(fmtfossil) You will be prompted for the fossil partition to format, which should have been created in the previous step. 
（fmtfossil）系统将提示您选择要格式化的 fossil 分区，该分区应该已在上一步中创建。

### CHOOSE AND MOUNT THE FILE SYSTEM TO INSTALL ON 选择并挂载要安装的文件系统

(Mountfs) You will be prompted to choose a fossil partition to install onto (and which will hold your data). The default should be the partition you formatted in the previous step. 
（Mountfs）系统将提示您选择要安装的 fossil 分区（该分区将保存您的数据）。默认值应为在上一步中格式化的分区。

### CHOOSE HOW TO OBTAIN THE DISTRIBUTION ARCHIVE 选择如何获取分配存档

(Configdist) Now you have to select where the distribution archive will be obtained from: local media or the network. If you are installing from the CD select 'local' and skip ahead to the next section. 
（配置区）现在您必须选择从何处获取分发存档：本地媒体或网络。如果您从 CD 安装，请选择 'local' 并跳到下一节。

If you choose the network, you will be stepped through setting up an ethernet or PPP connection and then downloading the archive. 
如果您选择网络，您将逐步完成设置以太网或 PPP 连接，然后下载存档。

If you are using Ethernet, you can enter your IP configuration manually or via DHCP. If you choose to enter the configuration manually, be sure to have your IP address, network mask, and gateway IP address. 
如果您使用的是以太网，则可以手动或通过 DHCP 输入 IP 配置。如果您选择手动输入配置，请确保具有您的 IP 地址、网络掩码和网关 IP 地址。

If you are using PPP, you will have to choose a serial device and connection method. You can choose to dial and log yourself in or to have Plan 9 dial and use CHAP to log in (this is how the stock Windows PPP client connects, for example). 
如果您使用的是 PPP，则必须选择串行设备和连接方法。您可以选择自己拨号并登录，或者让 Plan 9 拨号并使用 CHAP 登录（例如，这就是普通 Windows PPP 客户端的连接方式）。

If you choose to log yourself in, you will be dropped into a conversation with the modem. Dial, log in, and once PPP has started, type <control-d>. You may need to type <control-m> rather than <enter> to get a response from the modem. 
如果您选择自己登录，您将进入与调制解调器的对话。拨号、登录，并在 PPP 启动后键入 <control-d>。您可能需要键入<control-m>而不是<enter>从调制解调器获得响应。

If you use CHAP, the install process will prompt for a phone number (exactly as you would dial it yourself, with any necessary prefixes; numbers only), user name, and password. It will then dial and initialize the connection. 
如果您使用 CHAP，安装过程将提示输入电话号码（与您自己拨打的号码完全相同，带有任何必要的前缀;仅限号码）、用户名和密码。然后它将拨号并初始化连接。

(Download) Once you have a network connection, run the download task to download the archive from http://plan9.bell-labs.com to the file system mounted in the last step, in the directory /dist. If the download is interrupted and you start it again, it will pick up where it left off. If you restart the installation program after downloading the archive, you may need to tell mountdist where it is. 
（下载）建立网络连接后，运行下载任务以将存档从 http://plan9.bell-labs.com 下载到最后一步中挂载的文件系统中，位于目录 /dist  中。如果下载中断并且您再次启动它，它将从上次中断的地方继续。如果您在下载压缩文件后重新启动安装程序，则可能需要告诉 mountdist  它在哪里。

Once the download is complete, you may wish to run the task stopppp to hang up your PPP connection. Similarly, stopether will deactivate your Ethernet connection. 
下载完成后，您可能希望运行任务 stopppp 来挂断您的 PPP 连接。同样，stopether 将停用您的以太网连接。

### LOCATE AND MOUNT THE DISTRIBUTION ARCHIVE 找到并挂载分发存档

(Mountdist) If you downloaded the archive, the install program has written it to /dist on your chosen partition. The install program will run mountdist with this information for you, so you can skip to the next step. 
（山区）如果您下载了存档文件，安装程序已将其写入所选分区上的 /dist。安装程序将为您运行 mountdist 并提供此信息，因此您可以跳到下一步。

Otherwise, mountdist presents you with a list of FAT (DOS, Windows), ISO-9660 (CD-ROM), and Plan 9 file systems that it can read. You must choose a file system and then point out the directory containing the archive. 
否则，mountdist 会向您显示它可以读取的 FAT （DOS， Windows）、ISO-9660 （CD-ROM） 和 Plan 9 文件系统的列表。您必须选择一个文件系统，然后指出包含存档的目录。

The archive may be in one of three forms: 
存档可以采用以下三种形式之一：

- A bzipped CD image named plan9.iso.bz2. This is the file you obtain from the download page on the Bell Labs server. 
  名为 plan9.iso.bz2 的 bzip 压缩 CD 映像。这是您从 Bell Labs 服务器上的下载页面获得的文件。
- A CD image named plan9.iso. This is the result of uncompressing plan9.iso.bz2. If you store the uncompressed image on a FAT file system beforehand, then the install program will not need to uncompress it, which will save disk space on the file system. 
  名为 plan9.iso 的 CD 映像。这是解压缩 plan9.iso.bz2 的结果。如果您事先将未压缩的图像存储在 FAT 文件系统上，则安装程序将不需要解压缩它，这将节省文件系统上的磁盘空间。
- The contents of the CD image, in a directory tree. This is the CD image itself, typically written to a CD. 
  CD 映像的内容，位于目录树中。这是 CD 映像本身，通常写入 CD。

When prompted for "Distribution disk" the usual value is /dev/sdD0/data (but your CD drive may be a different sdXX). 
当提示输入 “Distribution disk” 时，通常的值是 /dev/sdD0/data（但您的 CD 驱动器可能是不同的 sdXX）。

Once you have chosen a file system, you need to point out the directory containing the archive. Type a slash-separated path name relative to the root of the chosen file system. If you type ``browse'' instead of a directory name, you will be dropped into a minimal shell that you can use to find the files. Specifically, the shell has three commands: ``cd dir''; changes directories, ``lc''; prints a columnated list of files for the current directory, and ``exit''. Once you are in the directory containing the archive (or if you give up the search), exit the shell. 
选择文件系统后，您需要指出包含存档的目录。键入相对于所选文件系统的根目录的斜杠分隔路径名。如果你键入 ''browse'' 而不是目录名，你将被放入一个可以用来查找文件的最小 shell。具体来说，shell 有三个命令： ''cd dir'' ;更改目录， ''lc'' ;打印当前目录的文件列列表，然后 ''exit'' 。进入包含存档的目录后（或者如果您放弃搜索），请退出  shell。

### FORMAT VENTI (OPTIONAL) 格式 VENTI （可选）

(fmtventi) If you selected fossil+venti you will now be prompted for the arenas and index (isect) partitions usually created during the 'prepdisk' step, in that case the default values should be all you need. 
（FMTVENTI）如果你选择了 fossil+venti，现在系统会提示你输入通常在 'prepdisk' 步骤中创建的 arenas 和 index （isect） 分区，在这种情况下，默认值应该是你所需要的。

Note that this step can take a long time with slow disks or qemu. 
请注意，对于慢速磁盘或 qemu，此步骤可能需要很长时间。

### COPY THE ARCHIVE TO THE FILE SYSTEM 将存档复制到文件系统

(Copydist) Once the archive has been located or downloaded, selecting unpack will extract the distribution archive to the newly created fossil file system. The log window will display the name and size of each file as it is extracted. This takes anywhere from 10 minutes to an hour depending on the speed of your computer and disks. 
（复制区）找到或下载存档后，选择 unpack 会将分发存档提取到新创建的 fossil 文件系统中。日志窗口将在提取时显示每个文件的名称和大小。这需要 10 分钟到一个小时不等，具体取决于您的计算机和磁盘的速度。

### CONFIGURE ONE OR MORE WAYS TO BOOT PLAN 9 配置一种或多种引导计划 9 的方法

(Bootsetup) The first time you run bootsetup, it initializes the 9fat configuration partition with the appropriate bootstrap code as well as a modified version of your plan9.ini from the boot floppy or CD and a 9pcf kernel. 
（引导设置）第一次运行 bootsetup 时，它会使用适当的引导代码以及从引导软盘或 CD 和 9pcf 内核修改过的 plan9.ini 版本来初始化 9fat 配置分区。

In order to boot into Plan 9, another bootstrap program must locate this partition, read plan9.ini, and boot the kernel. There are a number of ways to make this happen, all selectable from the bootsetup menu. If you wish to use more than one method, simply run bootsetup multiple times. 
为了引导到 Plan 9，另一个引导程序必须找到这个分区，读取 plan9.ini，然后引导内核。有很多方法可以实现这一点，都可以从 bootsetup 菜单中选择。如果您想使用多个方法，只需多次运行 bootsetup 即可。

The boot methods are: 
引导方法有：

- floppy. Create a boot floppy. In addition to a bootstrap program, the floppy will contain a kernel and a backup of your plan9.ini file named plan9ini.bak, but will not use them. Instead, the floppy will load plan9.ini and the kernel from your 9fat partition. To boot the kernel on the floppy (useful as a rescue mechanism if you trash your 9fat partition), copy plan9ini.bak to plan9.ini and change the line bootfile=sdXX!9fat!9pcdisk to bootfile=fd0!9pcdisk.gz. 
  软盘。创建一张启动软盘。除了引导程序之外，软盘还将包含一个内核和一个名为 plan9ini.bak 的 plan9.ini 文件的备份，但不会使用它们。相反，软盘将从你的 9fat 分区加载 plan9.ini  和内核。要在软盘上启动内核（如果你把 9fat 分区扔掉了，可以作为一个救援机制），把 plan9ini.bak 复制到 plan9.ini  并将 bootfile=sdXX！9fat！9pcdisk 这行改成 bootfile=fd0!9pcdisk.gz。

- plan9. Set the Plan 9 partition to be the active one (i.e. the partition booted by default). This is only useful if you have installed Plan 9 on your first hard disk (for IDE systems, sdC0). You can always set another partition active later by using disk/fdisk. 
  计划 9.将 Plan 9 分区设置为活动分区（即默认引导的分区）。这仅在您在第一个硬盘上安装了 Plan 9 时有用（对于 IDE 系统，为 sdC0）。您始终可以在以后使用 disk/fdisk 将另一个分区设置为活动分区。

- win9x. Edit the Windows startup menu to list Plan 9 as an option. Your c:\config.sys and c:\autoexec.bat files will be saved as config.p9 and autoexec.p9, and then edited. A bootstrap program as well as plan9ini.bak and a kernel will be copied to the directory c:\plan9 (created if necessary). The procedure described above for rescue works here too, but the bootfile should become sdC0!dos!plan9/9pcdisk. This may or may not work with Windows Me. We have not tried it. 
  win9x 的编辑 Windows 启动菜单以将 Plan 9 列为选项。您的 c：\config.sys 和 c：\autoexec.bat  文件将被保存为 config.p9 和 autoexec.p9，然后进行编辑。引导程序以及 plan9ini.bak 和内核将被复制到目录  c：\plan9 （必要时创建）。上面描述的救援过程在这里也有效，但引导文件应该变成 sdC0！dos！plan9/9pcdisk。这可能适用于 Windows Me，也可能不适用于 Windows Me。我们还没有尝试过。

- winnt. Edit the Windows NT/2000/XP boot menu to list Plan 9 as an option. This is only possible when your ``c:'' drive is a FAT partition, since the boot configuration must be accessible. Your c:\boot.ini file will be saved as boot.p9, and then edited. This will also create the file c:\bootsect.p9, which the boot manager will use to load Plan 9. 
  温特。编辑 Windows NT/2000/XP 引导菜单，将 Plan 9 作为一个选项列出。只有当你的 ''c：'' 驱动器是 FAT  分区时，这才有可能，因为启动配置必须是可访问的。您的 c：\boot.ini 文件将保存为 boot.p9，然后进行编辑。这还将创建文件  c：\bootsect.p9，启动管理器将使用它来加载计划 9。

### FINISH 完成

(Finish) Choosing the finish task will halt the file system and print a message saying it is safe to reboot your computer. 
（完成）选择完成任务将停止文件系统并打印一条消息，指出重新启动计算机是安全的。

### BOOT PLAN 9 启动计划 9

Using whatever methods you configured in the bootsetup stage, boot Plan 9. 
使用您在 bootsetup 阶段配置的任何方法，引导计划 9。

At the user prompt, type glenda. Logging in as glenda will bring up a reasonable environment with some more descriptions of the system to get you exploring. Once you've logged in and gotten used to the system to create other accounts see [adding a new user](https://plan9.io/wiki/plan9/adding_a_new_user). 
 在用户提示符下，键入 glenda。以 glenda 身份登录将带来一个合理的环境，其中包含更多系统描述供您探索。登录并习惯系统创建其他账户后，请参阅[添加新用户 ](https://plan9.io/wiki/plan9/adding_a_new_user)。

Note: if you have changed things so that your machine boots using a plan9.ini on a FAT partition, rename it so that the new installation doesn't get confused. The installation only edits the 9fat partition. 
注意：如果您更改了内容，以便您的计算机使用 FAT 分区上的 plan9.ini 引导，请重命名它，以免新安装混淆。安装仅编辑 9fat 分区。

When you boot, look for the line 
启动时，查找 line

```
	using sdXX!9fat!plan9.ini
```

It should say 9fat!plan9.ini; if it says dos!plan9.ini or dos!plan9/plan9.ini, 9load is still finding your old plan9.ini and will be confused. 
它应该显示 9fat!plan9.ini;如果它显示 dos!plan9.ini 或 dos！plan9/plan9.ini，则 9load 仍在查找您的旧 plan9.ini 并且会感到困惑。

### FINISHING VENTI CONFIGURATION FINISHING VENTI 配置

If you have configured a fossil+venti system, you might now get error messages like 
如果您配置了 fossil+venti 系统，您现在可能会收到如下错误消息

```
	ventiSend vtWrite block 0xa failed: not connected to venti server
```

Your fossil does not know where to find venti. Make sure to add the following line to your plan9.ini: 
你的化石不知道在哪里可以找到 venti。请确保将以下行添加到您的 plan9.ini 中：

```
	venti=/dev/sdC0/arenas
```

if you have configured your arenas on sdC0 - this should point to where you have configured your arenas to be. See [*plan9.ini*(8)](https://plan9.io/magic/man2html/8/plan9.ini) for details. To edit plan9.ini, run 
 如果您已在 sdC0 上配置了竞技场 - 这应该指向您配置 arenas 的位置。有关详细信息，请参见 [*plan9.ini*（8）。](https://plan9.io/magic/man2html/8/plan9.ini) 要编辑 plan9.ini，请运行

```
	9fat:
	sam /n/9fat/plan9.ini
```

### CHANGING THE SCREEN RESOLUTION 更改屏幕分辨率

If you used the default screen resolution in the installation you will probably now want it changed. The settings are contained in plan9.ini on the 9fat partition. To access it, run 
如果您在安装中使用了默认屏幕分辨率，您现在可能希望更改它。这些设置包含在 9fat 分区的 plan9.ini 中。要访问它，请运行

```
	9fat:
	sam /n/9fat/plan9.ini
```

and modify the values for monitor and vgasize are desired. Monitor must be set to one of the names defined in /lib/vgadb. Vgasize is of the form HRESxVRESxDEPTH. See [Setting the right monitor size](https://plan9.io/wiki/plan9/Setting_the_right_monitor_size) and [*plan9.ini*(8)](https://plan9.io/magic/man2html/8/plan9.ini) for hints. If you make a mistake, boot Plan 9 off the installation CD and edit plan9.ini as described above. Also note that many video devices are only supported at a color depth of 8 bits or less. 
 并修改 monitor 和 vgasize 的值。Monitor 必须设置为 /lib/vgadb 中定义的名称之一。Vgasize 的格式为 HRESxVRESxDEPTH。请参阅[设置正确的显示器大小](https://plan9.io/wiki/plan9/Setting_the_right_monitor_size) 和 [*plan9.ini*（8）](https://plan9.io/magic/man2html/8/plan9.ini) 获取提示。如果您犯了错误，请从安装 CD 启动 Plan 9 并按照上述方式编辑 plan9.ini。另请注意，许多视频设备仅支持 8 位或更小的颜色深度。

### SHUT DOWN 关闭

When you want to turn off your computer, you need to halt the file system(s) so that all unwritten data is flushed to disk. (If you don't do this, the file system will perform a disk check next time it boots and may or may not have kept the last few changes you made.) To do this type 
当您想关闭计算机时，您需要停止文件系统，以便将所有未写入的数据刷新到磁盘。（如果您不这样做，文件系统将在下次启动时执行磁盘检查，并且可能会也可能不会保留您所做的最后几项更改。要执行此类型，请执行以下作

```
      fshalt
```

Then turn off the computer or type Ctl-Alt-Del or "^t ^t r" to reboot 
然后关闭计算机或键入 Ctl-Alt-Del 或 “^t ^t r” 重新启动

Of course this is not needed for net-booted terminals, in that case it's safe to just turn off the power. 
当然，这对于网络引导的终端来说不是必需的，在这种情况下，只需关闭电源是安全的。

### SETTING UP CORRECT TIMEZONE 设置正确的时区

You might want to configure your system's timezone. Figure out in which timezone you are, and then, assuming e.g. you are in the CET zone: 
您可能需要配置系统的时区。弄清楚你所在的时区，然后，假设你位于 CET 区：

log in as user adm, then: 
以 ADM 用户身份登录，然后：

```
cp /adm/timezone/CET /adm/timezone/local
```

or you may need to create a new timezone information file e.g. /adm/timezone/India, by copying a relevant file from the /adm/timezone files: 
或者您可能需要创建一个新的时区信息文件，例如 /adm/timezone/India，方法是从 /adm/timezone 文件中复制相关文件：

```
cp /adm/timezone/Japan /adm/timezone/India
sam /adm/timezone/India
```

After edititing, the above should show: 
编辑后，上面应该显示：

```
IST 19800 IST 19800
```

now you may:  现在您可以：

```
cp /adm/timezone/India /adm/timezone/local
```

Last, but not the least, you may also want to edit/change the TIMESYNCARGS in your /rc/bin/termrc or /rc/bin/cpurc; for example, to use an NTP service, set it to: 
最后但并非最不重要的一点是，您可能还想编辑/更改 /rc/bin/cpurc 中的 TIMESYNCARGS;例如，要使用 NTP 服务，请将其设置为：

```
TIMESYNCARGS=(-n pool.ntp.org)
```

and reboot.  并重新启动。

NEXT STEPS 后续步骤

- 
- [Adding a new user
  添加新用户](https://plan9.io/wiki/plan9/Adding_a_new_user)
- [Network configuration 网络配置](https://plan9.io/wiki/plan9/Network_configuration)
- [Staying up to date
  保持最新状态](https://plan9.io/wiki/plan9/Staying_up_to_date)

RELATED TASKS 相关任务

- 
- [Configuring a Standalone CPU Server
  配置独立 CPU 服务器](https://plan9.io/wiki/plan9/Configuring_a_Standalone_CPU_Server)

------

TODO 都   Review fossil and fossil+venti install procedures. 
查看 fossil 和 fossil+venti 安装程序。  Clean up references to floppy vs. CD install 
清理对软盘与 CD 安装的引用

 



- ​	
- [Wiki 维基](https://plan9.io/wiki/plan9/plan_9_wiki/)
- [Docs 文档](https://plan9.io/wiki/plan9/Documentation/)
- [News 新闻](https://plan9.io/wiki/plan9/news/)
- [Devel 开发](https://plan9.io/wiki/plan9/development/)
- [Papers 文件](https://plan9.io/wiki/plan9/papers/)
- [Download 下载](https://plan9.io/wiki/plan9/download/)

------

[History](https://plan9.io/wiki/plan9/installation_instructions/history.html) - [Diff](https://plan9.io/wiki/plan9/installation_instructions/diff.html) -  [Top of this page](https://plan9.io/wiki/plan9/installation_instructions/#top) - Last modified Sat Dec 15 02:56:10 CET 2012
[历史 ](https://plan9.io/wiki/plan9/installation_instructions/history.html) - [差异 ](https://plan9.io/wiki/plan9/installation_instructions/diff.html) - [本页顶部 ](https://plan9.io/wiki/plan9/installation_instructions/#top) - 最后修改时间 星期六 12 月 15 02：56：10 CET 2012

[![Powered by Plan 9](https://plan9.io/plan9/img/power36.gif)](http://plan9.bell-labs.com/plan9) [About this Wiki](https://plan9.io/wiki/plan9/about.html)
[ ![Powered by Plan 9](https://plan9.io/plan9/img/power36.gif) ](http://plan9.bell-labs.com/plan9)[ 关于此 Wiki](https://plan9.io/wiki/plan9/about.html) 