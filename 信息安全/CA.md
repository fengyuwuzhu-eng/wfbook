# Install a root CA certificate in the trust store 在信任存储区中安装根CA证书 

Enterprise environments sometimes have a local Certificate Authority (CA) that  issues certificates for use within the organization. For an Ubuntu  server to be functional and trust the hosts in this environment this CA  must be installed in Ubuntu’s trust store.
企业环境有时会有一个本地证书颁发机构（CA），它颁发证书供组织内部使用。要使Ubuntu服务器正常工作并信任此环境中的主机，此CA必须安装在Ubuntu的信任存储中。 

## How to recognize the form (PEM or DER)? 如何识别表单（PEM或DER）？ 

To install a certificate in the trust store it must be in PEM form.  A  PEM-formatted certificate is human-readable in base64 format, and starts with the lines `----BEGIN CERTIFICATE----`. If you see these lines, you’re ready to install.  If not, it is most likely a DER certificate and needs to be converted.
若要在信任存储区中安装证书，该证书必须为PEM形式。PEM格式的证书在base64格式中是人类可读的，并以 `----BEGIN CERTIFICATE----` 行开始。如果看到这些行，就可以安装了。如果不是，它很可能是DER证书，需要转换。

## Installing a certificate in PEM form 以PEM形式安装证书 

Assuming a PEM-formatted root CA certificate is in `local-ca.crt`, follow the steps below to install it.
假设PEM格式的根CA证书位于 `local-ca.crt` 中，请按照以下步骤安装它。

**Note:** It is important to have the `.crt` extension on the file, otherwise it will not be processed.
注意：文件的扩展名必须是 `.crt` ，否则将无法处理。

```auto
$ sudo apt-get install -y ca-certificates
$ sudo cp local-ca.crt /usr/local/share/ca-certificates
$ sudo update-ca-certificates
```

After this point you can use Ubuntu’s tools like `curl` and `wget` to connect to local sites.
在这一点之后，你可以使用Ubuntu的工具，如 `curl` 和 `wget` 连接到本地网站。

## Converting from DER-form to PEM-form 从DER形式转换为PEM形式 

Convert a DER-formatted certificate called `local-ca.der` to PEM form like this:
将名为 `local-ca.der` 的DER格式证书转换为PEM格式，如下所示：
 `$ sudo openssl x509 -inform der -outform pem -in local-ca.der -out local-ca.crt`

## The CA trust store location CA信任存储位置 

The CA trust store as generated by `update-ca-certificates` is available at the following locations:
由 `update-ca-certificates` 生成的CA信任存储位于以下位置：

- As a single file (PEM bundle) in `/etc/ssl/certs/ca-certificates.crt`
  作为 `/etc/ssl/certs/ca-certificates.crt` 中的单个文件（PEM包）
- As an OpenSSL compatible certificate directory in `/etc/ssl/certs`
  作为 `/etc/ssl/certs` 中的OpenSSL兼容证书目录

------